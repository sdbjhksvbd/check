import unittest
from splunk.appserver.mrsparkle.lib.routes import _sanitize_non_internal_routes

class TestSanitizeNonInternalRoutes(unittest.TestCase):
    def test_internal_route(self):
        mock_route_file = '$SPLUNK_HOME/lib/python3.7/site-packages/splunk/appserver/mrsparkle/foo/bar.py'
        mock_route_class = 'FooClass'
        (route_file, route_class) = _sanitize_non_internal_routes(mock_route_file, mock_route_class)
        self.assertEqual(route_file, 'foo/bar.py')
        self.assertEqual(route_class, mock_route_class)
    def test_external_route(self):
        mock_route_file = '$SPLUNK_HOME/lib/python3.7/site-packages/some/app/path/appserver/mrsparkle/foo/bar.py'
        mock_route_class = 'FooClass'
        (route_file, route_class) = _sanitize_non_internal_routes(mock_route_file, mock_route_class)
        self.assertEqual(route_file, None)
        self.assertEqual(route_class, None)

if __name__ == '__main__':
    unittest.main()
