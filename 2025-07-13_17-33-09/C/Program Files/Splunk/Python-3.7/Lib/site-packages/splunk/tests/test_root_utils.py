import unittest
from splunk.appserver.mrsparkle.root_utils import is_cacheable_js

class TestIsCacheableJS(unittest.TestCase):
    def test_can_cache_allowed_js_folder_files(self):
        cacheable_js_files = [
            'etb.js',
            'splunk.jquery.csrf_protection.js',
            'summarization.js',
            'i18n.js',
            'common.min.js',
        ]
        for file in cacheable_js_files:
            self.assertTrue(is_cacheable_js(file))
    def test_cannot_cache_js_file_inside_js_dir(self):
        file = 'js/cantcache.js'
        self.assertFalse(is_cacheable_js(file))
    def test_can_cache_js_file_outside_of_js_dir(self):
        file = 'css/foo.js'
        self.assertTrue(is_cacheable_js(file))
    def test_cannot_cache_non_js_file_outside_of_js_dir(self):
        file = 'css/foo.css'
        self.assertFalse(is_cacheable_js(file))
    def test_cannot_cache_build_file(self):
        file = 'build/etb.js'
        self.assertFalse(is_cacheable_js(file))

if __name__ == '__main__':
    unittest.main()
