import os
import shutil
try:
    from pathlib import Path
except ImportError:
    from pathlib2 import Path


def get_parent_dir(path):
    return os.path.dirname(path)

def create_parent_dir_if_does_not_exist(path):
    destination_dir = ''.join(os.path.split(path)[:-1])
    if not os.path.exists(destination_dir):
        Path(destination_dir).mkdir(parents=True)

def write_path(path, contents='// foo bar'):
    if '.' not in os.path.split(path)[-1]:
        Path(path).mkdir(parents=True, exist_ok=True)
        return
    create_parent_dir_if_does_not_exist(path)
    file = open(path, "w")
    file.write(contents)
    file.close()

def delete_path(path):
    if os.path.exists(path):
        shutil.rmtree(path) if os.path.isdir(path) else os.remove(path)
