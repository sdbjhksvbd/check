import cherrypy

def is_cacheable_js(file_name):
    # Files are cached under $SPLUNK_HOME/var/run/splunk/appserver
    # We do not want to cache insecure library files
    is_cacheable = True
    if file_name.startswith('js/'):
        cacheable_js_files = [
            'etb.js',
            'splunk.jquery.csrf_protection.js',
            'summarization.js',
            'i18n.js',
            'common.min.js',
        ]
        is_cacheable = next((x for x in cacheable_js_files if file_name.endswith(x)), False) != False
    return file_name.endswith('.js') and not file_name.startswith('build') and is_cacheable and 'i18noff' not in cherrypy.request.query_string
