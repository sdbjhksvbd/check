import{a as R,b as h}from"./chunk-5E5J2XQS.js";import{S as ee,b as Y}from"./chunk-NP732JJA.js";import{b as Pt,e as Mt,i as j}from"./chunk-FOXWPXSG.js";var w=j(Y()),Et=w.default.createContext(void 0),qt=w.default.createContext(!1);function _t(s){return s&&typeof window!="undefined"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=Et),window.ReactQueryClientContext):Et}var Z=function(){var i=w.default.useContext(_t(w.default.useContext(qt)));if(!i)throw new Error("No QueryClient set, use QueryClientProvider to set one");return i},pt=function(i){var n=i.client,t=i.contextSharing,e=t===void 0?!1:t,r=i.children;w.default.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=_t(e);return w.default.createElement(qt.Provider,{value:e},w.default.createElement(o.Provider,{value:n},r))};var V=j(Y());var L=typeof window=="undefined";function g(){}function wt(s,i){return typeof s=="function"?s(i):s}function tt(s){return typeof s=="number"&&s>=0&&s!==1/0}function z(s){return Array.isArray(s)?s:[s]}function at(s,i){return Math.max(s+(i||0)-Date.now(),0)}function B(s,i,n){return nt(s)?typeof i=="function"?h({},n,{queryKey:s,queryFn:i}):h({},i,{queryKey:s}):s}function Dt(s,i,n){return nt(s)?typeof i=="function"?h({},n,{mutationKey:s,mutationFn:i}):h({},i,{mutationKey:s}):typeof s=="function"?h({},i,{mutationFn:s}):h({},s)}function M(s,i,n){return nt(s)?[h({},i,{queryKey:s}),n]:[s||{},i]}function re(s,i){if(s===!0&&i===!0||s==null&&i==null)return"all";if(s===!1&&i===!1)return"none";var n=s!=null?s:!i;return n?"active":"inactive"}function yt(s,i){var n=s.active,t=s.exact,e=s.fetching,r=s.inactive,o=s.predicate,u=s.queryKey,a=s.stale;if(nt(u)){if(t){if(i.queryHash!==et(u,i.options))return!1}else if(!rt(i.queryKey,u))return!1}var c=re(n,r);if(c==="none")return!1;if(c!=="all"){var f=i.isActive();if(c==="active"&&!f||c==="inactive"&&f)return!1}return!(typeof a=="boolean"&&i.isStale()!==a||typeof e=="boolean"&&i.isFetching()!==e||o&&!o(i))}function mt(s,i){var n=s.exact,t=s.fetching,e=s.predicate,r=s.mutationKey;if(nt(r)){if(!i.options.mutationKey)return!1;if(n){if(D(i.options.mutationKey)!==D(r))return!1}else if(!rt(i.options.mutationKey,r))return!1}return!(typeof t=="boolean"&&i.state.status==="loading"!==t||e&&!e(i))}function et(s,i){var n=(i==null?void 0:i.queryKeyHashFn)||D;return n(s)}function D(s){var i=z(s);return ne(i)}function ne(s){return JSON.stringify(s,function(i,n){return vt(n)?Object.keys(n).sort().reduce(function(t,e){return t[e]=n[e],t},{}):n})}function rt(s,i){return Ut(z(s),z(i))}function Ut(s,i){return s===i?!0:typeof s!=typeof i?!1:s&&i&&typeof s=="object"&&typeof i=="object"?!Object.keys(i).some(function(n){return!Ut(s[n],i[n])}):!1}function H(s,i){if(s===i)return s;var n=Array.isArray(s)&&Array.isArray(i);if(n||vt(s)&&vt(i)){for(var t=n?s.length:Object.keys(s).length,e=n?i:Object.keys(i),r=e.length,o=n?[]:{},u=0,a=0;a<r;a++){var c=n?a:e[a];o[c]=H(s[c],i[c]),o[c]===s[c]&&u++}return t===r&&u===t?s:o}return i}function It(s,i){if(s&&!i||i&&!s)return!1;for(var n in s)if(s[n]!==i[n])return!1;return!0}function vt(s){if(!At(s))return!1;var i=s.constructor;if(typeof i=="undefined")return!0;var n=i.prototype;return!(!At(n)||!n.hasOwnProperty("isPrototypeOf"))}function At(s){return Object.prototype.toString.call(s)==="[object Object]"}function nt(s){return typeof s=="string"||Array.isArray(s)}function Tt(s){return new Promise(function(i){setTimeout(i,s)})}function bt(s){Promise.resolve().then(s).catch(function(i){return setTimeout(function(){throw i})})}function ct(){if(typeof AbortController=="function")return new AbortController}var ie=function(){function s(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var i=s.prototype;return i.batch=function(t){var e;this.transactions++;try{e=t()}finally{this.transactions--,this.transactions||this.flush()}return e},i.schedule=function(t){var e=this;this.transactions?this.queue.push(t):bt(function(){e.notifyFn(t)})},i.batchCalls=function(t){var e=this;return function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];e.schedule(function(){t.apply(void 0,o)})}},i.flush=function(){var t=this,e=this.queue;this.queue=[],e.length&&bt(function(){t.batchNotifyFn(function(){e.forEach(function(r){t.notifyFn(r)})})})},i.setNotifyFunction=function(t){this.notifyFn=t},i.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},s}(),y=new ie;var Kt=console;function $(){return Kt}function gt(s){Kt=s}var Q=function(){function s(){this.listeners=[]}var i=s.prototype;return i.subscribe=function(t){var e=this,r=t||function(){};return this.listeners.push(r),this.onSubscribe(),function(){e.listeners=e.listeners.filter(function(o){return o!==r}),e.onUnsubscribe()}},i.hasListeners=function(){return this.listeners.length>0},i.onSubscribe=function(){},i.onUnsubscribe=function(){},s}();var se=function(s){R(i,s);function i(){var t;return t=s.call(this)||this,t.setup=function(e){var r;if(!L&&((r=window)==null?void 0:r.addEventListener)){var o=function(){return e()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},t}var n=i.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},n.setEventListener=function(e){var r,o=this;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(function(u){typeof u=="boolean"?o.setFocused(u):o.onFocus()})},n.setFocused=function(e){this.focused=e,e&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(e){e()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},i}(Q),U=new se;var ue=function(s){R(i,s);function i(){var t;return t=s.call(this)||this,t.setup=function(e){var r;if(!L&&((r=window)==null?void 0:r.addEventListener)){var o=function(){return e()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},t}var n=i.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},n.setEventListener=function(e){var r,o=this;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(function(u){typeof u=="boolean"?o.setOnline(u):o.onOnline()})},n.setOnline=function(e){this.online=e,e&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(e){e()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},i}(Q),k=new ue;function oe(s){return Math.min(1e3*Math.pow(2,s),3e4)}function it(s){return typeof(s==null?void 0:s.cancel)=="function"}var Lt=function(i){this.revert=i==null?void 0:i.revert,this.silent=i==null?void 0:i.silent};function G(s){return s instanceof Lt}var ft=function(i){var n=this,t=!1,e,r,o,u;this.abort=i.abort,this.cancel=function(p){return e==null?void 0:e(p)},this.cancelRetry=function(){t=!0},this.continueRetry=function(){t=!1},this.continue=function(){return r==null?void 0:r()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(p,l){o=p,u=l});var a=function(l){n.isResolved||(n.isResolved=!0,i.onSuccess==null||i.onSuccess(l),r==null||r(),o(l))},c=function(l){n.isResolved||(n.isResolved=!0,i.onError==null||i.onError(l),r==null||r(),u(l))},f=function(){return new Promise(function(l){r=l,n.isPaused=!0,i.onPause==null||i.onPause()}).then(function(){r=void 0,n.isPaused=!1,i.onContinue==null||i.onContinue()})},v=function p(){if(!n.isResolved){var l;try{l=i.fn()}catch(d){l=Promise.reject(d)}e=function(b){if(!n.isResolved&&(c(new Lt(b)),n.abort==null||n.abort(),it(l)))try{l.cancel()}catch(F){}},n.isTransportCancelable=it(l),Promise.resolve(l).then(a).catch(function(d){var b,F;if(!n.isResolved){var x=(b=i.retry)!=null?b:3,C=(F=i.retryDelay)!=null?F:oe,m=typeof C=="function"?C(n.failureCount,d):C,E=x===!0||typeof x=="number"&&n.failureCount<x||typeof x=="function"&&x(n.failureCount,d);if(t||!E){c(d);return}n.failureCount++,i.onFail==null||i.onFail(n.failureCount,d),Tt(m).then(function(){if(!U.isFocused()||!k.isOnline())return f()}).then(function(){t?c(d):p()})}})}};v()};var $t=function(){function s(n){this.options=h({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||Ot(),this.meta=n.meta}var i=s.prototype;return i.setState=function(t){this.dispatch({type:"setState",state:t})},i.addObserver=function(t){this.observers.indexOf(t)===-1&&this.observers.push(t)},i.removeObserver=function(t){this.observers=this.observers.filter(function(e){return e!==t})},i.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(g).catch(g)):Promise.resolve()},i.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},i.execute=function(){var t=this,e,r=this.state.status==="loading",o=Promise.resolve();return r||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){t.mutationCache.config.onMutate==null||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return t.options.onMutate==null?void 0:t.options.onMutate(t.state.variables)}).then(function(u){u!==t.state.context&&t.dispatch({type:"loading",context:u,variables:t.state.variables})})),o.then(function(){return t.executeMutation()}).then(function(u){e=u,t.mutationCache.config.onSuccess==null||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return t.options.onSuccess==null?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(u){return t.mutationCache.config.onError==null||t.mutationCache.config.onError(u,t.state.variables,t.state.context,t),$().error(u),Promise.resolve().then(function(){return t.options.onError==null?void 0:t.options.onError(u,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(void 0,u,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:u}),u})})},i.executeMutation=function(){var t=this,e;return this.retryer=new ft({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:(e=this.options.retry)!=null?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},i.dispatch=function(t){var e=this;this.state=ae(this.state,t),y.batch(function(){e.observers.forEach(function(r){r.onMutationUpdate(t)}),e.mutationCache.notify(e)})},s}();function Ot(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function ae(s,i){switch(i.type){case"failed":return h({},s,{failureCount:s.failureCount+1});case"pause":return h({},s,{isPaused:!0});case"continue":return h({},s,{isPaused:!1});case"loading":return h({},s,{context:i.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:i.variables});case"success":return h({},s,{data:i.data,error:null,status:"success",isPaused:!1});case"error":return h({},s,{data:void 0,error:i.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"});case"setState":return h({},s,i.state);default:return s}}var Nt=function(s){R(i,s);function i(t,e){var r;return r=s.call(this)||this,r.client=t,r.setOptions(e),r.bindMethods(),r.updateResult(),r}var n=i.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},n.onUnsubscribe=function(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}},n.onMutationUpdate=function(e){this.updateResult();var r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,h({},this.options,{variables:typeof e!="undefined"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:Ot(),r=h({},e,{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=r},n.notify=function(e){var r=this;y.batch(function(){r.mutateOptions&&(e.onSuccess?(r.mutateOptions.onSuccess==null||r.mutateOptions.onSuccess(r.currentResult.data,r.currentResult.variables,r.currentResult.context),r.mutateOptions.onSettled==null||r.mutateOptions.onSettled(r.currentResult.data,null,r.currentResult.variables,r.currentResult.context)):e.onError&&(r.mutateOptions.onError==null||r.mutateOptions.onError(r.currentResult.error,r.currentResult.variables,r.currentResult.context),r.mutateOptions.onSettled==null||r.mutateOptions.onSettled(void 0,r.currentResult.error,r.currentResult.variables,r.currentResult.context))),e.listeners&&r.listeners.forEach(function(o){o(r.currentResult)})})},i}(Q);function lt(s,i,n){return typeof i=="function"?i.apply(void 0,n):typeof i=="boolean"?i:!!s}function ce(s,i,n){var t=V.default.useRef(!1),e=V.default.useState(0),r=e[1],o=Dt(s,i,n),u=Z(),a=V.default.useRef();a.current?a.current.setOptions(o):a.current=new Nt(u,o);var c=a.current.getCurrentResult();V.default.useEffect(function(){t.current=!0;var v=a.current.subscribe(y.batchCalls(function(){t.current&&r(function(p){return p+1})}));return function(){t.current=!1,v()}},[]);var f=V.default.useCallback(function(v,p){a.current.mutate(v,p).catch(g)},[]);if(c.error&&lt(void 0,a.current.options.useErrorBoundary,[c.error]))throw c.error;return h({},c,{mutate:f,mutateAsync:c.mutate})}var jt=function(){function s(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var i=s.prototype;return i.setOptions=function(t){var e;this.options=h({},this.defaultOptions,t),this.meta=t==null?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,(e=this.options.cacheTime)!=null?e:5*60*1e3)},i.setDefaultOptions=function(t){this.defaultOptions=t},i.scheduleGc=function(){var t=this;this.clearGcTimeout(),tt(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},i.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},i.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},i.setData=function(t,e){var r,o,u=this.state.data,a=wt(t,u);return(r=(o=this.options).isDataEqual)!=null&&r.call(o,u,a)?a=u:this.options.structuralSharing!==!1&&(a=H(u,a)),this.dispatch({data:a,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt}),a},i.setState=function(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})},i.cancel=function(t){var e,r=this.promise;return(e=this.retryer)==null||e.cancel(t),r?r.then(g).catch(g):Promise.resolve()},i.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},i.reset=function(){this.destroy(),this.setState(this.initialState)},i.isActive=function(){return this.observers.some(function(t){return t.options.enabled!==!1})},i.isFetching=function(){return this.state.isFetching},i.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},i.isStaleByTime=function(t){return t===void 0&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!at(this.state.dataUpdatedAt,t)},i.onFocus=function(){var t,e=this.observers.find(function(r){return r.shouldFetchOnWindowFocus()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},i.onOnline=function(){var t,e=this.observers.find(function(r){return r.shouldFetchOnReconnect()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},i.addObserver=function(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},i.removeObserver=function(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(function(e){return e!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},i.getObserversCount=function(){return this.observers.length},i.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},i.fetch=function(t,e){var r=this,o,u,a;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(e==null?void 0:e.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return(c=this.retryer)==null||c.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){var f=this.observers.find(function(C){return C.options.queryFn});f&&this.setOptions(f.options)}var v=z(this.queryKey),p=ct(),l={queryKey:v,pageParam:void 0,meta:this.meta};Object.defineProperty(l,"signal",{enumerable:!0,get:function(){if(p)return r.abortSignalConsumed=!0,p.signal}});var d=function(){return r.options.queryFn?(r.abortSignalConsumed=!1,r.options.queryFn(l)):Promise.reject("Missing queryFn")},b={fetchOptions:e,options:this.options,queryKey:v,state:this.state,fetchFn:d,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var F;(F=this.options.behavior)==null||F.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((u=b.fetchOptions)==null?void 0:u.meta)){var x;this.dispatch({type:"fetch",meta:(x=b.fetchOptions)==null?void 0:x.meta})}return this.retryer=new ft({fn:b.fetchFn,abort:p==null||(a=p.abort)==null?void 0:a.bind(p),onSuccess:function(m){r.setData(m),r.cache.config.onSuccess==null||r.cache.config.onSuccess(m,r),r.cacheTime===0&&r.optionalRemove()},onError:function(m){G(m)&&m.silent||r.dispatch({type:"error",error:m}),G(m)||(r.cache.config.onError==null||r.cache.config.onError(m,r),$().error(m)),r.cacheTime===0&&r.optionalRemove()},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},i.dispatch=function(t){var e=this;this.state=this.reducer(this.state,t),y.batch(function(){e.observers.forEach(function(r){r.onQueryUpdate(t)}),e.cache.notify({query:e,type:"queryUpdated",action:t})})},i.getDefaultState=function(t){var e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof t.initialData!="undefined",o=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,u=typeof e!="undefined";return{data:e,dataUpdateCount:0,dataUpdatedAt:u?o!=null?o:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:u?"success":"idle"}},i.reducer=function(t,e){var r,o;switch(e.type){case"failed":return h({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return h({},t,{isPaused:!0});case"continue":return h({},t,{isPaused:!1});case"fetch":return h({},t,{fetchFailureCount:0,fetchMeta:(r=e.meta)!=null?r:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return h({},t,{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(o=e.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var u=e.error;return G(u)&&u.revert&&this.revertState?h({},this.revertState):h({},t,{error:u,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return h({},t,{isInvalidated:!0});case"setState":return h({},t,e.state);default:return t}},s}();var Bt=function(s){R(i,s);function i(t){var e;return e=s.call(this)||this,e.config=t||{},e.queries=[],e.queriesMap={},e}var n=i.prototype;return n.build=function(e,r,o){var u,a=r.queryKey,c=(u=r.queryHash)!=null?u:et(a,r),f=this.get(c);return f||(f=new jt({cache:this,queryKey:a,queryHash:c,options:e.defaultQueryOptions(r),state:o,defaultOptions:e.getQueryDefaults(a),meta:r.meta}),this.add(f)),f},n.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},n.remove=function(e){var r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(function(o){return o!==e}),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},n.clear=function(){var e=this;y.batch(function(){e.queries.forEach(function(r){e.remove(r)})})},n.get=function(e){return this.queriesMap[e]},n.getAll=function(){return this.queries},n.find=function(e,r){var o=M(e,r),u=o[0];return typeof u.exact=="undefined"&&(u.exact=!0),this.queries.find(function(a){return yt(u,a)})},n.findAll=function(e,r){var o=M(e,r),u=o[0];return Object.keys(u).length>0?this.queries.filter(function(a){return yt(u,a)}):this.queries},n.notify=function(e){var r=this;y.batch(function(){r.listeners.forEach(function(o){o(e)})})},n.onFocus=function(){var e=this;y.batch(function(){e.queries.forEach(function(r){r.onFocus()})})},n.onOnline=function(){var e=this;y.batch(function(){e.queries.forEach(function(r){r.onOnline()})})},i}(Q);var Ht=function(s){R(i,s);function i(t){var e;return e=s.call(this)||this,e.config=t||{},e.mutations=[],e.mutationId=0,e}var n=i.prototype;return n.build=function(e,r,o){var u=new $t({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:o,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0,meta:r.meta});return this.add(u),u},n.add=function(e){this.mutations.push(e),this.notify(e)},n.remove=function(e){this.mutations=this.mutations.filter(function(r){return r!==e}),e.cancel(),this.notify(e)},n.clear=function(){var e=this;y.batch(function(){e.mutations.forEach(function(r){e.remove(r)})})},n.getAll=function(){return this.mutations},n.find=function(e){return typeof e.exact=="undefined"&&(e.exact=!0),this.mutations.find(function(r){return mt(e,r)})},n.findAll=function(e){return this.mutations.filter(function(r){return mt(e,r)})},n.notify=function(e){var r=this;y.batch(function(){r.listeners.forEach(function(o){o(e)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var e=this.mutations.filter(function(r){return r.state.isPaused});return y.batch(function(){return e.reduce(function(r,o){return r.then(function(){return o.continue().catch(g)})},Promise.resolve())})},i}(Q);function Gt(){return{onFetch:function(i){i.fetchFn=function(){var n,t,e,r,o,u,a=(n=i.fetchOptions)==null||(t=n.meta)==null?void 0:t.refetchPage,c=(e=i.fetchOptions)==null||(r=e.meta)==null?void 0:r.fetchMore,f=c==null?void 0:c.pageParam,v=(c==null?void 0:c.direction)==="forward",p=(c==null?void 0:c.direction)==="backward",l=((o=i.state.data)==null?void 0:o.pages)||[],d=((u=i.state.data)==null?void 0:u.pageParams)||[],b=ct(),F=b==null?void 0:b.signal,x=d,C=!1,m=i.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function(_,N,P,X){return x=X?[N].concat(x):[].concat(x,[N]),X?[P].concat(_):[].concat(_,[P])},q=function(_,N,P,X){if(C)return Promise.reject("Cancelled");if(typeof P=="undefined"&&!N&&_.length)return Promise.resolve(_);var A={queryKey:i.queryKey,signal:F,pageParam:P,meta:i.meta},K=m(A),ot=Promise.resolve(K).then(function(te){return E(_,P,te,X)});if(it(K)){var dt=ot;dt.cancel=K.cancel}return ot},O;if(!l.length)O=q([]);else if(v){var J=typeof f!="undefined",ht=J?f:kt(i.options,l);O=q(l,J,ht)}else if(p){var st=typeof f!="undefined",S=st?f:fe(i.options,l);O=q(l,st,S,!0)}else(function(){x=[];var T=typeof i.options.getNextPageParam=="undefined",_=a&&l[0]?a(l[0],0,l):!0;O=_?q([],T,d[0]):Promise.resolve(E([],d[0],l[0]));for(var N=function(A){O=O.then(function(K){var ot=a&&l[A]?a(l[A],A,l):!0;if(ot){var dt=T?d[A]:kt(i.options,K);return q(K,T,dt)}return Promise.resolve(E(K,d[A],l[A]))})},P=1;P<l.length;P++)N(P)})();var ut=O.then(function(T){return{pages:T,pageParams:x}}),I=ut;return I.cancel=function(){C=!0,b==null||b.abort(),it(O)&&O.cancel()},ut}}}}function kt(s,i){return s.getNextPageParam==null?void 0:s.getNextPageParam(i[i.length-1],i)}function fe(s,i){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(i[0],i)}var Ct=function(){function s(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new Bt,this.mutationCache=n.mutationCache||new Ht,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var i=s.prototype;return i.mount=function(){var t=this;this.unsubscribeFocus=U.subscribe(function(){U.isFocused()&&k.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=k.subscribe(function(){U.isFocused()&&k.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},i.unmount=function(){var t,e;(t=this.unsubscribeFocus)==null||t.call(this),(e=this.unsubscribeOnline)==null||e.call(this)},i.isFetching=function(t,e){var r=M(t,e),o=r[0];return o.fetching=!0,this.queryCache.findAll(o).length},i.isMutating=function(t){return this.mutationCache.findAll(h({},t,{fetching:!0})).length},i.getQueryData=function(t,e){var r;return(r=this.queryCache.find(t,e))==null?void 0:r.state.data},i.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(e){var r=e.queryKey,o=e.state,u=o.data;return[r,u]})},i.setQueryData=function(t,e,r){var o=B(t),u=this.defaultQueryOptions(o);return this.queryCache.build(this,u).setData(e,r)},i.setQueriesData=function(t,e,r){var o=this;return y.batch(function(){return o.getQueryCache().findAll(t).map(function(u){var a=u.queryKey;return[a,o.setQueryData(a,e,r)]})})},i.getQueryState=function(t,e){var r;return(r=this.queryCache.find(t,e))==null?void 0:r.state},i.removeQueries=function(t,e){var r=M(t,e),o=r[0],u=this.queryCache;y.batch(function(){u.findAll(o).forEach(function(a){u.remove(a)})})},i.resetQueries=function(t,e,r){var o=this,u=M(t,e,r),a=u[0],c=u[1],f=this.queryCache,v=h({},a,{active:!0});return y.batch(function(){return f.findAll(a).forEach(function(p){p.reset()}),o.refetchQueries(v,c)})},i.cancelQueries=function(t,e,r){var o=this,u=M(t,e,r),a=u[0],c=u[1],f=c===void 0?{}:c;typeof f.revert=="undefined"&&(f.revert=!0);var v=y.batch(function(){return o.queryCache.findAll(a).map(function(p){return p.cancel(f)})});return Promise.all(v).then(g).catch(g)},i.invalidateQueries=function(t,e,r){var o,u,a,c=this,f=M(t,e,r),v=f[0],p=f[1],l=h({},v,{active:(o=(u=v.refetchActive)!=null?u:v.active)!=null?o:!0,inactive:(a=v.refetchInactive)!=null?a:!1});return y.batch(function(){return c.queryCache.findAll(v).forEach(function(d){d.invalidate()}),c.refetchQueries(l,p)})},i.refetchQueries=function(t,e,r){var o=this,u=M(t,e,r),a=u[0],c=u[1],f=y.batch(function(){return o.queryCache.findAll(a).map(function(p){return p.fetch(void 0,h({},c,{meta:{refetchPage:a==null?void 0:a.refetchPage}}))})}),v=Promise.all(f).then(g);return c!=null&&c.throwOnError||(v=v.catch(g)),v},i.fetchQuery=function(t,e,r){var o=B(t,e,r),u=this.defaultQueryOptions(o);typeof u.retry=="undefined"&&(u.retry=!1);var a=this.queryCache.build(this,u);return a.isStaleByTime(u.staleTime)?a.fetch(u):Promise.resolve(a.state.data)},i.prefetchQuery=function(t,e,r){return this.fetchQuery(t,e,r).then(g).catch(g)},i.fetchInfiniteQuery=function(t,e,r){var o=B(t,e,r);return o.behavior=Gt(),this.fetchQuery(o)},i.prefetchInfiniteQuery=function(t,e,r){return this.fetchInfiniteQuery(t,e,r).then(g).catch(g)},i.cancelMutations=function(){var t=this,e=y.batch(function(){return t.mutationCache.getAll().map(function(r){return r.cancel()})});return Promise.all(e).then(g).catch(g)},i.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},i.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},i.getQueryCache=function(){return this.queryCache},i.getMutationCache=function(){return this.mutationCache},i.getDefaultOptions=function(){return this.defaultOptions},i.setDefaultOptions=function(t){this.defaultOptions=t},i.setQueryDefaults=function(t,e){var r=this.queryDefaults.find(function(o){return D(t)===D(o.queryKey)});r?r.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})},i.getQueryDefaults=function(t){var e;return t?(e=this.queryDefaults.find(function(r){return rt(t,r.queryKey)}))==null?void 0:e.defaultOptions:void 0},i.setMutationDefaults=function(t,e){var r=this.mutationDefaults.find(function(o){return D(t)===D(o.mutationKey)});r?r.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})},i.getMutationDefaults=function(t){var e;return t?(e=this.mutationDefaults.find(function(r){return rt(t,r.mutationKey)}))==null?void 0:e.defaultOptions:void 0},i.defaultQueryOptions=function(t){if(t!=null&&t._defaulted)return t;var e=h({},this.defaultOptions.queries,this.getQueryDefaults(t==null?void 0:t.queryKey),t,{_defaulted:!0});return!e.queryHash&&e.queryKey&&(e.queryHash=et(e.queryKey,e)),e},i.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},i.defaultMutationOptions=function(t){return t!=null&&t._defaulted?t:h({},this.defaultOptions.mutations,this.getMutationDefaults(t==null?void 0:t.mutationKey),t,{_defaulted:!0})},i.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},s}();var Rt=function(s){R(i,s);function i(t,e){var r;return r=s.call(this)||this,r.client=t,r.options=e,r.trackedProps=[],r.selectError=null,r.bindMethods(),r.setOptions(e),r}var n=i.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Vt(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return xt(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return xt(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(e,r){var o=this.options,u=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var a=this.hasListeners();a&&Wt(this.currentQuery,u,this.options,o)&&this.executeFetch(),this.updateResult(r),a&&(this.currentQuery!==u||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var c=this.computeRefetchInterval();a&&(this.currentQuery!==u||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)},n.getOptimisticResult=function(e){var r=this.client.defaultQueryObserverOptions(e),o=this.client.getQueryCache().build(this.client,r);return this.createResult(o,r)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(e,r){var o=this,u={},a=function(f){o.trackedProps.includes(f)||o.trackedProps.push(f)};return Object.keys(e).forEach(function(c){Object.defineProperty(u,c,{configurable:!1,enumerable:!0,get:function(){return a(c),e[c]}})}),(r.useErrorBoundary||r.suspense)&&a("error"),u},n.getNextResult=function(e){var r=this;return new Promise(function(o,u){var a=r.subscribe(function(c){c.isFetching||(a(),c.isError&&(e==null?void 0:e.throwOnError)?u(c.error):o(c))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(e){return this.fetch(h({},e,{meta:{refetchPage:e==null?void 0:e.refetchPage}}))},n.fetchOptimistic=function(e){var r=this,o=this.client.defaultQueryObserverOptions(e),u=this.client.getQueryCache().build(this.client,o);return u.fetch().then(function(){return r.createResult(u,o)})},n.fetch=function(e){var r=this;return this.executeFetch(e).then(function(){return r.updateResult(),r.currentResult})},n.executeFetch=function(e){this.updateQuery();var r=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(g)),r},n.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!(L||this.currentResult.isStale||!tt(this.options.staleTime))){var r=at(this.currentResult.dataUpdatedAt,this.options.staleTime),o=r+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},o)}},n.computeRefetchInterval=function(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1},n.updateRefetchInterval=function(e){var r=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!(L||this.options.enabled===!1||!tt(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(r.options.refetchIntervalInBackground||U.isFocused())&&r.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(e,r){var o=this.currentQuery,u=this.options,a=this.currentResult,c=this.currentResultState,f=this.currentResultOptions,v=e!==o,p=v?e.state:this.currentQueryInitialState,l=v?this.currentResult:this.previousQueryResult,d=e.state,b=d.dataUpdatedAt,F=d.error,x=d.errorUpdatedAt,C=d.isFetching,m=d.status,E=!1,q=!1,O;if(r.optimisticResults){var J=this.hasListeners(),ht=!J&&Vt(e,r),st=J&&Wt(e,o,r,u);(ht||st)&&(C=!0,b||(m="loading"))}if(r.keepPreviousData&&!d.dataUpdateCount&&(l==null?void 0:l.isSuccess)&&m!=="error")O=l.data,b=l.dataUpdatedAt,m=l.status,E=!0;else if(r.select&&typeof d.data!="undefined")if(a&&d.data===(c==null?void 0:c.data)&&r.select===this.selectFn)O=this.selectResult;else try{this.selectFn=r.select,O=r.select(d.data),r.structuralSharing!==!1&&(O=H(a==null?void 0:a.data,O)),this.selectResult=O,this.selectError=null}catch(I){$().error(I),this.selectError=I}else O=d.data;if(typeof r.placeholderData!="undefined"&&typeof O=="undefined"&&(m==="loading"||m==="idle")){var S;if((a==null?void 0:a.isPlaceholderData)&&r.placeholderData===(f==null?void 0:f.placeholderData))S=a.data;else if(S=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof S!="undefined")try{S=r.select(S),r.structuralSharing!==!1&&(S=H(a==null?void 0:a.data,S)),this.selectError=null}catch(I){$().error(I),this.selectError=I}typeof S!="undefined"&&(m="success",O=S,q=!0)}this.selectError&&(F=this.selectError,O=this.selectResult,x=Date.now(),m="error");var ut={status:m,isLoading:m==="loading",isSuccess:m==="success",isError:m==="error",isIdle:m==="idle",data:O,dataUpdatedAt:b,error:F,errorUpdatedAt:x,failureCount:d.fetchFailureCount,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>p.dataUpdateCount||d.errorUpdateCount>p.errorUpdateCount,isFetching:C,isRefetching:C&&m!=="loading",isLoadingError:m==="error"&&d.dataUpdatedAt===0,isPlaceholderData:q,isPreviousData:E,isRefetchError:m==="error"&&d.dataUpdatedAt!==0,isStale:Qt(e,r),refetch:this.refetch,remove:this.remove};return ut},n.shouldNotifyListeners=function(e,r){if(!r)return!0;var o=this.options,u=o.notifyOnChangeProps,a=o.notifyOnChangePropsExclusions;if(!u&&!a||u==="tracked"&&!this.trackedProps.length)return!0;var c=u==="tracked"?this.trackedProps:u;return Object.keys(e).some(function(f){var v=f,p=e[v]!==r[v],l=c==null?void 0:c.some(function(b){return b===f}),d=a==null?void 0:a.some(function(b){return b===f});return p&&!d&&(!c||l)})},n.updateResult=function(e){var r=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!It(this.currentResult,r)){var o={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,r)&&(o.listeners=!0),this.notify(h({},o,e))}},n.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}},n.onQueryUpdate=function(e){var r={};e.type==="success"?r.onSuccess=!0:e.type==="error"&&!G(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()},n.notify=function(e){var r=this;y.batch(function(){e.onSuccess?(r.options.onSuccess==null||r.options.onSuccess(r.currentResult.data),r.options.onSettled==null||r.options.onSettled(r.currentResult.data,null)):e.onError&&(r.options.onError==null||r.options.onError(r.currentResult.error),r.options.onSettled==null||r.options.onSettled(void 0,r.currentResult.error)),e.listeners&&r.listeners.forEach(function(o){o(r.currentResult)}),e.cache&&r.client.getQueryCache().notify({query:r.currentQuery,type:"observerResultsUpdated"})})},i}(Q);function le(s,i){return i.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&i.retryOnMount===!1)}function Vt(s,i){return le(s,i)||s.state.dataUpdatedAt>0&&xt(s,i,i.refetchOnMount)}function xt(s,i,n){if(i.enabled!==!1){var t=typeof n=="function"?n(s):n;return t==="always"||t!==!1&&Qt(s,i)}return!1}function Wt(s,i,n,t){return n.enabled!==!1&&(s!==i||t.enabled===!1)&&(!n.suspense||s.state.status!=="error")&&Qt(s,n)}function Qt(s,i){return s.isStaleByTime(i.staleTime)}var W=j(Y());var Ft=j(Y());function he(){var s=!1;return{clearReset:function(){s=!1},reset:function(){s=!0},isReset:function(){return s}}}var de=Ft.default.createContext(he()),Jt=function(){return Ft.default.useContext(de)};function Xt(s,i){var n=W.default.useRef(!1),t=W.default.useState(0),e=t[1],r=Z(),o=Jt(),u=r.defaultQueryObserverOptions(s);u.optimisticResults=!0,u.onError&&(u.onError=y.batchCalls(u.onError)),u.onSuccess&&(u.onSuccess=y.batchCalls(u.onSuccess)),u.onSettled&&(u.onSettled=y.batchCalls(u.onSettled)),u.suspense&&(typeof u.staleTime!="number"&&(u.staleTime=1e3),u.cacheTime===0&&(u.cacheTime=1)),(u.suspense||u.useErrorBoundary)&&(o.isReset()||(u.retryOnMount=!1));var a=W.default.useState(function(){return new i(r,u)}),c=a[0],f=c.getOptimisticResult(u);if(W.default.useEffect(function(){n.current=!0,o.clearReset();var v=c.subscribe(y.batchCalls(function(){n.current&&e(function(p){return p+1})}));return c.updateResult(),function(){n.current=!1,v()}},[o,c]),W.default.useEffect(function(){c.setOptions(u,{listeners:!1})},[u,c]),u.suspense&&f.isLoading)throw c.fetchOptimistic(u).then(function(v){var p=v.data;u.onSuccess==null||u.onSuccess(p),u.onSettled==null||u.onSettled(p,null)}).catch(function(v){o.clearReset(),u.onError==null||u.onError(v),u.onSettled==null||u.onSettled(void 0,v)});if(f.isError&&!o.isReset()&&!f.isFetching&&lt(u.suspense,u.useErrorBoundary,[f.error,c.getCurrentQuery()]))throw f.error;return u.notifyOnChangeProps==="tracked"&&(f=c.trackResult(f,u)),f}function pe(s,i,n){var t=B(s,i,n);return Xt(t,Rt)}var Yt=j(ee()),Zt=Yt.default.unstable_batchedUpdates;y.setBatchNotifyFunction(Zt);var zt=console;gt(zt);var St=j(Y(),1);var ve=new Ct,ye=s=>n=>{var i=Mt(n,[]);return St.default.createElement(pt,{client:ve,contextSharing:!0},St.default.createElement(s,Pt({},i)))},Cn=ye;export{Z as a,ce as b,pe as c,Cn as d};
