import{a as x}from"./chunk-JNNA6YYS.js";import{l as _,m as io,n as lo,o as po,p as uo,q as co,r as go,s as fo,t as mo}from"./chunk-O7F7YGX6.js";import{C as si,E as ii,F as li,c as Qr,d as eo,w as ai}from"./chunk-DLYUP5P4.js";import{g as Jr,h as pt,i as no,j as ut,k as ro,l as oo,m as ao,n as Ht,o as ct,v as so}from"./chunk-UVCMF6AG.js";import{V as ri,Z as oi,ba as $r,ea as Kr,fa as Yt,ra as jt,sa as to}from"./chunk-VWCNWZTS.js";import{E as ti,Ga as ni,Xa as qr,_a as Zr,pa as Gr,qa as lt,ra as Wt,ta as K,ua as k}from"./chunk-NP732JJA.js";import{b as p,c as m,g as it,h as Br,i as h,k as y,o as ge}from"./chunk-FOXWPXSG.js";var qa=it((Ug,Ja)=>{"use strict";var Zp=Object.create,At=Object.defineProperty,Qp=Object.getOwnPropertyDescriptor,eu=Object.getOwnPropertyNames,tu=Object.getPrototypeOf,nu=Object.prototype.hasOwnProperty,$a=(e,t)=>{for(var n in t)At(e,n,{get:t[n],enumerable:!0})},kt=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of eu(t))!nu.call(e,o)&&o!==n&&At(e,o,{get:()=>t[o],enumerable:!(r=Qp(t,o))||r.enumerable});return e},ru=(e,t,n)=>(kt(e,t,"default"),n&&kt(n,t,"default")),ou=(e,t,n)=>(n=e!=null?Zp(tu(e)):{},kt(t||!e||!e.__esModule?At(n,"default",{value:e,enumerable:!0}):n,e)),au=e=>kt(At({},"__esModule",{value:!0}),e),Ka={};$a(Ka,{absoluteLayoutOptions:()=>iu,gridLayoutOptions:()=>lu});Ja.exports=au(Ka);var tt={};$a(tt,{default:()=>su});var Tr=ou(Yt());ru(tt,Yt());var su="default"in Tr?Tr.default:Tr,iu={width:tt.DEFAULT_CANVAS_WIDTH,height:tt.DEFAULT_CANVAS_HEIGHT,display:"auto"},lu={width:tt.DEFAULT_CANVAS_WIDTH,gutterSize:8}});var Sr=it((Cf,ls)=>{var Cu=qr();function Tu(e,t){return e==null?!0:Cu(e,t)}ls.exports=Tu});var us=it((Tf,ps)=>{var xu=qr(),Ou=ti(),wu=Array.prototype,Su=wu.splice;function Eu(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==a){var a=o;Ou(o)?Su.call(e,o,1):xu(e,o)}}return e}ps.exports=Eu});var Er=it((xf,cs)=>{var Lu=ni(),Ru=us();function Vu(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,o=[],a=e.length;for(t=Lu(t,3);++r<a;){var s=e[r];t(s,r,e)&&(n.push(s),o.push(r))}return Ru(e,o),n}cs.exports=Vu});var Rr=h(k(),1),Au=h(k(),1);var Xe=h(k(),1),Or=h(lt(),1),nt=h(jt(),1),xr=h(Jr(),1);var dt=h(lt(),1),ho=h(Wt(),1),bo=h(K(),1);var pi="data/ui/panels",yo=({id:e,app:t=dt.app,owner:n=dt.username})=>{let r=(0,ho.createRESTURL)(`${pi}/${e}?output_mode=json`,{app:t,owner:n});return to(r,{customErrors:{404:(0,bo._)("The panel you selected does not exist.")}})};var vo=()=>{let e=/\/app\/[^/]+\/([^/]+)\/?/.exec(window.location.pathname)||[],[,t=""]=e;return t};var Co=e=>{let t=typeof e=="string"?e.toLowerCase().trim():e;return t===!0||t===1||t==="true"||t==="1"||t==="on"||t==="yes"},To=e=>{let t=typeof e=="string"?e.toLowerCase().trim():e;return t===!1||t===0||t==="false"||t==="0"||t==="off"||t==="no"};var F=(e,t)=>{var n;return(n=e.childNamed(t))==null?void 0:n.val},M=(e,t)=>{var n,r;return(r=(n=e[t])==null?void 0:n[0])==null?void 0:r.val},I=({value:e,defaultValue:t=!1})=>Co(e)?!0:To(e)?!1:t;var hn={};Br(hn,{DivergentColorsWarning:()=>Ce,ExpressionColorPaletteNotSupported:()=>me,FieldsRequiredForColumnFormattingWarning:()=>fe,OnlyNumberSegmentTypesSupportedWarning:()=>be,ScaleTypeNotSupportedWarning:()=>he,UnsupportedCustomCSSWarning:()=>Ee,UnsupportedCustomJSWarning:()=>Le,UnsupportedDashboardAttributeWarning:()=>Ve,UnsupportedInitWarning:()=>Re,UnsupportedInputConfigGeneric:()=>Te,UnsupportedInputEventHandler:()=>xe,UnsupportedInteractionWarning:()=>Se,UnsupportedOptionGeneric:()=>ve,UnsupportedSearchConfigGeneric:()=>Oe,UnsupportedSearchEventHandler:()=>we,UnsupportedShowHide:()=>Y,UnsupportedSparklineTypeWarning:()=>ye});var L=h(K(),1);var V=h(oi(),1),v=h(K(),1),Bt=(0,v._)("Dashboard Studio only supports color formatting for columns with explicitly specified fields."),Gt=(0,v._)('Dashboard Studio does not support formatting tables using a color palette of type "expression".'),$t=e=>(0,V.sprintf)((0,v._)('Dashboard Studio does not support table format scales of type "%(scaleType)s".'),{scaleType:e}),Kt=(0,v._)('Dashboard Studio only supports the "number" segment type for minMidMax color formatting in table columns.'),Jt=e=>(0,V.sprintf)((0,v._)('Dashboard Studio does not support table sparklines of type "%(sparklineType)s".'),{sparklineType:e}),ui=(e,t)=>(0,V.sprintf)((0,v._)("Dashboard Studio does not automatically convert all %(type)s options for %(detailedType)s."),{type:e,detailedType:t}),qt=e=>e.sort().join(", "),gt=(e,t,n)=>{var o;let r=ui(t,n);return e.length>1?(0,V.sprintf)((0,v._)("%(notAllOptionsConvertedSentence)s The following options were not converted: %(unconvertedConfigs)s"),{unconvertedConfigs:qt(e),notAllOptionsConvertedSentence:r}):(0,V.sprintf)((0,v._)("%(notAllOptionsConvertedSentence)s The following option was not converted: %(unconvertedConfig)s"),{unconvertedConfig:(o=e[0])!=null?o:"",notAllOptionsConvertedSentence:r})},Oo=(0,v._)("Dashboard Studio replaced search event handlers with tokens. Similar to event handlers, you can use tokens that are automatically set based on the job status, metadata, or results of a search."),wo=(0,v._)("Dashboard Studio does not automatically convert certain event handlers on inputs."),Zt=(e,t,n)=>{var r;return e.length>1?(0,V.sprintf)((0,v._)("%(eventHandlerSentence)s The following %(eventHandlerType)s event handlers were not converted: %(unconvertedConfigs)s"),{eventHandlerSentence:t,unconvertedConfigs:qt(e),eventHandlerType:n}):(0,V.sprintf)((0,v._)("%(eventHandlerSentence)s The following %(eventHandlerType)s event handler was not converted: %(unconvertedConfig)s"),{eventHandlerSentence:t,unconvertedConfig:(r=e[0])!=null?r:"",eventHandlerType:n})},se=(e,t,n)=>(0,V.sprintf)((0,v._)('The option "%(optionName)s" with value "%(optionValue)s" is not supported for "%(optionType)s in Dashboard Studio.'),{optionName:e,optionValue:t,optionType:n}),Qt=(0,v._)("Dashboard Studio does not support divergent colors in Choropleth Maps."),xo=(0,v._)("Dashboard Studio does not support all interactions."),So=e=>{var t;return e.length>1?(0,V.sprintf)((0,v._)("%(interactionsNotAllSupportedSentence)s The following interactions were not converted: %(unconvertedConfigs)s"),{unconvertedConfigs:qt(e),interactionsNotAllSupportedSentence:xo}):(0,V.sprintf)((0,v._)("%(interactionsNotAllSupportedSentence)s The following interaction was not converted: %(unconvertedConfig)s"),{unconvertedConfig:(t=e[0])!=null?t:"",interactionsNotAllSupportedSentence:xo})},Eo=e=>(0,V.sprintf)((0,v._)('Dashboard Studio does not support "%(interactionName)s".'),{interactionName:e}),en=(0,v._)("Dashboard Studio does not automatically convert Custom CSS stylesheets. You can recreate many results similar to Custom CSS with the Dashboard Studio UI."),Lo=e=>(0,V.sprintf)((0,v._)("%(customCSSNotSupportedSentence)s Your dashboard contains %(count)s CSS %(singularOrPluralReferences)s."),{customCSSNotSupportedSentence:en,count:e,singularOrPluralReferences:e>1?(0,v._)("references"):(0,v._)("reference")}),tn=(0,v._)("Dashboard Studio does not automatically convert Custom JavaScript references."),Ro=e=>(0,V.sprintf)((0,v._)("%(customJSNotSupportedSentence)s Your dashboard contains %(count)s JavaScript %(singularOrPluralReferences)s."),{customJSNotSupportedSentence:tn,count:e,singularOrPluralReferences:e>1?(0,v._)("references"):(0,v._)("reference")}),nn=(0,v._)(`Dashboard Studio uses default values instead of initial values. 
    A key difference is that a token with a default value will always have that value unless a user sets a new value with an interaction.`),rn=(0,v._)("Dashboard Studio automatically converts only certain dashboard-level attributes. You can manually update attributes that aren't automatically converted."),on=(0,v._)("Dashboard Studio does not support the selected visualization type."),an=(0,v._)("To continue, select another visualization such as 'Statistics Table'."),Vo=e=>(0,V.sprintf)((0,v._)('Dashboard Studio does not automatically convert "%(vizType)s" visualizations. You can manually select a different visualization type.'),{vizType:e}),Mo=e=>(0,V.sprintf)((0,v._)('Dashboard Studio does not automatically convert custom visualizations. The "%(vizType)s" visualization was not converted. You can manually update visualizations.'),{vizType:e}),sn={error:(0,v._)("Dashboard Studio does not support Trellis."),fix:(0,v._)("To continue, remove Trellis.")},ln={error:(0,v._)("Dashboard Studio does not support categorical colors in Choropleth Maps."),fix:(0,v._)("To continue, remove categorical colors or select another visualization such as 'Statistics Table'.")},pn=e=>(0,V.sprintf)((0,v._)('Dashboard panel "%(ref)s" was not found.'),{ref:e}),un=e=>(0,V.sprintf)((0,v._)("An error occurred while converting a visualization of type %(vizType)s."),{vizType:e}),cn=(0,v._)("Dashboard Studio does not support HTML content."),_o=e=>(0,V.sprintf)((0,v._)("%(htmlNotSupportedSentence)s Your dashboard contains %(count)s HTML %(singularOrPluralPanels)s. Consider using the Markdown visualization to recreate your HTML content."),{htmlNotSupportedSentence:cn,count:e,singularOrPluralPanels:e>1?(0,v._)("panels"):(0,v._)("panel")}),He=({elementLabel:e,convertedId:t,elementNumber:n})=>n?(0,V.sprintf)((0,v._)("%(elementLabel)s %(elementNumber)s (%(convertedId)s)"),{elementLabel:e,elementNumber:n,convertedId:t}):(0,V.sprintf)((0,v._)("%(elementLabel)s (%(convertedId)s)"),{elementLabel:e,convertedId:t});var cc=h(K(),1);var w=class{constructor(t,n){this.type=t;this.logArgs=n}get vizType(){return this.logArgs.vizType}set vizType(t){this.logArgs.vizType=t}get inputType(){return this.logArgs.inputType}get searchType(){return this.logArgs.searchType}get dismissed(){return!!this.logArgs.dismissed}set dismissed(t){this.logArgs.dismissed=t}get convertedId(){return this.logArgs.convertedId}set convertedId(t){this.logArgs.convertedId=t}serialize(){return p({type:this.type},this.logArgs)}getElementType(){var t,n;return(n=(t=this.vizType)!=null?t:this.inputType)!=null?n:this.searchType}getElementTitle(t){var n,r,o,a,s,l,i,u;if(!(!this.convertedId||!t))return(u=(s=(r=(n=t.visualizations)==null?void 0:n[this.convertedId])==null?void 0:r.title)!=null?s:(a=(o=t.inputs)==null?void 0:o[this.convertedId])==null?void 0:a.title)!=null?u:(i=(l=t.dataSources)==null?void 0:l[this.convertedId])==null?void 0:i.name}},dn=e=>e.map(t=>t.serialize()),gn=e=>e.map(t=>t.toMessage()),ci=(e,t)=>{try{let n=e.type&&t[e.type];if(!n)return;let r=p({},e);return delete r.type,new n(r)}catch(n){return}},fn=(e,t)=>e.map(n=>ci(n,t)).filter(Boolean);var Do=h(K(),1);var ko=e=>{let t={"splunk.area":{singular:e("Area chart"),plural:e("Area charts")},"splunk.bar":{singular:e("Bar chart"),plural:e("Bar charts")},"splunk.column":{singular:e("Column chart"),plural:e("Column charts")},"splunk.line":{singular:e("Line chart"),plural:e("Line charts")},"splunk.pie":{singular:e("Pie chart"),plural:e("Pie charts")},"splunk.scatter":{singular:e("Scatter chart"),plural:e("Scatter charts")},"splunk.bubble":{singular:e("Bubble chart"),plural:e("Bubble charts")},"splunk.fillergauge":{singular:e("Filler gauge"),plural:e("Filler gauges")},"splunk.markergauge":{singular:e("Marker gauge"),plural:e("Marker gauges")},radialgauge:{singular:e("Radial gauge"),plural:e("Radial gauges")}},n=m(p({},t),{cluster:{singular:e("Cluster map"),plural:e("Cluster maps")},choropleth:{singular:e("Choropleth map"),plural:e("Choropleth maps")},"splunk.map":{singular:e("Map"),plural:e("Maps")},"splunk.singlevalue":{singular:e("Single value"),plural:e("Single values")},"splunk.table":{singular:e("Table"),plural:e("Tables")},"splunk.events":{singular:e("Events"),plural:e("Events")},"viz.error":{singular:e("Unsupported visualization"),plural:e("Unsupported visualizations")},"splunk.sankey":{singular:e("Sankey diagram"),plural:e("Sankey diagrams")},"splunk.parallelcoordinates":{singular:e("Parallel coordinates"),plural:e("Parallel coordinates")},"splunk.punchcard":{singular:e("Punchcard"),plural:e("Punchcards")},"splunk.singlevalueradial":{singular:e("Single value radial"),plural:e("Single value radials")}}),r={text:{singular:e("Text input"),plural:e("Text inputs")},"input.text":{singular:e("Text input"),plural:e("Text inputs")},link:{singular:e("Link list input"),plural:e("Link list inputs")},radio:{singular:e("Radio input"),plural:e("Radio inputs")},dropdown:{singular:e("Dropdown input"),plural:e("Dropdown inputs")},"input.dropdown":{singular:e("Dropdown input"),plural:e("Dropdown inputs")},checkbox:{singular:e("Checkbox input"),plural:e("Checkbox inputs")},multiselect:{singular:e("Multiselect input"),plural:e("Multiselect inputs")},"input.multiselect":{singular:e("Time range input"),plural:e("Time range inputs")},time:{singular:e("Time range input"),plural:e("Time range inputs")},"input.timerange":{singular:e("Time range input"),plural:e("Time range inputs")}},o={"ds.search":{singular:e("Inline search"),plural:e("Inline searches")},"ds.savedSearch":{singular:e("Saved search"),plural:e("Saved searches")},"ds.chain":{singular:e("Chain search"),plural:e("Chain searches")}},a={dashboard:{singular:e("Global"),plural:e("Globals")},form:{singular:e("Global"),plural:e("Globals")},panel:{singular:e("Panel"),plural:e("Panels")}};return p(p(p(p({},n),r),o),a)},di=e=>e,Ao=ko(Do._),gi=ko(di),mn=(e,t="viz.error")=>e in Ao?e:t,Z=({elementType:e,plural:t,localize:n=!0})=>{let o=(n?Ao:gi)[mn(e)];return t?o.plural:o.singular};var bn=class extends w{constructor(t){super(bn.WARNING_TYPE,t)}toMessage(){return{message:Bt,line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Column formatting"),message:Bt,learnMoreLink:_()}}},fe=bn;y(fe,"WARNING_TYPE","fieldsRequiredForColumnColorFormatting");var yn=class extends w{constructor(t){super(yn.WARNING_TYPE,t)}toMessage(){return{message:Gt,line:this.logArgs.line}}getReportContent(){return{message:Gt,header:(0,L._)("Color palette"),learnMoreLink:_()}}},me=yn;y(me,"WARNING_TYPE","expressionColorPaletteNotSupported");var vn=class extends w{constructor(n){super(vn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:$t(this.logArgs.scaleType),line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Format scale type"),message:$t(this.logArgs.scaleType),learnMoreLink:_()}}},he=vn;y(he,"WARNING_TYPE","scaleTypeNotSupported");var Cn=class extends w{constructor(n){super(Cn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:Kt,line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Segment type"),message:Kt,learnMoreLink:_()}}},be=Cn;y(be,"WARNING_TYPE","onlyNumberSegmentTypesSupported");var Tn=class extends w{constructor(n){super(Tn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:Jt(this.logArgs.sparklineType),line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Sparklines type"),message:Jt(this.logArgs.sparklineType),learnMoreLink:_()}}},ye=Tn;y(ye,"WARNING_TYPE","sparklineTypeUnsupported");var xn=class extends w{constructor(n){super(xn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:se(this.logArgs.optionName,this.logArgs.optionValue,this.logArgs.vizType),line:this.logArgs.line}}getReportContent(n){let{configs:r}=n;return{header:(0,L._)("Visualization option"),message:gt(r,(0,L._)("visualization"),Z({elementType:this.logArgs.vizType,plural:!0}).toLocaleLowerCase()),learnMoreLink:_()}}getName(){return this.logArgs.optionName}},ve=xn;y(ve,"WARNING_TYPE","unsupportedOptionGeneric");var On=class extends w{constructor(n){super(On.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:Qt,line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Divergent colors"),message:Qt,learnMoreLink:_()}}},Ce=On;y(Ce,"WARNING_TYPE","divergentColorsNotSupported");var wn=class extends w{constructor(n){super(wn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:se(this.logArgs.configName,this.logArgs.configValue,this.logArgs.inputType),line:this.logArgs.line}}getReportContent(n){let{configs:r}=n;return{header:(0,L._)("Input option"),message:gt(r,(0,L._)("input"),Z({elementType:this.logArgs.inputType,plural:!0}).toLocaleLowerCase()),learnMoreLink:uo()}}getName(){return this.logArgs.configName}},Te=wn;y(Te,"WARNING_TYPE","unsupportedInputConfigGeneric");var Sn=class extends w{constructor(n){super(Sn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:se(this.logArgs.configName,this.logArgs.configValue,this.logArgs.inputType),line:this.logArgs.line}}getReportContent(n){let{configs:r}=n;return{header:(0,L._)("Input event handler"),message:Zt(r,wo,(0,L._)("input")),learnMoreLink:co()}}getName(){return this.logArgs.configName}},xe=Sn;y(xe,"WARNING_TYPE","unsupportedInputEventHandler");var En=class extends w{constructor(n){super(En.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:se(this.logArgs.configName,this.logArgs.configValue,this.logArgs.searchType),line:this.logArgs.line}}getReportContent(n){let{configs:r}=n;return{header:(0,L._)("Search option"),message:gt(r,(0,L._)("search"),Z({elementType:this.logArgs.searchType,plural:!0}).toLocaleLowerCase()),learnMoreLink:_()}}getName(){return this.logArgs.configName}},Oe=En;y(Oe,"WARNING_TYPE","UnsupportedSearchConfigGeneric");var Ln=class extends w{constructor(n){super(Ln.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:se(this.logArgs.configName,this.logArgs.configValue,this.logArgs.searchType),line:this.logArgs.line}}getReportContent(n){let{configs:r}=n;return{header:(0,L._)("Search event handler"),message:Zt(r,Oo,(0,L._)("search")),learnMoreLink:po()}}getName(){return this.logArgs.configName}},we=Ln;y(we,"WARNING_TYPE","unsupportedSearchEventHandler");var Rn=class extends w{constructor(n){super(Rn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:se(this.logArgs.configName,this.logArgs.configValue,this.logArgs.configType),line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Show hide elements"),message:(0,L._)("The depends and rejects configurations for show/hide are not supported in Dashboard Studio."),learnMoreLink:_()}}},Y=Rn;y(Y,"WARNING_TYPE","unsupportedShowHide");var Vn=class extends w{constructor(n){super(Vn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:Eo(this.logArgs.interactionName),line:this.logArgs.line}}getReportContent(n){let{configs:r}=n;return{header:(0,L._)("Interactions"),message:So(r),learnMoreLink:mo()}}getName(){return this.logArgs.interactionName}},Se=Vn;y(Se,"WARNING_TYPE","unsupportedInteractionWarning");var Mn=class extends w{constructor(n){super(Mn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:en,line:this.logArgs.line}}getReportContent(n){let{count:r}=n;return{header:(0,L._)("Custom CSS"),message:Lo(r),learnMoreLink:_()}}},Ee=Mn;y(Ee,"WARNING_TYPE","unsupportedCustomCSS");var _n=class extends w{constructor(n){super(_n.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:tn,line:this.logArgs.line}}getReportContent(n){let{count:r}=n;return{header:(0,L._)("Custom JS"),message:Ro(r),learnMoreLink:_()}}},Le=_n;y(Le,"WARNING_TYPE","unsupportedCustomJS");var In=class extends w{constructor(n){super(In.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:nn,line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Initial values"),message:nn,learnMoreLink:lo()}}},Re=In;y(Re,"WARNING_TYPE","unsupportedInit");var Dn=class extends w{constructor(n){super(Dn.WARNING_TYPE,n);this.logArgs=n}toMessage(){return{message:rn,line:this.logArgs.line}}getReportContent(){return{header:(0,L._)("Dashboard attributes"),message:rn,learnMoreLink:io()}}},Ve=Dn;y(Ve,"WARNING_TYPE","unsupportedDashboardAttribute");var ft={progress:!1,done:!1,cancelled:!1,error:!1,finalized:!1,fail:!1,preview:!1},fi=m(p({},ft),{query:!0,earliest:!0,latest:!0,sampleRatio:!1,refresh:!0,refreshType:!0}),mi=m(p({},ft),{cache:!1,refresh:!0,refreshType:!0,latest:!1,earliest:!1}),hi=m(p({},ft),{query:!0}),bi={"ds.search":fi,"ds.chain":hi,"ds.savedSearch":mi},mt=(e,t)=>{let n=0,r={},o=bi[t],a=[];return e.children.forEach(s=>{let l=s,{name:i,val:u,line:d}=l;if(i&&i in o){if(n++,!o[i]){let c={searchType:t,configName:i,configValue:u,line:d},f=i in ft?new we(c):new Oe(c);a.push(f);return}r[i]=u.trim()}}),{supportedConfigsMap:r,warnings:a,configCount:n}};var yi=e=>(e==null?void 0:e.name)==="search",vi=e=>e.attr.base?"ds.chain":e.attr.ref?"ds.savedSearch":"ds.search",Ci=e=>{let{supportedConfigsMap:t,configCount:n,warnings:r}=mt(e,"ds.savedSearch"),o={ref:e.attr.ref},a=0;e.attr.ref&&a++,e.attr.app&&(o.app=e.attr.app,a++),t.refresh&&(o.refresh=t.refresh),t.refreshType&&(o.refreshType=t.refreshType);let s=n+a;return{options:o,configCount:s,warnings:r}},An=e=>e==="$earliest$"?"0":e,Nn=e=>e==="$latest$"?"":e,Ti=e=>{let{supportedConfigsMap:t,configCount:n,warnings:r}=mt(e,"ds.search"),o={};t.query&&(o.query=t.query);let a=t.earliest;a&&(o.queryParameters={earliest:An(a)});let s=t.latest;return s&&(o.queryParameters=m(p({},o.queryParameters),{latest:Nn(s)})),t.refresh&&(o.refresh=t.refresh),t.refreshType&&(o.refreshType=t.refreshType),{options:o,configCount:n,warnings:r}},xi=e=>{let{supportedConfigsMap:t,configCount:n,warnings:r}=mt(e,"ds.chain"),o={extend:`ds_${e.attr.base}`};return t.query&&(o.query=t.query),{options:o,warnings:r,configCount:n+1}},kn={"ds.chain":xi,"ds.savedSearch":Ci,"ds.search":Ti},Oi=({node:e})=>{var a,s;let t=vi(e),{options:n,warnings:r,configCount:o}=(s=(a=kn[t])==null?void 0:a.call(kn,e))!=null?s:{};return{definition:p({type:t,options:n},x(e.attr.id,{name:`ds_${e.attr.id}`})),warnings:r,configCount:o}},Be=(e,t,{dsIdsWithSearchId:n},r,o)=>{let a={};return e.children.filter(yi).forEach(s=>{let{definition:l,warnings:i=[],configCount:u=0}=Oi({node:s});r&&(r.count++,r.convertedCount++,r.configCount+=u,r.convertedConfigCount+=u-i.length);let{id:d}=s.attr,c=`ds_${d}`,g=c;d&&!t.getDataSource(c)?n.add(g):g=t.nextDataSourceId(),o&&i.length>0&&(i.forEach(b=>b.convertedId=g),o.push(...i)),t.addDataSource(g,l);let{type:f}=s.attr;if(f?a[f]=g:a.primary=g,e.name==="event"){let b=t.nextDataSourceId(),C={type:"ds.chain",options:{query:"| fieldsummary maxvals=10",extend:g}};t.addDataSource(b,C),a.fieldsummary=b}}),a},wi=(e,t)=>{var s;let{attr:{panelTitle:n=""}}=e,r=["form","input"].includes(e.name)?(s=F(e,"label"))!=null?s:e.attr.token:F(e,"title"),o=r||Z({elementType:t,plural:!1,localize:!1});return(n?`${n} - ${o}`:o).replaceAll(/[^\w- .]/g,"_").trim()},Ge=(e,t,{dsIdsWithSearchId:n,searchNameToIds:r},o)=>{Object.values(t).filter(a=>!n.has(a)).forEach(a=>{let s=wi(e,o);s in r?r[s].push(a):r[s]=[a]})},Pn=({searchNameToIds:e},t)=>{let n=0;return Object.entries(e).forEach(([r,o])=>{o.forEach((a,s)=>{n++,t.updateDataSource(a,m(p({},t.getDataSource(a)),{name:`${r} ${o.length>1?`${s+1} `:""}search`}))})}),n};var Xo=h(k(),1);var zn=h(Zr(),1);var ht=(e,t)=>{let n={},r={},o={},a=0;return Object.entries(e.attr).forEach(([s,l])=>{if(s&&s in t){if(a++,!t[s]){o[s]={line:e.line,value:l};return}r[s]=l}}),e.children.forEach(s=>{var c;let l=s,{name:i,val:u,line:d}=l;if(i&&i in t){if(a++,!t[i]){o[i]={line:d,value:u};return}let g=(c=n[i])!=null?c:[];n[i]=[...g,l]}}),{supportedConfigNodesMap:n,supportedAttributesMap:r,unsupportedConfigs:o,configCount:a}};var Un={default:!0,initialValue:!0,label:!0,prefix:!0,suffix:!0,token:!0,fieldForLabel:!0,fieldForValue:!0,searchWhenChanged:!1,depends:!1,rejects:!1,change:!1},Fn=m(p({},Un),{choice:!0}),Si=m(p({},Fn),{selectFirstChoice:!0,showClearButton:!1}),No=m(p({},Fn),{selectFirstChoice:!0}),Ei=No,Po=m(p({},Fn),{delimiter:!1,valuePrefix:!1,valueSuffix:!1,prefix:!1,suffix:!1}),Li=Po,Ri=(0,zn.default)(p({},Un),["fieldForLabel","fieldForValue"]),Vi=(0,zn.default)(p({},Un),["fieldForLabel","fieldForValue","prefix","suffix"]),zo={text:Ri,link:No,radio:Ei,dropdown:Si,checkbox:Li,multiselect:Po,time:Vi},Uo=(e,t,n)=>{let{supportedConfigNodesMap:r,supportedAttributesMap:o,unsupportedConfigs:a,configCount:s}=ht(e,n),l=Object.entries(a).map(([i,{line:u,value:d}])=>{let c={configName:i,configValue:d,line:u};return i==="depends"||i==="rejects"?new Y(m(p({},c),{configType:t})):i==="change"?new xe(m(p({},c),{inputType:t})):new Te(m(p({},c),{inputType:t}))});return{supportedConfigNodesMap:r,supportedAttributesMap:o,warnings:l,configCount:s}};var Mi={number:{prefix:""}},Wo=e=>e.name==="fieldset",Wn=e=>e.name==="input",Yo=e=>{let t=M(e,"default"),n=M(e,"initialValue");return t||n},_i=e=>e==="time"?"input.timerange":e==="link"||e==="radio"?"input.dropdown":e==="checkbox"?"input.multiselect":`input.${e}`,Ii=(e,{token:t})=>{let n=Yo(e);return{options:p(p(p({token:t},x(n,{defaultValue:n})),x(M(e,"prefix"),{prefix:M(e,"prefix")})),x(M(e,"suffix"),{suffix:M(e,"suffix")}))}},Di=(e,{token:t})=>{var o,a,s;let n={token:t||"global_time"},r=(o=e.default)==null?void 0:o[0];if(r){let l=(a=F(r,"earliest"))!=null?a:"-24h",i=(s=F(r,"latest"))!=null?s:"now";n.defaultValue=`${l},${i}`}return{options:n}},ki=({fieldForLabel:e,fieldForValue:t,staticItems:n})=>{let r=(0,Xo.unzip)(n.map(({label:o,value:a})=>[o,a]));return{context:{formattedConfig:Mi,formattedStatics:"> statics | formatByType(formattedConfig)",statics:r,label:`> primary | seriesByName("${e}") | renameSeries("label") | formatByType(formattedConfig)`,value:`> primary | seriesByName("${t}") | renameSeries("value") | formatByType(formattedConfig)`},items:"> frame(label, value) | prepend(formattedStatics) | objects()"}},jo=e=>{var f,b,C,T,O;let t,n=!1,r=Yo(e),o=(f=M(e,"selectFirstChoice"))!=null?f:"",s=((b=e.choice)!=null?b:[]).map(E=>({value:E.attr.value||E.val,label:E.val||E.attr.value||""}));if(r){let E=(C=s.find(({value:R})=>R===r))!=null?C:s.find(({label:R})=>R===r);t=(T=E==null?void 0:E.value)!=null?T:r}else I({value:o})&&(n=!0);let l=p(p({},x(n,{selectFirstSearchResult:n})),x(t,{defaultValue:t})),i=M(e,"fieldForValue"),u=(O=M(e,"fieldForLabel"))!=null?O:i,d=u&&i,{items:c,context:g}=d?ki({fieldForLabel:u,fieldForValue:i,staticItems:s}):{items:s,context:void 0};return{options:m(p({},l),{items:c}),context:g}},Xn=(e,t)=>{let{options:n,context:r}=jo(e,t);return{context:r,options:p(p(m(p({},n),{token:t.token}),x(M(e,"prefix"),{prefix:M(e,"prefix")})),x(M(e,"suffix"),{suffix:M(e,"suffix")}))}},Fo=(e,t)=>{let{options:n,context:r}=jo(e,t);return{context:r,options:m(p({},n),{token:t.token})}},bt={text:Ii,link:Xn,radio:Xn,dropdown:Xn,checkbox:Fo,multiselect:Fo,time:Di},Ho=({node:e})=>{var d,c,g;let{type:t}=e.attr,n=t&&t in bt?t:"text",{configCount:r,supportedAttributesMap:o,supportedConfigNodesMap:a,warnings:s}=Uo(e,n,zo[n]),{options:l,context:i}=(c=(d=bt[n])==null?void 0:d.call(bt,a,o))!=null?c:{token:e.attr.token},u=_i(n);return{definition:p({type:u,options:l,title:(g=M(a,"label"))!=null?g:e.attr.token},x(!!i,{context:i})),configCount:r,warnings:s}};var J=h(k(),1);var Zn=h(Zr(),1),Qn=h(k(),1),Ot=h(ri(),1);var Me=h(k(),1);var Bo=h(k(),1),Go=e=>{try{return(0,Bo.isEmpty)(e)?[]:JSON.parse(e)}catch(t){throw new Error(`not able to parse string: '${String(e)}' into array`)}};var Ai=/^\s*\[\s*((("*)(?:0x|0X|#)?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})(\3))+(?:\s*,\s*(("*)(?:0x|0X|#)?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})(\7))+)*\s*)\]\s*$/,$o="(((?:0x|0X|#)?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})))",A=(e="")=>{let t=new RegExp(`^${$o}$`);return t.exec(e)?`#${e.replace(t,"$3")}`:e},Ni=e=>{for(let t=0;t<e.length-1;t+=1)if(!(0,Me.isNumber)(e[t])||!(0,Me.isNumber)(e[t+1])||e[t]>e[t+1])return!1;return!0},$e=e=>{let t=[],n=new RegExp(`\\b${$o}\\b`,"g"),r=n.exec(e);for(;r!=null;)t.push(r[0]),r=n.exec(e);return t},ie=e=>e.map(A),le=(e="",t="[0, 30, 70, 100]",n=!0,r=!1,o=!1)=>{let a=[];e&&(Array.isArray(e)?a=ie(e):Ai.exec(e)?a=ie($e(e)):console.error(`Error: Unable to parse string '${e}'. Skipping conversion for range values and colors`));let s=[];if(Array.isArray(t))s=t;else try{s=Go(t).map(i=>parseFloat(i))}catch(i){return[]}if(!I({value:n})||(0,Me.isEmpty)(a)||!Ni(s))return[];let l=[...s.map((i,u)=>{let d=r?u-1:u;return o&&(d=d%a.length),p(p({},x(u>0,{from:s[u-1]})),x(!r||u>0,{to:s[u],value:a[d]||"#3C444D"}))})].filter(i=>!(0,Me.isEmpty)(i));if(!r){let i=s.length;o&&(i=i%a.length),l.push({from:s[s.length-1],value:a[i]||"#3C444D"})}return l},Yn=e=>{let t=e.childWithAttribute("name","charting.gaugeColors"),n=e.childWithAttribute("name","charting.chart.rangeValues");return t&&n?le(t.val,n.val,!0,!0):null};var yt=h(k(),1);var jn={};Br(jn,{CategoricalColorsError:()=>_e,GenericVizError:()=>ne,HtmlError:()=>re,NonSplunkSupportedCustomVizError:()=>ee,PrebuiltPanelNotFoundError:()=>te,TrellisError:()=>j,UnsupportedVizTypeError:()=>Q});var oe=h(K(),1);var Hn=class extends w{constructor(t){super(Hn.ERROR_TYPE,t)}toMessage(){return{error:on,fix:an}}getReportContent(){return{header:(0,oe._)("Visualization type"),message:Vo(this.logArgs.vizType),learnMoreLink:go()}}},Q=Hn;y(Q,"ERROR_TYPE","unsupportedVizType");var Bn=class extends w{constructor(t){super(Bn.ERROR_TYPE,t)}toMessage(){return{error:on,fix:an}}getReportContent(){return{header:(0,oe._)("Custom visualization"),message:Mo(this.logArgs.vizType),learnMoreLink:fo()}}},ee=Bn;y(ee,"ERROR_TYPE","nonSplunkSupportedCustomVizType");var Gn=class extends w{constructor(t){super(Gn.ERROR_TYPE,t)}toMessage(){return sn}getReportContent(){return{header:(0,oe._)("Trellis"),message:sn.error,learnMoreLink:_()}}},j=Gn;y(j,"ERROR_TYPE","unsupportedTrellis");var $n=class extends w{constructor(t){super($n.ERROR_TYPE,t)}toMessage(){return ln}getReportContent(){return{header:(0,oe._)("Categorical color"),message:ln.error,learnMoreLink:_()}}},_e=$n;y(_e,"ERROR_TYPE","categoricalColorsNotSupported");var Kn=class extends w{constructor(n){super(Kn.ERROR_TYPE,n);this.logArgs=n}toMessage(){return{error:pn(this.logArgs.ref)}}getReportContent(){return{header:(0,oe._)("Prebuilt panel"),message:pn(this.logArgs.ref),learnMoreLink:_()}}},te=Kn;y(te,"ERROR_TYPE","prebuiltPanelNotFound");var Jn=class extends w{constructor(n){super(Jn.ERROR_TYPE,n);this.logArgs=n}toMessage(){return{error:un(this.logArgs.vizType)}}getReportContent(){return{header:(0,oe._)("Visualization error"),message:un(this.logArgs.vizType),learnMoreLink:_()}}},ne=Jn;y(ne,"ERROR_TYPE","genericVizError");var qn=class extends w{constructor(n){super(qn.ERROR_TYPE,n);this.logArgs=n}toMessage(){return{error:cn}}getReportContent(n){let{count:r}=n;return{header:(0,oe._)("HTML content"),message:_o(r),learnMoreLink:_()}}},re=qn;y(re,"ERROR_TYPE","unsupportedHtml");var Pi={hideChrome:{dataType:"boolean",defaultValue:!1,configOwners:["dashboard"]},hideFilters:{dataType:"boolean",defaultValue:!1,configOwners:["dashboard"]},hideAppBar:{dataType:"boolean",defaultValue:!1,configOwners:["dashboard"]},hideEdit:{dataType:"boolean",defaultValue:!1,configOwners:["dashboard"]},hideSplunkBar:{dataType:"boolean",defaultValue:!1,configOwners:["dashboard"]},hideTitle:{dataType:"boolean",defaultValue:!1,configOwners:["dashboard"]},hideExport:{dataType:"boolean",defaultValue:!1,configOwners:["dashboard"]},interpolate:{dataType:"boolean",defaultValue:!1,configOwners:["colorPalette-list"]},searchWhenChanged:{dataType:"boolean",defaultValue:!1,configOwners:["base-input","time-input"]},selectFirstChoice:{dataType:"boolean",defaultValue:!1,configOwners:["dropdown-input","radio-input","link-input"]},"trellis.scales.shared":{dataType:"boolean",defaultValue:!0,configOwners:["element"]},useThousandSeparators:{dataType:"boolean",defaultValue:!0,configOwners:["single","format-number"]}},zi={count:{dataType:"integer",min:1,max:100,defaultValue:10,configOwners:["event","table"]},unitPosition:{dataType:"enum",values:["before","after"],defaultValue:"after",configOwners:["single","format-number"]}},Ko=m(p(p({},zi),Pi),{base:{dataType:"string",configOwners:["postprocess-search","searchPostProcess"]},label:{dataType:"string",configOwners:["dashboard","base-input","input-choice","time-input"]},description:{dataType:"string",configOwners:["dashboard","panel","postprocess-search","inline-search"]},tags:{dataType:"csv-string",configOwners:["dashboard"]},theme:{dataType:"enum",values:["dark","light"],configOwners:["dashboard"]},isVisible:{dataType:"boolean",defaultValue:!0,configOwners:["dashboard"]},isDashboard:{dataType:"boolean",defaultValue:!0,configOwners:["dashboard"]},cancelOnUnload:{dataType:"boolean",defaultValue:!0,configOwners:["dashboard"]},script:{dataType:"app-resources",configOwners:["dashboard"]},stylesheet:{dataType:"app-resources",configOwners:["dashboard"]},query:{dataType:"search-string",configOwners:["globalSearchTemplate","searchTemplate","searchString","postprocess-search","inline-search","populatingSearch"]},postprocess:{dataType:"search-string",configOwners:["searchPostProcess"]},name:{dataType:"string",configOwners:["searchName","populatingSavedSearch"]},earliest:{dataType:"string",configOwners:["globalEarliestTime","searchStringEarliestTime","searchNameEarliestTime","searchTemplateEarliestTime","inline-search","saved-search","populatingSearch"]},latest:{dataType:"string",configOwners:["globalLatestTime","searchStringLatestTime","searchTemplateLatestTime","searchNameLatestTime","inline-search","saved-search","populatingSearch"]},id:{dataType:"identifier",configOwners:["row","panelref","panel","element","html","base-search","base-input","time-input"]},grouping:{dataType:"string",configOwners:["row"]},depends:{parentObj:"tokenDependencies",dataType:"string",configOwners:["row","panelref","panel","element","html","base-search","base-input","time-input"]},rejects:{parentObj:"tokenDependencies",dataType:"string",configOwners:["row","panelref","panel","element","html","base-search","base-input","time-input"]},ref:{dataType:"string",allowEmpty:!1,configOwners:["panelref"]},app:{dataType:"string",configOwners:["panelref"]},title:{dataType:"string",configOwners:["panel","element"]},"link.visible":{dataType:"boolean",defaultValue:!0,configOwners:["element"]},"link.openSearch.visible":{dataType:"boolean",configOwners:["element"]},"link.openPivot.visible":{dataType:"boolean",configOwners:["element"]},"link.openSearch.text":{dataType:"string",configOwners:["element"]},"link.openSearch.viewTarget":{dataType:"string",configOwners:["element"]},"link.openSearch.search":{dataType:"string",configOwners:["element"]},"link.openSearch.searchEarliestTime":{dataType:"string",configOwners:["element"]},"link.openSearch.searchLatestTime":{dataType:"string",configOwners:["element"]},"link.exportResults.visible":{dataType:"boolean",configOwners:["element"]},"link.inspectSearch.visible":{dataType:"boolean",configOwners:["element"]},"link.stopSearch.visible":{dataType:"boolean",configOwners:["element"]},"refresh.time.visible":{dataType:"boolean",defaultValue:!0,configOwners:["element"]},"refresh.link.visible":{dataType:"boolean",defaultValue:!0,configOwners:["element"]},"refresh.auto.interval":{dataType:"integer",defaultValue:0,configOwners:["element"]},"refresh.display":{dataType:"enum",values:["preview","progressbar","none"],defaultValue:"progressbar",configOwners:["element"]},"trellis.enabled":{dataType:"boolean",defaultValue:"false",configOwners:["element","chart"]},"trellis.size":{dataType:"enum",values:["small","medium","large"],defaultValue:"medium",configOwners:["element","chart"]},"trellis.splitBy":{dataType:"string",configOwners:["element","chart","viz"]},displayview:{dataType:"string",configOwners:["element"]},"charting.chart":{dataType:"enum",values:["area","bar","bubble","column","fillerGauge","line","markerGauge","pie","radialGauge","scatter"],defaultValue:"column",configOwners:["chart"]},"charting.chart.stackMode":{dataType:"enum",values:["default","stacked","stacked100"],defaultValue:"default",configOwners:["chart"]},"charting.chart.nullValueMode":{dataType:"enum",values:["gaps","zero","connect"],defaultValue:"gaps",configOwners:["chart"]},"charting.chart.barSpacing":{dataType:"integer",configOwners:["chart"]},"charting.chart.columnSpacing":{dataType:"integer",configOwners:["chart"]},"charting.axisTitleX.text":{dataType:"string",configOwners:["chart"]},"charting.axisTitleY.text":{dataType:"string",configOwners:["chart"]},"charting.axisTitleY2.text":{dataType:"string",configOwners:["chart"]},"charting.axisTitleX.visibility":{dataType:"enum",values:["visible","collapsed"],defaultValue:"visible",configOwners:["chart"]},"charting.axisTitleY.visibility":{dataType:"enum",values:["visible","collapsed"],defaultValue:"visible",configOwners:["chart"]},"charting.axisTitleY2.visibility":{dataType:"enum",values:["visible","collapsed"],defaultValue:"visible",configOwners:["chart"]},"charting.seriesColors":{dataType:"string",configOwners:["chart"]},"charting.resultTruncationLimit":{dataType:"integer",configOwners:["chart"]},"charting.chart.resultTruncationLimit":{dataType:"integer",configOwners:["chart"]},"charting.layout.splitSeries":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.layout.splitSeries.allowIndependentYRanges":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.gaugeColors":{dataType:"string",configOwners:["chart"]},"charting.fieldColors":{dataType:"string",configOwners:["chart"]},"charting.lineDashStyle":{dataType:"enum",values:["solid","shortDash","shortDot","shortDashDot","shortDashDotDot","dot","dash","longDash","dashDot","longDashDot","longDashDotDot"],defaultValue:"solid",configOwners:["chart"]},"charting.fieldDashStyles":{dataType:"string",configOwners:["chart"]},"charting.lineWidth":{dataType:"float",min:1,defaultValue:2,configOwners:["chart"]},"charting.data.count":{dataType:"integer",configOwners:["chart"]},"charting.data.fieldListMode":{dataType:"enum",values:["show_hide","hide_show"],defaultValue:"hide_show",configOwners:["chart"]},"charting.data.fieldShowList":{dataType:"string",configOwners:["chart"]},"charting.data.fieldHideList":{dataType:"string",configOwners:["chart"]},"charting.axisY.abbreviation":{dataType:"enum",values:["none","auto"],defaultValue:"none",configOwners:["chart"]},"charting.axisY2.abbreviation":{dataType:"enum",values:["none","auto"],defaultValue:"none",configOwners:["chart"]},"charting.axisX.abbreviation":{dataType:"enum",values:["none","auto"],defaultValue:"none",configOwners:["chart"]},"charting.axisY2.enabled":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.axisY2.fields":{dataType:"string",configOwners:["chart"]},"charting.axisY.scale":{dataType:"enum",values:["linear","log"],defaultValue:"linear",configOwners:["chart"]},"charting.axisY2.scale":{dataType:"enum",values:["linear","log","inherit"],defaultValue:"linear",configOwners:["chart"]},"charting.axisY.minimumNumber":{dataType:"string",configOwners:["chart"]},"charting.axisY2.minimumNumber":{dataType:"string",configOwners:["chart"]},"charting.axisY.maximumNumber":{validate:`validate( isnum(value) OR match(value, "^(auto)$"), "Value of argument 'axisY.maximumNumber' must be either a number or 'auto'")`,dataType:"string",configOwners:["chart"]},"charting.axisY2.maximumNumber":{dataType:"string",configOwners:["chart"]},"charting.axisX.scale":{dataType:"enum",values:["linear","log"],defaultValue:"linear",configOwners:["chart"]},"charting.axisX.minimumNumber":{dataType:"string",configOwners:["chart"]},"charting.axisX.maximumNumber":{dataType:"string",configOwners:["chart"]},"charting.axisX.includeZero":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.axisY.includeZero":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.axisY2.includeZero":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.axisLabelsX.majorLabelVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsX.majorLabelStyle.rotation":{dataType:"enum",values:["-90","-45","0","45","90"],defaultValue:"0",configOwners:["chart"]},"charting.axisLabelsX.majorLabelStyle.overflowMode":{dataType:"enum",values:["ellipsisNone","ellipsisMiddle"],defaultValue:"ellipsisNone",configOwners:["chart"]},"charting.axisLabelsX.integerUnits":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.axisLabelsY.majorLabelVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsY2.majorLabelVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsY.majorUnit":{dataType:"string",configOwners:["chart"]},"charting.axisLabelsY2.majorUnit":{dataType:"string",configOwners:["chart"]},"charting.axisLabelsX.majorUnit":{dataType:"string",configOwners:["chart"]},"charting.axisLabelsX.axisVisibility":{dataType:"enum",values:["show","hide"],defaultValue:"hide",configOwners:["chart"]},"charting.axisLabelsY.axisVisibility":{dataType:"enum",values:["show","hide"],defaultValue:"hide",configOwners:["chart"]},"charting.axisLabelsY2.axisVisibility":{dataType:"enum",values:["show","hide"],defaultValue:"hide",configOwners:["chart"]},"charting.axisLabelsX.majorTickVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsY.majorTickVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsY2.majorTickVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsX.minorTickVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsY.minorTickVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsY2.minorTickVisibility":{dataType:"enum",values:["auto","show","hide"],defaultValue:"auto",configOwners:["chart"]},"charting.axisLabelsX.majorTickSize":{dataType:"integer",min:0,defaultValue:6,configOwners:["chart"]},"charting.axisLabelsY.majorTickSize":{dataType:"integer",min:0,defaultValue:6,configOwners:["chart"]},"charting.axisLabelsY2.majorTickSize":{dataType:"integer",min:0,defaultValue:6,configOwners:["chart"]},"charting.axisLabelsX.minorTickSize":{dataType:"integer",min:0,defaultValue:6,configOwners:["chart"]},"charting.axisLabelsY.minorTickSize":{dataType:"integer",min:0,defaultValue:6,configOwners:["chart"]},"charting.axisLabelsY2.minorTickSize":{dataType:"integer",min:0,defaultValue:6,configOwners:["chart"]},"charting.axisLabelsY.extendsAxisRange":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.axisLabelsY.integerUnits":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.axisLabelsY2.integerUnits":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.axisLabelsX.extendsAxisRange":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.gridLinesX.showMajorLines":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.gridLinesY.showMajorLines":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.gridLinesY2.showMajorLines":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.gridLinesX.showMinorLines":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.gridLinesY.showMinorLines":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.gridLinesY2.showMinorLines":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.legend.mode":{dataType:"enum",values:["standard","seriesCompare"],defaultValue:"standard",configOwners:["chart"]},"charting.legend.labels":{dataType:"string",configOwners:["chart"]},"charting.legend.placement":{dataType:"enum",values:["top","right","bottom","left","none"],defaultValue:"right",configOwners:["chart"]},"charting.legend.labelStyle.overflowMode":{dataType:"enum",values:["ellipsisEnd","ellipsisMiddle","ellipsisStart","ellipsisNone"],defaultValue:"ellipsisMiddle",configOwners:["chart"]},"charting.legend.masterLegend":{dataType:"string",configOwners:["chart"]},"charting.drilldown":{dataType:"enum",values:["all","none"],mapBool:{true:"all",false:"none"},defaultValue:"all",configOwners:["chart"]},"charting.chart.showLines":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.chart.style":{dataType:"enum",values:["minimal","shiny"],defaultValue:"shiny",configOwners:["chart"]},"charting.chart.rangeValues":{dataType:"string",configOwners:["chart"]},"charting.chart.showLabels":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.chart.showDataLabels":{dataType:"enum",values:["all","none","minmax"],defaultValue:"none",configOwners:["chart"]},"charting.chart.showValue":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.chart.showMarkers":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.chart.markerSize":{dataType:"integer",min:1,defaultValue:4,configOwners:["chart"]},"charting.chart.usePercentageRange":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.chart.usePercentageValue":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.chart.rangeStartAngle":{dataType:"integer",defaultValue:45,configOwners:["chart"]},"charting.chart.rangeArcAngle":{dataType:"integer",defaultValue:270,configOwners:["chart"]},"charting.chart.showRangeBand":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.chart.majorUnit":{dataType:"integer",configOwners:["chart"]},"charting.chart.showMajorTicks":{dataType:"boolean",defaultValue:!0,configOwners:["chart"]},"charting.chart.showMinorTicks":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.chart.orientation":{dataType:"enum",values:["x","y"],defaultValue:"y",configOwners:["chart"]},"charting.chart.seriesSpacing":{dataType:"integer",configOwners:["chart"]},"charting.chart.sliceCollapsingThreshold":{dataType:"float",min:0,max:1,defaultValue:.01,configOwners:["chart"]},"charting.chart.sliceCollapsingLabel":{dataType:"string",configOwners:["chart"]},"charting.chart.showPercent":{dataType:"boolean",defaultValue:!1,configOwners:["chart"]},"charting.chart.overlayFields":{dataType:"string",configOwners:["chart"]},"charting.areaFillOpacity":{dataType:"float",min:0,max:1,defaultValue:.75,configOwners:["chart"]},"charting.chart.bubbleMaximumSize":{dataType:"integer",min:1,defaultValue:50,configOwners:["chart"]},"charting.chart.bubbleMinimumSize":{dataType:"integer",min:1,defaultValue:10,configOwners:["chart"]},"charting.chart.bubbleSizeBy":{dataType:"enum",values:["area","diameter"],defaultValue:"area",configOwners:["chart"]},"charting.annotation.categoryColors":{dataType:"string",configOwners:["chart"]},"charting.backgroundColor":{dataType:"string",configOwners:["chart"]},"charting.foregroundColor":{dataType:"string",configOwners:["chart"]},"charting.fontColor":{dataType:"string",configOwners:["chart"]},rowNumbers:{dataType:"boolean",defaultValue:!1,configOwners:["table","event"]},overlay:{dataType:"enum",values:["none","heatmap","highlow"],defaultValue:"none",configOwners:["table"]},dataOverlayMode:{dataType:"enum",values:["none","heatmap","highlow"],defaultValue:"none",configOwners:["table"]},totalsRow:{dataType:"boolean",defaultValue:!1,configOwners:["table"]},percentagesRow:{dataType:"boolean",defaultValue:!1,configOwners:["table"]},showPager:{dataType:"boolean",defaultValue:!0,configOwners:["table","event"]},fields:{dataType:"fields-list",configOwners:["table","table","event","format"]},wrap:{dataType:"boolean",defaultValue:!0,configOwners:["table"]},"mapping.type":{dataType:"enum",values:["marker","choropleth"],defaultValue:"marker",configOwners:["map"]},"mapping.data.maxClusters":{dataType:"integer",min:0,defaultValue:100,configOwners:["map"]},"mapping.fieldColors":{dataType:"string",configOwners:["map"]},"mapping.seriesColors":{dataType:"string",configOwners:["map"]},"mapping.map.center":{dataType:"string",configOwners:["map"]},"mapping.map.zoom":{dataType:"integer",min:0,defaultValue:2,configOwners:["map"]},"mapping.map.scrollZoom":{dataType:"boolean",defaultValue:!1,configOwners:["map"]},"mapping.map.panning":{dataType:"boolean",defaultValue:!0,configOwners:["map"]},"mapping.map.fitBounds":{dataType:"string",configOwners:["map"]},"mapping.showTiles":{dataType:"boolean",defaultValue:!0,configOwners:["map"]},"mapping.tileLayer.tileOpacity":{dataType:"float",min:0,max:1,defaultValue:1,configOwners:["map"]},"mapping.tileLayer.url":{dataType:"string",configOwners:["map"]},"mapping.tileLayer.subdomains":{dataType:"string",configOwners:["map"]},"mapping.tileLayer.minZoom":{dataType:"integer",min:0,defaultValue:0,configOwners:["map"]},"mapping.tileLayer.maxZoom":{dataType:"integer",min:0,defaultValue:7,configOwners:["map"]},"mapping.tileLayer.invertY":{dataType:"boolean",defaultValue:!1,configOwners:["map"]},"mapping.tileLayer.attribution":{dataType:"string",configOwners:["map"]},"mapping.choroplethLayer.colorMode":{dataType:"enum",values:["auto","sequential","divergent","categorical"],defaultValue:"auto",configOwners:["map"]},"mapping.choroplethLayer.maximumColor":{dataType:"string",defaultValue:"0xDB5800",configOwners:["map"]},"mapping.choroplethLayer.minimumColor":{dataType:"string",defaultValue:"0x2F25BA",configOwners:["map"]},"mapping.choroplethLayer.colorBins":{dataType:"integer",min:3,max:9,defaultValue:5,configOwners:["map"]},"mapping.choroplethLayer.neutralPoint":{dataType:"float",defaultValue:0,configOwners:["map"]},"mapping.choroplethLayer.shapeOpacity":{dataType:"float",min:0,max:1,defaultValue:.75,configOwners:["map"]},"mapping.choroplethLayer.showBorder":{dataType:"boolean",defaultValue:!0,configOwners:["map"]},"mapping.markerLayer.markerOpacity":{dataType:"float",min:0,max:1,defaultValue:.8,configOwners:["map"]},"mapping.markerLayer.markerMinSize":{dataType:"integer",min:1,defaultValue:10,configOwners:["map"]},"mapping.markerLayer.markerMaxSize":{dataType:"integer",min:1,defaultValue:50,configOwners:["map"]},"mapping.legend.placement":{dataType:"enum",values:["bottomright","none"],configOwners:["map"]},"mapping.drilldown":{dataType:"enum",values:["all","none"],mapBool:{true:"all",false:"none"},defaultValue:"all",configOwners:["map"]},additionalClass:{dataType:"string",configOwners:["single"]},linkView:{dataType:"string",configOwners:["single"]},field:{dataType:"string",configOwners:["single","link","format"]},linkFields:{dataType:"string",configOwners:["single"]},classField:{dataType:"string",configOwners:["single"]},unit:{dataType:"string",configOwners:["single","format-number"]},beforeLabel:{dataType:"string",configOwners:["single"]},afterLabel:{dataType:"string",configOwners:["single"]},underLabel:{dataType:"string",configOwners:["single"]},colorMode:{dataType:"enum",values:["block","none"],defaultValue:"none",configOwners:["single"]},rangeValues:{dataType:"string",configOwners:["single"]},rangeColors:{dataType:"string",configOwners:["single"]},trendInterval:{dataType:"string",configOwners:["single"]},trendColorInterpretation:{dataType:"enum",values:["standard","inverse"],defaultValue:"standard",configOwners:["single"]},showTrendIndicator:{dataType:"boolean",defaultValue:!0,configOwners:["single"]},showSparkline:{dataType:"boolean",defaultValue:!0,configOwners:["single"]},trendDisplayMode:{dataType:"enum",values:["percent","absolute"],defaultValue:"absolute",configOwners:["single"]},colorBy:{dataType:"enum",values:["value","trend"],defaultValue:"value",configOwners:["single"]},useColors:{dataType:"boolean",defaultValue:!1,configOwners:["single"]},numberPrecision:{dataType:"enum",values:["0","0.0","0.00","0.000","0.0000"],defaultValue:"0",configOwners:["single"]},linkSearch:{dataType:"search-string",configOwners:["single"]},entityName:{dataType:"enum",values:["events","results"],defaultValue:"events",configOwners:["event"]},maxLines:{dataType:"integer",min:0,defaultValue:5,configOwners:["event"]},segmentation:{dataType:"enum",values:["none","inner","outer","full"],configOwners:["event"]},softWrap:{dataType:"boolean",defaultValue:!0,configOwners:["event"]},"raw.drilldown":{dataType:"enum",values:["full","inner","outer","none"],mapBool:{false:"none",true:"full"},defaultValue:"full",configOwners:["event"]},"list.drilldown":{dataType:"enum",values:["full","inner","outer","none"],mapBool:{false:"none",true:"full"},defaultValue:"full",configOwners:["event"]},"table.drilldown":{dataType:"enum",values:["1","0"],mapBool:{true:"1",false:"0",all:"1",none:"0"},defaultValue:"all",configOwners:["event"]},"list.wrap":{dataType:"boolean",defaultValue:!0,configOwners:["event"]},"table.wrap":{dataType:"boolean",defaultValue:!0,configOwners:["event"]},"table.sortColumn":{dataType:"string",configOwners:["event"]},"table.sortDirection":{dataType:"enum",values:["asc","desc"],defaultValue:"asc",configOwners:["event"]},serverSideInclude:{dataType:"app-resource",configOwners:["html"]},useTokens:{dataType:"boolean",defaultValue:!0,configOwners:["html"]},encoded:{dataType:"boolean",defaultValue:!1,configOwners:["html"]},content:{raw:!0,dataType:"html",configOwners:["html"]},sampleRatio:{dataType:"integer",min:1,configOwners:["inline-search"]},refreshType:{dataType:"enum",values:["interval","delay"],defaultValue:"delay",configOwners:["inline-search","saved-search"]},cache:{dataType:"string",defaultValue:"scheduled",configOwners:["saved-search"]},target:{dataType:"string",configOwners:["drilldown","link"]},value:{dataType:"string",configOwners:["condition","field-condition","value-condition","label-condition","eval-condition","set","link","eval","input-choice"]},attr:{dataType:"string",defaultValue:"field",configOwners:["condition"]},token:{dataType:"token-name",configOwners:["set","unset","eval","base-input","time-input"]},prefix:{dataType:"string",trim:!1,configOwners:["set"]},suffix:{dataType:"string",trim:!1,configOwners:["set"]},delimiter:{dataType:"string",trim:!1,configOwners:["set"]},submit:{dataType:"boolean",defaultValue:!0,configOwners:["set","unset","eval"]},series:{dataType:"string",configOwners:["link"]},scale:{dataType:"enum",values:["threshold","sharedCategory","category","linear","log","minMidMax"],configOwners:["format-color"]},"scale.categories":{dataType:"fields-list",configOwners:["format-color"]},"scale.maxType":{dataType:"string",configOwners:["format-color"]},"scale.maxValue":{dataType:"string",configOwners:["format-color"]},"scale.midType":{dataType:"string",configOwners:["format-color"]},"scale.midValue":{dataType:"string",configOwners:["format-color"]},"scale.minValue":{dataType:"string",configOwners:["format-color"]},"scale.minType":{dataType:"string",configOwners:["format-color"]},"scale.thresholds":{dataType:"fields-list",configOwners:["format-color"]},colorPalette:{dataType:"enum",values:["expression","list","map","minMidMax","sharedList"],configOwners:["format-color"]},"colorPalette.rule":{dataType:"string",configOwners:["format-color"]},"colorPalette.colors":{dataType:"string",configOwners:["format-color"]},"colorPalette.interpolate":{dataType:"boolean",defaultValue:!1,configOwners:["format-color"]},"colorPalette.minColor":{dataType:"string",configOwners:["format-color"]},"colorPalette.midColor":{dataType:"string",configOwners:["format-color"]},"colorPalette.maxColor":{dataType:"string",configOwners:["format-color"]},maxType:{dataType:"enum",values:["percent","number","percentile"],configOwners:["scale-minMidMax"]},maxValue:{dataType:"string",configOwners:["scale-minMidMax"]},midType:{dataType:"enum",values:["percent","number","percentile"],configOwners:["scale-minMidMax"]},midValue:{dataType:"string",configOwners:["scale-minMidMax"]},minType:{dataType:"enum",values:["percent","number","percentile"],configOwners:["scale-minMidMax"]},minValue:{dataType:"string",configOwners:["scale-minMidMax"]},categories:{dataType:"fields-list",configOwners:["scale-category"]},thresholds:{dataType:"fields-list",configOwners:["scale-threshold"]},rule:{dataType:"string",configOwners:["colorPalette-expression"]},colors:{dataType:"string",configOwners:["colorPalette-list","colorPalette-map"]},maxColor:{dataType:"string",configOwners:["colorPalette-minMidMax"]},midColor:{dataType:"string",configOwners:["colorPalette-minMidMax"]},minColor:{dataType:"string",configOwners:["colorPalette-minMidMax"]},precision:{dataType:"integer",min:0,max:20,configOwners:["format-number"]},tooltipPrefix:{dataType:"boolean",configOwners:["format-sparkline"]},tooltipSuffix:{dataType:"boolean",configOwners:["format-sparkline"]},colorMap:{dataType:"color-map",configOwners:["format-sparkline"]},autoRun:{dataType:"boolean",defaultValue:!1,configOwners:["fieldset"]},submitButton:{dataType:"boolean",defaultValue:!0,configOwners:["fieldset"]},labelField:{dataType:"string",configOwners:["input-search"]},valueField:{dataType:"string",configOwners:["input-search"]},showClearButton:{dataType:"boolean",defaultValue:!0,configOwners:["dropdown-input"]},allowCustomValues:{dataType:"boolean",defaultValue:!1,configOwners:["dropdown-input","multiselect-input"]},default:{dataType:"csv-string",configOwners:["multiselect-input","checkbox-input"]},initialValue:{dataType:"csv-string",configOwners:["multiselect-input","checkbox-input"]},earliest_time:{dataType:"string",configOwners:["default-time-value","default-time-value"]},latest_time:{dataType:"string",configOwners:["default-time-value","default-time-value"]},preset:{dataType:"string",configOwners:["default-time-preset"]}});var Jo={"link.openSearch.viewTarget":!1,"link.openSearch.search":!1,"link.openSearch.searchEarliestTime":!1,"link.openSearch.searchLatestTime":!1,"refresh.display":!0,"refresh.time.visible":!0,"link.visible":!1,"link.openSearch.visible":!1,"link.openPivot.visible":!1,"link.openSearch.text":!1,"link.exportResults.visible":!1,"link.inspectSearch.visible":!1,"link.stopSearch.visible":!1,"refresh.link.visible":!1,"refresh.auto.interval":!1,displayview:!1},Ke={"trellis.enabled":!1,"trellis.size":!1,"trellis.splitBy":!1,"trellis.scales.shared":!1},vt={"trellis.enabled":!0,"trellis.size":!0,"trellis.splitBy":!0},Ui=e=>{var n;if(!e||typeof e!="string")return null;let t=e.split(".");return t.length>1?(n=t[1])==null?void 0:n.length:0},Fi={numberPrecision:Ui},Xi=(e,t)=>{let n=Fi[e];return n?n(t):null};var Wi=(e,{defaultValue:t})=>{let n=t!=null?t:null;return I({value:e,defaultValue:n})},Ie=(e="",t="")=>{try{let n=Xi(t,e);if(n!==null)return n;let r=e.trim(),o=Ko[t.trim()];return(o==null?void 0:o.dataType)==="boolean"?Wi(r,o):(r==="null"||r==="true"||r==="false"||!Number.isNaN(Number(r)))&&t!=="chart.overlayFields"?JSON.parse(r):r}catch(n){return e}},S=({node:e,parseFunc:t=null,additionalOptions:n={},xmlToUDFValidOptionsMap:r=null})=>{let o={},a={},s=p(p({},r),Jo),l=0;for(let i of e.childrenNamed("option")){let u=i.attr.name;if(!!u){if(r){if(s[u]===void 0)continue;if(l++,s[u]===!1){a[u]={line:i.line,value:i.val};continue}}else l++;u in Jo||(typeof t=="function"?o=t(o,i):o[u]=Ie(i.val,u))}}return{options:p(p({},o),n),unsupportedOptions:a,validOptionsCount:l}},ae=e=>p({type:"viz.error",options:{}},x(!(0,yt.isEmpty)(e),{dataSources:e})),D=e=>{let t=[];for(let[n,{value:r,line:o}]of Object.entries(e))t.push(new ve({optionName:n,optionValue:r,line:o}));return t},Ct=e=>{var a;let t=[],n=p({},e),{value:r,line:o}=(a=e["trellis.enabled"])!=null?a:{};if(I({value:r}))t.push(new j({line:o}));else for(let s of Object.keys(Ke))delete n[s];return{conversionErrors:t,unsupportedOptions:n}},pe=(e,t)=>{let{optionsSchema:n}=t,r=p({},e),o={};return Object.keys(r).forEach(a=>{a in n||(o[a]=r[a],delete r[a])}),{options:r,droppedOptions:o}},z=({xmlToUDFKeyMap:e={},xmlToUDFValueMap:t={},prefix:n=""})=>(r,o)=>{let a=o.attr.name,s=n?a.replace(n,""):a,l=e[s]||s,i=(0,yt.get)(t[s],[o.val.trim()]);return m(p({},r),{[l]:i!=null?i:Ie(o.val,a)})};var De=h(k(),1);var Tt=e=>(0,De.has)(e,"annotation"),xt=e=>{let t,n=(0,De.get)(e,"annotation.categoryColors");if(n)try{let r=JSON.parse(n),o=(0,De.mapValues)(r,A),a=Object.keys(o).map(s=>({match:s,value:o[s]}));t={field:"annotation.annotation_category",format:{type:"matchvalue",defaultValue:"#000000",matches:a}}}catch(r){t="annotation.annotation_color"}else t="annotation.annotation_color";return{annotationX:"annotation._time",annotationLabel:"annotation.annotation_label",annotationColor:t}};var er=m(p({},Ke),{"charting.backgroundColor":!0,"charting.drilldown":!0,"charting.fieldColors":!0,"charting.legend.labels":!0,"charting.legend.labelStyle.overflowMode":!0,"charting.seriesColors":!0,height:!0,"charting.fieldDashStyles":!1,"charting.data.count":!1,"charting.data.fieldListMode":!1,"charting.data.fieldShowList":!1,"charting.data.fieldHideList":!1,"charting.fontColor":!1,"charting.foregroundColor":!1}),Zo=m(p({},er),{"charting.axisLabelsX.axisVisibility":!0,"charting.axisLabelsY.axisVisibility":!0,"charting.axisLabelsX.extendsAxisRange":!0,"charting.axisLabelsY.extendsAxisRange":!0,"charting.axisLabelsX.integerUnits":!0,"charting.axisLabelsX.majorLabelStyle.rotation":!0,"charting.axisLabelsX.majorLabelVisibility":!0,"charting.axisLabelsY.majorLabelVisibility":!0,"charting.axisLabelsX.majorTickSize":!0,"charting.axisLabelsY.majorTickSize":!0,"charting.axisLabelsX.minorTickSize":!0,"charting.axisLabelsY.minorTickSize":!0,"charting.axisLabelsX.majorTickVisibility":!0,"charting.axisLabelsY.majorTickVisibility":!0,"charting.axisLabelsX.majorUnit":!0,"charting.axisLabelsY.majorUnit":!0,"charting.axisLabelsX.minorTickVisibility":!0,"charting.axisLabelsY.minorTickVisibility":!0,"charting.axisX.abbreviation":!0,"charting.axisY.abbreviation":!0,"charting.axisX.includeZero":!0,"charting.axisY.includeZero":!0,"charting.axisX.maximumNumber":!0,"charting.axisY.maximumNumber":!0,"charting.axisX.minimumNumber":!0,"charting.axisY.minimumNumber":!0,"charting.axisX.scale":!0,"charting.axisY.scale":!0,"charting.axisTitleX.text":!0,"charting.axisTitleY.text":!0,"charting.axisTitleX.visibility":!0,"charting.axisTitleY.visibility":!0,"charting.chart.resultTruncationLimit":!0,"charting.gridLinesY.showMajorLines":!0,"charting.gridLinesX.showMinorLines":!0,"charting.gridLinesY.showMinorLines":!0,"charting.layout.splitSeries":!0,"charting.legend.placement":!0,"charting.axisLabelsX.majorLabelStyle.overFlowMode":!1,"charting.legend.masterLegend":!1}),wt=m(p({},Zo),{"charting.axisLabelsY2.axisVisibility":!0,"charting.axisLabelsY2.majorLabelVisibility":!0,"charting.axisLabelsY2.majorTickVisibility":!0,"charting.axisLabelsY2.majorTickSize":!0,"charting.axisLabelsY2.majorUnit":!0,"charting.axisLabelsY2.minorTickSize":!0,"charting.axisLabelsY2.minorTickVisibility":!0,"charting.axisTitleY2.text":!0,"charting.axisTitleY2.visibility":!0,"charting.axisY2.abbreviation":!0,"charting.gridLinesX.showMajorLines":!0,"charting.gridLinesY2.showMajorLines":!0,"charting.gridLinesY2.showMinorLines":!0,"charting.layout.splitSeries.allowIndependentYRanges":!0}),Yi="charting.",ue=z({prefix:Yi}),ji=m(p({},wt),{"charting.annotation.categoryColors":!0,"charting.areaFillOpacity":!0,"charting.axisLabelsY2.integerUnits":!0,"charting.axisY2.enabled":!0,"charting.axisY2.fields":!0,"charting.axisY2.includeZero":!0,"charting.axisY2.maximumNumber":!0,"charting.axisY2.minimumNumber":!0,"charting.axisY2.scale":!0,"charting.chart.overlayFields":!0,"charting.chart.showDataLabels":!0,"charting.chart.nullValueMode":!0,"charting.chart.showLines":!0,"charting.chart.stackMode":!0,"charting.legend.mode":!0,"charting.axisLabelsX.integerUnits":!1}),Hi=(e,t)=>{let{options:n,unsupportedOptions:r,validOptionsCount:o}=S({node:e,parseFunc:ue,xmlToUDFValidOptionsMap:ji}),a={};return Tt(t)&&(a=xt(n)),{options:n,unsupportedOptions:r,encoding:p({},a),validOptionsCount:o}},Bi=(0,Zn.default)(m(p({},wt),{"charting.axisLabelsY2.integerUnits":!0,"charting.chart.barSpacing":!0,"charting.chart.seriesSpacing":!0,"charting.chart.showDataLabels":!0,"charting.chart.stackMode":!0,"charting.axisLabelsY.integerUnits":!1,"charting.axisLabelsX.integerUnits":!1}),["charting.axisLabelsX.majorLabelStyle.overFlowMode","charting.axisLabelsX.majorLabelStyle.rotation"]),Gi=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,parseFunc:ue,xmlToUDFValidOptionsMap:Bi});return{options:t,unsupportedOptions:n,validOptionsCount:r}},$i=m(p({},wt),{"charting.annotation.categoryColors":!0,"charting.axisLabelsY2.integerUnits":!0,"charting.axisY2.enabled":!0,"charting.axisY2.fields":!0,"charting.axisY2.includeZero":!0,"charting.axisY2.maximumNumber":!0,"charting.axisY2.minimumNumber":!0,"charting.axisY2.scale":!0,"charting.chart.columnSpacing":!0,"charting.chart.overlayFields":!0,"charting.chart.seriesSpacing":!0,"charting.chart.showDataLabels":!0,"charting.chart.stackMode":!0,"charting.axisLabelsX.integerUnits":!1}),Ki=(e,t)=>{let{options:n,unsupportedOptions:r,validOptionsCount:o}=S({node:e,parseFunc:ue,xmlToUDFValidOptionsMap:$i}),a={};return Tt(t)&&(a=xt(n)),{options:n,unsupportedOptions:r,encoding:p({},a),validOptionsCount:o}},Ji=m(p({},wt),{"charting.fieldDashStyles":!0,"charting.annotation.categoryColors":!0,"charting.axisLabelsY2.integerUnits":!0,"charting.axisY2.enabled":!0,"charting.axisY2.fields":!0,"charting.axisY2.includeZero":!0,"charting.axisY2.maximumNumber":!0,"charting.axisY2.minimumNumber":!0,"charting.axisY2.scale":!0,"charting.chart.nullValueMode":!0,"charting.chart.overlayFields":!0,"charting.chart.showDataLabels":!0,"charting.chart.showMarkers":!0,"charting.chart.stackMode":!0,"charting.legend.mode":!0,"charting.lineDashStyle":!0,"charting.lineWidth":!0,"charting.axisLabelsY.integerUnits":!1,"charting.axisLabelsX.integerUnits":!1}),qi=(e,t)=>{let{options:n,unsupportedOptions:r,validOptionsCount:o}=S({node:e,parseFunc:ue,xmlToUDFValidOptionsMap:Ji}),a={};return Tt(t)&&(a=xt(n)),{options:n,unsupportedOptions:r,encoding:p({},a),validOptionsCount:o}},Qo=(0,Zn.default)(Zo,["charting.data.fieldListMode","charting.data.fieldShowList","charting.data.fieldHideList","charting.legend.labels"]),Zi=m(p({},Qo),{"charting.chart.bubbleMaximumSize":!0,"charting.chart.bubbleMinimumSize":!0,"charting.chart.bubbleSizeBy":!0}),Qi=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,parseFunc:ue,xmlToUDFValidOptionsMap:Zi});return{options:t,unsupportedOptions:n,encoding:{x:"primary[1]",y:"primary[2]",size:"primary[3]",category:"primary[0]"},validOptionsCount:r}},el=m(p({},Qo),{"charting.chart.markerSize":!0}),tl=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,parseFunc:ue,xmlToUDFValidOptionsMap:el});return{options:t,unsupportedOptions:n,encoding:{x:"primary[1]",y:"primary[2]",category:"primary[0]"},validOptionsCount:r}},nl=m(p({},er),{"charting.chart.sliceCollapsingLabel":!0,"charting.chart.sliceCollapsingThreshold":!0,"charting.chart.showLabels":!0,"charting.chart.showPercent":!0}),rl=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,parseFunc:ue,xmlToUDFValidOptionsMap:nl});return{options:t,unsupportedOptions:n,validOptionsCount:r}},ea=m(p({},er),{"charting.chart.majorUnit":!0,"charting.chart.orientation":!0,"charting.chart.rangeValues":!0,"charting.chart.showLabels":!0,"charting.chart.showValue":!0,"charting.chart.usePercentageRange":!0,"charting.chart.usePercentageValue":!0,"charting.gaugeColors":!0,"charting.chart.showMajorTicks":!1,"charting.chart.showMinorTicks":!1,"charting.chart.style":!1,"charting.seriesColors":!1,"charting.fieldColors":!1,"charting.legend.labels":!1,"charting.legend.labelStyle.overflowMode":!1}),ol={orientation:{x:"horizontal",y:"vertical"}},al="charting.chart.",ta=z({xmlToUDFValueMap:ol,prefix:al}),sl=p({},ea),il=e=>{let t=Yn(e),n=(0,Qn.isEmpty)(t)?{}:{ranges:t},{options:r,unsupportedOptions:o,validOptionsCount:a}=S({node:e,parseFunc:ta,additionalOptions:n,xmlToUDFValidOptionsMap:sl});return{options:r,unsupportedOptions:o,validOptionsCount:a}},ll=m(p({},ea),{"charting.chart.showRangeBand":!1}),pl=e=>{let t=Yn(e),n=(0,Qn.isEmpty)(t)?{}:{ranges:t},{options:r,unsupportedOptions:o,validOptionsCount:a}=S({node:e,parseFunc:ta,additionalOptions:n,xmlToUDFValidOptionsMap:ll});return{options:r,unsupportedOptions:o,validOptionsCount:a}},qo={area:Hi,bar:Gi,bubble:Qi,column:Ki,fillergauge:il,line:qi,markergauge:pl,pie:rl,scatter:tl},ul=new Set(["area","bar","bubble","column","fillergauge","line","markergauge","pie","radialgauge","scatter"]),tr=e=>{var n;let t=(n=e.childWithAttribute("name","charting.chart"))==null?void 0:n.val.toLowerCase().trim();return t&&ul.has(t)?t:"column"},na=(e,t)=>{let n=tr(e);if(!(n in qo))return ae();let{options:r,unsupportedOptions:o,encoding:a={},validOptionsCount:s}=qo[n](e,t),{conversionErrors:l,unsupportedOptions:i}=Ct(o),u=`viz.${n}`,d=`splunk.${n}`,c=D(i),g={type:u,options:r,encoding:a};return(0,Ot.canMigrate)({fromType:g.type,toType:d})&&(g=(0,Ot.migrate)({definition:g,toType:d}),g.options||(g.options={})),{type:d,options:g.options,context:g.context,conversionErrors:l,warnings:c,validOptionsCount:s}};var aa=h(ii(),1);var cl="#ffffff",dl="#db5800",ra=e=>{var n;let t=(n=e["mapping.choroplethLayer.maximumColor"])!=null?n:dl;return[cl,t]};var St=["#7b56db","#cb2196","#008c80","#9d6300","#f6540b","#ff969e","#99b100","#f4b649","#ae8cff","#8cbcff","#813193","#0051b5","#009ceb","#00cdaf","#00490a","#dd9900","#465d00","#ff677b","#ff6ace","#00689d"];var sa="raster",gl={"mapping.map.center":"center","mapping.map.zoom":"zoom","mapping.tileLayer.url":"baseLayerTileServer"},oa={"mapping.seriesColors":e=>ie($e(e)),"mapping.map.center":e=>JSON.parse(e.replace("(","[").replace(")","]")),"mapping.choroplethLayer.maximumColor":e=>A(e)},ia=(e,t)=>{var o;let n=t.attr.name,r=p({},e);try{let a=(o=gl[n])!=null?o:n,s=oa[n]?oa[n](t.val):t.val;typeof s=="string"?r[a]=Ie(s,n):r[a]=s}catch(a){}return r},la={height:!0,drilldown:!0,"mapping.map.center":!0,"mapping.map.zoom":!0,"mapping.tileLayer.url":!0,"mapping.legend.placement":!1,"mapping.map.scrollZoom":!1,"mapping.map.panning":!1,"mapping.map.fitBounds":!1,"mapping.showTiles":!1,"mapping.tileLayer.tileOpacity":!1,"mapping.tileLayer.subdomains":!1,"mapping.tileLayer.minZoom":!1,"mapping.tileLayer.maxZoom":!1,"mapping.tileLayer.invertY":!1,"mapping.tileLayer.attribution":!1},fl=m(p(p({},la),Ke),{"mapping.choroplethLayer.maximumColor":!0,"mapping.choroplethLayer.colorMode":!0,"mapping.choroplethLayer.colorBins":!1,"mapping.choroplethLayer.minimumColor":!1,"mapping.choroplethLayer.neutralPoint":!1,"mapping.choroplethLayer.shapeOpacity":!1,"mapping.choroplethLayer.showBorder":!1,"mapping.fieldColors":!1,"mapping.seriesColors":!1}),ml=e=>{let n={dataColorsGradientConfig:{colors:ra(e)}};return{options:m(p({},e),{layers:[{type:"choropleth",dataColors:"> areaValues | gradient(dataColorsGradientConfig)"}]}),context:n}},hl=e=>{var u;let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,parseFunc:ia,xmlToUDFValidOptionsMap:fl});t.baseLayerTileServer&&(t.baseLayerTileServerType=sa);let{options:o,context:a}=ml(t),{conversionErrors:s,unsupportedOptions:l}=Ct(n),i=[];if("mapping.choroplethLayer.colorMode"in t){let d=t["mapping.choroplethLayer.colorMode"],c=(u=e.childWithAttribute("name","mapping.choroplethLayer.colorMode"))==null?void 0:u.line;d==="categorical"?s.push(new _e({line:c})):d==="divergent"&&i.push(new Ce({line:c}))}return{options:o,context:a,unsupportedOptions:l,conversionErrors:s,warnings:i,validOptionsCount:r}},bl=m(p({},la),{"mapping.seriesColors":!0,"mapping.fieldColors":!1,"mapping.markerLayer.markerOpacity":!1,"mapping.markerLayer.markerMinSize":!1,"mapping.markerLayer.markerMaxSize":!1,"mapping.data.maxClusters":!1}),yl=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,parseFunc:ia,xmlToUDFValidOptionsMap:bl});t.baseLayerTileServer&&(t.baseLayerTileServerType=sa);let o=t["mapping.seriesColors"],a=Array.isArray(o)&&o.length>0?o:St;return{options:m(p({},t),{layers:[{type:"bubble",latitude:"> primary | seriesByName('latitude')",longitude:"> primary | seriesByName('longitude')",bubbleSize:"> primary | frameWithoutSeriesNames('_geo_bounds_east', '_geo_bounds_west', '_geo_bounds_north', '_geo_bounds_south', 'latitude', 'longitude') | frameBySeriesTypes('number')",seriesColors:a}]}),unsupportedOptions:n,validOptionsCount:r}},vl={choropleth:hl,cluster:yl},nr=e=>{var r;return((r=e.childrenNamed("option").find(o=>o.attr.name==="mapping.type"))==null?void 0:r.val.toLowerCase().trim())==="choropleth"?"choropleth":"cluster"},pa=e=>{let t=nr(e),{options:n,unsupportedOptions:r,context:o={},warnings:a=[],conversionErrors:s=[],validOptionsCount:l}=vl[t](e);a.push(...D(r));let{options:i}=pe(n,aa.config);return{type:"splunk.map",options:i,context:o,conversionErrors:s,warnings:a,validOptionsCount:l}};var ua=h(k(),1),ca=h(si(),1);var Cl=["small","medium","large"],Tl="medium",xl={small:190,medium:280,large:450},Ol=16/9,wl=400,Sl="_aggregation",El="aggregations",Et=(e,t=xl)=>{var i;if(!I({value:e["trellis.enabled"]}))return{};let r=(i=e.height)!=null?i:wl,o=Cl.includes(e["trellis.size"])?e["trellis.size"]:Tl,a=t[o],s=Math.round(a/Ol),l=e["trellis.splitBy"]===Sl?El:e["trellis.splitBy"];return m(p({},x(!!l,{trellisSplitBy:l})),{height:r,splitByLayout:"trellis",trellisMinColumnWidth:a,trellisRowHeight:s})};var Ll=m(p({},vt),{colorBy:!0,colorMode:!0,drilldown:!0,field:!0,height:!0,numberPrecision:!0,rangeColors:!0,rangeValues:!0,showSparkline:!0,showTrendIndicator:!0,trendColorInterpretation:!0,trendDisplayMode:!0,underLabel:!0,unit:!0,unitPosition:!0,useColors:!0,useThousandSeparators:!0,additionalClass:!1,afterLabel:!1,beforeLabel:!1,classField:!1,linkFields:!1,linkSearch:!1,linkView:!1,trendInterval:!1}),Rl={showSparkline:"sparklineDisplay",sparklinePosition:"sparklineDisplay",showTrendIndicator:"trendDisplay",trendDisplayMode:"trendDisplay",useThousandSeparators:"shouldUseThousandSeparators"},Vl={showSparkline:{0:"off",false:"off",off:"off",no:"off",1:"below",true:"below",on:"below",yes:"below"},showTrendIndicator:{0:"off",false:"off",off:"off",no:"off",1:"absolute",true:"absolute",on:"absolute",yes:"absolute"}},Ml={small:120,medium:160,large:300},_l=e=>[{to:0,value:e?"#1C6B2D":"#9E2520"},{from:0,value:e?"#9E2520":"#1C6B2D"}],Il=z({xmlToUDFKeyMap:Rl,xmlToUDFValueMap:Vl}),Dl=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,parseFunc:Il,xmlToUDFValidOptionsMap:Ll});t.field&&(t.sparklineValues=`> primary | seriesByName('${t.field}')`,t.majorValue="> sparklineValues | lastPoint()",t.trendValue="> sparklineValues | delta(-2)");let o=D(n);return{options:t,warnings:o,validOptionsCount:r}},kl=e=>{let t=p({},e),n=e.colorBy==="trend"?"trendValue":"majorValue",r=e.trendColorInterpretation==="inverse",o=n==="trendValue"?_l(r):le(e.rangeColors,e.rangeValues,e.useColors).reverse();if((0,ua.isEmpty)(o))return{options:t,context:{}};let a={convertedColorRange:[...o]},s=`> ${n} | rangeValue(convertedColorRange)`;return e.colorMode==="block"?t.backgroundColor=s:n==="trendValue"?t.trendColor=s:t.majorColor=s,{options:t,context:a}},da=e=>{let{options:t,warnings:n,validOptionsCount:r}=Dl(e),{options:o,context:a}=kl(t),{options:s}=pe(o,ca.config);return{type:"splunk.singlevalue",options:p(p({},s),Et(o,Ml)),context:a,warnings:n,validOptionsCount:r}};var Al={count:!1,"list.drilldown":!1,"list.wrap":!1,maxLines:!1,"raw.drilldown":!1,rowNumbers:!1,showPager:!1,"table.sortColumn":!1,"table.sortDirection":!1,"table.drilldown":!1,"table.wrap":!1,type:!1,drilldown:!1,entityName:!1,segmentation:!1,softWrap:!1},ga=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=S({node:e,xmlToUDFValidOptionsMap:Al});return{type:"splunk.events",options:t,warnings:D(n),validOptionsCount:r}};var Pe=h(k(),1);var Nl=/(["'].*?["']|[^"',\s]+)(?=\s*|\s*,|\s*$)/g,Pl=/^["']|["|']$/g,rr=e=>{try{if(e[0]==="["&&e.slice(-1)==="]")return JSON.parse(e);{let t=e.match(Nl);if(t)return t.map(n=>n.replace(Pl,""))}}catch(t){return}},Lt=({field:e,fields:t})=>{if(t){let n=rr(t);if(n)return n}if(e)return[e]};function Rt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function or(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ze(){}var Je=.7,Mt=1/Je,ke="\\s*([+-]?\\d+)\\s*",qe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",B="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zl=/^#([0-9a-f]{3,8})$/,Ul=new RegExp("^rgb\\("+[ke,ke,ke]+"\\)$"),Fl=new RegExp("^rgb\\("+[B,B,B]+"\\)$"),Xl=new RegExp("^rgba\\("+[ke,ke,ke,qe]+"\\)$"),Wl=new RegExp("^rgba\\("+[B,B,B,qe]+"\\)$"),Yl=new RegExp("^hsl\\("+[qe,B,B]+"\\)$"),jl=new RegExp("^hsla\\("+[qe,B,B,qe]+"\\)$"),fa={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rt(Ze,G,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ma,formatHex:ma,formatHsl:Hl,formatRgb:ha,toString:ha});function ma(){return this.rgb().formatHex()}function Hl(){return Ta(this).formatHsl()}function ha(){return this.rgb().formatRgb()}function G(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ba(t):n===3?new N(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Vt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Vt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ul.exec(e))?new N(t[1],t[2],t[3],1):(t=Fl.exec(e))?new N(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Xl.exec(e))?Vt(t[1],t[2],t[3],t[4]):(t=Wl.exec(e))?Vt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Yl.exec(e))?Ca(t[1],t[2]/100,t[3]/100,1):(t=jl.exec(e))?Ca(t[1],t[2]/100,t[3]/100,t[4]):fa.hasOwnProperty(e)?ba(fa[e]):e==="transparent"?new N(NaN,NaN,NaN,0):null}function ba(e){return new N(e>>16&255,e>>8&255,e&255,1)}function Vt(e,t,n,r){return r<=0&&(e=t=n=NaN),new N(e,t,n,r)}function Bl(e){return e instanceof Ze||(e=G(e)),e?(e=e.rgb(),new N(e.r,e.g,e.b,e.opacity)):new N}function Ae(e,t,n,r){return arguments.length===1?Bl(e):new N(e,t,n,r==null?1:r)}function N(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Rt(N,Ae,or(Ze,{brighter:function(e){return e=e==null?Mt:Math.pow(Mt,e),new N(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Je:Math.pow(Je,e),new N(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ya,formatHex:ya,formatRgb:va,toString:va}));function ya(){return"#"+ar(this.r)+ar(this.g)+ar(this.b)}function va(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function ar(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Ca(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new H(e,t,n,r)}function Ta(e){if(e instanceof H)return new H(e.h,e.s,e.l,e.opacity);if(e instanceof Ze||(e=G(e)),!e)return new H;if(e instanceof H)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-o,i=(a+o)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=i<.5?a+o:2-a-o,s*=60):l=i>0&&i<1?0:s,new H(s,l,i,e.opacity)}function xa(e,t,n,r){return arguments.length===1?Ta(e):new H(e,t,n,r==null?1:r)}function H(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Rt(H,xa,or(Ze,{brighter:function(e){return e=e==null?Mt:Math.pow(Mt,e),new H(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Je:Math.pow(Je,e),new H(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new N(sr(e>=240?e-240:e+120,o,r),sr(e,o,r),sr(e<120?e+240:e-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function sr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}function ir(e,t,n,r,o){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*o)/6}function Oa(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],a=e[r+1],s=r>0?e[r-1]:2*o-a,l=r<t-1?e[r+2]:2*a-o;return ir((n-r/t)*t,s,o,a,l)}}function wa(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],l=e[(r+2)%t];return ir((n-r/t)*t,o,a,s,l)}}var lr=e=>()=>e;function Gl(e,t){return function(n){return e+n*t}}function $l(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Sa(e){return(e=+e)==1?_t:function(t,n){return n-t?$l(t,n,e):lr(isNaN(t)?n:t)}}function _t(e,t){var n=t-e;return n?Gl(e,n):lr(isNaN(e)?t:e)}var Ne=function e(t){var n=Sa(t);function r(o,a){var s=n((o=Ae(o)).r,(a=Ae(a)).r),l=n(o.g,a.g),i=n(o.b,a.b),u=_t(o.opacity,a.opacity);return function(d){return o.r=s(d),o.g=l(d),o.b=i(d),o.opacity=u(d),o+""}}return r.gamma=e,r}(1);function Ea(e){return function(t){var n=t.length,r=new Array(n),o=new Array(n),a=new Array(n),s,l;for(s=0;s<n;++s)l=Ae(t[s]),r[s]=l.r||0,o[s]=l.g||0,a[s]=l.b||0;return r=e(r),o=e(o),a=e(a),l.opacity=1,function(i){return l.r=r(i),l.g=o(i),l.b=a(i),l+""}}}var Kl=Ea(Oa),Jl=Ea(wa);var ql=/\\([.\n\r]?)/g,La=e=>{e=e.trim();let t=e.length;return t<2||e.charAt(0)!=='"'||e.charAt(t-1)!=='"'||(e=e.substring(1,t-1),!e)||(e=e.replace(ql,"$1")),e},Ra=(e,t,n)=>{let r="",o=t,a=e.length,s,l=!1,i=0,u,d;for(;o<a;){if(s=e.charAt(o),l)s==='"'?l=!1:s==="\\"&&(r+=s,o++,s=e.charAt(o));else if(i>0)s===d?i--:s===u?i++:s==='"'&&(l=!0);else if(s!==n)s==="["?(i=1,u="[",d="]"):s==="{"?(i=1,u="{",d="}"):s==="("?(i=1,u="(",d=")"):s==='"'&&(l=!0);else break;r+=s,o++}return r},Va=e=>{if(!e)return null;e=e.trim();let t=e.length;if(t<2||e.charAt(0)!=="{"||e.charAt(t-1)!=="}")return null;e=e.substring(1,t-1),t=e.length;let n={},r=0,o,a;for(;r<t&&(o=Ra(e,r,":"),r+=o.length+1,!(r>t));)a=Ra(e,r,","),r+=a.length+1,o=La(o),o&&(n[o]=La(a));return n};var pr=e=>e!==null&&e!==""&&!Array.isArray(e)&&!Number.isNaN(Number(e)),Ma=e=>e.filter(pr).map(t=>Number(t));var Zl="ColorConfig",Ql="#00CC00",ep="#CC0000",Qe=({targetFields:e,dslFormatter:t,formatConfig:n})=>ur({targetFields:e,formatConfig:n,dslFormatter:t,optionName:"rowBackgroundColors",suffix:Zl}),tp=({targetFields:e,colors:t})=>(t.length<2&&(t=[t[0],t[0]]),Qe({targetFields:e,dslFormatter:"gradient",formatConfig:{colors:t}})),np=({targetFields:e,colors:t,scaleNode:n})=>{let r=rr(n.val);if(r){let o=Ma(r);if(o.length>0){let i=le(t,o,!0,!1,!0);return Qe({targetFields:e,dslFormatter:"rangeValue",formatConfig:i})}}return{}},rp=({targetFields:e,colors:t,scaleNode:n})=>{let r=0;t.length<2&&(t=[t[0],t[0]]);let o=[],{minType:a,minValue:s,midType:l,midValue:i,maxType:u,maxValue:d}=n.attr,c=[{segmentType:a,segmentValue:s},{segmentType:l,segmentValue:i},{segmentType:u,segmentValue:d}],g=[];if(c.forEach(({segmentType:T,segmentValue:O})=>{if(T&&r++,O&&r++,T&&T!=="number"){o.push(new be({line:n.line}));return}pr(O)&&g.push(Number(O))}),g.length>t.length){let T=G(Ne(t[0],t[1])(.5)).formatHex();t=[t[0],T,t[1]]}let f=p({colors:t},x(g.length===t.length,{stops:g})),{options:b,context:C}=Qe({targetFields:e,dslFormatter:"gradient",formatConfig:f});return{options:b,context:C,conversionWarnings:o,configCount:r}},op=({formatNode:e,targetFields:t,colors:n})=>{var u;let r=e.childNamed("scale"),o=(u=r==null?void 0:r.attr)==null?void 0:u.type,a=o?1:0;if(n.length===0)return{context:{},options:{},configCount:a};let s=[],l,i={};switch(o){case"linear":({options:l,context:i}=tp({targetFields:t,colors:n}));break;case"threshold":({options:l,context:i={}}=np({targetFields:t,colors:n,scaleNode:r}));break;case"minMidMax":let d=0;({options:l,context:i,conversionWarnings:s,configCount:d}=rp({targetFields:t,colors:n,scaleNode:r})),a+=d;break;default:o&&s.push(new he({scaleType:o,line:r.line}));break}if(!l){let d=[n[0]];({options:l,context:i}=Qe({targetFields:t,dslFormatter:"pick",formatConfig:d}))}return{options:l,context:i,conversionWarnings:s,configCount:a}},_a=({formatNode:e})=>{let t=Lt(e.attr);if(!t){let d=[new fe({line:e.line})];return{options:{},context:{},conversionWarnings:d,configCount:0}}let n=1,r=e.childNamed("colorPalette"),o=[],a=[];if(r){let{type:d}=r.attr;switch(n++,d){case"list":a=ie($e(r.val));break;case"minMidMax":let{minColor:c,midColor:g,maxColor:f}=r.attr;n+=[c,g,f].filter(Boolean).length;let b=[c!=null?c:Ql,g,f!=null?f:ep].filter(Boolean);a=ie(b);break;case"sharedList":a=St;break;case"map":let C=Va(r.val);if(C){let T=[];return Object.keys(C).forEach(O=>{T.push({match:O,value:A(C[O])})}),m(p({},Qe({targetFields:t,dslFormatter:"matchValue",formatConfig:T})),{configCount:n})}break;case"expression":o.push(new me({line:r.line}));break}}let{options:s,context:l,conversionWarnings:i=[],configCount:u}=op({formatNode:e,targetFields:t,colors:a});return n+=u,{options:s,context:l,conversionWarnings:[...o,...i],configCount:n}};var ap="NumberConfig",sp="SparklineLineColorConfig",ip="SparklineAreaColorConfig",lp="SparklineTypeConfig",pp=e=>{let t=e;return e.match(/^\d/)&&(t=`_${t}`),`${t.replace(/[^a-zA-Z\d]/g,"_")}`},dr=(e,t)=>e?`${pp(e)}Column${t}`:`table${t}`,ur=({targetFields:e,formatConfig:t,dslFormatter:n,optionName:r,suffix:o})=>{let a={},s={};if(e)e.forEach(l=>{let i=dr(l,o);a[i]=t,(0,Pe.set)(s,`columnFormat.${l}.${r}`,`> table | seriesByName("${l}") | ${n}(${i})`)});else{let l=dr(void 0,o);a[l]=t,(0,Pe.set)(s,`tableFormat.${r}`,`> table | ${n}(${l})`)}return{context:a,options:s}},up=({targetFields:e,formatConfig:t})=>ur({targetFields:e,formatConfig:t,dslFormatter:"formatByType",optionName:"data",suffix:ap}),cp={precision:!0,useThousandSeparators:!0,unit:!0,unitPosition:!0},dp={precision:2,thousandSeparated:!0,unitPosition:"after"},gp=({formatNode:e})=>{let t=Lt(e.attr),n=t?1:0,o=z({xmlToUDFKeyMap:{useThousandSeparators:"thousandSeparated"}}),{options:a,validOptionsCount:s}=S({node:e,parseFunc:o,xmlToUDFValidOptionsMap:cp}),l={number:p(p({},dp),a)};return m(p({},up({targetFields:t,formatConfig:l})),{configCount:s+n})},gr={type:!0,chartRangeMax:!1,chartRangeMin:!1,height:!1,tooltipPrefix:!1,tooltipSuffix:!1},fp=m(p({},gr),{barSpacing:!1,barWidth:!1,colorMap:!1}),mp=m(p({},gr),{lineColor:!0,lineHeight:!1,thresholdColor:!1,thresholdValue:!1}),Ia=m(p({},gr),{fillColor:!0,lineColor:!0,highlightLineColor:!1,highlightSpotColor:!1,lineWidth:!1,maxSpotColor:!1,minSpotColor:!1,normalRangeMax:!1,normalRangeMin:!1,spotColor:!1,spotRadius:!1,valueSpots:!1,width:!1}),hp={bar:fp,discrete:mp,line:Ia},bp=(e,t,n)=>{var g,f;let r={},o=Array.from(n),a={},{field:s}=e.attr,l=({formatConfig:b,suffix:C,optionName:T})=>{let O=dr(s,C);a[O]=b,(0,Pe.set)(r,`columnFormat.${s}.${T}`,`> table | seriesByName("${s}") | pick(${O})`)},i="line",{type:u,fillColor:d,lineColor:c}=t;if(u&&u!=="line"){let b=(f=(g=e.childWithAttribute("name","type"))==null?void 0:g.line)!=null?f:e.line;o.push(new ye({sparklineType:u,line:b}))}if(d){i="area";let b=A(d);l({formatConfig:[b],suffix:ip,optionName:"sparklineAreaColors"})}if(c){let b=A(c);l({formatConfig:[b],suffix:sp,optionName:"sparklineColors"})}return l({formatConfig:[i],suffix:lp,optionName:"sparklineTypes"}),{options:r,context:a,conversionWarnings:o}},yp=({formatNode:e})=>{var o,a;let{field:t}=e.attr,n=[],r=0;if(t){r++;let s=e.childWithAttribute("name","type"),l=(o=s==null?void 0:s.val)!=null?o:"line",i=(a=hp[l])!=null?a:Ia,{options:u,unsupportedOptions:d,validOptionsCount:c}=S({node:e,xmlToUDFValidOptionsMap:i});return r+=c,n=D(d),m(p({},bp(e,u,n)),{configCount:r})}return{options:{},context:{},configCount:0}},cr={number:gp,sparkline:yp,color:_a},Da=e=>{var a,s;let t={},n={},r=0,o=[];for(let l of e.childrenNamed("format")){let{type:i}=l.attr;if(!i)continue;r++;let{options:u={},conversionWarnings:d=[],context:c={},configCount:g=0}=(s=(a=cr[i])==null?void 0:a.call(cr,{formatNode:l}))!=null?s:{};n=(0,Pe.merge)(n,u),t=p(p({},t),c),o.push(...d),r+=g}return{options:n,context:t,conversionWarnings:o,configCount:r}};var vp={rowNumbers:"showRowNumbers",overlay:"dataOverlayMode"},Cp={showInternalFields:!1},Tp={count:!0,rowNumbers:!0,overlay:!0,totalsRow:!1,percentagesRow:!1,showPager:!1,drilldown:!0,fields:!1,wrap:!1,dataOverlayMode:!0},xp=z({xmlToUDFKeyMap:vp}),Op=e=>S({node:e,parseFunc:xp,additionalOptions:Cp,xmlToUDFValidOptionsMap:Tp}),ka=e=>{let{options:t,unsupportedOptions:n,validOptionsCount:r}=Op(e),{options:o,context:a,conversionWarnings:s,configCount:l}=Da(e),i=[...s,...D(n)];return{type:"splunk.table",options:p(p({},t),o),context:a,warnings:i,validOptionsCount:r+l}};var Aa=h(k(),1),Na=h(li(),1),Pa=h(ai(),1);var fr=({maxValue:e,percentage:t})=>e*t/100;var hr={height:!0},wp=m(p(p({},hr),vt),{drilldown:!0,"horseshoe_meter_app.horseshoe_meter.backgroundColor":!0,"horseshoe_meter_app.horseshoe_meter.caption":!0,"horseshoe_meter_app.horseshoe_meter.dialColor":!0,"horseshoe_meter_app.horseshoe_meter.maxRangeColor":!0,"horseshoe_meter_app.horseshoe_meter.maxRangeThreshold":!0,"horseshoe_meter_app.horseshoe_meter.maxValue":!0,"horseshoe_meter_app.horseshoe_meter.midRangeColor":!0,"horseshoe_meter_app.horseshoe_meter.midRangeThreshold":!0,"horseshoe_meter_app.horseshoe_meter.minRangeColor":!0,"horseshoe_meter_app.horseshoe_meter.thresholdStyle":!0,"horseshoe_meter_app.horseshoe_meter.useRangemap":!0,"horseshoe_meter_app.horseshoe_meter.valueColor":!0,"horseshoe_meter_app.horseshoe_meter.minValue":!1}),Sp={backgroundColor:"#fff",underLabel:"> majorValueField",majorColor:"#555",midRangeThreshold:55,midRangeColor:"#fbcd2f",minRangeColor:"#3fc77a",maxRangeThreshold:80,maxRangeColor:"#b44441",maxValue:100,radialBackgroundColor:"#d0d5d9",thresholdStyle:"percentage",useRangemap:!1},Ep=e=>{let t={},n=p(p({},Sp),e),{maxValue:r,thresholdStyle:o,minRangeColor:a,midRangeColor:s,maxRangeColor:l,midRangeThreshold:i,maxRangeThreshold:u,useRangemap:d}=n,c=o==="percentage";if(I({value:d})){let g=c?fr({maxValue:r,percentage:i}):i,f=c?fr({maxValue:r,percentage:u}):u;t.majorColorEditorConfig=[{to:g,value:a},{from:g,to:f,value:s},{from:f,value:l}],n.majorColor="> majorValue | rangeValue(majorColorEditorConfig)"}return{options:n,context:t}},Lp=e=>{let r=z({xmlToUDFKeyMap:{caption:"underLabel",dialColor:"radialBackgroundColor",valueColor:"majorColor"},prefix:"horseshoe_meter_app.horseshoe_meter."}),{options:o,unsupportedOptions:a,validOptionsCount:s}=S({node:e,parseFunc:r,xmlToUDFValidOptionsMap:wp}),l=D(a),{options:i,context:u}=Ep(o),{options:d}=pe(i,Na.config);return{type:"splunk.singlevalueradial",options:p(p({},d),Et(i)),warnings:l,context:u,validOptionsCount:s}},za=(e,t)=>{var a;let n=(a=t[`${e}colorMode`])!=null?a:"categorical",r=A(t[`${e}minColor`]||"#D93F3C"),o=A(t[`${e}maxColor`]||"#3FC77A");return{colorMode:n,minColor:r,maxColor:o}},Rp=m(p({},hr),{drilldown:!0,"punchcard_app.punchcard.radiusScale":!0,"punchcard_app.punchcard.useColors":!0,"punchcard_app.punchcard.colorMode":!0,"punchcard_app.punchcard.minColor":!0,"punchcard_app.punchcard.maxColor":!0,"punchcard_app.punchcard.numOfBins":!1,"punchcard_app.punchcard.labelRotation":!1}),Vp={bubbleColor:"#0877a6",showDefaultSort:!0},Mp=e=>{let o=z({xmlToUDFKeyMap:{radiusScale:"bubbleRowScale"},xmlToUDFValueMap:{radiusScale:{local:"row"},colorMode:{sequential:"dynamic"}},prefix:"punchcard_app.punchcard."}),{options:a,unsupportedOptions:s,validOptionsCount:l}=S({node:e,parseFunc:o,additionalOptions:Vp,xmlToUDFValidOptionsMap:Rp}),i={};if(!I({value:a.useColors}))delete a.colorMode;else if(a.colorMode==="dynamic"){let{minColor:d="#d93f3c",maxColor:c="#3fc77a"}=a;i.dynamicColorConfig={colors:[d,c]},a.bubbleColor="> primary | seriesByIndex(3) | gradient(dynamicColorConfig)"}let{options:u}=pe(a,Pa.config);return{type:"splunk.punchcard",options:u,context:i,validOptionsCount:l,warnings:D(s)}},_p={"sankey_diagram_app.sankey_diagram.colorMode":!0,"sankey_diagram_app.sankey_diagram.maxColor":!0,"sankey_diagram_app.sankey_diagram.minColor":!0,"sankey_diagram_app.sankey_diagram.numOfBins":!0,"sankey_diagram_app.sankey_diagram.showBackwards":!1,"sankey_diagram_app.sankey_diagram.showLabels":!1,"sankey_diagram_app.sankey_diagram.showLegend":!1,"sankey_diagram_app.sankey_diagram.showSelf":!1,"sankey_diagram_app.sankey_diagram.showTooltip":!1,"sankey_diagram_app.sankey_diagram.styleBackwards":!1,"sankey_diagram_app.sankey_diagram.useColors":!0},Ip=e=>{let t="sankey_diagram_app.sankey_diagram.",n={},{options:r,unsupportedOptions:o,validOptionsCount:a}=S({node:e,xmlToUDFValidOptionsMap:_p}),s={},l=I({value:r[`${t}useColors`],defaultValue:!0}),{colorMode:i,minColor:u,maxColor:d}=za(t,r),c=Math.min(Number(r[`${t}numBins`]||6),7);if(l)if(i==="sequential"){let g=Ne(u,d),f=[],b=[];for(let C=1;C<=c;C++)b.push(Math.round(C/c*100)),f.push(G(g(C/c)).formatHex());s.colorMode="dynamic",n.linkColorRangeConfig=le(f,b)}else s.colorMode="categorical";else s.colorMode="categorical",s.seriesColors=["#1E93C6"];return{type:"splunk.sankey",options:p(p({},(0,Aa.pickBy)(r,(g,f)=>!f.startsWith(t))),s),context:n,validOptionsCount:a,warnings:D(o)}},Dp=m(p({},hr),{"parallel_coordinates_app.parallel_coordinates.minColor":!0,"parallel_coordinates_app.parallel_coordinates.maxColor":!0,"parallel_coordinates_app.parallel_coordinates.colorMode":!1,"parallel_coordinates_app.parallel_coordinates.compositeMode":!1,"parallel_coordinates_app.parallel_coordinates.maxCategories":!1,"parallel_coordinates_app.parallel_coordinates.hideTicks":!1}),kp=e=>{var u;let t="parallel_coordinates_app.parallel_coordinates.",{options:n,unsupportedOptions:r,validOptionsCount:o}=S({node:e,xmlToUDFValidOptionsMap:Dp}),a=D(r),s={showNullAxis:!1},{minColor:l,maxColor:i}=za(t,n);return((u=r["parallel_coordinates_app.parallel_coordinates.colorMode"])==null?void 0:u.value)==="sequential"&&(s.lineColor=G(Ne(l,i)(.5)).formatHex()),{type:"splunk.parallelcoordinates",options:s,validOptionsCount:o,warnings:a}},mr={"punchcard_app.punchcard":Mp,"parallel_coordinates_app.parallel_coordinates":kp,"sankey_diagram_app.sankey_diagram":Ip,"horseshoe_meter_app.horseshoe_meter":Lp},Ap=new Set(["bullet_graph_app.bullet_graph","calendar_heatmap_app.calendar_heatmap","horizon_chart_app.horizon_chart","horseshoe_meter_app.horseshoe_meter","location_tracker_app.location_tracker","parallel_coordinates_app.parallel_coordinates","punchcard_app.punchcard","sankey_diagram_app.sankey_diagram","status_indicator_app.status_indicator","timeline_app.timeline","treemap_app.treemap"]),It=e=>{var t,n;return(n=(t=e.attr.type)==null?void 0:t.trim())!=null?n:e.name},Ua=e=>e.name==="viz"&&!Ap.has(It(e)),Fa=e=>{var n,r;let t=It(e);return(r=(n=mr[t])==null?void 0:n.call(mr,e))!=null?r:ae()};var et=h(k(),1);var Xa={set:!0,unset:!1,link:!0,eval:!1,condition:!1},Np=e=>{let t={},n=[],r=0;return e.children.forEach(o=>{var i;let a=o,{name:s,line:l}=a;if(s&&s in Xa){if(r++,!Xa[s]){n.push(new Se({line:l,interactionName:s}));return}let u=(i=t[s])!=null?i:[];t[s]=[...u,a]}}),{supportedConfigNodesMap:t,warnings:n,configCount:r}},Wa=e=>/^search\?q=.*/.test(e),Ya=e=>/^(\/app\/[^/]+\/)?report\?s=.*/.test(e),Pp=e=>/^https?:\/\//.test(e),zp=e=>!Wa(e)&&!Ya(e)&&!Pp(e),Up={type:"drilldown.linkToSearch",options:{type:"auto",newTab:!1}},Fp=["list.drilldown","drilldown","charting.drilldown","raw.drilldown","table.drilldown","mapping.drilldown"],ja={"splunk.markerGauge":!0,"splunk.fillerGauge":!0,"splunk.sankey":!0,"splunk.parallelcoordinates":!0},Xp=e=>{let[t="",n=""]=e.split("?"),r=(0,et.trim)(t,"/").split("/"),o=[];if(r.length!==3)return{app:"",dashboard:"",tokens:o};let[,a="",s=""]=r,l=new URLSearchParams(n);for(let[i,u]of l.entries())o.push({token:i,value:u});return{app:a,dashboard:s,tokens:o}},Wp=e=>{let[t="",n=""]=e.split("report?s="),[,r=""]=(0,et.trim)(t,"/").split("app/"),o=decodeURIComponent(n);return{app:r,report:o}},Yp=e=>{let t=e.replace("search?",""),n=new URLSearchParams(t),r=n.get("q"),o=An(n.get("earliest")),a=Nn(n.get("latest"));return{type:"custom",query:r,earliest:o,latest:a}},jp=(e,t)=>{let n=t!=="_self";if(Wa(e)){let{type:r,query:o,earliest:a,latest:s}=Yp(e);return{type:"drilldown.linkToSearch",options:{type:r,query:o,earliest:a,latest:s,newTab:n}}}if(Ya(e)){let{app:r,report:o}=Wp(e);return{type:"drilldown.linkToReport",options:{app:r,report:o,newTab:n}}}if(zp(e)){let{app:r,dashboard:o,tokens:a}=Xp(e);return{type:"drilldown.linkToDashboard",options:{app:r,dashboard:o,tokens:a,newTab:n}}}return{type:"drilldown.customUrl",options:{url:e,newTab:n}}},Hp=e=>{let t=[];return e.forEach(n=>{let{token:r}=n.attr,o;n.val==="$click.name2$"?o="name":n.val==="$click.value2$"?o="value":n.val.startsWith("$row.")&&(o=`${n.val.substring(1,n.val.length-1)}.value`),r&&o&&t.push({token:r,key:o})}),t.length?{type:"drilldown.setToken",options:{tokens:t}}:void 0},Bp=e=>{var o;if((o=e==null?void 0:e.set)!=null&&o.length)return Hp(e.set);let t=e==null?void 0:e.link,n=t!=null&&t.length?t[0]:void 0,r=(0,et.get)(n,["attr","target"],"_blank");return n&&jp(n.val,r)},Ha=e=>{let t=[],n=[],r=0,o=!1;return e.children.forEach(a=>{var s;if(a.name==="drilldown"){let{supportedConfigNodesMap:l,warnings:i,configCount:u}=Np(a);r+=u,n=n.concat(i);let d=Bp(l);d&&t.push(d)}else a.name==="option"&&Fp.includes((s=a.attr)==null?void 0:s.name)&&a.val==="none"&&(o=!0)}),o?{eventHandlers:[],configCount:r,warnings:[]}:(t.length||t.push(Up),{eventHandlers:t,configCount:r,warnings:n})};var Ba=250,Gp={"punchcard_app.punchcard":!0,"parallel_coordinates_app.parallel_coordinates":!0,"sankey_diagram_app.sankey_diagram":!0,"horseshoe_meter_app.horseshoe_meter":!0},Mg=m(p({},Gp),{line:!0,area:!0,column:!0,bar:!0,pie:!0,scatter:!0,bubble:!0,singlevalue:!0,fillerGauge:!0,markerGauge:!0,choropleth:!0,event:!0,statistics:!0}),$p=e=>!!(e.name==="viz"&&e.attr.type),yr=e=>{let{name:t}=e;return["table","single","chart","event","map"].indexOf(t)>=0||$p(e)},Ga={chart:na,single:da,map:pa,viz:Fa,table:ka,event:ga},br={chart:tr,viz:It},Dt=(e,{type:t})=>t==="splunk.map"?nr(e):t;var vr=({node:e,dataSources:t})=>{var l,i,u,d,c,g;let n=[],r=[],{name:o,line:a}=e,s=(i=(l=br[o])==null?void 0:l.call(br,e))!=null?i:o;try{let{options:f={},context:b,encoding:C,type:T="",warnings:O=[],conversionErrors:E=[],validOptionsCount:R=0}=typeof Ga[o]=="function"?Ga[o](e,t):ae(),P=f.height?String(f.height):void 0,$=(d=P!=null?P:(u=e.childWithAttribute("name","height"))==null?void 0:u.val)!=null?d:"",st=$.length>0?Number($):Ba;if(delete f.height,T==="viz.error")return Ua(e)?r.push(new ee({vizType:s,line:a})):r.push(new Q({vizType:s,line:a})),{definition:ae(t),warnings:n,conversionErrors:r,meta:{vizHeight:st},type:T,configCount:R};let q=F(e,"title"),de=e.attr.firstVizInPanel==="true"&&e.attr.panelTitle,je=F(e,"description"),Zs=[q,de,je].filter(Boolean).length;de&&(q=q?`${de} - ${q}`:de);let Wr=(c=e.childWithAttribute("name","refresh.time.visible"))==null?void 0:c.val,Yr=(g=e.childWithAttribute("name","refresh.display"))==null?void 0:g.val,{eventHandlers:jr,configCount:Qs,warnings:ei}=ja[T]?{eventHandlers:[],configCount:0,warnings:[]}:Ha(e),Hr=Zs+Qs+R;return["depends","rejects"].forEach(Xt=>{!e.attr[Xt]||(Hr++,n.push(new Y({configType:"visualization",configName:Xt,configValue:e.attr[Xt],line:e.line})))}),{definition:p(p(p(p(p(p(p(p({type:T,options:f},x(!(0,J.isEmpty)(b),{context:b})),x(!(0,J.isEmpty)(C),{encoding:C})),x(!(0,J.isEmpty)(t),{dataSources:t})),x(!(0,J.isEmpty)(jr),{eventHandlers:jr})),x(!(0,J.isEmpty)(q),{title:q})),x(!(0,J.isEmpty)(je),{description:je})),x(!(0,J.isEmpty)(Wr),{showLastUpdated:Ie(Wr,"refresh.time.visible")})),x(!(0,J.isEmpty)(Yr),{showProgressBar:Yr!=="none"})),warnings:[...n,...O,...ei],conversionErrors:[...r,...E],meta:{vizHeight:st},configCount:Hr}}catch(f){return console.error(f),r.push(new ne({vizType:s,line:a})),{definition:ae(),warnings:n,conversionErrors:r,meta:{vizHeight:Ba},type:"viz.error",configCount:0}}};var Kp=h(k(),1),Jp=h(jt(),1),qp=h(Jr(),1);var Cr=e=>e.name==="panel"&&!!e.attr.ref;var Nt=h(Yt(),1),Za=h(qa(),1);var Qa=({panelWidth:e,defaultInputWidth:t})=>Math.min(e,t),pu=({parsedPanels:e,panelWidth:t,defaultInputWidth:n,inputHeight:r})=>{if(!e.length)return 0;let o=0,a=Qa({panelWidth:t,defaultInputWidth:n}),s=Math.floor(t/a);return e.forEach(({inputIds:l})=>{let u=Math.ceil(l.length/s)*r;o=Math.max(u,o)}),o},uu=({xOffset:e,yOffset:t,panelWidth:n,inputIds:r,layoutType:o,defaultInputWidth:a,inputHeight:s})=>{let l=[],i=[],u=0;if(!r.length)return{panelInputsHeight:u,inputStructureItems:l,fillerRectangleDefs:i};let d=e,c=e+n,g=Qa({panelWidth:n,defaultInputWidth:a}),f=r.length-1;return r.forEach((b,C)=>{if(l.push({item:b,type:"input",position:{x:e,y:t,w:g,h:s}}),e+=g,g+e>c||C===f){let T=c-e;o==="grid"&&T>0&&i.push({type:"block",position:{x:e,y:t,w:T,h:s}}),e=d,t+=s,u+=s}}),{panelInputsHeight:u,inputStructureItems:l,fillerRectangleDefs:i}},cu=({vizIds:e,xOffset:t,startingVizYOffset:n,panelWidth:r,panelVizHeight:o,layoutType:a})=>{let s=[],l=[],i=e.length>0?Math.floor(o/e.length):o,u=n,d=e.length-1;return e.forEach((c,g)=>{g===d&&(i=o-i*d),s.push({item:c,type:"block",position:{x:t,y:u,w:r,h:i}}),u+=i}),s.length===0&&a==="grid"&&i>0&&l.push({type:"block",position:{x:t,y:u,w:r,h:i}}),{vizStructureItems:s,fillerRectangleDefs:l}},es=({parsedPanels:e,maxRowVizHeight:t,yOffset:n,layoutType:r,defaultInputWidth:o=Nt.DEFAULT_INPUT_ON_CANVAS_WIDTH,inputHeight:a=Nt.DEFAULT_INPUT_ON_CANVAS_HEIGHT,canvasWidth:s=ut})=>{let l=r==="grid"?Za.gridLayoutOptions.gutterSize+a:a,i=e.length,u=Math.floor(s/(i||1)),c=pu({parsedPanels:e,panelWidth:u,defaultInputWidth:o,inputHeight:l})+t,g=[],f=[],b=0;return e.forEach((C,T)=>{let{inputIds:O,vizIds:E}=C;b=T*u;let{panelInputsHeight:R,inputStructureItems:P,fillerRectangleDefs:$}=uu({xOffset:b,yOffset:n,panelWidth:u,inputIds:O,layoutType:r,defaultInputWidth:o,inputHeight:l}),st=c-R,q=n+R,{vizStructureItems:de,fillerRectangleDefs:je}=cu({vizIds:E,xOffset:b,panelVizHeight:st,startingVizYOffset:q,panelWidth:u,layoutType:r});f=[...f,...$,...je],g=[...g,...P,...de]}),{structureItems:g,rowHeight:c,fillerRectangleDefs:f}};var du={description:!0,hideEdit:!0,hideExport:!0,hideTitle:!0,label:!0,onunloadCancelJobs:!0,refresh:!0,tags:!0,theme:!0,init:!1,script:!1,stylesheet:!1,hideChrome:!1,hideFilters:!1,hideAppBar:!1,hideSplunkBar:!1},gu=e=>{let{hideEdit:t,hideExport:n,hideTitle:r,onunloadCancelJobs:o}=e;return{hideEdit:I({value:t}),hideExport:I({value:n}),hideTitle:I({value:r}),onunloadCancelJobs:I({value:o})}},fu=e=>Object.entries(e).map(([t,{line:n,value:r}])=>{switch(t){case"stylesheet":return new Ee({line:n,configValue:r});case"script":return new Le({line:n,configValue:r});case"init":return new Re({line:n,configValue:r});default:return new Ve({line:n,configValue:r,configName:t})}}),ts=e=>{let{supportedConfigNodesMap:t,supportedAttributesMap:n,unsupportedConfigs:r,configCount:o}=ht(e,du),{refresh:a,theme:s}=n;return{dashboardLevelConfigs:p({theme:s,refresh:a,tags:M(t,"tags"),label:M(t,"label"),description:M(t,"description")},gu(n)),warnings:fu(r),configCount:o}};var os=h(K(),1);var ze={count:0,convertedCount:0,configCount:0,convertedConfigCount:0},ns=()=>({visualizations:p({},ze),inputs:p({},ze),searches:p({},ze),dataSources:0,panels:p({},ze),rows:p({},ze),dashboardLevelConfigs:p({},ze)}),mu=new Set([j.ERROR_TYPE,te.ERROR_TYPE,Q.ERROR_TYPE,ee.ERROR_TYPE,ne.ERROR_TYPE,re.ERROR_TYPE]),rs=(e,t,n)=>{let o=[...t,...n].filter(a=>!mu.has(a.type)).length;return Math.max(e-o,0)};var as={};Object.values(jn).forEach(e=>{if(e!=null&&e.ERROR_TYPE){let t=e;as[t.ERROR_TYPE]=t}});var ss={};Object.values(hn).forEach(e=>{if(e!=null&&e.WARNING_TYPE){let t=e;ss[t.WARNING_TYPE]=t}});var Ue=class{constructor({conversionErrors:t=[],conversionWarnings:n=[],counts:r=ns(),conversionTime:o=new Date().getTime(),originDashboardTitle:a,originDashboardId:s="",originDashboardApp:l=""}){y(this,"conversionErrors");y(this,"conversionWarnings");y(this,"counts");y(this,"conversionTime");y(this,"originDashboardId");y(this,"originDashboardApp");y(this,"originDashboardTitle");this.conversionErrors=fn(t,as),this.conversionWarnings=fn(n,ss),this.counts=r,this.conversionTime=new Date(o),this.originDashboardApp=l,this.originDashboardId=s,this.originDashboardTitle=a}addConversionLogsForElement({conversionWarnings:t=[],conversionErrors:n=[],isConverted:r=!0,elementType:o,configCount:a,convertedId:s}){this.conversionErrors.push(...n),this.conversionWarnings.push(...t),[...n,...t].forEach(i=>i.convertedId=s);let l=this.counts[o];l.count++,r&&l.convertedCount++,l.configCount+=a,l.convertedConfigCount+=rs(a,t,n)}toJSON(){return{conversionErrors:dn(this.conversionErrors),conversionWarnings:dn(this.conversionWarnings),counts:this.counts,conversionTime:this.conversionTime.getTime(),originDashboardTitle:this.originDashboardTitle,originDashboardId:this.originDashboardId,originDashboardApp:this.originDashboardApp}}aggregateConversionCounts(){let t=0,n=0;return Object.entries(this.counts).forEach(([r,o])=>{let a=r;if(o!=null&&o.count){let s=o;(a==="visualizations"||a==="inputs"||a==="searches")&&(n+=s.convertedCount,t+=s.count),t+=s.configCount,n+=s.convertedConfigCount}}),{totalConfigCount:t,totalConvertedConfigCount:n}}generateConversionReportContent(t){let n={},r={},o={},a={},s=c=>{var b,C;let g=c.convertedId,f=c.getElementTitle(t);if(f)a[g]=He({elementLabel:f,convertedId:g});else{let T=mn((b=c.getElementType())!=null?b:""),O=Z({elementType:T,plural:!1}),E=(C=o[T])!=null?C:[];if(E.push(g),o[T]=E,E.length===1)a[g]=He({elementLabel:O,convertedId:g});else{let R=E[0];a[R]=He({elementLabel:O,convertedId:R,elementNumber:1}),a[g]=He({elementLabel:O,convertedId:g,elementNumber:E.length})}}},l=c=>{let g=c.convertedId,f=c.type;if(g){let b=n[g];if(b){let C=b[f];C?C.push(c):b[f]=[c]}else s(c),n[g]={[f]:[c]}}else r[f]?r[f].push(c):r[f]=[c]},i=c=>typeof c[0].getName=="function"?{count:c.length,configs:c.map(f=>f.getName())}:{count:c.length};[...this.conversionErrors,...this.conversionWarnings].sort((c,g)=>{var f,b;return((f=c.logArgs.line)!=null?f:NaN)-((b=g.logArgs.line)!=null?b:NaN)}).forEach(c=>{c.type!==j.ERROR_TYPE&&l(c)});let d=[];if(Object.keys(r).length>0){let c={header:(0,os._)("Dashboard"),icon:"dashboard",sublevels:[]};Object.keys(r).forEach(g=>{let f=r[g],b=f[0];c.sublevels.push(b.getReportContent(i(f)))}),d.push(c)}return Object.keys(n).forEach(c=>{var C;let g=n[c],f="",b=[];Object.keys(g).forEach(T=>{var R;let O=g[T],E=O[0];f=(R=E.getElementType())!=null?R:"",b.push(E.getReportContent(i(O)))}),d.push({header:(C=a[c])!=null?C:c,icon:f,sublevels:b})}),d}};var Fe=class{constructor({simpleXml:t,layout:n="absolute",sourceApp:r=Or.app,sourceDashboardId:o}){y(this,"definition");y(this,"simpleXml");y(this,"root");y(this,"sourceApp");y(this,"layoutType");y(this,"errors",[]);y(this,"conversionReport");y(this,"prebuiltPanelCache",{});y(this,"dsIdMap");y(this,"rootLevelConfigs",{});this.conversionReport=new Ue({originDashboardId:o,originDashboardApp:r}),this.definition=new xr.DashboardDefinition((0,Xe.cloneDeep)(pt)),this.simpleXml=t,this.layoutType=n,this.sourceApp=r,this.dsIdMap={searchNameToIds:{},dsIdsWithSearchId:new Set}}parseRootConfigs(){let{dashboardLevelConfigs:t,warnings:n,configCount:r}=ts(this.root);this.rootLevelConfigs=t,this.conversionReport.addConversionLogsForElement({conversionWarnings:n,configCount:r,elementType:"dashboardLevelConfigs"}),this.definition.updateDashboard({title:this.rootLevelConfigs.label,desc:this.rootLevelConfigs.description}),this.conversionReport.originDashboardTitle=this.rootLevelConfigs.label,this.parseDashboardDefaults()}parseDashboardDefaults(){let{refresh:t,onunloadCancelJobs:n}=this.rootLevelConfigs;if(t||n){let r={global:{options:p(p({},n&&{cancelJobsOnFocusLoss:!0}),t&&{refresh:`${t}s`})}},o=r,a=this.definition.getDefaults();a.dataSources&&(o=(0,Xe.merge)({},a.dataSources,r)),this.definition=xr.DashboardDefinition.fromJSON(m(p({},this.definition.toJSON()),{defaults:m(p({},a),{dataSources:o})}))}}parseGlobalSearches(){let t=Be(this.root,this.definition,this.dsIdMap,this.conversionReport.counts.searches,this.conversionReport.conversionWarnings);Ge(this.root,t,this.dsIdMap,this.root.name)}parseInputNode({input:t,isPanelInput:n}){let r=Be(t,this.definition,this.dsIdMap,this.conversionReport.counts.searches,this.conversionReport.conversionWarnings),{definition:o,warnings:a=[],configCount:s=0}=Ho({node:t});Ge(t,r,this.dsIdMap,o.type);let l=t.attr.id&&!this.definition.getInput(t.attr.id)?`input_${t.attr.id}`:this.definition.nextInputId();return this.conversionReport.addConversionLogsForElement({conversionWarnings:a,configCount:s,elementType:"inputs",convertedId:l}),this.definition.addInput(l,o),this.definition.connectDataSourceToInput({inputId:l,dataSourceType:"primary",dataSourceId:r.primary}),n||this.definition.addInputToLayout(l),l}parsePanelInput(t){return this.parseInputNode({input:t,isPanelInput:!0})}parseGlobalInput(t){return this.parseInputNode({input:t,isPanelInput:!1})}parseGlobalInputs(){var n;let t=this.root.children.find(Wo);t&&(this.definition.updateLayoutOptions({submitButton:((n=t.attr.submitButton)!=null?n:"true")==="true"}),t.children.filter(Wn).forEach(this.parseGlobalInput.bind(this)))}static prebuiltPanelCacheKey(t,n){return`${n}/${t}`}fetchPrebuiltPanels(t){return ge(this,null,function*(){let n=t.flatMap(o=>o.childrenNamed("panel").filter(a=>Cr(a))),r=(0,Xe.uniqWith)(n,(o,a)=>{let{ref:s,app:l=this.sourceApp}=o.attr,{ref:i,app:u=this.sourceApp}=a.attr;return s===i&&l===u});yield Promise.allSettled(r.map(this.fetchPrebuiltPanel.bind(this)))})}fetchPrebuiltPanel(t){return ge(this,null,function*(){let n=t.attr.ref,{app:r=this.sourceApp}=t.attr;try{let a=(yield yo({id:n,app:r})).entry[0].content["eai:data"],s=new nt.XmlDocument(a),l=Fe.prebuiltPanelCacheKey(n,r);return this.prebuiltPanelCache[l]=s,s}catch(o){return Promise.reject(o)}})}resolveToInlinePanel(t){if(Cr(t)){let n=t.attr.ref,{app:r=this.sourceApp}=t.attr,o=Fe.prebuiltPanelCacheKey(n,r);return this.prebuiltPanelCache[o]}return t}addVizConversionLogs({viz:t,vizId:n,vizErrors:r,vizWarnings:o,type:a,configCount:s}){var l,i;if(t.attr.errorType==="prebuiltPanel"){let u=parseInt((l=t.attr.line)!=null?l:"");r.push(new te({ref:(i=t.attr.ref)!=null?i:"",line:isNaN(u)?void 0:u}))}[...o,...r].forEach(u=>{u.convertedId=n,u.vizType||(u.vizType=a)}),this.conversionReport.addConversionLogsForElement({conversionWarnings:o,conversionErrors:r,isConverted:a!=="viz.error",configCount:s,convertedId:n,elementType:"visualizations"})}warnIfShowHide(t){["depends","rejects"].forEach(n=>{if(!t.attr[n])return;let r=t.name;r==="row"?this.conversionReport.counts.rows.configCount++:r==="panel"&&this.conversionReport.counts.panels.configCount++,this.conversionReport.conversionWarnings.push(new Y({configType:r,configName:n,configValue:t.attr[n],line:t.line}))})}parseContentsOfRowPanels(t){let n=[],r=[];return t.forEach(o=>{var d;this.conversionReport.counts.panels.count++;let a=this.resolveToInlinePanel(o);if(!a){n.push({vizNodes:[new nt.XmlDocument(`<error 
                            errorType="prebuiltPanel" ref="${(d=o.attr.ref)!=null?d:""}" line="${o.line}">
                        </error>`)],inputNodes:[]});return}this.conversionReport.counts.panels.convertedCount++,this.warnIfShowHide(a);let s=a.children,l=s.filter(Wn);r=[...r,...o.childrenNamed("html")];let i=s.filter(yr),u=F(a,"title");i.length?(i.forEach(c=>c.attr.panelTitle=u),i[0].attr.firstVizInPanel="true"):l.length||i.push(new nt.XmlDocument("<error></error>")),n.push({vizNodes:i,inputNodes:l})}),{rowContents:n,htmlNodes:r}}parseRow(t){let n=t.children.filter(yr).map(u=>({vizNodes:[u],inputNodes:[]})),r=t.childrenNamed("html"),o=t.childrenNamed("panel");!n.length&&o.length&&({rowContents:n,htmlNodes:r}=this.parseContentsOfRowPanels(o)),r.forEach(u=>{this.conversionReport.addConversionLogsForElement({conversionErrors:[new re({line:u.line})],configCount:0,isConverted:!1,elementType:"visualizations"})});let a=0,s=0,l=[];return n.forEach(({vizNodes:u,inputNodes:d})=>{let c=[];u.length&&s++,u.forEach(f=>{let b=Be(f,this.definition,this.dsIdMap,this.conversionReport.counts.searches,this.conversionReport.conversionWarnings),{definition:C,warnings:T=[],conversionErrors:O=[],configCount:E=0,meta:R={}}=vr({node:f,dataSources:b});Ge(f,b,this.dsIdMap,Dt(f,C)),a+=R==null?void 0:R.vizHeight;let P=f.attr.id&&!this.definition.getVisualization(`viz_${f.attr.id}`)?`viz_${f.attr.id}`:this.definition.nextVisualizationId();this.addVizConversionLogs({viz:f,vizId:P,vizErrors:O,vizWarnings:T,type:Dt(f,C),configCount:E}),this.definition.addVisualization(P,C),Object.keys(b).map($=>{this.definition.connectDataSourceToVisualization({vizId:P,dataSourceType:$,dataSourceId:b[$]})}),c.push(P)});let g=d.map(this.parsePanelInput.bind(this));l.push({inputIds:g,vizIds:c})}),{maxRowVizHeight:Math.floor(s?a/s:0),parsedPanels:l}}addFillerRectangles(t){return t.map(n=>{let r=this.definition.nextVisualizationId();return this.definition.addVisualization(r,no),m(p({},n),{item:r})})}parseLayout(){return ge(this,null,function*(){let t=[],n=0,r=this.root.childrenNamed("row");yield this.fetchPrebuiltPanels(r),this.root.childrenNamed("row").forEach(a=>{this.conversionReport.counts.rows.count++,this.warnIfShowHide(a);let{maxRowVizHeight:s,parsedPanels:l}=this.parseRow(a);if(l.length){this.conversionReport.counts.rows.convertedCount++;let{structureItems:i,rowHeight:u,fillerRectangleDefs:d}=es({parsedPanels:l,maxRowVizHeight:s,yOffset:n,layoutType:this.layoutType});n+=u;let c=this.addFillerRectangles(d);t=[...t,...i,...c]}}),this.definition.updateLayoutStructure(t);let o=this.rootLevelConfigs.hideTitle;this.definition.updateLayoutType(this.layoutType),this.definition.updateLayoutOptions(p(p({height:n||ro,width:ut},x(o,{showTitleAndDescription:!o})),x(this.layoutType==="absolute",{display:oo})))})}parseDefinition(){return ge(this,null,function*(){try{this.root=new nt.XmlDocument(this.simpleXml),this.parseRootConfigs(),this.parseGlobalSearches(),this.parseGlobalInputs(),yield this.parseLayout();let t=Pn(this.dsIdMap,this.definition);this.conversionReport.counts.dataSources=t+this.dsIdMap.dsIdsWithSearchId.size;let{tags:n,hideEdit:r,hideExport:o,theme:a}=this.rootLevelConfigs;return{status:ct.SUCCESS,message:ao,response:m(p({theme:a||"light",definition:this.definition.toJSON(),assets:{},errors:this.errors},x(n,{tags:n})),{hideEdit:r,hideExport:o,warnings:gn(this.conversionReport.conversionWarnings),conversionReport:this.conversionReport})}}catch(t){let{message:n,line:r}=t;return{status:ct.FAIL,message:Ht,response:{theme:"light",definition:{},assets:{},warnings:[],errors:[{message:n,line:r}]}}}})}},wr=(o,...a)=>ge(void 0,[o,...a],function*(e,t="absolute",n=Or.app,r=vo()){return new Fe({layout:t,simpleXml:e,sourceApp:n,sourceDashboardId:r}).parseDefinition()});var is=h(jt(),1),We=h(k(),1);var yu=e=>{var t;try{let n=(t=e.childWithAttribute("type","conversionReport"))==null?void 0:t.val;if(!n)return;let r=JSON.parse(n);return new Ue(r)}catch(n){return}},vu=e=>{try{let t=new is.XmlDocument(e),n;if(t.attr.hiddenElements)n=JSON.parse(t.attr.hiddenElements);else{let s=t.childWithAttribute("type","hiddenElements");n=s&&JSON.parse(s.val)}let r=new Blob([e]).size,o=t.childNamed("definition").val,a=!!o.match(/^\n\s*{\n/g);return{assets:JSON.parse((0,We.get)(t.childNamed("assets"),"val","{}")),tags:(0,We.get)(t.childNamed("tags"),"val",void 0),definition:JSON.parse(o),theme:t.attr.theme,hideEdit:(0,We.get)(n,"hideEdit",!1),hideOpenInSearch:(0,We.get)(n,"hideOpenInSearch",!1),hideExport:(0,We.get)(n,"hideExport",!1),dashboardSize:r,isJsonFormatted:a,conversionReport:yu(t)}}catch(t){return{definition:{},errors:[t.message]}}};var Vr=h(Wt(),1),Pu=h(Wt(),1),Mr=h(lt(),1),Uu=h(lt(),1),_r=h(eo(),1),Xu=h(eo(),1),Ir=h(Qr(),1),Wu=h(Qr(),1),Dr=h($r(),1),Yu=h($r(),1),kr=h(Gr(),1),Hu=h(Gr(),1);var Ar=h(Sr(),1),Bu=h(Sr(),1),Nr=h(Er(),1),Gu=h(Er(),1),Pr=h(Kr(),1),$u=h(Kr(),1),zr=h(K(),1),qu=h(K(),1);var Ur=Object.defineProperty,Mu=Object.defineProperties,_u=Object.getOwnPropertyDescriptor,Iu=Object.getOwnPropertyDescriptors,Du=Object.getOwnPropertyNames,ds=Object.getOwnPropertySymbols,Us=Object.prototype.hasOwnProperty,ku=Object.prototype.propertyIsEnumerable,Lr=(e,t,n)=>t in e?Ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pt=(e,t)=>{for(var n in t||(t={}))Us.call(t,n)&&Lr(e,n,t[n]);if(ds)for(var n of ds(t))ku.call(t,n)&&Lr(e,n,t[n]);return e},gs=(e,t)=>Mu(e,Iu(t)),X=(e,t)=>{for(var n in t)Ur(e,n,{get:t[n],enumerable:!0})},fs=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Du(t))!Us.call(e,o)&&o!==n&&Ur(e,o,{get:()=>t[o],enumerable:!(r=_u(t,o))||r.enumerable});return e},W=(e,t,n)=>(fs(e,t,"default"),n&&fs(n,t,"default")),rt=(e,t,n)=>(Lr(e,typeof t!="symbol"?t+"":t,n),n),Fr=(e,t,n)=>new Promise((r,o)=>{var a=i=>{try{l(n.next(i))}catch(u){o(u)}},s=i=>{try{l(n.throw(i))}catch(u){o(u)}},l=i=>i.done?r(i.value):Promise.resolve(i.value).then(a,s);l((n=n.apply(e,t)).next())}),Ut={};X(Ut,{default:()=>Nu});W(Ut,Au);var ms,hs,Nu=(hs=(ms=Rr.default)==null?void 0:ms.default)!=null?hs:Rr.default,Xr={};X(Xr,{default:()=>zu});W(Xr,Pu);var bs,ys,zu=(ys=(bs=Vr.default)==null?void 0:bs.default)!=null?ys:Vr.default,Ye={};X(Ye,{default:()=>Fu});W(Ye,Uu);var vs,Cs,Fu=(Cs=(vs=Mr.default)==null?void 0:vs.default)!=null?Cs:Mr.default,Fs=e=>typeof e=="string"&&!!e.match(/^[0-9a-zA-Z_-]+$/),ce=class{constructor({action:e,status:t,message:n,response:r,request:o}){rt(this,"action"),rt(this,"status"),rt(this,"message"),rt(this,"response"),rt(this,"request"),this.action=e,this.status=t,this.message=n,this.response=r,this.request=o}},Xs={};X(Xs,{default:()=>Ws});W(Xs,Xu);var Ts,xs,Ws=(xs=(Ts=_r.default)==null?void 0:Ts.default)!=null?xs:_r.default,Ys={};X(Ys,{default:()=>js});W(Ys,Wu);var Os,ws,js=(ws=(Os=Ir.default)==null?void 0:Os.default)!=null?ws:Ir.default,Hs={};X(Hs,{default:()=>ju});W(Hs,Yu);var Ss,Es,ju=(Es=(Ss=Dr.default)==null?void 0:Ss.default)!=null?Es:Dr.default,Bs={};X(Bs,{default:()=>at});W(Bs,Hu);var Ls,Rs,at=(Rs=(Ls=kr.default)==null?void 0:Ls.default)!=null?Rs:kr.default,Gs={};X(Gs,{default:()=>zt});W(Gs,Bu);var Vs,Ms,zt=(Ms=(Vs=Ar.default)==null?void 0:Vs.default)!=null?Ms:Ar.default,$s={};X($s,{default:()=>Ks});W($s,Gu);var _s,Is,Ks=(Is=(_s=Nr.default)==null?void 0:_s.default)!=null?Is:Nr.default,Js={};X(Js,{default:()=>Ku});W(Js,$u);var Ds,ks,Ku=(ks=(Ds=Pr.default)==null?void 0:Ds.default)!=null?ks:Pr.default;var As=e=>!!at(pt,["inputs",e]);var Ju=e=>at(e,"options.token","")==="global_time";var qs=e=>{let t=Ws(e),n=at(t,"layout.globalInputs",[]);Ks(n,a=>As(a));let r=at(t,"inputs",{});return js(r,(a,s)=>{As(s)&&zt(t,["inputs",s])}),Object.values(r).filter(Ju).length===0&&(zt(t,'defaults.dataSources["ds.search"].options.queryParameters.earliest'),zt(t,'defaults.dataSources["ds.search"].options.queryParameters.latest')),t};var U={};X(U,{default:()=>Zu});W(U,qu);var Ns,Ps,Zu=(Ps=(Ns=zr.default)==null?void 0:Ns.default)!=null?Ps:zr.default,ot="fail",Qu="success",Nf=(0,U._)("Successfully added to existing dashboard"),Pf=(0,U._)("Failed to add to existing dashboard"),zf=(0,U._)("Successfully saved to dashboard"),Uf=(0,U._)("Failed to save to dashboard"),ec=(0,U._)("Successfully cloned dashboard"),tc=(0,U._)("Failed to clone dashboard"),Ff=(0,U._)("Missing required parameters: id, simpleXmlVizDef"),zs=(0,U._)('Invalid layout field, requires "absolute" or "grid"'),nc=(0,U._)("Missing required parameters: id, simpleXmlDefinition"),Ft=(0,U._)("Dashboard ID can only use letters, numbers, dashes, & underscores.");var Wf=e=>Fr(void 0,[e],function*({simpleXmlString:t,layout:n="absolute",app:r,simpleXmlDashboardId:o}){let a=yield wr(t,n,r,o);return a.response.definition=qs(a.response.definition),new ce(Pt({action:"convertDashboard",request:{simpleXmlString:t}},a))}),rc=e=>Fr(void 0,null,function*(){let{id:t,definition:n={},title:r=n.title,description:o=n.description,app:a=Ye.app,action:s="cloneUdfDashboard",owner:l=Ye.username,sharing:i,theme:u,assets:d,viewOptions:c,conversionReport:g,tags:f,conversionReportFlag:b=!0}=e;if(!Fs(t))return new ce({action:s,status:ot,message:Ft,response:{errors:[{error:Ft}]},request:e});let C=gs(Pt({},n),{title:r,description:o});try{yield so(Pt(gs(Pt({id:t,app:a,owner:l,definition:C,sharing:i,theme:u,assets:d},c),{tags:f}),x(b,{conversionReport:g})));let T=(0,Xr.createURL)(`app/${a}/${t}`);return new ce({action:s,status:Qu,message:ec,response:{id:t,title:r,dashboardURL:T,conversionReport:g},request:e})}catch(T){let{message:O}=T;return new ce({action:s,status:ot,message:O,response:{errors:[{error:O}],conversionReport:g},request:e})}}),Yf=e=>Fr(void 0,null,function*(){var t;let{id:n,title:r,description:o,app:a=Ye.app,owner:s=Ye.username,layout:l,sharing:i,assets:u,simpleXmlDefinition:d,simpleXmlDashboardId:c,conversionReportFlag:g=!0}=e,f="cloneSimpleXmlToUdf";if(!l||l!=="absolute"&&l!=="grid")return new ce({action:f,status:ot,message:zs,response:{errors:[{error:zs}]},request:e});if(!n||!d)return new ce({action:f,status:ot,message:tc,response:{errors:[{error:nc}]},request:e});if(!Fs(n))return new ce({action:f,status:ot,message:Ft,response:{errors:[{error:Ft}]},request:e});let b=yield wr(d,l,a,c),C=(0,Ut.get)(b,"response.definition"),T=(t=b==null?void 0:b.response)!=null?t:{},{conversionReport:O,tags:E,hideEdit:R,hideExport:P}=T;C=qs(C);let $=(0,Ut.get)(b,"response.theme");return rc({id:n,title:r,description:o,app:a,action:f,owner:s,definition:C,sharing:i,theme:$,assets:u,conversionReport:O,conversionReportFlag:g,tags:E,viewOptions:{hideEdit:R,hideExport:P}})});var oc={_new:!0,alerts:!0,analytics_workspace:!0,dashboard:!0,dashboards:!0,datasets:!0,home:!0,reports:!0,search:!0},Bf=e=>oc[e];export{vo as a,vu as b,ot as c,Qu as d,Wf as e,rc as f,Yf as g,Bf as h};
