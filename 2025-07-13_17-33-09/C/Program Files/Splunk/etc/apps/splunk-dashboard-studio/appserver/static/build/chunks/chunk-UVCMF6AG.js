import{fa as rg,pa as gT,qa as _T,sa as qn}from"./chunk-VWCNWZTS.js";import{b as tg,qa as yT,ra as vT,ta as Fs,ua as Uo}from"./chunk-NP732JJA.js";import{b as ce,c as Ze,g as R,i as hn,o as ir}from"./chunk-FOXWPXSG.js";var ng=R((Ls,Lo)=>{/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){function t(I,x,d){switch(d.length){case 0:return I.call(x);case 1:return I.call(x,d[0]);case 2:return I.call(x,d[0],d[1]);case 3:return I.call(x,d[0],d[1],d[2])}return I.apply(x,d)}function e(I,x,d,X){for(var oe=-1,ee=I==null?0:I.length;++oe<ee;){var _r=I[oe];x(X,_r,d(_r),I)}return X}function r(I,x){for(var d=-1,X=I==null?0:I.length;++d<X&&x(I[d],d,I)!==!1;);return I}function s(I,x){for(var d=I==null?0:I.length;d--&&x(I[d],d,I)!==!1;);return I}function o(I,x){for(var d=-1,X=I==null?0:I.length;++d<X;)if(!x(I[d],d,I))return!1;return!0}function u(I,x){for(var d=-1,X=I==null?0:I.length,oe=0,ee=[];++d<X;){var _r=I[d];x(_r,d,I)&&(ee[oe++]=_r)}return ee}function c(I,x){return!!(I!=null&&I.length)&&k(I,x,0)>-1}function f(I,x,d){for(var X=-1,oe=I==null?0:I.length;++X<oe;)if(d(x,I[X]))return!0;return!1}function h(I,x){for(var d=-1,X=I==null?0:I.length,oe=Array(X);++d<X;)oe[d]=x(I[d],d,I);return oe}function m(I,x){for(var d=-1,X=x.length,oe=I.length;++d<X;)I[oe+d]=x[d];return I}function y(I,x,d,X){var oe=-1,ee=I==null?0:I.length;for(X&&ee&&(d=I[++oe]);++oe<ee;)d=x(d,I[oe],oe,I);return d}function g(I,x,d,X){var oe=I==null?0:I.length;for(X&&oe&&(d=I[--oe]);oe--;)d=x(d,I[oe],oe,I);return d}function T(I,x){for(var d=-1,X=I==null?0:I.length;++d<X;)if(x(I[d],d,I))return!0;return!1}function O(I){return I.split("")}function E(I){return I.match(Il)||[]}function S(I,x,d){var X;return d(I,function(oe,ee,_r){if(x(oe,ee,_r))return X=ee,!1}),X}function j(I,x,d,X){for(var oe=I.length,ee=d+(X?1:-1);X?ee--:++ee<oe;)if(x(I[ee],ee,I))return ee;return-1}function k(I,x,d){return x===x?me(I,x,d):j(I,H,d)}function B(I,x,d,X){for(var oe=d-1,ee=I.length;++oe<ee;)if(X(I[oe],x))return oe;return-1}function H(I){return I!==I}function Q(I,x){var d=I==null?0:I.length;return d?bt(I,x)/d:Ts}function z(I){return function(x){return x==null?$:x[I]}}function Ce(I){return function(x){return I==null?$:I[x]}}function ft(I,x,d,X,oe){return oe(I,function(ee,_r,Ml){d=X?(X=!1,ee):x(d,ee,_r,Ml)}),d}function rr(I,x){var d=I.length;for(I.sort(x);d--;)I[d]=I[d].value;return I}function bt(I,x){for(var d,X=-1,oe=I.length;++X<oe;){var ee=x(I[X]);ee!==$&&(d=d===$?ee:d+ee)}return d}function He(I,x){for(var d=-1,X=Array(I);++d<I;)X[d]=x(d);return X}function Mt(I,x){return h(x,function(d){return[d,I[d]]})}function Nt(I){return I&&I.slice(0,nr(I)+1).replace(kn,"")}function st(I){return function(x){return I(x)}}function Ht(I,x){return h(x,function(d){return I[d]})}function Gt(I,x){return I.has(x)}function ca(I,x){for(var d=-1,X=I.length;++d<X&&k(x,I[d],0)>-1;);return d}function un(I,x){for(var d=I.length;d--&&k(x,I[d],0)>-1;);return d}function mr(I,x){for(var d=I.length,X=0;d--;)I[d]===x&&++X;return X}function Dr(I){return"\\"+rE[I]}function la(I,x){return I==null?$:I[x]}function yr(I){return Jb.test(I)}function fa(I){return Yb.test(I)}function U(I){for(var x,d=[];!(x=I.next()).done;)d.push(x.value);return d}function J(I){var x=-1,d=Array(I.size);return I.forEach(function(X,oe){d[++x]=[oe,X]}),d}function V(I,x){return function(d){return I(x(d))}}function q(I,x){for(var d=-1,X=I.length,oe=0,ee=[];++d<X;){var _r=I[d];_r!==x&&_r!==Ns||(I[d]=Ns,ee[oe++]=d)}return ee}function L(I){var x=-1,d=Array(I.size);return I.forEach(function(X){d[++x]=X}),d}function G(I){var x=-1,d=Array(I.size);return I.forEach(function(X){d[++x]=[X,X]}),d}function me(I,x,d){for(var X=d-1,oe=I.length;++X<oe;)if(I[X]===x)return X;return-1}function pt(I,x,d){for(var X=d+1;X--;)if(I[X]===x)return X;return X}function Tt(I){return yr(I)?vr(I):oE(I)}function rt(I){return yr(I)?yo(I):O(I)}function nr(I){for(var x=I.length;x--&&Ba.test(I.charAt(x)););return x}function vr(I){for(var x=Dl.lastIndex=0;Dl.test(I);)++x;return x}function yo(I){return I.match(Dl)||[]}function eu(I){return I.match(Bb)||[]}var $,tu="4.17.21",vo=200,da="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",mt="Expected a function",ru="Invalid `variable` option passed into `_.template`",go="__lodash_hash_undefined__",_l=500,Ns="__lodash_placeholder__",Sn=1,Fr=2,Lr=4,zn=1,za=2,Ct=1,Pn=2,nu=4,zr=8,Kn=16,Et=32,ha=64,cn=128,Ka=256,_o=512,$l=30,wl="...",pa=800,bl=16,$o=1,El=2,wo=3,On=1/0,Nn=9007199254740991,au=17976931348623157e292,Ts=NaN,qr=4294967295,b=qr-1,_=qr>>>1,N=[["ary",cn],["bind",Ct],["bindKey",Pn],["curry",zr],["curryRight",Kn],["flip",_o],["partial",Et],["partialRight",ha],["rearg",Ka]],C="[object Arguments]",D="[object Array]",Y="[object AsyncFunction]",fe="[object Boolean]",$e="[object Date]",ze="[object DOMException]",ot="[object Error]",we="[object Function]",nt="[object GeneratorFunction]",Ke="[object Map]",Be="[object Number]",Re="[object Null]",xe="[object Object]",Ge="[object Promise]",Wn="[object Proxy]",It="[object RegExp]",dt="[object Set]",Me="[object String]",Rt="[object Symbol]",gr="[object Undefined]",Bt="[object WeakMap]",Hn="[object WeakSet]",ar="[object ArrayBuffer]",Kr="[object DataView]",ma="[object Float32Array]",ya="[object Float64Array]",Tn="[object Int8Array]",In="[object Int16Array]",xr="[object Int32Array]",jn="[object Uint8Array]",Wa="[object Uint8ClampedArray]",ln="[object Uint16Array]",bo="[object Uint32Array]",Sl=/\b__p \+= '';/g,su=/\b(__p \+=) '' \+/g,Ha=/(__e\(.*?\)|\b__t\)) \+\n'';/g,va=/&(?:amp|lt|gt|quot|#39);/g,Eo=/[&<>"']/g,Ga=RegExp(va.source),Pl=RegExp(Eo.source),ou=/<%-([\s\S]+?)%>/g,Ol=/<%([\s\S]+?)%>/g,Wr=/<%=([\s\S]+?)%>/g,ga=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,So=/^\w*$/,Is=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,An=/[\\^$.*+?()[\]{}|]/g,km=RegExp(An.source),kn=/^\s+/,Ba=/\s/,iu=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nl=/\{\n\/\* \[wrapped with (.+)\] \*/,Tl=/,? & /,Il=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cm=/[()=,{}\[\]\/\s]/,Rm=/\\(\\)?/g,Dm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jl=/\w*$/,qm=/^[-+]0x[0-9a-f]+$/i,xm=/^0b[01]+$/i,Mm=/^\[object .+?Constructor\]$/,Ob=/^0o[0-7]+$/i,Nb=/^(?:0|[1-9]\d*)$/,Tb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uu=/($^)/,Ib=/['\n\r\u2028\u2029\\]/g,cu="\\ud800-\\udfff",jb="\\u0300-\\u036f",Ab="\\ufe20-\\ufe2f",kb="\\u20d0-\\u20ff",Vm=jb+Ab+kb,Um="\\u2700-\\u27bf",Fm="a-z\\xdf-\\xf6\\xf8-\\xff",Cb="\\xac\\xb1\\xd7\\xf7",Rb="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Db="\\u2000-\\u206f",qb=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lm="A-Z\\xc0-\\xd6\\xd8-\\xde",zm="\\ufe0e\\ufe0f",Km=Cb+Rb+Db+qb,Al="['\u2019]",xb="["+cu+"]",Wm="["+Km+"]",lu="["+Vm+"]",Hm="\\d+",Mb="["+Um+"]",Gm="["+Fm+"]",Bm="[^"+cu+Km+Hm+Um+Fm+Lm+"]",kl="\\ud83c[\\udffb-\\udfff]",Vb="(?:"+lu+"|"+kl+")",Jm="[^"+cu+"]",Cl="(?:\\ud83c[\\udde6-\\uddff]){2}",Rl="[\\ud800-\\udbff][\\udc00-\\udfff]",js="["+Lm+"]",Ym="\\u200d",Zm="(?:"+Gm+"|"+Bm+")",Ub="(?:"+js+"|"+Bm+")",Qm="(?:"+Al+"(?:d|ll|m|re|s|t|ve))?",Xm="(?:"+Al+"(?:D|LL|M|RE|S|T|VE))?",ey=Vb+"?",ty="["+zm+"]?",Fb="(?:"+Ym+"(?:"+[Jm,Cl,Rl].join("|")+")"+ty+ey+")*",Lb="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",zb="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ry=ty+ey+Fb,Kb="(?:"+[Mb,Cl,Rl].join("|")+")"+ry,Wb="(?:"+[Jm+lu+"?",lu,Cl,Rl,xb].join("|")+")",Hb=RegExp(Al,"g"),Gb=RegExp(lu,"g"),Dl=RegExp(kl+"(?="+kl+")|"+Wb+ry,"g"),Bb=RegExp([js+"?"+Gm+"+"+Qm+"(?="+[Wm,js,"$"].join("|")+")",Ub+"+"+Xm+"(?="+[Wm,js+Zm,"$"].join("|")+")",js+"?"+Zm+"+"+Qm,js+"+"+Xm,zb,Lb,Hm,Kb].join("|"),"g"),Jb=RegExp("["+Ym+cu+Vm+zm+"]"),Yb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Zb=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qb=-1,it={};it[ma]=it[ya]=it[Tn]=it[In]=it[xr]=it[jn]=it[Wa]=it[ln]=it[bo]=!0,it[C]=it[D]=it[ar]=it[fe]=it[Kr]=it[$e]=it[ot]=it[we]=it[Ke]=it[Be]=it[xe]=it[It]=it[dt]=it[Me]=it[Bt]=!1;var at={};at[C]=at[D]=at[ar]=at[Kr]=at[fe]=at[$e]=at[ma]=at[ya]=at[Tn]=at[In]=at[xr]=at[Ke]=at[Be]=at[xe]=at[It]=at[dt]=at[Me]=at[Rt]=at[jn]=at[Wa]=at[ln]=at[bo]=!0,at[ot]=at[we]=at[Bt]=!1;var Xb={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},eE={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tE={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rE={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nE=parseFloat,aE=parseInt,ny=typeof self=="object"&&self&&self.Object===Object&&self,sE=typeof self=="object"&&self&&self.Object===Object&&self,Dt=ny||sE||Function("return this")(),ql=typeof Ls=="object"&&Ls&&!Ls.nodeType&&Ls,Ja=ql&&typeof Lo=="object"&&Lo&&!Lo.nodeType&&Lo,ay=Ja&&Ja.exports===ql,xl=ay&&ny.process,Hr=function(){try{var I=Ja&&Ja.require&&Ja.require("util").types;return I||xl&&xl.binding&&xl.binding("util")}catch(x){}}(),sy=Hr&&Hr.isArrayBuffer,oy=Hr&&Hr.isDate,iy=Hr&&Hr.isMap,uy=Hr&&Hr.isRegExp,cy=Hr&&Hr.isSet,ly=Hr&&Hr.isTypedArray,oE=z("length"),iE=Ce(Xb),uE=Ce(eE),cE=Ce(tE),lE=function I(x){function d(n){if(_t(n)&&!pe(n)&&!(n instanceof ee)){if(n instanceof oe)return n;if(Ye.call(n,"__wrapped__"))return av(n)}return new oe(n)}function X(){}function oe(n,a){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=$}function ee(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qr,this.__views__=[]}function _r(){var n=new ee(this.__wrapped__);return n.__actions__=$r(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=$r(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=$r(this.__views__),n}function Ml(){if(this.__filtered__){var n=new ee(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function fE(){var n=this.__wrapped__.value(),a=this.__dir__,i=pe(n),l=a<0,p=i?n.length:0,v=$S(0,p,this.__views__),w=v.start,P=v.end,A=P-w,F=l?P:w-1,M=this.__iteratees__,K=M.length,Z=0,te=Jt(A,this.__takeCount__);if(!i||!l&&p==A&&te==A)return Ay(n,this.__actions__);var ae=[];e:for(;A--&&Z<te;){F+=a;for(var ye=-1,se=n[F];++ye<K;){var Ne=M[ye],Te=Ne.iteratee,Zt=Ne.type,Sr=Te(se);if(Zt==El)se=Sr;else if(!Sr){if(Zt==$o)continue e;break e}}ae[Z++]=se}return ae}function Ya(n){var a=-1,i=n==null?0:n.length;for(this.clear();++a<i;){var l=n[a];this.set(l[0],l[1])}}function dE(){this.__data__=qo?qo(null):{},this.size=0}function hE(n){var a=this.has(n)&&delete this.__data__[n];return this.size-=a?1:0,a}function pE(n){var a=this.__data__;if(qo){var i=a[n];return i===go?$:i}return Ye.call(a,n)?a[n]:$}function mE(n){var a=this.__data__;return qo?a[n]!==$:Ye.call(a,n)}function yE(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=qo&&a===$?go:a,this}function Gn(n){var a=-1,i=n==null?0:n.length;for(this.clear();++a<i;){var l=n[a];this.set(l[0],l[1])}}function vE(){this.__data__=[],this.size=0}function gE(n){var a=this.__data__,i=fu(a,n);return!(i<0)&&(i==a.length-1?a.pop():Vu.call(a,i,1),--this.size,!0)}function _E(n){var a=this.__data__,i=fu(a,n);return i<0?$:a[i][1]}function $E(n){return fu(this.__data__,n)>-1}function wE(n,a){var i=this.__data__,l=fu(i,n);return l<0?(++this.size,i.push([n,a])):i[l][1]=a,this}function Bn(n){var a=-1,i=n==null?0:n.length;for(this.clear();++a<i;){var l=n[a];this.set(l[0],l[1])}}function bE(){this.size=0,this.__data__={hash:new Ya,map:new(Ro||Gn),string:new Ya}}function EE(n){var a=Eu(this,n).delete(n);return this.size-=a?1:0,a}function SE(n){return Eu(this,n).get(n)}function PE(n){return Eu(this,n).has(n)}function OE(n,a){var i=Eu(this,n),l=i.size;return i.set(n,a),this.size+=i.size==l?0:1,this}function Za(n){var a=-1,i=n==null?0:n.length;for(this.__data__=new Bn;++a<i;)this.add(n[a])}function NE(n){return this.__data__.set(n,go),this}function TE(n){return this.__data__.has(n)}function fn(n){this.size=(this.__data__=new Gn(n)).size}function IE(){this.__data__=new Gn,this.size=0}function jE(n){var a=this.__data__,i=a.delete(n);return this.size=a.size,i}function AE(n){return this.__data__.get(n)}function kE(n){return this.__data__.has(n)}function CE(n,a){var i=this.__data__;if(i instanceof Gn){var l=i.__data__;if(!Ro||l.length<vo-1)return l.push([n,a]),this.size=++i.size,this;i=this.__data__=new Bn(l)}return i.set(n,a),this.size=i.size,this}function fy(n,a){var i=pe(n),l=!i&&ns(n),p=!i&&!l&&Pa(n),v=!i&&!l&&!p&&Us(n),w=i||l||p||v,P=w?He(n.length,IO):[],A=P.length;for(var F in n)!a&&!Ye.call(n,F)||w&&(F=="length"||p&&(F=="offset"||F=="parent")||v&&(F=="buffer"||F=="byteLength"||F=="byteOffset")||Qn(F,A))||P.push(F);return P}function dy(n){var a=n.length;return a?n[Bl(0,a-1)]:$}function RE(n,a){return Su($r(n),Qa(a,0,n.length))}function DE(n){return Su($r(n))}function Vl(n,a,i){(i===$||dn(n[a],i))&&(i!==$||a in n)||Jn(n,a,i)}function Po(n,a,i){var l=n[a];Ye.call(n,a)&&dn(l,i)&&(i!==$||a in n)||Jn(n,a,i)}function fu(n,a){for(var i=n.length;i--;)if(dn(n[i][0],a))return i;return-1}function qE(n,a,i,l){return Sa(n,function(p,v,w){a(l,p,i(p),w)}),l}function hy(n,a){return n&&Rn(a,qt(a),n)}function xE(n,a){return n&&Rn(a,br(a),n)}function Jn(n,a,i){a=="__proto__"&&Uu?Uu(n,a,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[a]=i}function Ul(n,a){for(var i=-1,l=a.length,p=jt(l),v=n==null;++i<l;)p[i]=v?$:pf(n,a[i]);return p}function Qa(n,a,i){return n===n&&(i!==$&&(n=n<=i?n:i),a!==$&&(n=n>=a?n:a)),n}function Gr(n,a,i,l,p,v){var w,P=a&Sn,A=a&Fr,F=a&Lr;if(i&&(w=p?i(n,l,p,v):i(n)),w!==$)return w;if(!yt(n))return n;var M=pe(n);if(M){if(w=bS(n),!P)return $r(n,w)}else{var K=Yt(n),Z=K==we||K==nt;if(Pa(n))return Cy(n,P);if(K==xe||K==C||Z&&!p){if(w=A||Z?{}:Zy(n),!P)return A?dS(n,xE(w,n)):fS(n,hy(w,n))}else{if(!at[K])return p?n:{};w=ES(n,K,P)}}v||(v=new fn);var te=v.get(n);if(te)return te;v.set(n,w),Bv(n)?n.forEach(function(se){w.add(Gr(se,a,i,se,n,v))}):Gv(n)&&n.forEach(function(se,Ne){w.set(Ne,Gr(se,a,i,Ne,n,v))});var ae=F?A?sf:af:A?br:qt,ye=M?$:ae(n);return r(ye||n,function(se,Ne){ye&&(Ne=se,se=n[Ne]),Po(w,Ne,Gr(se,a,i,Ne,n,v))}),w}function ME(n){var a=qt(n);return function(i){return py(i,n,a)}}function py(n,a,i){var l=i.length;if(n==null)return!l;for(n=ut(n);l--;){var p=i[l],v=a[p],w=n[p];if(w===$&&!(p in n)||!v(w))return!1}return!0}function my(n,a,i){if(typeof n!="function")throw new Zr(mt);return Mo(function(){n.apply($,i)},a)}function Oo(n,a,i,l){var p=-1,v=c,w=!0,P=n.length,A=[],F=a.length;if(!P)return A;i&&(a=h(a,st(i))),l?(v=f,w=!1):a.length>=vo&&(v=Gt,w=!1,a=new Za(a));e:for(;++p<P;){var M=n[p],K=i==null?M:i(M);if(M=l||M!==0?M:0,w&&K===K){for(var Z=F;Z--;)if(a[Z]===K)continue e;A.push(M)}else v(a,K,l)||A.push(M)}return A}function VE(n,a){var i=!0;return Sa(n,function(l,p,v){return i=!!a(l,p,v)}),i}function du(n,a,i){for(var l=-1,p=n.length;++l<p;){var v=n[l],w=a(v);if(w!=null&&(P===$?w===w&&!Vr(w):i(w,P)))var P=w,A=v}return A}function UE(n,a,i,l){var p=n.length;for(i=ve(i),i<0&&(i=-i>p?0:p+i),l=l===$||l>p?p:ve(l),l<0&&(l+=p),l=i>l?0:bv(l);i<l;)n[i++]=a;return n}function yy(n,a){var i=[];return Sa(n,function(l,p,v){a(l,p,v)&&i.push(l)}),i}function Vt(n,a,i,l,p){var v=-1,w=n.length;for(i||(i=PS),p||(p=[]);++v<w;){var P=n[v];a>0&&i(P)?a>1?Vt(P,a-1,i,l,p):m(p,P):l||(p[p.length]=P)}return p}function Cn(n,a){return n&&Nf(n,a,qt)}function Fl(n,a){return n&&Vv(n,a,qt)}function hu(n,a){return u(a,function(i){return Xn(n[i])})}function Xa(n,a){a=wa(a,n);for(var i=0,l=a.length;n!=null&&i<l;)n=n[Dn(a[i++])];return i&&i==l?n:$}function vy(n,a,i){var l=a(n);return pe(n)?l:m(l,i(n))}function sr(n){return n==null?n===$?gr:Re:rs&&rs in ut(n)?_S(n):AS(n)}function Ll(n,a){return n>a}function FE(n,a){return n!=null&&Ye.call(n,a)}function LE(n,a){return n!=null&&a in ut(n)}function zE(n,a,i){return n>=Jt(a,i)&&n<At(a,i)}function zl(n,a,i){for(var l=i?f:c,p=n[0].length,v=n.length,w=v,P=jt(v),A=1/0,F=[];w--;){var M=n[w];w&&a&&(M=h(M,st(a))),A=Jt(M.length,A),P[w]=!i&&(a||p>=120&&M.length>=120)?new Za(w&&M):$}M=n[0];var K=-1,Z=P[0];e:for(;++K<p&&F.length<A;){var te=M[K],ae=a?a(te):te;if(te=i||te!==0?te:0,!(Z?Gt(Z,ae):l(F,ae,i))){for(w=v;--w;){var ye=P[w];if(!(ye?Gt(ye,ae):l(n[w],ae,i)))continue e}Z&&Z.push(ae),F.push(te)}}return F}function KE(n,a,i,l){return Cn(n,function(p,v,w){a(l,i(p),v,w)}),l}function No(n,a,i){a=wa(a,n),n=tv(n,a);var l=n==null?n:n[Dn(Jr(a))];return l==null?$:t(l,n,i)}function gy(n){return _t(n)&&sr(n)==C}function WE(n){return _t(n)&&sr(n)==ar}function HE(n){return _t(n)&&sr(n)==$e}function To(n,a,i,l,p){return n===a||(n==null||a==null||!_t(n)&&!_t(a)?n!==n&&a!==a:GE(n,a,i,l,To,p))}function GE(n,a,i,l,p,v){var w=pe(n),P=pe(a),A=w?D:Yt(n),F=P?D:Yt(a);A=A==C?xe:A,F=F==C?xe:F;var M=A==xe,K=F==xe,Z=A==F;if(Z&&Pa(n)){if(!Pa(a))return!1;w=!0,M=!1}if(Z&&!M)return v||(v=new fn),w||Us(n)?Jy(n,a,i,l,p,v):vS(n,a,A,i,l,p,v);if(!(i&zn)){var te=M&&Ye.call(n,"__wrapped__"),ae=K&&Ye.call(a,"__wrapped__");if(te||ae){var ye=te?n.value():n,se=ae?a.value():a;return v||(v=new fn),p(ye,se,i,l,v)}}return!!Z&&(v||(v=new fn),gS(n,a,i,l,p,v))}function BE(n){return _t(n)&&Yt(n)==Ke}function Kl(n,a,i,l){var p=i.length,v=p,w=!l;if(n==null)return!v;for(n=ut(n);p--;){var P=i[p];if(w&&P[2]?P[1]!==n[P[0]]:!(P[0]in n))return!1}for(;++p<v;){P=i[p];var A=P[0],F=n[A],M=P[1];if(w&&P[2]){if(F===$&&!(A in n))return!1}else{var K=new fn;if(l)var Z=l(F,M,A,n,a,K);if(!(Z===$?To(M,F,zn|za,l,K):Z))return!1}}return!0}function _y(n){return!(!yt(n)||NS(n))&&(Xn(n)?RO:Mm).test(ts(n))}function JE(n){return _t(n)&&sr(n)==It}function YE(n){return _t(n)&&Yt(n)==dt}function ZE(n){return _t(n)&&Iu(n.length)&&!!it[sr(n)]}function $y(n){return typeof n=="function"?n:n==null?Er:typeof n=="object"?pe(n)?Ey(n[0],n[1]):by(n):Tv(n)}function Wl(n){if(!Ao(n))return UO(n);var a=[];for(var i in ut(n))Ye.call(n,i)&&i!="constructor"&&a.push(i);return a}function QE(n){if(!yt(n))return jS(n);var a=Ao(n),i=[];for(var l in n)(l!="constructor"||!a&&Ye.call(n,l))&&i.push(l);return i}function Hl(n,a){return n<a}function wy(n,a){var i=-1,l=wr(n)?jt(n.length):[];return Sa(n,function(p,v,w){l[++i]=a(p,v,w)}),l}function by(n){var a=of(n);return a.length==1&&a[0][2]?Xy(a[0][0],a[0][1]):function(i){return i===n||Kl(i,n,a)}}function Ey(n,a){return uf(n)&&Qy(a)?Xy(Dn(n),a):function(i){var l=pf(i,n);return l===$&&l===a?mf(i,n):To(a,l,zn|za)}}function pu(n,a,i,l,p){n!==a&&Nf(a,function(v,w){if(p||(p=new fn),yt(v))XE(n,a,w,i,pu,l,p);else{var P=l?l(lf(n,w),v,w+"",n,a,p):$;P===$&&(P=v),Vl(n,w,P)}},br)}function XE(n,a,i,l,p,v,w){var P=lf(n,i),A=lf(a,i),F=w.get(A);if(F)return Vl(n,i,F),$;var M=v?v(P,A,i+"",n,a,w):$,K=M===$;if(K){var Z=pe(A),te=!Z&&Pa(A),ae=!Z&&!te&&Us(A);M=A,Z||te||ae?pe(P)?M=P:St(P)?M=$r(P):te?(K=!1,M=Cy(A,!0)):ae?(K=!1,M=Ry(A,!0)):M=[]:ko(A)||ns(A)?(M=P,ns(P)?M=Ev(P):yt(P)&&!Xn(P)||(M=Zy(A))):K=!1}K&&(w.set(A,M),p(M,A,l,v,w),w.delete(A)),Vl(n,i,M)}function Sy(n,a){var i=n.length;if(i)return a+=a<0?i:0,Qn(a,i)?n[a]:$}function Py(n,a,i){a=a.length?h(a,function(p){return pe(p)?function(v){return Xa(v,p.length===1?p[0]:p)}:p}):[Er];var l=-1;return a=h(a,st(ie())),rr(wy(n,function(p,v,w){return{criteria:h(a,function(P){return P(p)}),index:++l,value:p}}),function(p,v){return lS(p,v,i)})}function eS(n,a){return Oy(n,a,function(i,l){return mf(n,l)})}function Oy(n,a,i){for(var l=-1,p=a.length,v={};++l<p;){var w=a[l],P=Xa(n,w);i(P,w)&&Io(v,wa(w,n),P)}return v}function tS(n){return function(a){return Xa(a,n)}}function Gl(n,a,i,l){var p=l?B:k,v=-1,w=a.length,P=n;for(n===a&&(a=$r(a)),i&&(P=h(n,st(i)));++v<w;)for(var A=0,F=a[v],M=i?i(F):F;(A=p(P,M,A,l))>-1;)P!==n&&Vu.call(P,A,1),Vu.call(n,A,1);return n}function Ny(n,a){for(var i=n?a.length:0,l=i-1;i--;){var p=a[i];if(i==l||p!==v){var v=p;Qn(p)?Vu.call(n,p,1):Zl(n,p)}}return n}function Bl(n,a){return n+Lu(qv()*(a-n+1))}function rS(n,a,i,l){for(var p=-1,v=At(Fu((a-n)/(i||1)),0),w=jt(v);v--;)w[l?v:++p]=n,n+=i;return w}function Jl(n,a){var i="";if(!n||a<1||a>Nn)return i;do a%2&&(i+=n),a=Lu(a/2),a&&(n+=n);while(a);return i}function be(n,a){return jf(ev(n,a,Er),n+"")}function nS(n){return dy(Rs(n))}function aS(n,a){var i=Rs(n);return Su(i,Qa(a,0,i.length))}function Io(n,a,i,l){if(!yt(n))return n;a=wa(a,n);for(var p=-1,v=a.length,w=v-1,P=n;P!=null&&++p<v;){var A=Dn(a[p]),F=i;if(A==="__proto__"||A==="constructor"||A==="prototype")return n;if(p!=w){var M=P[A];F=l?l(M,A,P):$,F===$&&(F=yt(M)?M:Qn(a[p+1])?[]:{})}Po(P,A,F),P=P[A]}return n}function sS(n){return Su(Rs(n))}function Br(n,a,i){var l=-1,p=n.length;a<0&&(a=-a>p?0:p+a),i=i>p?p:i,i<0&&(i+=p),p=a>i?0:i-a>>>0,a>>>=0;for(var v=jt(p);++l<p;)v[l]=n[l+a];return v}function oS(n,a){var i;return Sa(n,function(l,p,v){return i=a(l,p,v),!i}),!!i}function mu(n,a,i){var l=0,p=n==null?l:n.length;if(typeof a=="number"&&a===a&&p<=_){for(;l<p;){var v=l+p>>>1,w=n[v];w!==null&&!Vr(w)&&(i?w<=a:w<a)?l=v+1:p=v}return p}return Yl(n,a,Er,i)}function Yl(n,a,i,l){var p=0,v=n==null?0:n.length;if(v===0)return 0;a=i(a);for(var w=a!==a,P=a===null,A=Vr(a),F=a===$;p<v;){var M=Lu((p+v)/2),K=i(n[M]),Z=K!==$,te=K===null,ae=K===K,ye=Vr(K);if(w)var se=l||ae;else se=F?ae&&(l||Z):P?ae&&Z&&(l||!te):A?ae&&Z&&!te&&(l||!ye):!te&&!ye&&(l?K<=a:K<a);se?p=M+1:v=M}return Jt(v,b)}function Ty(n,a){for(var i=-1,l=n.length,p=0,v=[];++i<l;){var w=n[i],P=a?a(w):w;if(!i||!dn(P,A)){var A=P;v[p++]=w===0?0:w}}return v}function Iy(n){return typeof n=="number"?n:Vr(n)?Ts:+n}function Mr(n){if(typeof n=="string")return n;if(pe(n))return h(n,Mr)+"";if(Vr(n))return xv?xv.call(n):"";var a=n+"";return a=="0"&&1/n==-On?"-0":a}function $a(n,a,i){var l=-1,p=c,v=n.length,w=!0,P=[],A=P;if(i)w=!1,p=f;else if(v>=vo){var F=a?null:ZO(n);if(F)return L(F);w=!1,p=Gt,A=new Za}else A=a?[]:P;e:for(;++l<v;){var M=n[l],K=a?a(M):M;if(M=i||M!==0?M:0,w&&K===K){for(var Z=A.length;Z--;)if(A[Z]===K)continue e;a&&A.push(K),P.push(M)}else p(A,K,i)||(A!==P&&A.push(K),P.push(M))}return P}function Zl(n,a){return a=wa(a,n),n=tv(n,a),n==null||delete n[Dn(Jr(a))]}function jy(n,a,i,l){return Io(n,a,i(Xa(n,a)),l)}function yu(n,a,i,l){for(var p=n.length,v=l?p:-1;(l?v--:++v<p)&&a(n[v],v,n););return i?Br(n,l?0:v,l?v+1:p):Br(n,l?v+1:0,l?p:v)}function Ay(n,a){var i=n;return i instanceof ee&&(i=i.value()),y(a,function(l,p){return p.func.apply(p.thisArg,m([l],p.args))},i)}function Ql(n,a,i){var l=n.length;if(l<2)return l?$a(n[0]):[];for(var p=-1,v=jt(l);++p<l;)for(var w=n[p],P=-1;++P<l;)P!=p&&(v[p]=Oo(v[p]||w,n[P],a,i));return $a(Vt(v,1),a,i)}function ky(n,a,i){for(var l=-1,p=n.length,v=a.length,w={};++l<p;)i(w,n[l],l<v?a[l]:$);return w}function Xl(n){return St(n)?n:[]}function ef(n){return typeof n=="function"?n:Er}function wa(n,a){return pe(n)?n:uf(n,a)?[n]:Kv(Je(n))}function ba(n,a,i){var l=n.length;return i=i===$?l:i,!a&&i>=l?n:Br(n,a,i)}function Cy(n,a){if(a)return n.slice();var i=n.length,l=Av?Av(i):new n.constructor(i);return n.copy(l),l}function tf(n){var a=new n.constructor(n.byteLength);return new xu(a).set(new xu(n)),a}function iS(n,a){return new n.constructor(a?tf(n.buffer):n.buffer,n.byteOffset,n.byteLength)}function uS(n){var a=new n.constructor(n.source,jl.exec(n));return a.lastIndex=n.lastIndex,a}function cS(n){return xo?ut(xo.call(n)):{}}function Ry(n,a){return new n.constructor(a?tf(n.buffer):n.buffer,n.byteOffset,n.length)}function Dy(n,a){if(n!==a){var i=n!==$,l=n===null,p=n===n,v=Vr(n),w=a!==$,P=a===null,A=a===a,F=Vr(a);if(!P&&!F&&!v&&n>a||v&&w&&A&&!P&&!F||l&&w&&A||!i&&A||!p)return 1;if(!l&&!v&&!F&&n<a||F&&i&&p&&!l&&!v||P&&i&&p||!w&&p||!A)return-1}return 0}function lS(n,a,i){for(var l=-1,p=n.criteria,v=a.criteria,w=p.length,P=i.length;++l<w;){var A=Dy(p[l],v[l]);if(A)return l>=P?A:A*(i[l]=="desc"?-1:1)}return n.index-a.index}function qy(n,a,i,l){for(var p=-1,v=n.length,w=i.length,P=-1,A=a.length,F=At(v-w,0),M=jt(A+F),K=!l;++P<A;)M[P]=a[P];for(;++p<w;)(K||p<v)&&(M[i[p]]=n[p]);for(;F--;)M[P++]=n[p++];return M}function xy(n,a,i,l){for(var p=-1,v=n.length,w=-1,P=i.length,A=-1,F=a.length,M=At(v-P,0),K=jt(M+F),Z=!l;++p<M;)K[p]=n[p];for(var te=p;++A<F;)K[te+A]=a[A];for(;++w<P;)(Z||p<v)&&(K[te+i[w]]=n[p++]);return K}function $r(n,a){var i=-1,l=n.length;for(a||(a=jt(l));++i<l;)a[i]=n[i];return a}function Rn(n,a,i,l){var p=!i;i||(i={});for(var v=-1,w=a.length;++v<w;){var P=a[v],A=l?l(i[P],n[P],P,i,n):$;A===$&&(A=n[P]),p?Jn(i,P,A):Po(i,P,A)}return i}function fS(n,a){return Rn(n,If(n),a)}function dS(n,a){return Rn(n,Lv(n),a)}function vu(n,a){return function(i,l){var p=pe(i)?e:qE,v=a?a():{};return p(i,n,ie(l,2),v)}}function As(n){return be(function(a,i){var l=-1,p=i.length,v=p>1?i[p-1]:$,w=p>2?i[2]:$;for(v=n.length>3&&typeof v=="function"?(p--,v):$,w&&or(i[0],i[1],w)&&(v=p<3?$:v,p=1),a=ut(a);++l<p;){var P=i[l];P&&n(a,P,l,v)}return a})}function My(n,a){return function(i,l){if(i==null)return i;if(!wr(i))return n(i,l);for(var p=i.length,v=a?p:-1,w=ut(i);(a?v--:++v<p)&&l(w[v],v,w)!==!1;);return i}}function Vy(n){return function(a,i,l){for(var p=-1,v=ut(a),w=l(a),P=w.length;P--;){var A=w[n?P:++p];if(i(v[A],A,v)===!1)break}return a}}function hS(n,a,i){function l(){return(this&&this!==Dt&&this instanceof l?v:n).apply(p?i:this,arguments)}var p=a&Ct,v=jo(n);return l}function Uy(n){return function(a){a=Je(a);var i=yr(a)?rt(a):$,l=i?i[0]:a.charAt(0),p=i?ba(i,1).join(""):a.slice(1);return l[n]()+p}}function ks(n){return function(a){return y(Nv(Ov(a).replace(Hb,"")),n,"")}}function jo(n){return function(){var a=arguments;switch(a.length){case 0:return new n;case 1:return new n(a[0]);case 2:return new n(a[0],a[1]);case 3:return new n(a[0],a[1],a[2]);case 4:return new n(a[0],a[1],a[2],a[3]);case 5:return new n(a[0],a[1],a[2],a[3],a[4]);case 6:return new n(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new n(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var i=Vs(n.prototype),l=n.apply(i,a);return yt(l)?l:i}}function pS(n,a,i){function l(){for(var v=arguments.length,w=jt(v),P=v,A=Cs(l);P--;)w[P]=arguments[P];var F=v<3&&w[0]!==A&&w[v-1]!==A?[]:q(w,A);return v-=F.length,v<i?Wy(n,a,gu,l.placeholder,$,w,F,$,$,i-v):t(this&&this!==Dt&&this instanceof l?p:n,this,w)}var p=jo(n);return l}function Fy(n){return function(a,i,l){var p=ut(a);if(!wr(a)){var v=ie(i,3);a=qt(a),i=function(P){return v(p[P],P,p)}}var w=n(a,i,l);return w>-1?p[v?a[w]:w]:$}}function Ly(n){return Zn(function(a){var i=a.length,l=i,p=oe.prototype.thru;for(n&&a.reverse();l--;){var v=a[l];if(typeof v!="function")throw new Zr(mt);if(p&&!w&&bu(v)=="wrapper")var w=new oe([],!0)}for(l=w?l:i;++l<i;){v=a[l];var P=bu(v),A=P=="wrapper"?Tf(v):$;w=A&&cf(A[0])&&A[1]==(cn|zr|Et|Ka)&&!A[4].length&&A[9]==1?w[bu(A[0])].apply(w,A[3]):v.length==1&&cf(v)?w[P]():w.thru(v)}return function(){var F=arguments,M=F[0];if(w&&F.length==1&&pe(M))return w.plant(M).value();for(var K=0,Z=i?a[K].apply(this,F):M;++K<i;)Z=a[K].call(this,Z);return Z}})}function gu(n,a,i,l,p,v,w,P,A,F){function M(){for(var Ne=arguments.length,Te=jt(Ne),Zt=Ne;Zt--;)Te[Zt]=arguments[Zt];if(ae)var Sr=Cs(M),Oa=mr(Te,Sr);if(l&&(Te=qy(Te,l,p,ae)),v&&(Te=xy(Te,v,w,ae)),Ne-=Oa,ae&&Ne<F)return Wy(n,a,gu,M.placeholder,i,Te,q(Te,Sr),P,A,F-Ne);var $t=Z?i:this,Qr=te?$t[n]:n;return Ne=Te.length,P?Te=kS(Te,P):ye&&Ne>1&&Te.reverse(),K&&A<Ne&&(Te.length=A),this&&this!==Dt&&this instanceof M&&(Qr=se||jo(Qr)),Qr.apply($t,Te)}var K=a&cn,Z=a&Ct,te=a&Pn,ae=a&(zr|Kn),ye=a&_o,se=te?$:jo(n);return M}function zy(n,a){return function(i,l){return KE(i,n,a(l),{})}}function _u(n,a){return function(i,l){var p;if(i===$&&l===$)return a;if(i!==$&&(p=i),l!==$){if(p===$)return l;typeof i=="string"||typeof l=="string"?(i=Mr(i),l=Mr(l)):(i=Iy(i),l=Iy(l)),p=n(i,l)}return p}}function rf(n){return Zn(function(a){return a=h(a,st(ie())),be(function(i){var l=this;return n(a,function(p){return t(p,l,i)})})})}function $u(n,a){a=a===$?" ":Mr(a);var i=a.length;if(i<2)return i?Jl(a,n):a;var l=Jl(a,Fu(n/Tt(a)));return yr(a)?ba(rt(l),0,n).join(""):l.slice(0,n)}function mS(n,a,i,l){function p(){for(var P=-1,A=arguments.length,F=-1,M=l.length,K=jt(M+A),Z=this&&this!==Dt&&this instanceof p?w:n;++F<M;)K[F]=l[F];for(;A--;)K[F++]=arguments[++P];return t(Z,v?i:this,K)}var v=a&Ct,w=jo(n);return p}function Ky(n){return function(a,i,l){return l&&typeof l!="number"&&or(a,i,l)&&(i=l=$),a=ea(a),i===$?(i=a,a=0):i=ea(i),l=l===$?a<i?1:-1:ea(l),rS(a,i,l,n)}}function wu(n){return function(a,i){return typeof a=="string"&&typeof i=="string"||(a=Yr(a),i=Yr(i)),n(a,i)}}function Wy(n,a,i,l,p,v,w,P,A,F){var M=a&zr,K=M?w:$,Z=M?$:w,te=M?v:$,ae=M?$:v;a|=M?Et:ha,a&=~(M?ha:Et),a&nu||(a&=~(Ct|Pn));var ye=[n,a,p,te,K,ae,Z,P,A,F],se=i.apply($,ye);return cf(n)&&zv(se,ye),se.placeholder=l,rv(se,n,a)}function nf(n){var a=Ds[n];return function(i,l){if(i=Yr(i),l=l==null?0:Jt(ve(l),292),l&&Dv(i)){var p=(Je(i)+"e").split("e");return p=(Je(a(p[0]+"e"+(+p[1]+l)))+"e").split("e"),+(p[0]+"e"+(+p[1]-l))}return a(i)}}function Hy(n){return function(a){var i=Yt(a);return i==Ke?J(a):i==dt?G(a):Mt(a,n(a))}}function Yn(n,a,i,l,p,v,w,P){var A=a&Pn;if(!A&&typeof n!="function")throw new Zr(mt);var F=l?l.length:0;if(F||(a&=~(Et|ha),l=p=$),w=w===$?w:At(ve(w),0),P=P===$?P:ve(P),F-=p?p.length:0,a&ha){var M=l,K=p;l=p=$}var Z=A?$:Tf(n),te=[n,a,i,l,p,M,K,v,w,P];if(Z&&IS(te,Z),n=te[0],a=te[1],i=te[2],l=te[3],p=te[4],P=te[9]=te[9]===$?A?0:n.length:At(te[9]-F,0),!P&&a&(zr|Kn)&&(a&=~(zr|Kn)),a&&a!=Ct)ae=a==zr||a==Kn?pS(n,a,P):a!=Et&&a!=(Ct|Et)||p.length?gu.apply($,te):mS(n,a,i,l);else var ae=hS(n,a,i);return rv((Z?Uv:zv)(ae,te),n,a)}function Gy(n,a,i,l){return n===$||dn(n,qs[i])&&!Ye.call(l,i)?a:n}function By(n,a,i,l,p,v){return yt(n)&&yt(a)&&(v.set(a,n),pu(n,a,$,By,v),v.delete(a)),n}function yS(n){return ko(n)?$:n}function Jy(n,a,i,l,p,v){var w=i&zn,P=n.length,A=a.length;if(P!=A&&!(w&&A>P))return!1;var F=v.get(n),M=v.get(a);if(F&&M)return F==a&&M==n;var K=-1,Z=!0,te=i&za?new Za:$;for(v.set(n,a),v.set(a,n);++K<P;){var ae=n[K],ye=a[K];if(l)var se=w?l(ye,ae,K,a,n,v):l(ae,ye,K,n,a,v);if(se!==$){if(se)continue;Z=!1;break}if(te){if(!T(a,function(Ne,Te){if(!Gt(te,Te)&&(ae===Ne||p(ae,Ne,i,l,v)))return te.push(Te)})){Z=!1;break}}else if(ae!==ye&&!p(ae,ye,i,l,v)){Z=!1;break}}return v.delete(n),v.delete(a),Z}function vS(n,a,i,l,p,v,w){switch(i){case Kr:if(n.byteLength!=a.byteLength||n.byteOffset!=a.byteOffset)return!1;n=n.buffer,a=a.buffer;case ar:return!(n.byteLength!=a.byteLength||!v(new xu(n),new xu(a)));case fe:case $e:case Be:return dn(+n,+a);case ot:return n.name==a.name&&n.message==a.message;case It:case Me:return n==a+"";case Ke:var P=J;case dt:var A=l&zn;if(P||(P=L),n.size!=a.size&&!A)return!1;var F=w.get(n);if(F)return F==a;l|=za,w.set(n,a);var M=Jy(P(n),P(a),l,p,v,w);return w.delete(n),M;case Rt:if(xo)return xo.call(n)==xo.call(a)}return!1}function gS(n,a,i,l,p,v){var w=i&zn,P=af(n),A=P.length;if(A!=af(a).length&&!w)return!1;for(var F=A;F--;){var M=P[F];if(!(w?M in a:Ye.call(a,M)))return!1}var K=v.get(n),Z=v.get(a);if(K&&Z)return K==a&&Z==n;var te=!0;v.set(n,a),v.set(a,n);for(var ae=w;++F<A;){M=P[F];var ye=n[M],se=a[M];if(l)var Ne=w?l(se,ye,M,a,n,v):l(ye,se,M,n,a,v);if(!(Ne===$?ye===se||p(ye,se,i,l,v):Ne)){te=!1;break}ae||(ae=M=="constructor")}if(te&&!ae){var Te=n.constructor,Zt=a.constructor;Te!=Zt&&"constructor"in n&&"constructor"in a&&!(typeof Te=="function"&&Te instanceof Te&&typeof Zt=="function"&&Zt instanceof Zt)&&(te=!1)}return v.delete(n),v.delete(a),te}function Zn(n){return jf(ev(n,$,iv),n+"")}function af(n){return vy(n,qt,If)}function sf(n){return vy(n,br,Lv)}function bu(n){for(var a=n.name+"",i=Ms[a],l=Ye.call(Ms,a)?i.length:0;l--;){var p=i[l],v=p.func;if(v==null||v==n)return p.name}return a}function Cs(n){return(Ye.call(d,"placeholder")?d:n).placeholder}function ie(){var n=d.iteratee||vf;return n=n===vf?$y:n,arguments.length?n(arguments[0],arguments[1]):n}function Eu(n,a){var i=n.__data__;return OS(a)?i[typeof a=="string"?"string":"hash"]:i.map}function of(n){for(var a=qt(n),i=a.length;i--;){var l=a[i],p=n[l];a[i]=[l,p,Qy(p)]}return a}function es(n,a){var i=la(n,a);return _y(i)?i:$}function _S(n){var a=Ye.call(n,rs),i=n[rs];try{n[rs]=$;var l=!0}catch(v){}var p=Du.call(n);return l&&(a?n[rs]=i:delete n[rs]),p}function $S(n,a,i){for(var l=-1,p=i.length;++l<p;){var v=i[l],w=v.size;switch(v.type){case"drop":n+=w;break;case"dropRight":a-=w;break;case"take":a=Jt(a,n+w);break;case"takeRight":n=At(n,a-w)}}return{start:n,end:a}}function wS(n){var a=n.match(Nl);return a?a[1].split(Tl):[]}function Yy(n,a,i){a=wa(a,n);for(var l=-1,p=a.length,v=!1;++l<p;){var w=Dn(a[l]);if(!(v=n!=null&&i(n,w)))break;n=n[w]}return v||++l!=p?v:(p=n==null?0:n.length,!!p&&Iu(p)&&Qn(w,p)&&(pe(n)||ns(n)))}function bS(n){var a=n.length,i=new n.constructor(a);return a&&typeof n[0]=="string"&&Ye.call(n,"index")&&(i.index=n.index,i.input=n.input),i}function Zy(n){return typeof n.constructor!="function"||Ao(n)?{}:Vs(Mu(n))}function ES(n,a,i){var l=n.constructor;switch(a){case ar:return tf(n);case fe:case $e:return new l(+n);case Kr:return iS(n,i);case ma:case ya:case Tn:case In:case xr:case jn:case Wa:case ln:case bo:return Ry(n,i);case Ke:return new l;case Be:case Me:return new l(n);case It:return uS(n);case dt:return new l;case Rt:return cS(n)}}function SS(n,a){var i=a.length;if(!i)return n;var l=i-1;return a[l]=(i>1?"& ":"")+a[l],a=a.join(i>2?", ":" "),n.replace(iu,`{
/* [wrapped with `+a+`] */
`)}function PS(n){return pe(n)||ns(n)||!!(Rv&&n&&n[Rv])}function Qn(n,a){var i=typeof n;return a=a==null?Nn:a,!!a&&(i=="number"||i!="symbol"&&Nb.test(n))&&n>-1&&n%1==0&&n<a}function or(n,a,i){if(!yt(i))return!1;var l=typeof a;return!!(l=="number"?wr(i)&&Qn(a,i.length):l=="string"&&a in i)&&dn(i[a],n)}function uf(n,a){if(pe(n))return!1;var i=typeof n;return!(i!="number"&&i!="symbol"&&i!="boolean"&&n!=null&&!Vr(n))||So.test(n)||!ga.test(n)||a!=null&&n in ut(a)}function OS(n){var a=typeof n;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?n!=="__proto__":n===null}function cf(n){var a=bu(n),i=d[a];if(typeof i!="function"||!(a in ee.prototype))return!1;if(n===i)return!0;var l=Tf(i);return!!l&&n===l[0]}function NS(n){return!!jv&&jv in n}function Ao(n){var a=n&&n.constructor;return n===(typeof a=="function"&&a.prototype||qs)}function Qy(n){return n===n&&!yt(n)}function Xy(n,a){return function(i){return i!=null&&i[n]===a&&(a!==$||n in ut(i))}}function TS(n){var a=Nu(n,function(l){return i.size===_l&&i.clear(),l}),i=a.cache;return a}function IS(n,a){var i=n[1],l=a[1],p=i|l,v=p<(Ct|Pn|cn),w=l==cn&&i==zr||l==cn&&i==Ka&&n[7].length<=a[8]||l==(cn|Ka)&&a[7].length<=a[8]&&i==zr;if(!v&&!w)return n;l&Ct&&(n[2]=a[2],p|=i&Ct?0:nu);var P=a[3];if(P){var A=n[3];n[3]=A?qy(A,P,a[4]):P,n[4]=A?q(n[3],Ns):a[4]}return P=a[5],P&&(A=n[5],n[5]=A?xy(A,P,a[6]):P,n[6]=A?q(n[5],Ns):a[6]),P=a[7],P&&(n[7]=P),l&cn&&(n[8]=n[8]==null?a[8]:Jt(n[8],a[8])),n[9]==null&&(n[9]=a[9]),n[0]=a[0],n[1]=p,n}function jS(n){var a=[];if(n!=null)for(var i in ut(n))a.push(i);return a}function AS(n){return Du.call(n)}function ev(n,a,i){return a=At(a===$?n.length-1:a,0),function(){for(var l=arguments,p=-1,v=At(l.length-a,0),w=jt(v);++p<v;)w[p]=l[a+p];p=-1;for(var P=jt(a+1);++p<a;)P[p]=l[p];return P[a]=i(w),t(n,this,P)}}function tv(n,a){return a.length<2?n:Xa(n,Br(a,0,-1))}function kS(n,a){for(var i=n.length,l=Jt(a.length,i),p=$r(n);l--;){var v=a[l];n[l]=Qn(v,i)?p[v]:$}return n}function lf(n,a){if((a!=="constructor"||typeof n[a]!="function")&&a!="__proto__")return n[a]}function rv(n,a,i){var l=a+"";return jf(n,SS(l,CS(wS(l),i)))}function nv(n){var a=0,i=0;return function(){var l=FO(),p=bl-(l-i);if(i=l,p>0){if(++a>=pa)return arguments[0]}else a=0;return n.apply($,arguments)}}function Su(n,a){var i=-1,l=n.length,p=l-1;for(a=a===$?l:a;++i<a;){var v=Bl(i,p),w=n[v];n[v]=n[i],n[i]=w}return n.length=a,n}function Dn(n){if(typeof n=="string"||Vr(n))return n;var a=n+"";return a=="0"&&1/n==-On?"-0":a}function ts(n){if(n!=null){try{return Ru.call(n)}catch(a){}try{return n+""}catch(a){}}return""}function CS(n,a){return r(N,function(i){var l="_."+i[0];a&i[1]&&!c(n,l)&&n.push(l)}),n.sort()}function av(n){if(n instanceof ee)return n.clone();var a=new oe(n.__wrapped__,n.__chain__);return a.__actions__=$r(n.__actions__),a.__index__=n.__index__,a.__values__=n.__values__,a}function RS(n,a,i){a=(i?or(n,a,i):a===$)?1:At(ve(a),0);var l=n==null?0:n.length;if(!l||a<1)return[];for(var p=0,v=0,w=jt(Fu(l/a));p<l;)w[v++]=Br(n,p,p+=a);return w}function DS(n){for(var a=-1,i=n==null?0:n.length,l=0,p=[];++a<i;){var v=n[a];v&&(p[l++]=v)}return p}function qS(){var n=arguments.length;if(!n)return[];for(var a=jt(n-1),i=arguments[0],l=n;l--;)a[l-1]=arguments[l];return m(pe(i)?$r(i):[i],Vt(a,1))}function xS(n,a,i){var l=n==null?0:n.length;return l?(a=i||a===$?1:ve(a),Br(n,a<0?0:a,l)):[]}function MS(n,a,i){var l=n==null?0:n.length;return l?(a=i||a===$?1:ve(a),a=l-a,Br(n,0,a<0?0:a)):[]}function VS(n,a){return n&&n.length?yu(n,ie(a,3),!0,!0):[]}function US(n,a){return n&&n.length?yu(n,ie(a,3),!0):[]}function FS(n,a,i,l){var p=n==null?0:n.length;return p?(i&&typeof i!="number"&&or(n,a,i)&&(i=0,l=p),UE(n,a,i,l)):[]}function sv(n,a,i){var l=n==null?0:n.length;if(!l)return-1;var p=i==null?0:ve(i);return p<0&&(p=At(l+p,0)),j(n,ie(a,3),p)}function ov(n,a,i){var l=n==null?0:n.length;if(!l)return-1;var p=l-1;return i!==$&&(p=ve(i),p=i<0?At(l+p,0):Jt(p,l-1)),j(n,ie(a,3),p,!0)}function iv(n){return n!=null&&n.length?Vt(n,1):[]}function LS(n){return n!=null&&n.length?Vt(n,On):[]}function zS(n,a){return n!=null&&n.length?(a=a===$?1:ve(a),Vt(n,a)):[]}function KS(n){for(var a=-1,i=n==null?0:n.length,l={};++a<i;){var p=n[a];l[p[0]]=p[1]}return l}function uv(n){return n&&n.length?n[0]:$}function WS(n,a,i){var l=n==null?0:n.length;if(!l)return-1;var p=i==null?0:ve(i);return p<0&&(p=At(l+p,0)),k(n,a,p)}function HS(n){return n!=null&&n.length?Br(n,0,-1):[]}function GS(n,a){return n==null?"":VO.call(n,a)}function Jr(n){var a=n==null?0:n.length;return a?n[a-1]:$}function BS(n,a,i){var l=n==null?0:n.length;if(!l)return-1;var p=l;return i!==$&&(p=ve(i),p=p<0?At(l+p,0):Jt(p,l-1)),a===a?pt(n,a,p):j(n,H,p,!0)}function JS(n,a){return n&&n.length?Sy(n,ve(a)):$}function cv(n,a){return n&&n.length&&a&&a.length?Gl(n,a):n}function YS(n,a,i){return n&&n.length&&a&&a.length?Gl(n,a,ie(i,2)):n}function ZS(n,a,i){return n&&n.length&&a&&a.length?Gl(n,a,$,i):n}function QS(n,a){var i=[];if(!n||!n.length)return i;var l=-1,p=[],v=n.length;for(a=ie(a,3);++l<v;){var w=n[l];a(w,l,n)&&(i.push(w),p.push(l))}return Ny(n,p),i}function ff(n){return n==null?n:zO.call(n)}function XS(n,a,i){var l=n==null?0:n.length;return l?(i&&typeof i!="number"&&or(n,a,i)?(a=0,i=l):(a=a==null?0:ve(a),i=i===$?l:ve(i)),Br(n,a,i)):[]}function eP(n,a){return mu(n,a)}function tP(n,a,i){return Yl(n,a,ie(i,2))}function rP(n,a){var i=n==null?0:n.length;if(i){var l=mu(n,a);if(l<i&&dn(n[l],a))return l}return-1}function nP(n,a){return mu(n,a,!0)}function aP(n,a,i){return Yl(n,a,ie(i,2),!0)}function sP(n,a){if(n!=null&&n.length){var i=mu(n,a,!0)-1;if(dn(n[i],a))return i}return-1}function oP(n){return n&&n.length?Ty(n):[]}function iP(n,a){return n&&n.length?Ty(n,ie(a,2)):[]}function uP(n){var a=n==null?0:n.length;return a?Br(n,1,a):[]}function cP(n,a,i){return n&&n.length?(a=i||a===$?1:ve(a),Br(n,0,a<0?0:a)):[]}function lP(n,a,i){var l=n==null?0:n.length;return l?(a=i||a===$?1:ve(a),a=l-a,Br(n,a<0?0:a,l)):[]}function fP(n,a){return n&&n.length?yu(n,ie(a,3),!1,!0):[]}function dP(n,a){return n&&n.length?yu(n,ie(a,3)):[]}function hP(n){return n&&n.length?$a(n):[]}function pP(n,a){return n&&n.length?$a(n,ie(a,2)):[]}function mP(n,a){return a=typeof a=="function"?a:$,n&&n.length?$a(n,$,a):[]}function df(n){if(!n||!n.length)return[];var a=0;return n=u(n,function(i){if(St(i))return a=At(i.length,a),!0}),He(a,function(i){return h(n,z(i))})}function lv(n,a){if(!n||!n.length)return[];var i=df(n);return a==null?i:h(i,function(l){return t(a,$,l)})}function yP(n,a){return ky(n||[],a||[],Po)}function vP(n,a){return ky(n||[],a||[],Io)}function fv(n){var a=d(n);return a.__chain__=!0,a}function gP(n,a){return a(n),n}function Pu(n,a){return a(n)}function _P(){return fv(this)}function $P(){return new oe(this.value(),this.__chain__)}function wP(){this.__values__===$&&(this.__values__=wv(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?$:this.__values__[this.__index__++]}}function bP(){return this}function EP(n){for(var a,i=this;i instanceof X;){var l=av(i);l.__index__=0,l.__values__=$,a?p.__wrapped__=l:a=l;var p=l;i=i.__wrapped__}return p.__wrapped__=n,a}function SP(){var n=this.__wrapped__;if(n instanceof ee){var a=n;return this.__actions__.length&&(a=new ee(this)),a=a.reverse(),a.__actions__.push({func:Pu,args:[ff],thisArg:$}),new oe(a,this.__chain__)}return this.thru(ff)}function PP(){return Ay(this.__wrapped__,this.__actions__)}function OP(n,a,i){var l=pe(n)?o:VE;return i&&or(n,a,i)&&(a=$),l(n,ie(a,3))}function NP(n,a){return(pe(n)?u:yy)(n,ie(a,3))}function TP(n,a){return Vt(Ou(n,a),1)}function IP(n,a){return Vt(Ou(n,a),On)}function jP(n,a,i){return i=i===$?1:ve(i),Vt(Ou(n,a),i)}function dv(n,a){return(pe(n)?r:Sa)(n,ie(a,3))}function hv(n,a){return(pe(n)?s:Mv)(n,ie(a,3))}function AP(n,a,i,l){n=wr(n)?n:Rs(n),i=i&&!l?ve(i):0;var p=n.length;return i<0&&(i=At(p+i,0)),ju(n)?i<=p&&n.indexOf(a,i)>-1:!!p&&k(n,a,i)>-1}function Ou(n,a){return(pe(n)?h:wy)(n,ie(a,3))}function kP(n,a,i,l){return n==null?[]:(pe(a)||(a=a==null?[]:[a]),i=l?$:i,pe(i)||(i=i==null?[]:[i]),Py(n,a,i))}function CP(n,a,i){var l=pe(n)?y:ft,p=arguments.length<3;return l(n,ie(a,4),i,p,Sa)}function RP(n,a,i){var l=pe(n)?g:ft,p=arguments.length<3;return l(n,ie(a,4),i,p,Mv)}function DP(n,a){return(pe(n)?u:yy)(n,Tu(ie(a,3)))}function qP(n){return(pe(n)?dy:nS)(n)}function xP(n,a,i){return a=(i?or(n,a,i):a===$)?1:ve(a),(pe(n)?RE:aS)(n,a)}function MP(n){return(pe(n)?DE:sS)(n)}function VP(n){if(n==null)return 0;if(wr(n))return ju(n)?Tt(n):n.length;var a=Yt(n);return a==Ke||a==dt?n.size:Wl(n).length}function UP(n,a,i){var l=pe(n)?T:oS;return i&&or(n,a,i)&&(a=$),l(n,ie(a,3))}function FP(n,a){if(typeof a!="function")throw new Zr(mt);return n=ve(n),function(){if(--n<1)return a.apply(this,arguments)}}function pv(n,a,i){return a=i?$:a,a=n&&a==null?n.length:a,Yn(n,cn,$,$,$,$,a)}function mv(n,a){var i;if(typeof a!="function")throw new Zr(mt);return n=ve(n),function(){return--n>0&&(i=a.apply(this,arguments)),n<=1&&(a=$),i}}function yv(n,a,i){a=i?$:a;var l=Yn(n,zr,$,$,$,$,$,a);return l.placeholder=yv.placeholder,l}function vv(n,a,i){a=i?$:a;var l=Yn(n,Kn,$,$,$,$,$,a);return l.placeholder=vv.placeholder,l}function gv(n,a,i){function l($t){var Qr=Z,Vo=te;return Z=te=$,Te=$t,ye=n.apply(Vo,Qr)}function p($t){return Te=$t,se=Mo(P,a),Zt?l($t):ye}function v($t){var Qr=$t-Ne,Vo=$t-Te,eg=a-Qr;return Sr?Jt(eg,ae-Vo):eg}function w($t){var Qr=$t-Ne,Vo=$t-Te;return Ne===$||Qr>=a||Qr<0||Sr&&Vo>=ae}function P(){var $t=Wu();return w($t)?A($t):(se=Mo(P,v($t)),$)}function A($t){return se=$,Oa&&Z?l($t):(Z=te=$,ye)}function F(){se!==$&&Fv(se),Te=0,Z=Ne=te=se=$}function M(){return se===$?ye:A(Wu())}function K(){var $t=Wu(),Qr=w($t);if(Z=arguments,te=this,Ne=$t,Qr){if(se===$)return p(Ne);if(Sr)return Fv(se),se=Mo(P,a),l(Ne)}return se===$&&(se=Mo(P,a)),ye}var Z,te,ae,ye,se,Ne,Te=0,Zt=!1,Sr=!1,Oa=!0;if(typeof n!="function")throw new Zr(mt);return a=Yr(a)||0,yt(i)&&(Zt=!!i.leading,Sr="maxWait"in i,ae=Sr?At(Yr(i.maxWait)||0,a):ae,Oa="trailing"in i?!!i.trailing:Oa),K.cancel=F,K.flush=M,K}function LP(n){return Yn(n,_o)}function Nu(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new Zr(mt);var i=function(){var l=arguments,p=a?a.apply(this,l):l[0],v=i.cache;if(v.has(p))return v.get(p);var w=n.apply(this,l);return i.cache=v.set(p,w)||v,w};return i.cache=new(Nu.Cache||Bn),i}function Tu(n){if(typeof n!="function")throw new Zr(mt);return function(){var a=arguments;switch(a.length){case 0:return!n.call(this);case 1:return!n.call(this,a[0]);case 2:return!n.call(this,a[0],a[1]);case 3:return!n.call(this,a[0],a[1],a[2])}return!n.apply(this,a)}}function zP(n){return mv(2,n)}function KP(n,a){if(typeof n!="function")throw new Zr(mt);return a=a===$?a:ve(a),be(n,a)}function WP(n,a){if(typeof n!="function")throw new Zr(mt);return a=a==null?0:At(ve(a),0),be(function(i){var l=i[a],p=ba(i,0,a);return l&&m(p,l),t(n,this,p)})}function HP(n,a,i){var l=!0,p=!0;if(typeof n!="function")throw new Zr(mt);return yt(i)&&(l="leading"in i?!!i.leading:l,p="trailing"in i?!!i.trailing:p),gv(n,a,{leading:l,maxWait:a,trailing:p})}function GP(n){return pv(n,1)}function BP(n,a){return kf(ef(a),n)}function JP(){if(!arguments.length)return[];var n=arguments[0];return pe(n)?n:[n]}function YP(n){return Gr(n,Lr)}function ZP(n,a){return a=typeof a=="function"?a:$,Gr(n,Lr,a)}function QP(n){return Gr(n,Sn|Lr)}function XP(n,a){return a=typeof a=="function"?a:$,Gr(n,Sn|Lr,a)}function e1(n,a){return a==null||py(n,a,qt(a))}function dn(n,a){return n===a||n!==n&&a!==a}function wr(n){return n!=null&&Iu(n.length)&&!Xn(n)}function St(n){return _t(n)&&wr(n)}function t1(n){return n===!0||n===!1||_t(n)&&sr(n)==fe}function r1(n){return _t(n)&&n.nodeType===1&&!ko(n)}function n1(n){if(n==null)return!0;if(wr(n)&&(pe(n)||typeof n=="string"||typeof n.splice=="function"||Pa(n)||Us(n)||ns(n)))return!n.length;var a=Yt(n);if(a==Ke||a==dt)return!n.size;if(Ao(n))return!Wl(n).length;for(var i in n)if(Ye.call(n,i))return!1;return!0}function a1(n,a){return To(n,a)}function s1(n,a,i){i=typeof i=="function"?i:$;var l=i?i(n,a):$;return l===$?To(n,a,$,i):!!l}function hf(n){if(!_t(n))return!1;var a=sr(n);return a==ot||a==ze||typeof n.message=="string"&&typeof n.name=="string"&&!ko(n)}function o1(n){return typeof n=="number"&&Dv(n)}function Xn(n){if(!yt(n))return!1;var a=sr(n);return a==we||a==nt||a==Y||a==Wn}function _v(n){return typeof n=="number"&&n==ve(n)}function Iu(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Nn}function yt(n){var a=typeof n;return n!=null&&(a=="object"||a=="function")}function _t(n){return n!=null&&typeof n=="object"}function i1(n,a){return n===a||Kl(n,a,of(a))}function u1(n,a,i){return i=typeof i=="function"?i:$,Kl(n,a,of(a),i)}function c1(n){return $v(n)&&n!=+n}function l1(n){if(QO(n))throw new bf(da);return _y(n)}function f1(n){return n===null}function d1(n){return n==null}function $v(n){return typeof n=="number"||_t(n)&&sr(n)==Be}function ko(n){if(!_t(n)||sr(n)!=xe)return!1;var a=Mu(n);if(a===null)return!0;var i=Ye.call(a,"constructor")&&a.constructor;return typeof i=="function"&&i instanceof i&&Ru.call(i)==kO}function h1(n){return _v(n)&&n>=-Nn&&n<=Nn}function ju(n){return typeof n=="string"||!pe(n)&&_t(n)&&sr(n)==Me}function Vr(n){return typeof n=="symbol"||_t(n)&&sr(n)==Rt}function p1(n){return n===$}function m1(n){return _t(n)&&Yt(n)==Bt}function y1(n){return _t(n)&&sr(n)==Hn}function wv(n){if(!n)return[];if(wr(n))return ju(n)?rt(n):$r(n);if(Co&&n[Co])return U(n[Co]());var a=Yt(n);return(a==Ke?J:a==dt?L:Rs)(n)}function ea(n){return n?(n=Yr(n),n===On||n===-On?(n<0?-1:1)*au:n===n?n:0):n===0?n:0}function ve(n){var a=ea(n),i=a%1;return a===a?i?a-i:a:0}function bv(n){return n?Qa(ve(n),0,qr):0}function Yr(n){if(typeof n=="number")return n;if(Vr(n))return Ts;if(yt(n)){var a=typeof n.valueOf=="function"?n.valueOf():n;n=yt(a)?a+"":a}if(typeof n!="string")return n===0?n:+n;n=Nt(n);var i=xm.test(n);return i||Ob.test(n)?aE(n.slice(2),i?2:8):qm.test(n)?Ts:+n}function Ev(n){return Rn(n,br(n))}function v1(n){return n?Qa(ve(n),-Nn,Nn):n===0?n:0}function Je(n){return n==null?"":Mr(n)}function g1(n,a){var i=Vs(n);return a==null?i:hy(i,a)}function _1(n,a){return S(n,ie(a,3),Cn)}function $1(n,a){return S(n,ie(a,3),Fl)}function w1(n,a){return n==null?n:Nf(n,ie(a,3),br)}function b1(n,a){return n==null?n:Vv(n,ie(a,3),br)}function E1(n,a){return n&&Cn(n,ie(a,3))}function S1(n,a){return n&&Fl(n,ie(a,3))}function P1(n){return n==null?[]:hu(n,qt(n))}function O1(n){return n==null?[]:hu(n,br(n))}function pf(n,a,i){var l=n==null?$:Xa(n,a);return l===$?i:l}function N1(n,a){return n!=null&&Yy(n,a,FE)}function mf(n,a){return n!=null&&Yy(n,a,LE)}function qt(n){return wr(n)?fy(n):Wl(n)}function br(n){return wr(n)?fy(n,!0):QE(n)}function T1(n,a){var i={};return a=ie(a,3),Cn(n,function(l,p,v){Jn(i,a(l,p,v),l)}),i}function I1(n,a){var i={};return a=ie(a,3),Cn(n,function(l,p,v){Jn(i,p,a(l,p,v))}),i}function j1(n,a){return Sv(n,Tu(ie(a)))}function Sv(n,a){if(n==null)return{};var i=h(sf(n),function(l){return[l]});return a=ie(a),Oy(n,i,function(l,p){return a(l,p[0])})}function A1(n,a,i){a=wa(a,n);var l=-1,p=a.length;for(p||(p=1,n=$);++l<p;){var v=n==null?$:n[Dn(a[l])];v===$&&(l=p,v=i),n=Xn(v)?v.call(n):v}return n}function k1(n,a,i){return n==null?n:Io(n,a,i)}function C1(n,a,i,l){return l=typeof l=="function"?l:$,n==null?n:Io(n,a,i,l)}function R1(n,a,i){var l=pe(n),p=l||Pa(n)||Us(n);if(a=ie(a,4),i==null){var v=n&&n.constructor;i=p?l?new v:[]:yt(n)&&Xn(v)?Vs(Mu(n)):{}}return(p?r:Cn)(n,function(w,P,A){return a(i,w,P,A)}),i}function D1(n,a){return n==null||Zl(n,a)}function q1(n,a,i){return n==null?n:jy(n,a,ef(i))}function x1(n,a,i,l){return l=typeof l=="function"?l:$,n==null?n:jy(n,a,ef(i),l)}function Rs(n){return n==null?[]:Ht(n,qt(n))}function M1(n){return n==null?[]:Ht(n,br(n))}function V1(n,a,i){return i===$&&(i=a,a=$),i!==$&&(i=Yr(i),i=i===i?i:0),a!==$&&(a=Yr(a),a=a===a?a:0),Qa(Yr(n),a,i)}function U1(n,a,i){return a=ea(a),i===$?(i=a,a=0):i=ea(i),n=Yr(n),zE(n,a,i)}function F1(n,a,i){if(i&&typeof i!="boolean"&&or(n,a,i)&&(a=i=$),i===$&&(typeof a=="boolean"?(i=a,a=$):typeof n=="boolean"&&(i=n,n=$)),n===$&&a===$?(n=0,a=1):(n=ea(n),a===$?(a=n,n=0):a=ea(a)),n>a){var l=n;n=a,a=l}if(i||n%1||a%1){var p=qv();return Jt(n+p*(a-n+nE("1e-"+((p+"").length-1))),a)}return Bl(n,a)}function Pv(n){return Rf(Je(n).toLowerCase())}function Ov(n){return n=Je(n),n&&n.replace(Tb,iE).replace(Gb,"")}function L1(n,a,i){n=Je(n),a=Mr(a);var l=n.length;i=i===$?l:Qa(ve(i),0,l);var p=i;return i-=a.length,i>=0&&n.slice(i,p)==a}function z1(n){return n=Je(n),n&&Pl.test(n)?n.replace(Eo,uE):n}function K1(n){return n=Je(n),n&&km.test(n)?n.replace(An,"\\$&"):n}function W1(n,a,i){n=Je(n),a=ve(a);var l=a?Tt(n):0;if(!a||l>=a)return n;var p=(a-l)/2;return $u(Lu(p),i)+n+$u(Fu(p),i)}function H1(n,a,i){n=Je(n),a=ve(a);var l=a?Tt(n):0;return a&&l<a?n+$u(a-l,i):n}function G1(n,a,i){n=Je(n),a=ve(a);var l=a?Tt(n):0;return a&&l<a?$u(a-l,i)+n:n}function B1(n,a,i){return i||a==null?a=0:a&&(a=+a),LO(Je(n).replace(kn,""),a||0)}function J1(n,a,i){return a=(i?or(n,a,i):a===$)?1:ve(a),Jl(Je(n),a)}function Y1(){var n=arguments,a=Je(n[0]);return n.length<3?a:a.replace(n[1],n[2])}function Z1(n,a,i){return i&&typeof i!="number"&&or(n,a,i)&&(a=i=$),(i=i===$?qr:i>>>0)?(n=Je(n),n&&(typeof a=="string"||a!=null&&!Cf(a))&&(a=Mr(a),!a&&yr(n))?ba(rt(n),0,i):n.split(a,i)):[]}function Q1(n,a,i){return n=Je(n),i=i==null?0:Qa(ve(i),0,n.length),a=Mr(a),n.slice(i,i+a.length)==a}function X1(n,a,i){var l=d.templateSettings;i&&or(n,a,i)&&(a=$),n=Je(n),a=Hu({},a,l,Gy);var p,v,w=Hu({},a.imports,l.imports,Gy),P=qt(w),A=Ht(w,P),F=0,M=a.interpolate||uu,K="__p += '",Z=Ef((a.escape||uu).source+"|"+M.source+"|"+(M===Wr?Dm:uu).source+"|"+(a.evaluate||uu).source+"|$","g"),te="//# sourceURL="+(Ye.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qb+"]")+`
`;n.replace(Z,function(se,Ne,Te,Zt,Sr,Oa){return Te||(Te=Zt),K+=n.slice(F,Oa).replace(Ib,Dr),Ne&&(p=!0,K+=`' +
__e(`+Ne+`) +
'`),Sr&&(v=!0,K+=`';
`+Sr+`;
__p += '`),Te&&(K+=`' +
((__t = (`+Te+`)) == null ? '' : __t) +
'`),F=Oa+se.length,se}),K+=`';
`;var ae=Ye.call(a,"variable")&&a.variable;if(ae){if(Cm.test(ae))throw new bf(ru)}else K=`with (obj) {
`+K+`
}
`;K=(v?K.replace(Sl,""):K).replace(su,"$1").replace(Ha,"$1;"),K="function("+(ae||"obj")+`) {
`+(ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(v?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+K+`return __p
}`;var ye=Xv(function(){return Iv(P,te+"return "+K).apply($,A)});if(ye.source=K,hf(ye))throw ye;return ye}function eO(n){return Je(n).toLowerCase()}function tO(n){return Je(n).toUpperCase()}function rO(n,a,i){if(n=Je(n),n&&(i||a===$))return Nt(n);if(!n||!(a=Mr(a)))return n;var l=rt(n),p=rt(a);return ba(l,ca(l,p),un(l,p)+1).join("")}function nO(n,a,i){if(n=Je(n),n&&(i||a===$))return n.slice(0,nr(n)+1);if(!n||!(a=Mr(a)))return n;var l=rt(n);return ba(l,0,un(l,rt(a))+1).join("")}function aO(n,a,i){if(n=Je(n),n&&(i||a===$))return n.replace(kn,"");if(!n||!(a=Mr(a)))return n;var l=rt(n);return ba(l,ca(l,rt(a))).join("")}function sO(n,a){var i=$l,l=wl;if(yt(a)){var p="separator"in a?a.separator:p;i="length"in a?ve(a.length):i,l="omission"in a?Mr(a.omission):l}n=Je(n);var v=n.length;if(yr(n)){var w=rt(n);v=w.length}if(i>=v)return n;var P=i-Tt(l);if(P<1)return l;var A=w?ba(w,0,P).join(""):n.slice(0,P);if(p===$)return A+l;if(w&&(P+=A.length-P),Cf(p)){if(n.slice(P).search(p)){var F,M=A;for(p.global||(p=Ef(p.source,Je(jl.exec(p))+"g")),p.lastIndex=0;F=p.exec(M);)var K=F.index;A=A.slice(0,K===$?P:K)}}else if(n.indexOf(Mr(p),P)!=P){var Z=A.lastIndexOf(p);Z>-1&&(A=A.slice(0,Z))}return A+l}function oO(n){return n=Je(n),n&&Ga.test(n)?n.replace(va,cE):n}function Nv(n,a,i){return n=Je(n),a=i?$:a,a===$?fa(n)?eu(n):E(n):n.match(a)||[]}function iO(n){var a=n==null?0:n.length,i=ie();return n=a?h(n,function(l){if(typeof l[1]!="function")throw new Zr(mt);return[i(l[0]),l[1]]}):[],be(function(l){for(var p=-1;++p<a;){var v=n[p];if(t(v[0],this,l))return t(v[1],this,l)}})}function uO(n){return ME(Gr(n,Sn))}function yf(n){return function(){return n}}function cO(n,a){return n==null||n!==n?a:n}function Er(n){return n}function vf(n){return $y(typeof n=="function"?n:Gr(n,Sn))}function lO(n){return by(Gr(n,Sn))}function fO(n,a){return Ey(n,Gr(a,Sn))}function gf(n,a,i){var l=qt(a),p=hu(a,l);i!=null||yt(a)&&(p.length||!l.length)||(i=a,a=n,n=this,p=hu(a,qt(a)));var v=!(yt(i)&&"chain"in i&&!i.chain),w=Xn(n);return r(p,function(P){var A=a[P];n[P]=A,w&&(n.prototype[P]=function(){var F=this.__chain__;if(v||F){var M=n(this.__wrapped__);return(M.__actions__=$r(this.__actions__)).push({func:A,args:arguments,thisArg:n}),M.__chain__=F,M}return A.apply(n,m([this.value()],arguments))})}),n}function dO(){return Dt._===this&&(Dt._=CO),this}function _f(){}function hO(n){return n=ve(n),be(function(a){return Sy(a,n)})}function Tv(n){return uf(n)?z(Dn(n)):tS(n)}function pO(n){return function(a){return n==null?$:Xa(n,a)}}function $f(){return[]}function wf(){return!1}function mO(){return{}}function yO(){return""}function vO(){return!0}function gO(n,a){if(n=ve(n),n<1||n>Nn)return[];var i=qr,l=Jt(n,qr);a=ie(a),n-=qr;for(var p=He(l,a);++i<n;)a(i);return p}function _O(n){return pe(n)?h(n,Dn):Vr(n)?[n]:$r(Kv(Je(n)))}function $O(n){var a=++AO;return Je(n)+a}function wO(n){return n&&n.length?du(n,Er,Ll):$}function bO(n,a){return n&&n.length?du(n,ie(a,2),Ll):$}function EO(n){return Q(n,Er)}function SO(n,a){return Q(n,ie(a,2))}function PO(n){return n&&n.length?du(n,Er,Hl):$}function OO(n,a){return n&&n.length?du(n,ie(a,2),Hl):$}function NO(n){return n&&n.length?bt(n,Er):0}function TO(n,a){return n&&n.length?bt(n,ie(a,2)):0}x=x==null?Dt:_a.defaults(Dt.Object(),x,_a.pick(Dt,Zb));var jt=x.Array,Au=x.Date,bf=x.Error,Iv=x.Function,Ds=x.Math,ut=x.Object,Ef=x.RegExp,IO=x.String,Zr=x.TypeError,ku=jt.prototype,jO=Iv.prototype,qs=ut.prototype,Cu=x["__core-js_shared__"],Ru=jO.toString,Ye=qs.hasOwnProperty,AO=0,jv=function(){var n=/[^.]+$/.exec(Cu&&Cu.keys&&Cu.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Du=qs.toString,kO=Ru.call(ut),CO=Dt._,RO=Ef("^"+Ru.call(Ye).replace(An,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qu=ay?x.Buffer:$,Ea=x.Symbol,xu=x.Uint8Array,Av=qu?qu.allocUnsafe:$,Mu=V(ut.getPrototypeOf,ut),kv=ut.create,Cv=qs.propertyIsEnumerable,Vu=ku.splice,Rv=Ea?Ea.isConcatSpreadable:$,Co=Ea?Ea.iterator:$,rs=Ea?Ea.toStringTag:$,Uu=function(){try{var n=es(ut,"defineProperty");return n({},"",{}),n}catch(a){}}(),DO=x.clearTimeout!==Dt.clearTimeout&&x.clearTimeout,qO=Au&&Au.now!==Dt.Date.now&&Au.now,xO=x.setTimeout!==Dt.setTimeout&&x.setTimeout,Fu=Ds.ceil,Lu=Ds.floor,Sf=ut.getOwnPropertySymbols,MO=qu?qu.isBuffer:$,Dv=x.isFinite,VO=ku.join,UO=V(ut.keys,ut),At=Ds.max,Jt=Ds.min,FO=Au.now,LO=x.parseInt,qv=Ds.random,zO=ku.reverse,Pf=es(x,"DataView"),Ro=es(x,"Map"),Of=es(x,"Promise"),xs=es(x,"Set"),Do=es(x,"WeakMap"),qo=es(ut,"create"),zu=Do&&new Do,Ms={},KO=ts(Pf),WO=ts(Ro),HO=ts(Of),GO=ts(xs),BO=ts(Do),Ku=Ea?Ea.prototype:$,xo=Ku?Ku.valueOf:$,xv=Ku?Ku.toString:$,Vs=function(){function n(){}return function(a){if(!yt(a))return{};if(kv)return kv(a);n.prototype=a;var i=new n;return n.prototype=$,i}}();d.templateSettings={escape:ou,evaluate:Ol,interpolate:Wr,variable:"",imports:{_:d}},d.prototype=X.prototype,d.prototype.constructor=d,oe.prototype=Vs(X.prototype),oe.prototype.constructor=oe,ee.prototype=Vs(X.prototype),ee.prototype.constructor=ee,Ya.prototype.clear=dE,Ya.prototype.delete=hE,Ya.prototype.get=pE,Ya.prototype.has=mE,Ya.prototype.set=yE,Gn.prototype.clear=vE,Gn.prototype.delete=gE,Gn.prototype.get=_E,Gn.prototype.has=$E,Gn.prototype.set=wE,Bn.prototype.clear=bE,Bn.prototype.delete=EE,Bn.prototype.get=SE,Bn.prototype.has=PE,Bn.prototype.set=OE,Za.prototype.add=Za.prototype.push=NE,Za.prototype.has=TE,fn.prototype.clear=IE,fn.prototype.delete=jE,fn.prototype.get=AE,fn.prototype.has=kE,fn.prototype.set=CE;var Sa=My(Cn),Mv=My(Fl,!0),Nf=Vy(),Vv=Vy(!0),Uv=zu?function(n,a){return zu.set(n,a),n}:Er,JO=Uu?function(n,a){return Uu(n,"toString",{configurable:!0,enumerable:!1,value:yf(a),writable:!0})}:Er,YO=be,Fv=DO||function(n){return Dt.clearTimeout(n)},ZO=xs&&1/L(new xs([,-0]))[1]==On?function(n){return new xs(n)}:_f,Tf=zu?function(n){return zu.get(n)}:_f,If=Sf?function(n){return n==null?[]:(n=ut(n),u(Sf(n),function(a){return Cv.call(n,a)}))}:$f,Lv=Sf?function(n){for(var a=[];n;)m(a,If(n)),n=Mu(n);return a}:$f,Yt=sr;(Pf&&Yt(new Pf(new ArrayBuffer(1)))!=Kr||Ro&&Yt(new Ro)!=Ke||Of&&Yt(Of.resolve())!=Ge||xs&&Yt(new xs)!=dt||Do&&Yt(new Do)!=Bt)&&(Yt=function(n){var a=sr(n),i=a==xe?n.constructor:$,l=i?ts(i):"";if(l)switch(l){case KO:return Kr;case WO:return Ke;case HO:return Ge;case GO:return dt;case BO:return Bt}return a});var QO=Cu?Xn:wf,zv=nv(Uv),Mo=xO||function(n,a){return Dt.setTimeout(n,a)},jf=nv(JO),Kv=TS(function(n){var a=[];return n.charCodeAt(0)===46&&a.push(""),n.replace(Is,function(i,l,p,v){a.push(p?v.replace(Rm,"$1"):l||i)}),a}),XO=be(function(n,a){return St(n)?Oo(n,Vt(a,1,St,!0)):[]}),eN=be(function(n,a){var i=Jr(a);return St(i)&&(i=$),St(n)?Oo(n,Vt(a,1,St,!0),ie(i,2)):[]}),tN=be(function(n,a){var i=Jr(a);return St(i)&&(i=$),St(n)?Oo(n,Vt(a,1,St,!0),$,i):[]}),rN=be(function(n){var a=h(n,Xl);return a.length&&a[0]===n[0]?zl(a):[]}),nN=be(function(n){var a=Jr(n),i=h(n,Xl);return a===Jr(i)?a=$:i.pop(),i.length&&i[0]===n[0]?zl(i,ie(a,2)):[]}),aN=be(function(n){var a=Jr(n),i=h(n,Xl);return a=typeof a=="function"?a:$,a&&i.pop(),i.length&&i[0]===n[0]?zl(i,$,a):[]}),sN=be(cv),oN=Zn(function(n,a){var i=n==null?0:n.length,l=Ul(n,a);return Ny(n,h(a,function(p){return Qn(p,i)?+p:p}).sort(Dy)),l}),iN=be(function(n){return $a(Vt(n,1,St,!0))}),uN=be(function(n){var a=Jr(n);return St(a)&&(a=$),$a(Vt(n,1,St,!0),ie(a,2))}),cN=be(function(n){var a=Jr(n);return a=typeof a=="function"?a:$,$a(Vt(n,1,St,!0),$,a)}),lN=be(function(n,a){return St(n)?Oo(n,a):[]}),fN=be(function(n){return Ql(u(n,St))}),dN=be(function(n){var a=Jr(n);return St(a)&&(a=$),Ql(u(n,St),ie(a,2))}),hN=be(function(n){var a=Jr(n);return a=typeof a=="function"?a:$,Ql(u(n,St),$,a)}),pN=be(df),mN=be(function(n){var a=n.length,i=a>1?n[a-1]:$;return i=typeof i=="function"?(n.pop(),i):$,lv(n,i)}),yN=Zn(function(n){var a=n.length,i=a?n[0]:0,l=this.__wrapped__,p=function(v){return Ul(v,n)};return!(a>1||this.__actions__.length)&&l instanceof ee&&Qn(i)?(l=l.slice(i,+i+(a?1:0)),l.__actions__.push({func:Pu,args:[p],thisArg:$}),new oe(l,this.__chain__).thru(function(v){return a&&!v.length&&v.push($),v})):this.thru(p)}),vN=vu(function(n,a,i){Ye.call(n,i)?++n[i]:Jn(n,i,1)}),gN=Fy(sv),_N=Fy(ov),$N=vu(function(n,a,i){Ye.call(n,i)?n[i].push(a):Jn(n,i,[a])}),wN=be(function(n,a,i){var l=-1,p=typeof a=="function",v=wr(n)?jt(n.length):[];return Sa(n,function(w){v[++l]=p?t(a,w,i):No(w,a,i)}),v}),bN=vu(function(n,a,i){Jn(n,i,a)}),EN=vu(function(n,a,i){n[i?0:1].push(a)},function(){return[[],[]]}),SN=be(function(n,a){if(n==null)return[];var i=a.length;return i>1&&or(n,a[0],a[1])?a=[]:i>2&&or(a[0],a[1],a[2])&&(a=[a[0]]),Py(n,Vt(a,1),[])}),Wu=qO||function(){return Dt.Date.now()},Af=be(function(n,a,i){var l=Ct;if(i.length){var p=q(i,Cs(Af));l|=Et}return Yn(n,l,a,i,p)}),Wv=be(function(n,a,i){var l=Ct|Pn;if(i.length){var p=q(i,Cs(Wv));l|=Et}return Yn(a,l,n,i,p)}),PN=be(function(n,a){return my(n,1,a)}),ON=be(function(n,a,i){return my(n,Yr(a)||0,i)});Nu.Cache=Bn;var NN=YO(function(n,a){a=a.length==1&&pe(a[0])?h(a[0],st(ie())):h(Vt(a,1),st(ie()));var i=a.length;return be(function(l){for(var p=-1,v=Jt(l.length,i);++p<v;)l[p]=a[p].call(this,l[p]);return t(n,this,l)})}),kf=be(function(n,a){return Yn(n,Et,$,a,q(a,Cs(kf)))}),Hv=be(function(n,a){return Yn(n,ha,$,a,q(a,Cs(Hv)))}),TN=Zn(function(n,a){return Yn(n,Ka,$,$,$,a)}),IN=wu(Ll),jN=wu(function(n,a){return n>=a}),ns=gy(function(){return arguments}())?gy:function(n){return _t(n)&&Ye.call(n,"callee")&&!Cv.call(n,"callee")},pe=jt.isArray,AN=sy?st(sy):WE,Pa=MO||wf,kN=oy?st(oy):HE,Gv=iy?st(iy):BE,Cf=uy?st(uy):JE,Bv=cy?st(cy):YE,Us=ly?st(ly):ZE,CN=wu(Hl),RN=wu(function(n,a){return n<=a}),DN=As(function(n,a){if(Ao(a)||wr(a))return Rn(a,qt(a),n),$;for(var i in a)Ye.call(a,i)&&Po(n,i,a[i])}),Jv=As(function(n,a){Rn(a,br(a),n)}),Hu=As(function(n,a,i,l){Rn(a,br(a),n,l)}),qN=As(function(n,a,i,l){Rn(a,qt(a),n,l)}),xN=Zn(Ul),MN=be(function(n,a){n=ut(n);var i=-1,l=a.length,p=l>2?a[2]:$;for(p&&or(a[0],a[1],p)&&(l=1);++i<l;)for(var v=a[i],w=br(v),P=-1,A=w.length;++P<A;){var F=w[P],M=n[F];(M===$||dn(M,qs[F])&&!Ye.call(n,F))&&(n[F]=v[F])}return n}),VN=be(function(n){return n.push($,By),t(Yv,$,n)}),UN=zy(function(n,a,i){a!=null&&typeof a.toString!="function"&&(a=Du.call(a)),n[a]=i},yf(Er)),FN=zy(function(n,a,i){a!=null&&typeof a.toString!="function"&&(a=Du.call(a)),Ye.call(n,a)?n[a].push(i):n[a]=[i]},ie),LN=be(No),zN=As(function(n,a,i){pu(n,a,i)}),Yv=As(function(n,a,i,l){pu(n,a,i,l)}),KN=Zn(function(n,a){var i={};if(n==null)return i;var l=!1;a=h(a,function(v){return v=wa(v,n),l||(l=v.length>1),v}),Rn(n,sf(n),i),l&&(i=Gr(i,Sn|Fr|Lr,yS));for(var p=a.length;p--;)Zl(i,a[p]);return i}),WN=Zn(function(n,a){return n==null?{}:eS(n,a)}),Zv=Hy(qt),Qv=Hy(br),HN=ks(function(n,a,i){return a=a.toLowerCase(),n+(i?Pv(a):a)}),GN=ks(function(n,a,i){return n+(i?"-":"")+a.toLowerCase()}),BN=ks(function(n,a,i){return n+(i?" ":"")+a.toLowerCase()}),JN=Uy("toLowerCase"),YN=ks(function(n,a,i){return n+(i?"_":"")+a.toLowerCase()}),ZN=ks(function(n,a,i){return n+(i?" ":"")+Rf(a)}),QN=ks(function(n,a,i){return n+(i?" ":"")+a.toUpperCase()}),Rf=Uy("toUpperCase"),Xv=be(function(n,a){try{return t(n,$,a)}catch(i){return hf(i)?i:new bf(i)}}),XN=Zn(function(n,a){return r(a,function(i){i=Dn(i),Jn(n,i,Af(n[i],n))}),n}),eT=Ly(),tT=Ly(!0),rT=be(function(n,a){return function(i){return No(i,n,a)}}),nT=be(function(n,a){return function(i){return No(n,i,a)}}),aT=rf(h),sT=rf(o),oT=rf(T),iT=Ky(),uT=Ky(!0),cT=_u(function(n,a){return n+a},0),lT=nf("ceil"),fT=_u(function(n,a){return n/a},1),dT=nf("floor"),hT=_u(function(n,a){return n*a},1),pT=nf("round"),mT=_u(function(n,a){return n-a},0);return d.after=FP,d.ary=pv,d.assign=DN,d.assignIn=Jv,d.assignInWith=Hu,d.assignWith=qN,d.at=xN,d.before=mv,d.bind=Af,d.bindAll=XN,d.bindKey=Wv,d.castArray=JP,d.chain=fv,d.chunk=RS,d.compact=DS,d.concat=qS,d.cond=iO,d.conforms=uO,d.constant=yf,d.countBy=vN,d.create=g1,d.curry=yv,d.curryRight=vv,d.debounce=gv,d.defaults=MN,d.defaultsDeep=VN,d.defer=PN,d.delay=ON,d.difference=XO,d.differenceBy=eN,d.differenceWith=tN,d.drop=xS,d.dropRight=MS,d.dropRightWhile=VS,d.dropWhile=US,d.fill=FS,d.filter=NP,d.flatMap=TP,d.flatMapDeep=IP,d.flatMapDepth=jP,d.flatten=iv,d.flattenDeep=LS,d.flattenDepth=zS,d.flip=LP,d.flow=eT,d.flowRight=tT,d.fromPairs=KS,d.functions=P1,d.functionsIn=O1,d.groupBy=$N,d.initial=HS,d.intersection=rN,d.intersectionBy=nN,d.intersectionWith=aN,d.invert=UN,d.invertBy=FN,d.invokeMap=wN,d.iteratee=vf,d.keyBy=bN,d.keys=qt,d.keysIn=br,d.map=Ou,d.mapKeys=T1,d.mapValues=I1,d.matches=lO,d.matchesProperty=fO,d.memoize=Nu,d.merge=zN,d.mergeWith=Yv,d.method=rT,d.methodOf=nT,d.mixin=gf,d.negate=Tu,d.nthArg=hO,d.omit=KN,d.omitBy=j1,d.once=zP,d.orderBy=kP,d.over=aT,d.overArgs=NN,d.overEvery=sT,d.overSome=oT,d.partial=kf,d.partialRight=Hv,d.partition=EN,d.pick=WN,d.pickBy=Sv,d.property=Tv,d.propertyOf=pO,d.pull=sN,d.pullAll=cv,d.pullAllBy=YS,d.pullAllWith=ZS,d.pullAt=oN,d.range=iT,d.rangeRight=uT,d.rearg=TN,d.reject=DP,d.remove=QS,d.rest=KP,d.reverse=ff,d.sampleSize=xP,d.set=k1,d.setWith=C1,d.shuffle=MP,d.slice=XS,d.sortBy=SN,d.sortedUniq=oP,d.sortedUniqBy=iP,d.split=Z1,d.spread=WP,d.tail=uP,d.take=cP,d.takeRight=lP,d.takeRightWhile=fP,d.takeWhile=dP,d.tap=gP,d.throttle=HP,d.thru=Pu,d.toArray=wv,d.toPairs=Zv,d.toPairsIn=Qv,d.toPath=_O,d.toPlainObject=Ev,d.transform=R1,d.unary=GP,d.union=iN,d.unionBy=uN,d.unionWith=cN,d.uniq=hP,d.uniqBy=pP,d.uniqWith=mP,d.unset=D1,d.unzip=df,d.unzipWith=lv,d.update=q1,d.updateWith=x1,d.values=Rs,d.valuesIn=M1,d.without=lN,d.words=Nv,d.wrap=BP,d.xor=fN,d.xorBy=dN,d.xorWith=hN,d.zip=pN,d.zipObject=yP,d.zipObjectDeep=vP,d.zipWith=mN,d.entries=Zv,d.entriesIn=Qv,d.extend=Jv,d.extendWith=Hu,gf(d,d),d.add=cT,d.attempt=Xv,d.camelCase=HN,d.capitalize=Pv,d.ceil=lT,d.clamp=V1,d.clone=YP,d.cloneDeep=QP,d.cloneDeepWith=XP,d.cloneWith=ZP,d.conformsTo=e1,d.deburr=Ov,d.defaultTo=cO,d.divide=fT,d.endsWith=L1,d.eq=dn,d.escape=z1,d.escapeRegExp=K1,d.every=OP,d.find=gN,d.findIndex=sv,d.findKey=_1,d.findLast=_N,d.findLastIndex=ov,d.findLastKey=$1,d.floor=dT,d.forEach=dv,d.forEachRight=hv,d.forIn=w1,d.forInRight=b1,d.forOwn=E1,d.forOwnRight=S1,d.get=pf,d.gt=IN,d.gte=jN,d.has=N1,d.hasIn=mf,d.head=uv,d.identity=Er,d.includes=AP,d.indexOf=WS,d.inRange=U1,d.invoke=LN,d.isArguments=ns,d.isArray=pe,d.isArrayBuffer=AN,d.isArrayLike=wr,d.isArrayLikeObject=St,d.isBoolean=t1,d.isBuffer=Pa,d.isDate=kN,d.isElement=r1,d.isEmpty=n1,d.isEqual=a1,d.isEqualWith=s1,d.isError=hf,d.isFinite=o1,d.isFunction=Xn,d.isInteger=_v,d.isLength=Iu,d.isMap=Gv,d.isMatch=i1,d.isMatchWith=u1,d.isNaN=c1,d.isNative=l1,d.isNil=d1,d.isNull=f1,d.isNumber=$v,d.isObject=yt,d.isObjectLike=_t,d.isPlainObject=ko,d.isRegExp=Cf,d.isSafeInteger=h1,d.isSet=Bv,d.isString=ju,d.isSymbol=Vr,d.isTypedArray=Us,d.isUndefined=p1,d.isWeakMap=m1,d.isWeakSet=y1,d.join=GS,d.kebabCase=GN,d.last=Jr,d.lastIndexOf=BS,d.lowerCase=BN,d.lowerFirst=JN,d.lt=CN,d.lte=RN,d.max=wO,d.maxBy=bO,d.mean=EO,d.meanBy=SO,d.min=PO,d.minBy=OO,d.stubArray=$f,d.stubFalse=wf,d.stubObject=mO,d.stubString=yO,d.stubTrue=vO,d.multiply=hT,d.nth=JS,d.noConflict=dO,d.noop=_f,d.now=Wu,d.pad=W1,d.padEnd=H1,d.padStart=G1,d.parseInt=B1,d.random=F1,d.reduce=CP,d.reduceRight=RP,d.repeat=J1,d.replace=Y1,d.result=A1,d.round=pT,d.runInContext=I,d.sample=qP,d.size=VP,d.snakeCase=YN,d.some=UP,d.sortedIndex=eP,d.sortedIndexBy=tP,d.sortedIndexOf=rP,d.sortedLastIndex=nP,d.sortedLastIndexBy=aP,d.sortedLastIndexOf=sP,d.startCase=ZN,d.startsWith=Q1,d.subtract=mT,d.sum=NO,d.sumBy=TO,d.template=X1,d.times=gO,d.toFinite=ea,d.toInteger=ve,d.toLength=bv,d.toLower=eO,d.toNumber=Yr,d.toSafeInteger=v1,d.toString=Je,d.toUpper=tO,d.trim=rO,d.trimEnd=nO,d.trimStart=aO,d.truncate=sO,d.unescape=oO,d.uniqueId=$O,d.upperCase=QN,d.upperFirst=Rf,d.each=dv,d.eachRight=hv,d.first=uv,gf(d,function(){var n={};return Cn(d,function(a,i){Ye.call(d.prototype,i)||(n[i]=a)}),n}(),{chain:!1}),d.VERSION=tu,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){d[n].placeholder=d}),r(["drop","take"],function(n,a){ee.prototype[n]=function(i){i=i===$?1:At(ve(i),0);var l=this.__filtered__&&!a?new ee(this):this.clone();return l.__filtered__?l.__takeCount__=Jt(i,l.__takeCount__):l.__views__.push({size:Jt(i,qr),type:n+(l.__dir__<0?"Right":"")}),l},ee.prototype[n+"Right"]=function(i){return this.reverse()[n](i).reverse()}}),r(["filter","map","takeWhile"],function(n,a){var i=a+1,l=i==$o||i==wo;ee.prototype[n]=function(p){var v=this.clone();return v.__iteratees__.push({iteratee:ie(p,3),type:i}),v.__filtered__=v.__filtered__||l,v}}),r(["head","last"],function(n,a){var i="take"+(a?"Right":"");ee.prototype[n]=function(){return this[i](1).value()[0]}}),r(["initial","tail"],function(n,a){var i="drop"+(a?"":"Right");ee.prototype[n]=function(){return this.__filtered__?new ee(this):this[i](1)}}),ee.prototype.compact=function(){return this.filter(Er)},ee.prototype.find=function(n){return this.filter(n).head()},ee.prototype.findLast=function(n){return this.reverse().find(n)},ee.prototype.invokeMap=be(function(n,a){return typeof n=="function"?new ee(this):this.map(function(i){return No(i,n,a)})}),ee.prototype.reject=function(n){return this.filter(Tu(ie(n)))},ee.prototype.slice=function(n,a){n=ve(n);var i=this;return i.__filtered__&&(n>0||a<0)?new ee(i):(n<0?i=i.takeRight(-n):n&&(i=i.drop(n)),a!==$&&(a=ve(a),i=a<0?i.dropRight(-a):i.take(a-n)),i)},ee.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},ee.prototype.toArray=function(){return this.take(qr)},Cn(ee.prototype,function(n,a){var i=/^(?:filter|find|map|reject)|While$/.test(a),l=/^(?:head|last)$/.test(a),p=d[l?"take"+(a=="last"?"Right":""):a],v=l||/^find/.test(a);p&&(d.prototype[a]=function(){var w=this.__wrapped__,P=l?[1]:arguments,A=w instanceof ee,F=P[0],M=A||pe(w),K=function(Ne){var Te=p.apply(d,m([Ne],P));return l&&Z?Te[0]:Te};M&&i&&typeof F=="function"&&F.length!=1&&(A=M=!1);var Z=this.__chain__,te=!!this.__actions__.length,ae=v&&!Z,ye=A&&!te;if(!v&&M){w=ye?w:new ee(this);var se=n.apply(w,P);return se.__actions__.push({func:Pu,args:[K],thisArg:$}),new oe(se,Z)}return ae&&ye?n.apply(this,P):(se=this.thru(K),ae?l?se.value()[0]:se.value():se)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){var a=ku[n],i=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",l=/^(?:pop|shift)$/.test(n);d.prototype[n]=function(){var p=arguments;if(l&&!this.__chain__){var v=this.value();return a.apply(pe(v)?v:[],p)}return this[i](function(w){return a.apply(pe(w)?w:[],p)})}}),Cn(ee.prototype,function(n,a){var i=d[a];if(i){var l=i.name+"";Ye.call(Ms,l)||(Ms[l]=[]),Ms[l].push({name:a,func:i})}}),Ms[gu($,Pn).name]=[{name:"wrapper",func:$}],ee.prototype.clone=_r,ee.prototype.reverse=Ml,ee.prototype.value=fE,d.prototype.at=yN,d.prototype.chain=_P,d.prototype.commit=$P,d.prototype.next=wP,d.prototype.plant=EP,d.prototype.reverse=SP,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=PP,d.prototype.first=d.prototype.head,Co&&(d.prototype[Co]=bP),d},_a=lE();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Dt._=_a,define(function(){return _a})):Ja?((Ja.exports=_a)._=_a,ql._=_a):Dt._=_a}).call(Ls)});var ag=R(Pr=>{Pr.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"};Pr.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]};Pr.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]};Pr.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2};Pr.iterateeRearg={mapKeys:[1],reduceRight:[1,0]};Pr.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]};Pr.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}};Pr.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}};Pr.realToAlias=function(){var t=Object.prototype.hasOwnProperty,e=Pr.aliasToReal,r={};for(var s in e){var o=e[s];t.call(r,o)?r[o].push(s):r[o]=[s]}return r}();Pr.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"};Pr.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0};Pr.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}});var og=R((KV,sg)=>{sg.exports={}});var lg=R((WV,cg)=>{var kt=ag(),$T=og(),ig=Array.prototype.push;function wT(t,e){return e==2?function(r,s){return t.apply(void 0,arguments)}:function(r){return t.apply(void 0,arguments)}}function Df(t,e){return e==2?function(r,s){return t(r,s)}:function(r){return t(r)}}function ug(t){for(var e=t?t.length:0,r=Array(e);e--;)r[e]=t[e];return r}function bT(t){return function(e){return t({},e)}}function ET(t,e){return function(){for(var r=arguments.length,s=r-1,o=Array(r);r--;)o[r]=arguments[r];var u=o[e],c=o.slice(0,e);return u&&ig.apply(c,u),e!=s&&ig.apply(c,o.slice(e+1)),t.apply(this,c)}}function qf(t,e){return function(){var r=arguments.length;if(!!r){for(var s=Array(r);r--;)s[r]=arguments[r];var o=s[0]=e.apply(void 0,s);return t.apply(void 0,s),o}}}function xf(t,e,r,s){var o=typeof e=="function",u=e===Object(e);if(u&&(s=r,r=e,e=void 0),r==null)throw new TypeError;s||(s={});var c={cap:"cap"in s?s.cap:!0,curry:"curry"in s?s.curry:!0,fixed:"fixed"in s?s.fixed:!0,immutable:"immutable"in s?s.immutable:!0,rearg:"rearg"in s?s.rearg:!0},f=o?r:$T,h="curry"in s&&s.curry,m="fixed"in s&&s.fixed,y="rearg"in s&&s.rearg,g=o?r.runInContext():void 0,T=o?r:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},O=T.ary,E=T.assign,S=T.clone,j=T.curry,k=T.forEach,B=T.isArray,H=T.isError,Q=T.isFunction,z=T.isWeakMap,Ce=T.keys,ft=T.rearg,rr=T.toInteger,bt=T.toPath,He=Ce(kt.aryMethod),Mt={castArray:function(V){return function(){var q=arguments[0];return B(q)?V(ug(q)):V.apply(void 0,arguments)}},iteratee:function(V){return function(){var q=arguments[0],L=arguments[1],G=V(q,L),me=G.length;return c.cap&&typeof L=="number"?(L=L>2?L-2:1,me&&me<=L?G:Df(G,L)):G}},mixin:function(V){return function(q){var L=this;if(!Q(L))return V(L,Object(q));var G=[];return k(Ce(q),function(me){Q(q[me])&&G.push([me,L.prototype[me]])}),V(L,Object(q)),k(G,function(me){var pt=me[1];Q(pt)?L.prototype[me[0]]=pt:delete L.prototype[me[0]]}),L}},nthArg:function(V){return function(q){var L=q<0?1:rr(q)+1;return j(V(q),L)}},rearg:function(V){return function(q,L){var G=L?L.length:0;return j(V(q,L),G)}},runInContext:function(V){return function(q){return xf(t,V(q),s)}}};function Nt(V,q){if(c.cap){var L=kt.iterateeRearg[V];if(L)return la(q,L);var G=!o&&kt.iterateeAry[V];if(G)return Dr(q,G)}return q}function st(V,q,L){return h||c.curry&&L>1?j(q,L):q}function Ht(V,q,L){if(c.fixed&&(m||!kt.skipFixed[V])){var G=kt.methodSpread[V],me=G&&G.start;return me===void 0?O(q,L):ET(q,me)}return q}function Gt(V,q,L){return c.rearg&&L>1&&(y||!kt.skipRearg[V])?ft(q,kt.methodRearg[V]||kt.aryRearg[L]):q}function ca(V,q){q=bt(q);for(var L=-1,G=q.length,me=G-1,pt=S(Object(V)),Tt=pt;Tt!=null&&++L<G;){var rt=q[L],nr=Tt[rt];nr!=null&&!(Q(nr)||H(nr)||z(nr))&&(Tt[rt]=S(L==me?nr:Object(nr))),Tt=Tt[rt]}return pt}function un(V){return U.runInContext.convert(V)(void 0)}function mr(V,q){var L=kt.aliasToReal[V]||V,G=kt.remap[L]||L,me=s;return function(pt){var Tt=o?g:T,rt=o?g[G]:q,nr=E(E({},me),pt);return xf(Tt,L,rt,nr)}}function Dr(V,q){return yr(V,function(L){return typeof L=="function"?Df(L,q):L})}function la(V,q){return yr(V,function(L){var G=q.length;return wT(ft(Df(L,G),q),G)})}function yr(V,q){return function(){var L=arguments.length;if(!L)return V();for(var G=Array(L);L--;)G[L]=arguments[L];var me=c.rearg?0:L-1;return G[me]=q(G[me]),V.apply(void 0,G)}}function fa(V,q,L){var G,me=kt.aliasToReal[V]||V,pt=q,Tt=Mt[me];return Tt?pt=Tt(q):c.immutable&&(kt.mutate.array[me]?pt=qf(q,ug):kt.mutate.object[me]?pt=qf(q,bT(q)):kt.mutate.set[me]&&(pt=qf(q,ca))),k(He,function(rt){return k(kt.aryMethod[rt],function(nr){if(me==nr){var vr=kt.methodSpread[me],yo=vr&&vr.afterRearg;return G=yo?Ht(me,Gt(me,pt,rt),rt):Gt(me,Ht(me,pt,rt),rt),G=Nt(me,G),G=st(me,G,rt),!1}}),!G}),G||(G=pt),G==q&&(G=h?j(G,1):function(){return q.apply(this,arguments)}),G.convert=mr(me,q),G.placeholder=q.placeholder=L,G}if(!u)return fa(e,r,f);var U=r,J=[];return k(He,function(V){k(kt.aryMethod[V],function(q){var L=U[kt.remap[q]||q];L&&J.push([q,fa(q,L,U)])})}),k(Ce(U),function(V){var q=U[V];if(typeof q=="function"){for(var L=J.length;L--;)if(J[L][0]==V)return;q.convert=mr(V,q),J.push([V,q])}}),k(J,function(V){U[V[0]]=V[1]}),U.convert=un,U.placeholder=U,k(Ce(U),function(V){k(kt.realToAlias[V]||[],function(q){U[q]=U[V]})}),U}cg.exports=xf});var hg=R((HV,dg)=>{var fg=ng().runInContext();dg.exports=lg()(fg,fg)});var Wo=R(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.regexpCode=Ve.getEsmExportName=Ve.getProperty=Ve.safeStringify=Ve.stringify=Ve.strConcat=Ve.addCodeArg=Ve.str=Ve._=Ve.nil=Ve._Code=Ve.Name=Ve.IDENTIFIER=Ve._CodeOrName=void 0;var zo=class{};Ve._CodeOrName=zo;Ve.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var as=class extends zo{constructor(e){if(super(),!Ve.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Ve.Name=as;var Xr=class extends zo{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,s)=>`${r}${s}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,s)=>(s instanceof as&&(r[s.str]=(r[s.str]||0)+1),r),{})}};Ve._Code=Xr;Ve.nil=new Xr("");function pg(t,...e){let r=[t[0]],s=0;for(;s<e.length;)Vf(r,e[s]),r.push(t[++s]);return new Xr(r)}Ve._=pg;var Mf=new Xr("+");function mg(t,...e){let r=[Ko(t[0])],s=0;for(;s<e.length;)r.push(Mf),Vf(r,e[s]),r.push(Mf,Ko(t[++s]));return ST(r),new Xr(r)}Ve.str=mg;function Vf(t,e){e instanceof Xr?t.push(...e._items):e instanceof as?t.push(e):t.push(NT(e))}Ve.addCodeArg=Vf;function ST(t){let e=1;for(;e<t.length-1;){if(t[e]===Mf){let r=PT(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function PT(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof as||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof as))return`"${t}${e.slice(1)}`}function OT(t,e){return e.emptyStr()?t:t.emptyStr()?e:mg`${t}${e}`}Ve.strConcat=OT;function NT(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Ko(Array.isArray(t)?t.join(","):t)}function TT(t){return new Xr(Ko(t))}Ve.stringify=TT;function Ko(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Ve.safeStringify=Ko;function IT(t){return typeof t=="string"&&Ve.IDENTIFIER.test(t)?new Xr(`.${t}`):pg`[${t}]`}Ve.getProperty=IT;function jT(t){if(typeof t=="string"&&Ve.IDENTIFIER.test(t))return new Xr(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}Ve.getEsmExportName=jT;function AT(t){return new Xr(t.toString())}Ve.regexpCode=AT});var zf=R(ur=>{"use strict";Object.defineProperty(ur,"__esModule",{value:!0});ur.ValueScope=ur.ValueScopeName=ur.Scope=ur.varKinds=ur.UsedValueState=void 0;var Or=Wo(),Uf=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Ff;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Ff=ur.UsedValueState||(ur.UsedValueState={}));ur.varKinds={const:new Or.Name("const"),let:new Or.Name("let"),var:new Or.Name("var")};var Ju=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof Or.Name?e:this.name(e)}name(e){return new Or.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,s;if(((s=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||s===void 0?void 0:s.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ur.Scope=Ju;var Yu=class extends Or.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:s}){this.value=e,this.scopePath=(0,Or._)`.${new Or.Name(r)}[${s}]`}};ur.ValueScopeName=Yu;var kT=(0,Or._)`\n`,Lf=class extends Ju{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=Ze(ce({},e),{_n:e.lines?kT:Or.nil})}get(){return this._scope}name(e){return new Yu(e,this._newName(e))}value(e,r){var s;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(e),{prefix:u}=o,c=(s=r.key)!==null&&s!==void 0?s:r.ref,f=this._values[u];if(f){let y=f.get(c);if(y)return y}else f=this._values[u]=new Map;f.set(c,o);let h=this._scope[u]||(this._scope[u]=[]),m=h.length;return h[m]=r.ref,o.setValue(r,{property:u,itemIndex:m}),o}getValue(e,r){let s=this._values[e];if(!!s)return s.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,s=>{if(s.scopePath===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return(0,Or._)`${e}${s.scopePath}`})}scopeCode(e=this._values,r,s){return this._reduceValues(e,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,s)}_reduceValues(e,r,s={},o){let u=Or.nil;for(let c in e){let f=e[c];if(!f)continue;let h=s[c]=s[c]||new Map;f.forEach(m=>{if(h.has(m))return;h.set(m,Ff.Started);let y=r(m);if(y){let g=this.opts.es5?ur.varKinds.var:ur.varKinds.const;u=(0,Or._)`${u}${g} ${m} = ${y};${this.opts._n}`}else if(y=o==null?void 0:o(m))u=(0,Or._)`${u}${y}${this.opts._n}`;else throw new Uf(m);h.set(m,Ff.Completed)})}return u}};ur.ValueScope=Lf});var Ie=R(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.or=Ee.and=Ee.not=Ee.CodeGen=Ee.operators=Ee.varKinds=Ee.ValueScopeName=Ee.ValueScope=Ee.Scope=Ee.Name=Ee.regexpCode=Ee.stringify=Ee.getProperty=Ee.nil=Ee.strConcat=Ee.str=Ee._=void 0;var Ae=Wo(),pn=zf(),Na=Wo();Object.defineProperty(Ee,"_",{enumerable:!0,get:function(){return Na._}});Object.defineProperty(Ee,"str",{enumerable:!0,get:function(){return Na.str}});Object.defineProperty(Ee,"strConcat",{enumerable:!0,get:function(){return Na.strConcat}});Object.defineProperty(Ee,"nil",{enumerable:!0,get:function(){return Na.nil}});Object.defineProperty(Ee,"getProperty",{enumerable:!0,get:function(){return Na.getProperty}});Object.defineProperty(Ee,"stringify",{enumerable:!0,get:function(){return Na.stringify}});Object.defineProperty(Ee,"regexpCode",{enumerable:!0,get:function(){return Na.regexpCode}});Object.defineProperty(Ee,"Name",{enumerable:!0,get:function(){return Na.Name}});var ec=zf();Object.defineProperty(Ee,"Scope",{enumerable:!0,get:function(){return ec.Scope}});Object.defineProperty(Ee,"ValueScope",{enumerable:!0,get:function(){return ec.ValueScope}});Object.defineProperty(Ee,"ValueScopeName",{enumerable:!0,get:function(){return ec.ValueScopeName}});Object.defineProperty(Ee,"varKinds",{enumerable:!0,get:function(){return ec.varKinds}});Ee.operators={GT:new Ae._Code(">"),GTE:new Ae._Code(">="),LT:new Ae._Code("<"),LTE:new Ae._Code("<="),EQ:new Ae._Code("==="),NEQ:new Ae._Code("!=="),NOT:new Ae._Code("!"),OR:new Ae._Code("||"),AND:new Ae._Code("&&"),ADD:new Ae._Code("+")};var ta=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},Kf=class extends ta{constructor(e,r,s){super(),this.varKind=e,this.name=r,this.rhs=s}render({es5:e,_n:r}){let s=e?pn.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${s} ${this.name}${o};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=Ks(this.rhs,e,r)),this}get names(){return this.rhs instanceof Ae._CodeOrName?this.rhs.names:{}}},Zu=class extends ta{constructor(e,r,s){super(),this.lhs=e,this.rhs=r,this.sideEffects=s}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof Ae.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ks(this.rhs,e,r),this}get names(){let e=this.lhs instanceof Ae.Name?{}:ce({},this.lhs.names);return Xu(e,this.rhs)}},Wf=class extends Zu{constructor(e,r,s,o){super(e,s,o),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Hf=class extends ta{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Gf=class extends ta{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},Bf=class extends ta{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},Jf=class extends ta{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Ks(this.code,e,r),this}get names(){return this.code instanceof Ae._CodeOrName?this.code.names:{}}},Ho=class extends ta{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,s)=>r+s.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let s=e[r].optimizeNodes();Array.isArray(s)?e.splice(r,1,...s):s?e[r]=s:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:s}=this,o=s.length;for(;o--;){let u=s[o];u.optimizeNames(e,r)||(CT(e,u.names),s.splice(o,1))}return s.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>os(e,r.names),{})}},ra=class extends Ho{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Yf=class extends Ho{},zs=class extends ra{};zs.kind="else";var mn=class extends ra{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let s=r.optimizeNodes();r=this.else=Array.isArray(s)?new zs(s):s}if(r)return e===!1?r instanceof mn?r:r.nodes:this.nodes.length?this:new mn(yg(e),r instanceof mn?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var s;if(this.else=(s=this.else)===null||s===void 0?void 0:s.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Ks(this.condition,e,r),this}get names(){let e=super.names;return Xu(e,this.condition),this.else&&os(e,this.else.names),e}};mn.kind="if";var ss=class extends ra{};ss.kind="for";var Zf=class extends ss{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=Ks(this.iteration,e,r),this}get names(){return os(super.names,this.iteration.names)}},Qf=class extends ss{constructor(e,r,s,o){super(),this.varKind=e,this.name=r,this.from=s,this.to=o}render(e){let r=e.es5?pn.varKinds.var:this.varKind,{name:s,from:o,to:u}=this;return`for(${r} ${s}=${o}; ${s}<${u}; ${s}++)`+super.render(e)}get names(){let e=Xu(super.names,this.from);return Xu(e,this.to)}},Qu=class extends ss{constructor(e,r,s,o){super(),this.loop=e,this.varKind=r,this.name=s,this.iterable=o}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=Ks(this.iterable,e,r),this}get names(){return os(super.names,this.iterable.names)}},Go=class extends ra{constructor(e,r,s){super(),this.name=e,this.args=r,this.async=s}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Go.kind="func";var Bo=class extends Ho{render(e){return"return "+super.render(e)}};Bo.kind="return";var Xf=class extends ra{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var s,o;return super.optimizeNames(e,r),(s=this.catch)===null||s===void 0||s.optimizeNames(e,r),(o=this.finally)===null||o===void 0||o.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&os(e,this.catch.names),this.finally&&os(e,this.finally.names),e}},Jo=class extends ra{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Jo.kind="catch";var Yo=class extends ra{render(e){return"finally"+super.render(e)}};Yo.kind="finally";var ed=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Ze(ce({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new pn.Scope({parent:e}),this._nodes=[new Yf]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let s=this._extScope.value(e,r);return(this._values[s.prefix]||(this._values[s.prefix]=new Set)).add(s),s}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,s,o){let u=this._scope.toName(r);return s!==void 0&&o&&(this._constants[u.str]=s),this._leafNode(new Kf(e,u,s)),u}const(e,r,s){return this._def(pn.varKinds.const,e,r,s)}let(e,r,s){return this._def(pn.varKinds.let,e,r,s)}var(e,r,s){return this._def(pn.varKinds.var,e,r,s)}assign(e,r,s){return this._leafNode(new Zu(e,r,s))}add(e,r){return this._leafNode(new Wf(e,Ee.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==Ae.nil&&this._leafNode(new Jf(e)),this}object(...e){let r=["{"];for(let[s,o]of e)r.length>1&&r.push(","),r.push(s),(s!==o||this.opts.es5)&&(r.push(":"),(0,Ae.addCodeArg)(r,o));return r.push("}"),new Ae._Code(r)}if(e,r,s){if(this._blockNode(new mn(e)),r&&s)this.code(r).else().code(s).endIf();else if(r)this.code(r).endIf();else if(s)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new mn(e))}else(){return this._elseNode(new zs)}endIf(){return this._endBlockNode(mn,zs)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Zf(e),r)}forRange(e,r,s,o,u=this.opts.es5?pn.varKinds.var:pn.varKinds.let){let c=this._scope.toName(e);return this._for(new Qf(u,c,r,s),()=>o(c))}forOf(e,r,s,o=pn.varKinds.const){let u=this._scope.toName(e);if(this.opts.es5){let c=r instanceof Ae.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,Ae._)`${c}.length`,f=>{this.var(u,(0,Ae._)`${c}[${f}]`),s(u)})}return this._for(new Qu("of",o,u,r),()=>s(u))}forIn(e,r,s,o=this.opts.es5?pn.varKinds.var:pn.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,Ae._)`Object.keys(${r})`,s);let u=this._scope.toName(e);return this._for(new Qu("in",o,u,r),()=>s(u))}endFor(){return this._endBlockNode(ss)}label(e){return this._leafNode(new Hf(e))}break(e){return this._leafNode(new Gf(e))}return(e){let r=new Bo;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Bo)}try(e,r,s){if(!r&&!s)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new Xf;if(this._blockNode(o),this.code(e),r){let u=this.name("e");this._currNode=o.catch=new Jo(u),r(u)}return s&&(this._currNode=o.finally=new Yo,this.code(s)),this._endBlockNode(Jo,Yo)}throw(e){return this._leafNode(new Bf(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let s=this._nodes.length-r;if(s<0||e!==void 0&&s!==e)throw new Error(`CodeGen: wrong number of nodes: ${s} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=Ae.nil,s,o){return this._blockNode(new Go(e,r,s)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(Go)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let s=this._currNode;if(s instanceof e||r&&s instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof mn))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};Ee.CodeGen=ed;function os(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Xu(t,e){return e instanceof Ae._CodeOrName?os(t,e.names):t}function Ks(t,e,r){if(t instanceof Ae.Name)return s(t);if(!o(t))return t;return new Ae._Code(t._items.reduce((u,c)=>(c instanceof Ae.Name&&(c=s(c)),c instanceof Ae._Code?u.push(...c._items):u.push(c),u),[]));function s(u){let c=r[u.str];return c===void 0||e[u.str]!==1?u:(delete e[u.str],c)}function o(u){return u instanceof Ae._Code&&u._items.some(c=>c instanceof Ae.Name&&e[c.str]===1&&r[c.str]!==void 0)}}function CT(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function yg(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,Ae._)`!${td(t)}`}Ee.not=yg;var RT=vg(Ee.operators.AND);function DT(...t){return t.reduce(RT)}Ee.and=DT;var qT=vg(Ee.operators.OR);function xT(...t){return t.reduce(qT)}Ee.or=xT;function vg(t){return(e,r)=>e===Ae.nil?r:r===Ae.nil?e:(0,Ae._)`${td(e)} ${t} ${td(r)}`}function td(t){return t instanceof Ae.Name?t:(0,Ae._)`(${t})`}});var Ue=R(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.checkStrictMode=Se.getErrorPath=Se.Type=Se.useFunc=Se.setEvaluated=Se.evaluatedPropsToName=Se.mergeEvaluated=Se.eachItem=Se.unescapeJsonPointer=Se.escapeJsonPointer=Se.escapeFragment=Se.unescapeFragment=Se.schemaRefOrVal=Se.schemaHasRulesButRef=Se.schemaHasRules=Se.checkUnknownRules=Se.alwaysValidSchema=Se.toHash=void 0;var et=Ie(),MT=Wo();function VT(t){let e={};for(let r of t)e[r]=!0;return e}Se.toHash=VT;function UT(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:($g(t,e),!wg(e,t.self.RULES.all))}Se.alwaysValidSchema=UT;function $g(t,e=t.schema){let{opts:r,self:s}=t;if(!r.strictSchema||typeof e=="boolean")return;let o=s.RULES.keywords;for(let u in e)o[u]||Pg(t,`unknown keyword: "${u}"`)}Se.checkUnknownRules=$g;function wg(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}Se.schemaHasRules=wg;function FT(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}Se.schemaHasRulesButRef=FT;function LT({topSchemaRef:t,schemaPath:e},r,s,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,et._)`${r}`}return(0,et._)`${t}${e}${(0,et.getProperty)(s)}`}Se.schemaRefOrVal=LT;function zT(t){return bg(decodeURIComponent(t))}Se.unescapeFragment=zT;function KT(t){return encodeURIComponent(rd(t))}Se.escapeFragment=KT;function rd(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}Se.escapeJsonPointer=rd;function bg(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Se.unescapeJsonPointer=bg;function WT(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}Se.eachItem=WT;function gg({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:s}){return(o,u,c,f)=>{let h=c===void 0?u:c instanceof et.Name?(u instanceof et.Name?t(o,u,c):e(o,u,c),c):u instanceof et.Name?(e(o,c,u),u):r(u,c);return f===et.Name&&!(h instanceof et.Name)?s(o,h):h}}Se.mergeEvaluated={props:gg({mergeNames:(t,e,r)=>t.if((0,et._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,et._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,et._)`${r} || {}`).code((0,et._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,et._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,et._)`${r} || {}`),nd(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:ce(ce({},t),e),resultToName:Eg}),items:gg({mergeNames:(t,e,r)=>t.if((0,et._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,et._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,et._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,et._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Eg(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,et._)`{}`);return e!==void 0&&nd(t,r,e),r}Se.evaluatedPropsToName=Eg;function nd(t,e,r){Object.keys(r).forEach(s=>t.assign((0,et._)`${e}${(0,et.getProperty)(s)}`,!0))}Se.setEvaluated=nd;var _g={};function HT(t,e){return t.scopeValue("func",{ref:e,code:_g[e.code]||(_g[e.code]=new MT._Code(e.code))})}Se.useFunc=HT;var Sg;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Sg=Se.Type||(Se.Type={}));function GT(t,e,r){if(t instanceof et.Name){let s=e===Sg.Num;return r?s?(0,et._)`"[" + ${t} + "]"`:(0,et._)`"['" + ${t} + "']"`:s?(0,et._)`"/" + ${t}`:(0,et._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,et.getProperty)(t).toString():"/"+rd(t)}Se.getErrorPath=GT;function Pg(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}Se.checkStrictMode=Pg});var na=R(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var Qt=Ie(),BT={data:new Qt.Name("data"),valCxt:new Qt.Name("valCxt"),instancePath:new Qt.Name("instancePath"),parentData:new Qt.Name("parentData"),parentDataProperty:new Qt.Name("parentDataProperty"),rootData:new Qt.Name("rootData"),dynamicAnchors:new Qt.Name("dynamicAnchors"),vErrors:new Qt.Name("vErrors"),errors:new Qt.Name("errors"),this:new Qt.Name("this"),self:new Qt.Name("self"),scope:new Qt.Name("scope"),json:new Qt.Name("json"),jsonPos:new Qt.Name("jsonPos"),jsonLen:new Qt.Name("jsonLen"),jsonPart:new Qt.Name("jsonPart")};ad.default=BT});var Zo=R(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.extendErrors=Xt.resetErrorsCount=Xt.reportExtraError=Xt.reportError=Xt.keyword$DataError=Xt.keywordError=void 0;var De=Ie(),tc=Ue(),cr=na();Xt.keywordError={message:({keyword:t})=>(0,De.str)`must pass "${t}" keyword validation`};Xt.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,De.str)`"${t}" keyword must be ${e} ($data)`:(0,De.str)`"${t}" keyword is invalid ($data)`};function JT(t,e=Xt.keywordError,r,s){let{it:o}=t,{gen:u,compositeRule:c,allErrors:f}=o,h=Tg(t,e,r);(s!=null?s:c||f)?Og(u,h):Ng(o,(0,De._)`[${h}]`)}Xt.reportError=JT;function YT(t,e=Xt.keywordError,r){let{it:s}=t,{gen:o,compositeRule:u,allErrors:c}=s,f=Tg(t,e,r);Og(o,f),u||c||Ng(s,cr.default.vErrors)}Xt.reportExtraError=YT;function ZT(t,e){t.assign(cr.default.errors,e),t.if((0,De._)`${cr.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,De._)`${cr.default.vErrors}.length`,e),()=>t.assign(cr.default.vErrors,null)))}Xt.resetErrorsCount=ZT;function QT({gen:t,keyword:e,schemaValue:r,data:s,errsCount:o,it:u}){if(o===void 0)throw new Error("ajv implementation error");let c=t.name("err");t.forRange("i",o,cr.default.errors,f=>{t.const(c,(0,De._)`${cr.default.vErrors}[${f}]`),t.if((0,De._)`${c}.instancePath === undefined`,()=>t.assign((0,De._)`${c}.instancePath`,(0,De.strConcat)(cr.default.instancePath,u.errorPath))),t.assign((0,De._)`${c}.schemaPath`,(0,De.str)`${u.errSchemaPath}/${e}`),u.opts.verbose&&(t.assign((0,De._)`${c}.schema`,r),t.assign((0,De._)`${c}.data`,s))})}Xt.extendErrors=QT;function Og(t,e){let r=t.const("err",e);t.if((0,De._)`${cr.default.vErrors} === null`,()=>t.assign(cr.default.vErrors,(0,De._)`[${r}]`),(0,De._)`${cr.default.vErrors}.push(${r})`),t.code((0,De._)`${cr.default.errors}++`)}function Ng(t,e){let{gen:r,validateName:s,schemaEnv:o}=t;o.$async?r.throw((0,De._)`new ${t.ValidationError}(${e})`):(r.assign((0,De._)`${s}.errors`,e),r.return(!1))}var is={keyword:new De.Name("keyword"),schemaPath:new De.Name("schemaPath"),params:new De.Name("params"),propertyName:new De.Name("propertyName"),message:new De.Name("message"),schema:new De.Name("schema"),parentSchema:new De.Name("parentSchema")};function Tg(t,e,r){let{createErrors:s}=t.it;return s===!1?(0,De._)`{}`:XT(t,e,r)}function XT(t,e,r={}){let{gen:s,it:o}=t,u=[eI(o,r),tI(t,r)];return rI(t,e,u),s.object(...u)}function eI({errorPath:t},{instancePath:e}){let r=e?(0,De.str)`${t}${(0,tc.getErrorPath)(e,tc.Type.Str)}`:t;return[cr.default.instancePath,(0,De.strConcat)(cr.default.instancePath,r)]}function tI({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:s}){let o=s?e:(0,De.str)`${e}/${t}`;return r&&(o=(0,De.str)`${o}${(0,tc.getErrorPath)(r,tc.Type.Str)}`),[is.schemaPath,o]}function rI(t,{params:e,message:r},s){let{keyword:o,data:u,schemaValue:c,it:f}=t,{opts:h,propertyName:m,topSchemaRef:y,schemaPath:g}=f;s.push([is.keyword,o],[is.params,typeof e=="function"?e(t):e||(0,De._)`{}`]),h.messages&&s.push([is.message,typeof r=="function"?r(t):r]),h.verbose&&s.push([is.schema,c],[is.parentSchema,(0,De._)`${y}${g}`],[cr.default.data,u]),m&&s.push([is.propertyName,m])}});var jg=R(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.boolOrEmptySchema=Ws.topBoolOrEmptySchema=void 0;var nI=Zo(),aI=Ie(),sI=na(),oI={message:"boolean schema is false"};function iI(t){let{gen:e,schema:r,validateName:s}=t;r===!1?Ig(t,!1):typeof r=="object"&&r.$async===!0?e.return(sI.default.data):(e.assign((0,aI._)`${s}.errors`,null),e.return(!0))}Ws.topBoolOrEmptySchema=iI;function uI(t,e){let{gen:r,schema:s}=t;s===!1?(r.var(e,!1),Ig(t)):r.var(e,!0)}Ws.boolOrEmptySchema=uI;function Ig(t,e){let{gen:r,data:s}=t,o={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,nI.reportError)(o,oI,void 0,e)}});var sd=R(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});Hs.getRules=Hs.isJSONType=void 0;var cI=["string","number","integer","boolean","null","object","array"],lI=new Set(cI);function fI(t){return typeof t=="string"&&lI.has(t)}Hs.isJSONType=fI;function dI(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Ze(ce({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Hs.getRules=dI});var od=R(Ta=>{"use strict";Object.defineProperty(Ta,"__esModule",{value:!0});Ta.shouldUseRule=Ta.shouldUseGroup=Ta.schemaHasRulesForType=void 0;function hI({schema:t,self:e},r){let s=e.RULES.types[r];return s&&s!==!0&&Ag(t,s)}Ta.schemaHasRulesForType=hI;function Ag(t,e){return e.rules.some(r=>kg(t,r))}Ta.shouldUseGroup=Ag;function kg(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(s=>t[s]!==void 0))}Ta.shouldUseRule=kg});var Xo=R(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.reportTypeError=Ut.checkDataTypes=Ut.checkDataType=Ut.coerceAndCheckDataType=Ut.getJSONTypes=Ut.getSchemaTypes=Ut.DataType=void 0;var pI=sd(),mI=od(),yI=Zo(),ge=Ie(),Cg=Ue(),Qo;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Qo=Ut.DataType||(Ut.DataType={}));function vI(t){let e=Rg(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}Ut.getSchemaTypes=vI;function Rg(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(pI.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}Ut.getJSONTypes=Rg;function gI(t,e){let{gen:r,data:s,opts:o}=t,u=_I(e,o.coerceTypes),c=e.length>0&&!(u.length===0&&e.length===1&&(0,mI.schemaHasRulesForType)(t,e[0]));if(c){let f=ud(e,s,o.strictNumbers,Qo.Wrong);r.if(f,()=>{u.length?$I(t,e,u):cd(t)})}return c}Ut.coerceAndCheckDataType=gI;var Dg=new Set(["string","number","integer","boolean","null"]);function _I(t,e){return e?t.filter(r=>Dg.has(r)||e==="array"&&r==="array"):[]}function $I(t,e,r){let{gen:s,data:o,opts:u}=t,c=s.let("dataType",(0,ge._)`typeof ${o}`),f=s.let("coerced",(0,ge._)`undefined`);u.coerceTypes==="array"&&s.if((0,ge._)`${c} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>s.assign(o,(0,ge._)`${o}[0]`).assign(c,(0,ge._)`typeof ${o}`).if(ud(e,o,u.strictNumbers),()=>s.assign(f,o))),s.if((0,ge._)`${f} !== undefined`);for(let m of r)(Dg.has(m)||m==="array"&&u.coerceTypes==="array")&&h(m);s.else(),cd(t),s.endIf(),s.if((0,ge._)`${f} !== undefined`,()=>{s.assign(o,f),wI(t,f)});function h(m){switch(m){case"string":s.elseIf((0,ge._)`${c} == "number" || ${c} == "boolean"`).assign(f,(0,ge._)`"" + ${o}`).elseIf((0,ge._)`${o} === null`).assign(f,(0,ge._)`""`);return;case"number":s.elseIf((0,ge._)`${c} == "boolean" || ${o} === null
              || (${c} == "string" && ${o} && ${o} == +${o})`).assign(f,(0,ge._)`+${o}`);return;case"integer":s.elseIf((0,ge._)`${c} === "boolean" || ${o} === null
              || (${c} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(f,(0,ge._)`+${o}`);return;case"boolean":s.elseIf((0,ge._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(f,!1).elseIf((0,ge._)`${o} === "true" || ${o} === 1`).assign(f,!0);return;case"null":s.elseIf((0,ge._)`${o} === "" || ${o} === 0 || ${o} === false`),s.assign(f,null);return;case"array":s.elseIf((0,ge._)`${c} === "string" || ${c} === "number"
              || ${c} === "boolean" || ${o} === null`).assign(f,(0,ge._)`[${o}]`)}}}function wI({gen:t,parentData:e,parentDataProperty:r},s){t.if((0,ge._)`${e} !== undefined`,()=>t.assign((0,ge._)`${e}[${r}]`,s))}function id(t,e,r,s=Qo.Correct){let o=s===Qo.Correct?ge.operators.EQ:ge.operators.NEQ,u;switch(t){case"null":return(0,ge._)`${e} ${o} null`;case"array":u=(0,ge._)`Array.isArray(${e})`;break;case"object":u=(0,ge._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":u=c((0,ge._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":u=c();break;default:return(0,ge._)`typeof ${e} ${o} ${t}`}return s===Qo.Correct?u:(0,ge.not)(u);function c(f=ge.nil){return(0,ge.and)((0,ge._)`typeof ${e} == "number"`,f,r?(0,ge._)`isFinite(${e})`:ge.nil)}}Ut.checkDataType=id;function ud(t,e,r,s){if(t.length===1)return id(t[0],e,r,s);let o,u=(0,Cg.toHash)(t);if(u.array&&u.object){let c=(0,ge._)`typeof ${e} != "object"`;o=u.null?c:(0,ge._)`!${e} || ${c}`,delete u.null,delete u.array,delete u.object}else o=ge.nil;u.number&&delete u.integer;for(let c in u)o=(0,ge.and)(o,id(c,e,r,s));return o}Ut.checkDataTypes=ud;var bI={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,ge._)`{type: ${t}}`:(0,ge._)`{type: ${e}}`};function cd(t){let e=EI(t);(0,yI.reportError)(e,bI)}Ut.reportTypeError=cd;function EI(t){let{gen:e,data:r,schema:s}=t,o=(0,Cg.schemaRefOrVal)(t,s,"type");return{gen:e,keyword:"type",data:r,schema:s.type,schemaCode:o,schemaValue:o,parentSchema:s,params:{},it:t}}});var xg=R(rc=>{"use strict";Object.defineProperty(rc,"__esModule",{value:!0});rc.assignDefaults=void 0;var Gs=Ie(),SI=Ue();function PI(t,e){let{properties:r,items:s}=t.schema;if(e==="object"&&r)for(let o in r)qg(t,o,r[o].default);else e==="array"&&Array.isArray(s)&&s.forEach((o,u)=>qg(t,u,o.default))}rc.assignDefaults=PI;function qg(t,e,r){let{gen:s,compositeRule:o,data:u,opts:c}=t;if(r===void 0)return;let f=(0,Gs._)`${u}${(0,Gs.getProperty)(e)}`;if(o){(0,SI.checkStrictMode)(t,`default is ignored for: ${f}`);return}let h=(0,Gs._)`${f} === undefined`;c.useDefaults==="empty"&&(h=(0,Gs._)`${h} || ${f} === null || ${f} === ""`),s.if(h,(0,Gs._)`${f} = ${(0,Gs.stringify)(r)}`)}});var en=R(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.validateUnion=Qe.validateArray=Qe.usePattern=Qe.callValidateCode=Qe.schemaProperties=Qe.allSchemaProperties=Qe.noPropertyInData=Qe.propertyInData=Qe.isOwnProperty=Qe.hasPropFunc=Qe.reportMissingProp=Qe.checkMissingProp=Qe.checkReportMissingProp=void 0;var ct=Ie(),ld=Ue(),Ia=na(),OI=Ue();function NI(t,e){let{gen:r,data:s,it:o}=t;r.if(dd(r,s,e,o.opts.ownProperties),()=>{t.setParams({missingProperty:(0,ct._)`${e}`},!0),t.error()})}Qe.checkReportMissingProp=NI;function TI({gen:t,data:e,it:{opts:r}},s,o){return(0,ct.or)(...s.map(u=>(0,ct.and)(dd(t,e,u,r.ownProperties),(0,ct._)`${o} = ${u}`)))}Qe.checkMissingProp=TI;function II(t,e){t.setParams({missingProperty:e},!0),t.error()}Qe.reportMissingProp=II;function Mg(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,ct._)`Object.prototype.hasOwnProperty`})}Qe.hasPropFunc=Mg;function fd(t,e,r){return(0,ct._)`${Mg(t)}.call(${e}, ${r})`}Qe.isOwnProperty=fd;function jI(t,e,r,s){let o=(0,ct._)`${e}${(0,ct.getProperty)(r)} !== undefined`;return s?(0,ct._)`${o} && ${fd(t,e,r)}`:o}Qe.propertyInData=jI;function dd(t,e,r,s){let o=(0,ct._)`${e}${(0,ct.getProperty)(r)} === undefined`;return s?(0,ct.or)(o,(0,ct.not)(fd(t,e,r))):o}Qe.noPropertyInData=dd;function Vg(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Qe.allSchemaProperties=Vg;function AI(t,e){return Vg(e).filter(r=>!(0,ld.alwaysValidSchema)(t,e[r]))}Qe.schemaProperties=AI;function kI({schemaCode:t,data:e,it:{gen:r,topSchemaRef:s,schemaPath:o,errorPath:u},it:c},f,h,m){let y=m?(0,ct._)`${t}, ${e}, ${s}${o}`:e,g=[[Ia.default.instancePath,(0,ct.strConcat)(Ia.default.instancePath,u)],[Ia.default.parentData,c.parentData],[Ia.default.parentDataProperty,c.parentDataProperty],[Ia.default.rootData,Ia.default.rootData]];c.opts.dynamicRef&&g.push([Ia.default.dynamicAnchors,Ia.default.dynamicAnchors]);let T=(0,ct._)`${y}, ${r.object(...g)}`;return h!==ct.nil?(0,ct._)`${f}.call(${h}, ${T})`:(0,ct._)`${f}(${T})`}Qe.callValidateCode=kI;var CI=(0,ct._)`new RegExp`;function RI({gen:t,it:{opts:e}},r){let s=e.unicodeRegExp?"u":"",{regExp:o}=e.code,u=o(r,s);return t.scopeValue("pattern",{key:u.toString(),ref:u,code:(0,ct._)`${o.code==="new RegExp"?CI:(0,OI.useFunc)(t,o)}(${r}, ${s})`})}Qe.usePattern=RI;function DI(t){let{gen:e,data:r,keyword:s,it:o}=t,u=e.name("valid");if(o.allErrors){let f=e.let("valid",!0);return c(()=>e.assign(f,!1)),f}return e.var(u,!0),c(()=>e.break()),u;function c(f){let h=e.const("len",(0,ct._)`${r}.length`);e.forRange("i",0,h,m=>{t.subschema({keyword:s,dataProp:m,dataPropType:ld.Type.Num},u),e.if((0,ct.not)(u),f)})}}Qe.validateArray=DI;function qI(t){let{gen:e,schema:r,keyword:s,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(h=>(0,ld.alwaysValidSchema)(o,h))&&!o.opts.unevaluated)return;let c=e.let("valid",!1),f=e.name("_valid");e.block(()=>r.forEach((h,m)=>{let y=t.subschema({keyword:s,schemaProp:m,compositeRule:!0},f);e.assign(c,(0,ct._)`${c} || ${f}`),t.mergeValidEvaluated(y,f)||e.if((0,ct.not)(c))})),t.result(c,()=>t.reset(),()=>t.error(!0))}Qe.validateUnion=qI});var Lg=R(xn=>{"use strict";Object.defineProperty(xn,"__esModule",{value:!0});xn.validateKeywordUsage=xn.validSchemaType=xn.funcKeywordCode=xn.macroKeywordCode=void 0;var lr=Ie(),us=na(),xI=en(),MI=Zo();function VI(t,e){let{gen:r,keyword:s,schema:o,parentSchema:u,it:c}=t,f=e.macro.call(c.self,o,u,c),h=Fg(r,s,f);c.opts.validateSchema!==!1&&c.self.validateSchema(f,!0);let m=r.name("valid");t.subschema({schema:f,schemaPath:lr.nil,errSchemaPath:`${c.errSchemaPath}/${s}`,topSchemaRef:h,compositeRule:!0},m),t.pass(m,()=>t.error(!0))}xn.macroKeywordCode=VI;function UI(t,e){var r;let{gen:s,keyword:o,schema:u,parentSchema:c,$data:f,it:h}=t;LI(h,e);let m=!f&&e.compile?e.compile.call(h.self,u,c,h):e.validate,y=Fg(s,o,m),g=s.let("valid");t.block$data(g,T),t.ok((r=e.valid)!==null&&r!==void 0?r:g);function T(){if(e.errors===!1)S(),e.modifying&&Ug(t),j(()=>t.error());else{let k=e.async?O():E();e.modifying&&Ug(t),j(()=>FI(t,k))}}function O(){let k=s.let("ruleErrs",null);return s.try(()=>S((0,lr._)`await `),B=>s.assign(g,!1).if((0,lr._)`${B} instanceof ${h.ValidationError}`,()=>s.assign(k,(0,lr._)`${B}.errors`),()=>s.throw(B))),k}function E(){let k=(0,lr._)`${y}.errors`;return s.assign(k,null),S(lr.nil),k}function S(k=e.async?(0,lr._)`await `:lr.nil){let B=h.opts.passContext?us.default.this:us.default.self,H=!("compile"in e&&!f||e.schema===!1);s.assign(g,(0,lr._)`${k}${(0,xI.callValidateCode)(t,y,B,H)}`,e.modifying)}function j(k){var B;s.if((0,lr.not)((B=e.valid)!==null&&B!==void 0?B:g),k)}}xn.funcKeywordCode=UI;function Ug(t){let{gen:e,data:r,it:s}=t;e.if(s.parentData,()=>e.assign(r,(0,lr._)`${s.parentData}[${s.parentDataProperty}]`))}function FI(t,e){let{gen:r}=t;r.if((0,lr._)`Array.isArray(${e})`,()=>{r.assign(us.default.vErrors,(0,lr._)`${us.default.vErrors} === null ? ${e} : ${us.default.vErrors}.concat(${e})`).assign(us.default.errors,(0,lr._)`${us.default.vErrors}.length`),(0,MI.extendErrors)(t)},()=>t.error())}function LI({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function Fg(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,lr.stringify)(r)})}function zI(t,e,r=!1){return!e.length||e.some(s=>s==="array"?Array.isArray(t):s==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==s||r&&typeof t=="undefined")}xn.validSchemaType=zI;function KI({schema:t,opts:e,self:r,errSchemaPath:s},o,u){if(Array.isArray(o.keyword)?!o.keyword.includes(u):o.keyword!==u)throw new Error("ajv implementation error");let c=o.dependencies;if(c!=null&&c.some(f=>!Object.prototype.hasOwnProperty.call(t,f)))throw new Error(`parent schema must have dependencies of ${u}: ${c.join(",")}`);if(o.validateSchema&&!o.validateSchema(t[u])){let h=`keyword "${u}" value is invalid at path "${s}": `+r.errorsText(o.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(h);else throw new Error(h)}}xn.validateKeywordUsage=KI});var Kg=R(ja=>{"use strict";Object.defineProperty(ja,"__esModule",{value:!0});ja.extendSubschemaMode=ja.extendSubschemaData=ja.getSubschema=void 0;var Mn=Ie(),zg=Ue();function WI(t,{keyword:e,schemaProp:r,schema:s,schemaPath:o,errSchemaPath:u,topSchemaRef:c}){if(e!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let f=t.schema[e];return r===void 0?{schema:f,schemaPath:(0,Mn._)`${t.schemaPath}${(0,Mn.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:f[r],schemaPath:(0,Mn._)`${t.schemaPath}${(0,Mn.getProperty)(e)}${(0,Mn.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,zg.escapeFragment)(r)}`}}if(s!==void 0){if(o===void 0||u===void 0||c===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:o,topSchemaRef:c,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}ja.getSubschema=WI;function HI(t,e,{dataProp:r,dataPropType:s,data:o,dataTypes:u,propertyName:c}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:f}=e;if(r!==void 0){let{errorPath:m,dataPathArr:y,opts:g}=e,T=f.let("data",(0,Mn._)`${e.data}${(0,Mn.getProperty)(r)}`,!0);h(T),t.errorPath=(0,Mn.str)`${m}${(0,zg.getErrorPath)(r,s,g.jsPropertySyntax)}`,t.parentDataProperty=(0,Mn._)`${r}`,t.dataPathArr=[...y,t.parentDataProperty]}if(o!==void 0){let m=o instanceof Mn.Name?o:f.let("data",o,!0);h(m),c!==void 0&&(t.propertyName=c)}u&&(t.dataTypes=u);function h(m){t.data=m,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,m]}}ja.extendSubschemaData=HI;function GI(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:s,createErrors:o,allErrors:u}){s!==void 0&&(t.compositeRule=s),o!==void 0&&(t.createErrors=o),u!==void 0&&(t.allErrors=u),t.jtdDiscriminator=e,t.jtdMetadata=r}ja.extendSubschemaMode=GI});var ei=R((iU,Wg)=>{"use strict";Wg.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var s,o,u;if(Array.isArray(e)){if(s=e.length,s!=r.length)return!1;for(o=s;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(u=Object.keys(e),s=u.length,s!==Object.keys(r).length)return!1;for(o=s;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,u[o]))return!1;for(o=s;o--!==0;){var c=u[o];if(!t(e[c],r[c]))return!1}return!0}return e!==e&&r!==r}});var Gg=R((uU,Hg)=>{"use strict";var Aa=Hg.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var s=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};nc(e,s,o,t,"",t)};Aa.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Aa.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Aa.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Aa.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function nc(t,e,r,s,o,u,c,f,h,m){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,o,u,c,f,h,m);for(var y in s){var g=s[y];if(Array.isArray(g)){if(y in Aa.arrayKeywords)for(var T=0;T<g.length;T++)nc(t,e,r,g[T],o+"/"+y+"/"+T,u,o,y,s,T)}else if(y in Aa.propsKeywords){if(g&&typeof g=="object")for(var O in g)nc(t,e,r,g[O],o+"/"+y+"/"+BI(O),u,o,y,s,O)}else(y in Aa.keywords||t.allKeys&&!(y in Aa.skipKeywords))&&nc(t,e,r,g,o+"/"+y,u,o,y,s)}r(s,o,u,c,f,h,m)}}function BI(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var ti=R(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.getSchemaRefs=Nr.resolveUrl=Nr.normalizeId=Nr._getFullPath=Nr.getFullPath=Nr.inlineRef=void 0;var JI=Ue(),YI=ei(),ZI=Gg(),QI=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function XI(t,e=!0){return typeof t=="boolean"?!0:e===!0?!hd(t):e?Bg(t)<=e:!1}Nr.inlineRef=XI;var ej=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function hd(t){for(let e in t){if(ej.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(hd)||typeof r=="object"&&hd(r))return!0}return!1}function Bg(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!QI.has(r)&&(typeof t[r]=="object"&&(0,JI.eachItem)(t[r],s=>e+=Bg(s)),e===1/0))return 1/0}return e}function Jg(t,e="",r){r!==!1&&(e=Bs(e));let s=t.parse(e);return Yg(t,s)}Nr.getFullPath=Jg;function Yg(t,e){return t.serialize(e).split("#")[0]+"#"}Nr._getFullPath=Yg;var tj=/#\/?$/;function Bs(t){return t?t.replace(tj,""):""}Nr.normalizeId=Bs;function rj(t,e,r){return r=Bs(r),t.resolve(e,r)}Nr.resolveUrl=rj;var nj=/^[a-z_][-a-z0-9._]*$/i;function aj(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:s}=this.opts,o=Bs(t[r]||e),u={"":o},c=Jg(s,o,!1),f={},h=new Set;return ZI(t,{allKeys:!0},(g,T,O,E)=>{if(E===void 0)return;let S=c+T,j=u[E];typeof g[r]=="string"&&(j=k.call(this,g[r])),B.call(this,g.$anchor),B.call(this,g.$dynamicAnchor),u[T]=j;function k(H){let Q=this.opts.uriResolver.resolve;if(H=Bs(j?Q(j,H):H),h.has(H))throw y(H);h.add(H);let z=this.refs[H];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?m(g,z.schema,H):H!==Bs(S)&&(H[0]==="#"?(m(g,f[H],H),f[H]=g):this.refs[H]=S),H}function B(H){if(typeof H=="string"){if(!nj.test(H))throw new Error(`invalid anchor "${H}"`);k.call(this,`#${H}`)}}}),f;function m(g,T,O){if(T!==void 0&&!YI(g,T))throw y(O)}function y(g){return new Error(`reference "${g}" resolves to more than one schema`)}}Nr.getSchemaRefs=aj});var ai=R(ka=>{"use strict";Object.defineProperty(ka,"__esModule",{value:!0});ka.getData=ka.KeywordCxt=ka.validateFunctionCode=void 0;var t_=jg(),Zg=Xo(),md=od(),ac=Xo(),sj=xg(),ni=Lg(),pd=Kg(),re=Ie(),de=na(),oj=ti(),aa=Ue(),ri=Zo();function ij(t){if(a_(t)&&(s_(t),n_(t))){lj(t);return}r_(t,()=>(0,t_.topBoolOrEmptySchema)(t))}ka.validateFunctionCode=ij;function r_({gen:t,validateName:e,schema:r,schemaEnv:s,opts:o},u){o.code.es5?t.func(e,(0,re._)`${de.default.data}, ${de.default.valCxt}`,s.$async,()=>{t.code((0,re._)`"use strict"; ${Qg(r,o)}`),cj(t,o),t.code(u)}):t.func(e,(0,re._)`${de.default.data}, ${uj(o)}`,s.$async,()=>t.code(Qg(r,o)).code(u))}function uj(t){return(0,re._)`{${de.default.instancePath}="", ${de.default.parentData}, ${de.default.parentDataProperty}, ${de.default.rootData}=${de.default.data}${t.dynamicRef?(0,re._)`, ${de.default.dynamicAnchors}={}`:re.nil}}={}`}function cj(t,e){t.if(de.default.valCxt,()=>{t.var(de.default.instancePath,(0,re._)`${de.default.valCxt}.${de.default.instancePath}`),t.var(de.default.parentData,(0,re._)`${de.default.valCxt}.${de.default.parentData}`),t.var(de.default.parentDataProperty,(0,re._)`${de.default.valCxt}.${de.default.parentDataProperty}`),t.var(de.default.rootData,(0,re._)`${de.default.valCxt}.${de.default.rootData}`),e.dynamicRef&&t.var(de.default.dynamicAnchors,(0,re._)`${de.default.valCxt}.${de.default.dynamicAnchors}`)},()=>{t.var(de.default.instancePath,(0,re._)`""`),t.var(de.default.parentData,(0,re._)`undefined`),t.var(de.default.parentDataProperty,(0,re._)`undefined`),t.var(de.default.rootData,de.default.data),e.dynamicRef&&t.var(de.default.dynamicAnchors,(0,re._)`{}`)})}function lj(t){let{schema:e,opts:r,gen:s}=t;r_(t,()=>{r.$comment&&e.$comment&&i_(t),mj(t),s.let(de.default.vErrors,null),s.let(de.default.errors,0),r.unevaluated&&fj(t),o_(t),gj(t)})}function fj(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,re._)`${r}.evaluated`),e.if((0,re._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,re._)`${t.evaluated}.props`,(0,re._)`undefined`)),e.if((0,re._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,re._)`${t.evaluated}.items`,(0,re._)`undefined`))}function Qg(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,re._)`/*# sourceURL=${r} */`:re.nil}function dj(t,e){if(a_(t)&&(s_(t),n_(t))){hj(t,e);return}(0,t_.boolOrEmptySchema)(t,e)}function n_({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function a_(t){return typeof t.schema!="boolean"}function hj(t,e){let{schema:r,gen:s,opts:o}=t;o.$comment&&r.$comment&&i_(t),yj(t),vj(t);let u=s.const("_errs",de.default.errors);o_(t,u),s.var(e,(0,re._)`${u} === ${de.default.errors}`)}function s_(t){(0,aa.checkUnknownRules)(t),pj(t)}function o_(t,e){if(t.opts.jtd)return Xg(t,[],!1,e);let r=(0,Zg.getSchemaTypes)(t.schema),s=(0,Zg.coerceAndCheckDataType)(t,r);Xg(t,r,!s,e)}function pj(t){let{schema:e,errSchemaPath:r,opts:s,self:o}=t;e.$ref&&s.ignoreKeywordsWithRef&&(0,aa.schemaHasRulesButRef)(e,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function mj(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,aa.checkStrictMode)(t,"default is ignored in the schema root")}function yj(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,oj.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function vj(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function i_({gen:t,schemaEnv:e,schema:r,errSchemaPath:s,opts:o}){let u=r.$comment;if(o.$comment===!0)t.code((0,re._)`${de.default.self}.logger.log(${u})`);else if(typeof o.$comment=="function"){let c=(0,re.str)`${s}/$comment`,f=t.scopeValue("root",{ref:e.root});t.code((0,re._)`${de.default.self}.opts.$comment(${u}, ${c}, ${f}.schema)`)}}function gj(t){let{gen:e,schemaEnv:r,validateName:s,ValidationError:o,opts:u}=t;r.$async?e.if((0,re._)`${de.default.errors} === 0`,()=>e.return(de.default.data),()=>e.throw((0,re._)`new ${o}(${de.default.vErrors})`)):(e.assign((0,re._)`${s}.errors`,de.default.vErrors),u.unevaluated&&_j(t),e.return((0,re._)`${de.default.errors} === 0`))}function _j({gen:t,evaluated:e,props:r,items:s}){r instanceof re.Name&&t.assign((0,re._)`${e}.props`,r),s instanceof re.Name&&t.assign((0,re._)`${e}.items`,s)}function Xg(t,e,r,s){let{gen:o,schema:u,data:c,allErrors:f,opts:h,self:m}=t,{RULES:y}=m;if(u.$ref&&(h.ignoreKeywordsWithRef||!(0,aa.schemaHasRulesButRef)(u,y))){o.block(()=>c_(t,"$ref",y.all.$ref.definition));return}h.jtd||$j(t,e),o.block(()=>{for(let T of y.rules)g(T);g(y.post)});function g(T){!(0,md.shouldUseGroup)(u,T)||(T.type?(o.if((0,ac.checkDataType)(T.type,c,h.strictNumbers)),e_(t,T),e.length===1&&e[0]===T.type&&r&&(o.else(),(0,ac.reportTypeError)(t)),o.endIf()):e_(t,T),f||o.if((0,re._)`${de.default.errors} === ${s||0}`))}}function e_(t,e){let{gen:r,schema:s,opts:{useDefaults:o}}=t;o&&(0,sj.assignDefaults)(t,e.type),r.block(()=>{for(let u of e.rules)(0,md.shouldUseRule)(s,u)&&c_(t,u.keyword,u.definition,e.type)})}function $j(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(wj(t,e),t.opts.allowUnionTypes||bj(t,e),Ej(t,t.dataTypes))}function wj(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{u_(t.dataTypes,r)||yd(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),Pj(t,e)}}function bj(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&yd(t,"use allowUnionTypes to allow union type keyword")}function Ej(t,e){let r=t.self.RULES.all;for(let s in r){let o=r[s];if(typeof o=="object"&&(0,md.shouldUseRule)(t.schema,o)){let{type:u}=o.definition;u.length&&!u.some(c=>Sj(e,c))&&yd(t,`missing type "${u.join(",")}" for keyword "${s}"`)}}}function Sj(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function u_(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Pj(t,e){let r=[];for(let s of t.dataTypes)u_(e,s)?r.push(s):e.includes("integer")&&s==="number"&&r.push("integer");t.dataTypes=r}function yd(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,aa.checkStrictMode)(t,e,t.opts.strictTypes)}var sc=class{constructor(e,r,s){if((0,ni.validateKeywordUsage)(e,r,s),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=s,this.data=e.data,this.schema=e.schema[s],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,aa.schemaRefOrVal)(e,this.schema,s,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",l_(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,ni.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",de.default.errors))}result(e,r,s){this.failResult((0,re.not)(e),r,s)}failResult(e,r,s){this.gen.if(e),s?s():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,re.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,re._)`${r} !== undefined && (${(0,re.or)(this.invalid$data(),e)})`)}error(e,r,s){if(r){this.setParams(r),this._error(e,s),this.setParams({});return}this._error(e,s)}_error(e,r){(e?ri.reportExtraError:ri.reportError)(this,this.def.error,r)}$dataError(){(0,ri.reportError)(this,this.def.$dataError||ri.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ri.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,s=re.nil){this.gen.block(()=>{this.check$data(e,s),r()})}check$data(e=re.nil,r=re.nil){if(!this.$data)return;let{gen:s,schemaCode:o,schemaType:u,def:c}=this;s.if((0,re.or)((0,re._)`${o} === undefined`,r)),e!==re.nil&&s.assign(e,!0),(u.length||c.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),e!==re.nil&&s.assign(e,!1)),s.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:s,def:o,it:u}=this;return(0,re.or)(c(),f());function c(){if(s.length){if(!(r instanceof re.Name))throw new Error("ajv implementation error");let h=Array.isArray(s)?s:[s];return(0,re._)`${(0,ac.checkDataTypes)(h,r,u.opts.strictNumbers,ac.DataType.Wrong)}`}return re.nil}function f(){if(o.validateSchema){let h=e.scopeValue("validate$data",{ref:o.validateSchema});return(0,re._)`!${h}(${r})`}return re.nil}}subschema(e,r){let s=(0,pd.getSubschema)(this.it,e);(0,pd.extendSubschemaData)(s,this.it,e),(0,pd.extendSubschemaMode)(s,e);let o=Ze(ce(ce({},this.it),s),{items:void 0,props:void 0});return dj(o,r),o}mergeEvaluated(e,r){let{it:s,gen:o}=this;!s.opts.unevaluated||(s.props!==!0&&e.props!==void 0&&(s.props=aa.mergeEvaluated.props(o,e.props,s.props,r)),s.items!==!0&&e.items!==void 0&&(s.items=aa.mergeEvaluated.items(o,e.items,s.items,r)))}mergeValidEvaluated(e,r){let{it:s,gen:o}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return o.if(r,()=>this.mergeEvaluated(e,re.Name)),!0}};ka.KeywordCxt=sc;function c_(t,e,r,s){let o=new sc(t,r,e);"code"in r?r.code(o,s):o.$data&&r.validate?(0,ni.funcKeywordCode)(o,r):"macro"in r?(0,ni.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,ni.funcKeywordCode)(o,r)}var Oj=/^\/(?:[^~]|~0|~1)*$/,Nj=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function l_(t,{dataLevel:e,dataNames:r,dataPathArr:s}){let o,u;if(t==="")return de.default.rootData;if(t[0]==="/"){if(!Oj.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);o=t,u=de.default.rootData}else{let m=Nj.exec(t);if(!m)throw new Error(`Invalid JSON-pointer: ${t}`);let y=+m[1];if(o=m[2],o==="#"){if(y>=e)throw new Error(h("property/index",y));return s[e-y]}if(y>e)throw new Error(h("data",y));if(u=r[e-y],!o)return u}let c=u,f=o.split("/");for(let m of f)m&&(u=(0,re._)`${u}${(0,re.getProperty)((0,aa.unescapeJsonPointer)(m))}`,c=(0,re._)`${c} && ${u}`);return c;function h(m,y){return`Cannot access ${m} ${y} levels up, current level is ${e}`}}ka.getData=l_});var oc=R(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});var vd=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};gd.default=vd});var ic=R(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});var _d=ti(),$d=class extends Error{constructor(e,r,s,o){super(o||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,_d.resolveUrl)(e,r,s),this.missingSchema=(0,_d.normalizeId)((0,_d.getFullPath)(e,this.missingRef))}};wd.default=$d});var cc=R(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.resolveSchema=tn.getCompilingSchema=tn.resolveRef=tn.compileSchema=tn.SchemaEnv=void 0;var yn=Ie(),Tj=oc(),cs=na(),vn=ti(),f_=Ue(),Ij=ai(),Js=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let s;typeof e.schema=="object"&&(s=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,vn.normalizeId)(s==null?void 0:s[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=s==null?void 0:s.$async,this.refs={}}};tn.SchemaEnv=Js;function Ed(t){let e=d_.call(this,t);if(e)return e;let r=(0,vn.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:s,lines:o}=this.opts.code,{ownProperties:u}=this.opts,c=new yn.CodeGen(this.scope,{es5:s,lines:o,ownProperties:u}),f;t.$async&&(f=c.scopeValue("Error",{ref:Tj.default,code:(0,yn._)`require("ajv/dist/runtime/validation_error").default`}));let h=c.scopeName("validate");t.validateName=h;let m={gen:c,allErrors:this.opts.allErrors,data:cs.default.data,parentData:cs.default.parentData,parentDataProperty:cs.default.parentDataProperty,dataNames:[cs.default.data],dataPathArr:[yn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:c.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,yn.stringify)(t.schema)}:{ref:t.schema}),validateName:h,ValidationError:f,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:yn.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,yn._)`""`,opts:this.opts,self:this},y;try{this._compilations.add(t),(0,Ij.validateFunctionCode)(m),c.optimize(this.opts.code.optimize);let g=c.toString();y=`${c.scopeRefs(cs.default.scope)}return ${g}`,this.opts.code.process&&(y=this.opts.code.process(y,t));let O=new Function(`${cs.default.self}`,`${cs.default.scope}`,y)(this,this.scope.get());if(this.scope.value(h,{ref:O}),O.errors=null,O.schema=t.schema,O.schemaEnv=t,t.$async&&(O.$async=!0),this.opts.code.source===!0&&(O.source={validateName:h,validateCode:g,scopeValues:c._values}),this.opts.unevaluated){let{props:E,items:S}=m;O.evaluated={props:E instanceof yn.Name?void 0:E,items:S instanceof yn.Name?void 0:S,dynamicProps:E instanceof yn.Name,dynamicItems:S instanceof yn.Name},O.source&&(O.source.evaluated=(0,yn.stringify)(O.evaluated))}return t.validate=O,t}catch(g){throw delete t.validate,delete t.validateName,y&&this.logger.error("Error compiling schema, function code:",y),g}finally{this._compilations.delete(t)}}tn.compileSchema=Ed;function jj(t,e,r){var s;r=(0,vn.resolveUrl)(this.opts.uriResolver,e,r);let o=t.refs[r];if(o)return o;let u=Cj.call(this,t,r);if(u===void 0){let c=(s=t.localRefs)===null||s===void 0?void 0:s[r],{schemaId:f}=this.opts;c&&(u=new Js({schema:c,schemaId:f,root:t,baseId:e}))}if(u!==void 0)return t.refs[r]=Aj.call(this,u)}tn.resolveRef=jj;function Aj(t){return(0,vn.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Ed.call(this,t)}function d_(t){for(let e of this._compilations)if(kj(e,t))return e}tn.getCompilingSchema=d_;function kj(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Cj(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||uc.call(this,t,e)}function uc(t,e){let r=this.opts.uriResolver.parse(e),s=(0,vn._getFullPath)(this.opts.uriResolver,r),o=(0,vn.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&s===o)return bd.call(this,r,t);let u=(0,vn.normalizeId)(s),c=this.refs[u]||this.schemas[u];if(typeof c=="string"){let f=uc.call(this,t,c);return typeof(f==null?void 0:f.schema)!="object"?void 0:bd.call(this,r,f)}if(typeof(c==null?void 0:c.schema)=="object"){if(c.validate||Ed.call(this,c),u===(0,vn.normalizeId)(e)){let{schema:f}=c,{schemaId:h}=this.opts,m=f[h];return m&&(o=(0,vn.resolveUrl)(this.opts.uriResolver,o,m)),new Js({schema:f,schemaId:h,root:t,baseId:o})}return bd.call(this,r,c)}}tn.resolveSchema=uc;var Rj=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function bd(t,{baseId:e,schema:r,root:s}){var o;if(((o=t.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let f of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let h=r[(0,f_.unescapeFragment)(f)];if(h===void 0)return;r=h;let m=typeof r=="object"&&r[this.opts.schemaId];!Rj.has(f)&&m&&(e=(0,vn.resolveUrl)(this.opts.uriResolver,e,m))}let u;if(typeof r!="boolean"&&r.$ref&&!(0,f_.schemaHasRulesButRef)(r,this.RULES)){let f=(0,vn.resolveUrl)(this.opts.uriResolver,e,r.$ref);u=uc.call(this,s,f)}let{schemaId:c}=this.opts;if(u=u||new Js({schema:r,schemaId:c,root:s,baseId:e}),u.schema!==u.root.schema)return u}});var h_=R((pU,Dj)=>{Dj.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Sd=R((lc,p_)=>{/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){typeof lc=="object"&&typeof p_!="undefined"?e(lc):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(lc,function(t){"use strict";function e(){for(var b=arguments.length,_=Array(b),N=0;N<b;N++)_[N]=arguments[N];if(_.length>1){_[0]=_[0].slice(0,-1);for(var C=_.length-1,D=1;D<C;++D)_[D]=_[D].slice(1,-1);return _[C]=_[C].slice(1),_.join("")}else return _[0]}function r(b){return"(?:"+b+")"}function s(b){return b===void 0?"undefined":b===null?"null":Object.prototype.toString.call(b).split(" ").pop().split("]").shift().toLowerCase()}function o(b){return b.toUpperCase()}function u(b){return b!=null?b instanceof Array?b:typeof b.length!="number"||b.split||b.setInterval||b.call?[b]:Array.prototype.slice.call(b):[]}function c(b,_){var N=b;if(_)for(var C in _)N[C]=_[C];return N}function f(b){var _="[A-Za-z]",N="[\\x0D]",C="[0-9]",D="[\\x22]",Y=e(C,"[A-Fa-f]"),fe="[\\x0A]",$e="[\\x20]",ze=r(r("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+r("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+r("%"+Y+Y)),ot="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",nt=e(ot,we),Ke=b?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Be=b?"[\\uE000-\\uF8FF]":"[]",Re=e(_,C,"[\\-\\.\\_\\~]",Ke),xe=r(_+e(_,C,"[\\+\\-\\.]")+"*"),Ge=r(r(ze+"|"+e(Re,we,"[\\:]"))+"*"),Wn=r(r("25[0-5]")+"|"+r("2[0-4]"+C)+"|"+r("1"+C+C)+"|"+r("[1-9]"+C)+"|"+C),It=r(r("25[0-5]")+"|"+r("2[0-4]"+C)+"|"+r("1"+C+C)+"|"+r("0?[1-9]"+C)+"|0?0?"+C),dt=r(It+"\\."+It+"\\."+It+"\\."+It),Me=r(Y+"{1,4}"),Rt=r(r(Me+"\\:"+Me)+"|"+dt),gr=r(r(Me+"\\:")+"{6}"+Rt),Bt=r("\\:\\:"+r(Me+"\\:")+"{5}"+Rt),Hn=r(r(Me)+"?\\:\\:"+r(Me+"\\:")+"{4}"+Rt),ar=r(r(r(Me+"\\:")+"{0,1}"+Me)+"?\\:\\:"+r(Me+"\\:")+"{3}"+Rt),Kr=r(r(r(Me+"\\:")+"{0,2}"+Me)+"?\\:\\:"+r(Me+"\\:")+"{2}"+Rt),ma=r(r(r(Me+"\\:")+"{0,3}"+Me)+"?\\:\\:"+Me+"\\:"+Rt),ya=r(r(r(Me+"\\:")+"{0,4}"+Me)+"?\\:\\:"+Rt),Tn=r(r(r(Me+"\\:")+"{0,5}"+Me)+"?\\:\\:"+Me),In=r(r(r(Me+"\\:")+"{0,6}"+Me)+"?\\:\\:"),xr=r([gr,Bt,Hn,ar,Kr,ma,ya,Tn,In].join("|")),jn=r(r(Re+"|"+ze)+"+"),Wa=r(xr+"\\%25"+jn),ln=r(xr+r("\\%25|\\%(?!"+Y+"{2})")+jn),bo=r("[vV]"+Y+"+\\."+e(Re,we,"[\\:]")+"+"),Sl=r("\\["+r(ln+"|"+xr+"|"+bo)+"\\]"),su=r(r(ze+"|"+e(Re,we))+"*"),Ha=r(Sl+"|"+dt+"(?!"+su+")|"+su),va=r(C+"*"),Eo=r(r(Ge+"@")+"?"+Ha+r("\\:"+va)+"?"),Ga=r(ze+"|"+e(Re,we,"[\\:\\@]")),Pl=r(Ga+"*"),ou=r(Ga+"+"),Ol=r(r(ze+"|"+e(Re,we,"[\\@]"))+"+"),Wr=r(r("\\/"+Pl)+"*"),ga=r("\\/"+r(ou+Wr)+"?"),So=r(Ol+Wr),Is=r(ou+Wr),An="(?!"+Ga+")",km=r(Wr+"|"+ga+"|"+So+"|"+Is+"|"+An),kn=r(r(Ga+"|"+e("[\\/\\?]",Be))+"*"),Ba=r(r(Ga+"|[\\/\\?]")+"*"),iu=r(r("\\/\\/"+Eo+Wr)+"|"+ga+"|"+Is+"|"+An),Nl=r(xe+"\\:"+iu+r("\\?"+kn)+"?"+r("\\#"+Ba)+"?"),Tl=r(r("\\/\\/"+Eo+Wr)+"|"+ga+"|"+So+"|"+An),Il=r(Tl+r("\\?"+kn)+"?"+r("\\#"+Ba)+"?"),Cm=r(Nl+"|"+Il),Rm=r(xe+"\\:"+iu+r("\\?"+kn)+"?"),Dm="^("+xe+")\\:"+r(r("\\/\\/("+r("("+Ge+")@")+"?("+Ha+")"+r("\\:("+va+")")+"?)")+"?("+Wr+"|"+ga+"|"+Is+"|"+An+")")+r("\\?("+kn+")")+"?"+r("\\#("+Ba+")")+"?$",jl="^(){0}"+r(r("\\/\\/("+r("("+Ge+")@")+"?("+Ha+")"+r("\\:("+va+")")+"?)")+"?("+Wr+"|"+ga+"|"+So+"|"+An+")")+r("\\?("+kn+")")+"?"+r("\\#("+Ba+")")+"?$",qm="^("+xe+")\\:"+r(r("\\/\\/("+r("("+Ge+")@")+"?("+Ha+")"+r("\\:("+va+")")+"?)")+"?("+Wr+"|"+ga+"|"+Is+"|"+An+")")+r("\\?("+kn+")")+"?$",xm="^"+r("\\#("+Ba+")")+"?$",Mm="^"+r("("+Ge+")@")+"?("+Ha+")"+r("\\:("+va+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",_,C,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Re,we),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Re,we),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Re,we),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Re,we),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Re,we,"[\\:\\@\\/\\?]",Be),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Re,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Re,we),"g"),UNRESERVED:new RegExp(Re,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Re,nt),"g"),PCT_ENCODED:new RegExp(ze,"g"),IPV4ADDRESS:new RegExp("^("+dt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+xr+")"+r(r("\\%25|\\%(?!"+Y+"{2})")+"("+jn+")")+"?\\]?$")}}var h=f(!1),m=f(!0),y=function(){function b(_,N){var C=[],D=!0,Y=!1,fe=void 0;try{for(var $e=_[Symbol.iterator](),ze;!(D=(ze=$e.next()).done)&&(C.push(ze.value),!(N&&C.length===N));D=!0);}catch(ot){Y=!0,fe=ot}finally{try{!D&&$e.return&&$e.return()}finally{if(Y)throw fe}}return C}return function(_,N){if(Array.isArray(_))return _;if(Symbol.iterator in Object(_))return b(_,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(b){if(Array.isArray(b)){for(var _=0,N=Array(b.length);_<b.length;_++)N[_]=b[_];return N}else return Array.from(b)},T=2147483647,O=36,E=1,S=26,j=38,k=700,B=72,H=128,Q="-",z=/^xn--/,Ce=/[^\0-\x7E]/,ft=/[\x2E\u3002\uFF0E\uFF61]/g,rr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},bt=O-E,He=Math.floor,Mt=String.fromCharCode;function Nt(b){throw new RangeError(rr[b])}function st(b,_){for(var N=[],C=b.length;C--;)N[C]=_(b[C]);return N}function Ht(b,_){var N=b.split("@"),C="";N.length>1&&(C=N[0]+"@",b=N[1]),b=b.replace(ft,".");var D=b.split("."),Y=st(D,_).join(".");return C+Y}function Gt(b){for(var _=[],N=0,C=b.length;N<C;){var D=b.charCodeAt(N++);if(D>=55296&&D<=56319&&N<C){var Y=b.charCodeAt(N++);(Y&64512)==56320?_.push(((D&1023)<<10)+(Y&1023)+65536):(_.push(D),N--)}else _.push(D)}return _}var ca=function(_){return String.fromCodePoint.apply(String,g(_))},un=function(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:O},mr=function(_,N){return _+22+75*(_<26)-((N!=0)<<5)},Dr=function(_,N,C){var D=0;for(_=C?He(_/k):_>>1,_+=He(_/N);_>bt*S>>1;D+=O)_=He(_/bt);return He(D+(bt+1)*_/(_+j))},la=function(_){var N=[],C=_.length,D=0,Y=H,fe=B,$e=_.lastIndexOf(Q);$e<0&&($e=0);for(var ze=0;ze<$e;++ze)_.charCodeAt(ze)>=128&&Nt("not-basic"),N.push(_.charCodeAt(ze));for(var ot=$e>0?$e+1:0;ot<C;){for(var we=D,nt=1,Ke=O;;Ke+=O){ot>=C&&Nt("invalid-input");var Be=un(_.charCodeAt(ot++));(Be>=O||Be>He((T-D)/nt))&&Nt("overflow"),D+=Be*nt;var Re=Ke<=fe?E:Ke>=fe+S?S:Ke-fe;if(Be<Re)break;var xe=O-Re;nt>He(T/xe)&&Nt("overflow"),nt*=xe}var Ge=N.length+1;fe=Dr(D-we,Ge,we==0),He(D/Ge)>T-Y&&Nt("overflow"),Y+=He(D/Ge),D%=Ge,N.splice(D++,0,Y)}return String.fromCodePoint.apply(String,N)},yr=function(_){var N=[];_=Gt(_);var C=_.length,D=H,Y=0,fe=B,$e=!0,ze=!1,ot=void 0;try{for(var we=_[Symbol.iterator](),nt;!($e=(nt=we.next()).done);$e=!0){var Ke=nt.value;Ke<128&&N.push(Mt(Ke))}}catch(ln){ze=!0,ot=ln}finally{try{!$e&&we.return&&we.return()}finally{if(ze)throw ot}}var Be=N.length,Re=Be;for(Be&&N.push(Q);Re<C;){var xe=T,Ge=!0,Wn=!1,It=void 0;try{for(var dt=_[Symbol.iterator](),Me;!(Ge=(Me=dt.next()).done);Ge=!0){var Rt=Me.value;Rt>=D&&Rt<xe&&(xe=Rt)}}catch(ln){Wn=!0,It=ln}finally{try{!Ge&&dt.return&&dt.return()}finally{if(Wn)throw It}}var gr=Re+1;xe-D>He((T-Y)/gr)&&Nt("overflow"),Y+=(xe-D)*gr,D=xe;var Bt=!0,Hn=!1,ar=void 0;try{for(var Kr=_[Symbol.iterator](),ma;!(Bt=(ma=Kr.next()).done);Bt=!0){var ya=ma.value;if(ya<D&&++Y>T&&Nt("overflow"),ya==D){for(var Tn=Y,In=O;;In+=O){var xr=In<=fe?E:In>=fe+S?S:In-fe;if(Tn<xr)break;var jn=Tn-xr,Wa=O-xr;N.push(Mt(mr(xr+jn%Wa,0))),Tn=He(jn/Wa)}N.push(Mt(mr(Tn,0))),fe=Dr(Y,gr,Re==Be),Y=0,++Re}}}catch(ln){Hn=!0,ar=ln}finally{try{!Bt&&Kr.return&&Kr.return()}finally{if(Hn)throw ar}}++Y,++D}return N.join("")},fa=function(_){return Ht(_,function(N){return z.test(N)?la(N.slice(4).toLowerCase()):N})},U=function(_){return Ht(_,function(N){return Ce.test(N)?"xn--"+yr(N):N})},J={version:"2.1.0",ucs2:{decode:Gt,encode:ca},decode:la,encode:yr,toASCII:U,toUnicode:fa},V={};function q(b){var _=b.charCodeAt(0),N=void 0;return _<16?N="%0"+_.toString(16).toUpperCase():_<128?N="%"+_.toString(16).toUpperCase():_<2048?N="%"+(_>>6|192).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase():N="%"+(_>>12|224).toString(16).toUpperCase()+"%"+(_>>6&63|128).toString(16).toUpperCase()+"%"+(_&63|128).toString(16).toUpperCase(),N}function L(b){for(var _="",N=0,C=b.length;N<C;){var D=parseInt(b.substr(N+1,2),16);if(D<128)_+=String.fromCharCode(D),N+=3;else if(D>=194&&D<224){if(C-N>=6){var Y=parseInt(b.substr(N+4,2),16);_+=String.fromCharCode((D&31)<<6|Y&63)}else _+=b.substr(N,6);N+=6}else if(D>=224){if(C-N>=9){var fe=parseInt(b.substr(N+4,2),16),$e=parseInt(b.substr(N+7,2),16);_+=String.fromCharCode((D&15)<<12|(fe&63)<<6|$e&63)}else _+=b.substr(N,9);N+=9}else _+=b.substr(N,3),N+=3}return _}function G(b,_){function N(C){var D=L(C);return D.match(_.UNRESERVED)?D:C}return b.scheme&&(b.scheme=String(b.scheme).replace(_.PCT_ENCODED,N).toLowerCase().replace(_.NOT_SCHEME,"")),b.userinfo!==void 0&&(b.userinfo=String(b.userinfo).replace(_.PCT_ENCODED,N).replace(_.NOT_USERINFO,q).replace(_.PCT_ENCODED,o)),b.host!==void 0&&(b.host=String(b.host).replace(_.PCT_ENCODED,N).toLowerCase().replace(_.NOT_HOST,q).replace(_.PCT_ENCODED,o)),b.path!==void 0&&(b.path=String(b.path).replace(_.PCT_ENCODED,N).replace(b.scheme?_.NOT_PATH:_.NOT_PATH_NOSCHEME,q).replace(_.PCT_ENCODED,o)),b.query!==void 0&&(b.query=String(b.query).replace(_.PCT_ENCODED,N).replace(_.NOT_QUERY,q).replace(_.PCT_ENCODED,o)),b.fragment!==void 0&&(b.fragment=String(b.fragment).replace(_.PCT_ENCODED,N).replace(_.NOT_FRAGMENT,q).replace(_.PCT_ENCODED,o)),b}function me(b){return b.replace(/^0*(.*)/,"$1")||"0"}function pt(b,_){var N=b.match(_.IPV4ADDRESS)||[],C=y(N,2),D=C[1];return D?D.split(".").map(me).join("."):b}function Tt(b,_){var N=b.match(_.IPV6ADDRESS)||[],C=y(N,3),D=C[1],Y=C[2];if(D){for(var fe=D.toLowerCase().split("::").reverse(),$e=y(fe,2),ze=$e[0],ot=$e[1],we=ot?ot.split(":").map(me):[],nt=ze.split(":").map(me),Ke=_.IPV4ADDRESS.test(nt[nt.length-1]),Be=Ke?7:8,Re=nt.length-Be,xe=Array(Be),Ge=0;Ge<Be;++Ge)xe[Ge]=we[Ge]||nt[Re+Ge]||"";Ke&&(xe[Be-1]=pt(xe[Be-1],_));var Wn=xe.reduce(function(gr,Bt,Hn){if(!Bt||Bt==="0"){var ar=gr[gr.length-1];ar&&ar.index+ar.length===Hn?ar.length++:gr.push({index:Hn,length:1})}return gr},[]),It=Wn.sort(function(gr,Bt){return Bt.length-gr.length})[0],dt=void 0;if(It&&It.length>1){var Me=xe.slice(0,It.index),Rt=xe.slice(It.index+It.length);dt=Me.join(":")+"::"+Rt.join(":")}else dt=xe.join(":");return Y&&(dt+="%"+Y),dt}else return b}var rt=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,nr="".match(/(){0}/)[1]===void 0;function vr(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N={},C=_.iri!==!1?m:h;_.reference==="suffix"&&(b=(_.scheme?_.scheme+":":"")+"//"+b);var D=b.match(rt);if(D){nr?(N.scheme=D[1],N.userinfo=D[3],N.host=D[4],N.port=parseInt(D[5],10),N.path=D[6]||"",N.query=D[7],N.fragment=D[8],isNaN(N.port)&&(N.port=D[5])):(N.scheme=D[1]||void 0,N.userinfo=b.indexOf("@")!==-1?D[3]:void 0,N.host=b.indexOf("//")!==-1?D[4]:void 0,N.port=parseInt(D[5],10),N.path=D[6]||"",N.query=b.indexOf("?")!==-1?D[7]:void 0,N.fragment=b.indexOf("#")!==-1?D[8]:void 0,isNaN(N.port)&&(N.port=b.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?D[4]:void 0)),N.host&&(N.host=Tt(pt(N.host,C),C)),N.scheme===void 0&&N.userinfo===void 0&&N.host===void 0&&N.port===void 0&&!N.path&&N.query===void 0?N.reference="same-document":N.scheme===void 0?N.reference="relative":N.fragment===void 0?N.reference="absolute":N.reference="uri",_.reference&&_.reference!=="suffix"&&_.reference!==N.reference&&(N.error=N.error||"URI is not a "+_.reference+" reference.");var Y=V[(_.scheme||N.scheme||"").toLowerCase()];if(!_.unicodeSupport&&(!Y||!Y.unicodeSupport)){if(N.host&&(_.domainHost||Y&&Y.domainHost))try{N.host=J.toASCII(N.host.replace(C.PCT_ENCODED,L).toLowerCase())}catch(fe){N.error=N.error||"Host's domain name can not be converted to ASCII via punycode: "+fe}G(N,h)}else G(N,C);Y&&Y.parse&&Y.parse(N,_)}else N.error=N.error||"URI can not be parsed.";return N}function yo(b,_){var N=_.iri!==!1?m:h,C=[];return b.userinfo!==void 0&&(C.push(b.userinfo),C.push("@")),b.host!==void 0&&C.push(Tt(pt(String(b.host),N),N).replace(N.IPV6ADDRESS,function(D,Y,fe){return"["+Y+(fe?"%25"+fe:"")+"]"})),(typeof b.port=="number"||typeof b.port=="string")&&(C.push(":"),C.push(String(b.port))),C.length?C.join(""):void 0}var eu=/^\.\.?\//,$=/^\/\.(\/|$)/,tu=/^\/\.\.(\/|$)/,vo=/^\/?(?:.|\n)*?(?=\/|$)/;function da(b){for(var _=[];b.length;)if(b.match(eu))b=b.replace(eu,"");else if(b.match($))b=b.replace($,"/");else if(b.match(tu))b=b.replace(tu,"/"),_.pop();else if(b==="."||b==="..")b="";else{var N=b.match(vo);if(N){var C=N[0];b=b.slice(C.length),_.push(C)}else throw new Error("Unexpected dot segment condition")}return _.join("")}function mt(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=_.iri?m:h,C=[],D=V[(_.scheme||b.scheme||"").toLowerCase()];if(D&&D.serialize&&D.serialize(b,_),b.host&&!N.IPV6ADDRESS.test(b.host)){if(_.domainHost||D&&D.domainHost)try{b.host=_.iri?J.toUnicode(b.host):J.toASCII(b.host.replace(N.PCT_ENCODED,L).toLowerCase())}catch($e){b.error=b.error||"Host's domain name can not be converted to "+(_.iri?"Unicode":"ASCII")+" via punycode: "+$e}}G(b,N),_.reference!=="suffix"&&b.scheme&&(C.push(b.scheme),C.push(":"));var Y=yo(b,_);if(Y!==void 0&&(_.reference!=="suffix"&&C.push("//"),C.push(Y),b.path&&b.path.charAt(0)!=="/"&&C.push("/")),b.path!==void 0){var fe=b.path;!_.absolutePath&&(!D||!D.absolutePath)&&(fe=da(fe)),Y===void 0&&(fe=fe.replace(/^\/\//,"/%2F")),C.push(fe)}return b.query!==void 0&&(C.push("?"),C.push(b.query)),b.fragment!==void 0&&(C.push("#"),C.push(b.fragment)),C.join("")}function ru(b,_){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments[3],D={};return C||(b=vr(mt(b,N),N),_=vr(mt(_,N),N)),N=N||{},!N.tolerant&&_.scheme?(D.scheme=_.scheme,D.userinfo=_.userinfo,D.host=_.host,D.port=_.port,D.path=da(_.path||""),D.query=_.query):(_.userinfo!==void 0||_.host!==void 0||_.port!==void 0?(D.userinfo=_.userinfo,D.host=_.host,D.port=_.port,D.path=da(_.path||""),D.query=_.query):(_.path?(_.path.charAt(0)==="/"?D.path=da(_.path):((b.userinfo!==void 0||b.host!==void 0||b.port!==void 0)&&!b.path?D.path="/"+_.path:b.path?D.path=b.path.slice(0,b.path.lastIndexOf("/")+1)+_.path:D.path=_.path,D.path=da(D.path)),D.query=_.query):(D.path=b.path,_.query!==void 0?D.query=_.query:D.query=b.query),D.userinfo=b.userinfo,D.host=b.host,D.port=b.port),D.scheme=b.scheme),D.fragment=_.fragment,D}function go(b,_,N){var C=c({scheme:"null"},N);return mt(ru(vr(b,C),vr(_,C),C,!0),C)}function _l(b,_){return typeof b=="string"?b=mt(vr(b,_),_):s(b)==="object"&&(b=vr(mt(b,_),_)),b}function Ns(b,_,N){return typeof b=="string"?b=mt(vr(b,N),N):s(b)==="object"&&(b=mt(b,N)),typeof _=="string"?_=mt(vr(_,N),N):s(_)==="object"&&(_=mt(_,N)),b===_}function Sn(b,_){return b&&b.toString().replace(!_||!_.iri?h.ESCAPE:m.ESCAPE,q)}function Fr(b,_){return b&&b.toString().replace(!_||!_.iri?h.PCT_ENCODED:m.PCT_ENCODED,L)}var Lr={scheme:"http",domainHost:!0,parse:function(_,N){return _.host||(_.error=_.error||"HTTP URIs must have a host."),_},serialize:function(_,N){var C=String(_.scheme).toLowerCase()==="https";return(_.port===(C?443:80)||_.port==="")&&(_.port=void 0),_.path||(_.path="/"),_}},zn={scheme:"https",domainHost:Lr.domainHost,parse:Lr.parse,serialize:Lr.serialize};function za(b){return typeof b.secure=="boolean"?b.secure:String(b.scheme).toLowerCase()==="wss"}var Ct={scheme:"ws",domainHost:!0,parse:function(_,N){var C=_;return C.secure=za(C),C.resourceName=(C.path||"/")+(C.query?"?"+C.query:""),C.path=void 0,C.query=void 0,C},serialize:function(_,N){if((_.port===(za(_)?443:80)||_.port==="")&&(_.port=void 0),typeof _.secure=="boolean"&&(_.scheme=_.secure?"wss":"ws",_.secure=void 0),_.resourceName){var C=_.resourceName.split("?"),D=y(C,2),Y=D[0],fe=D[1];_.path=Y&&Y!=="/"?Y:void 0,_.query=fe,_.resourceName=void 0}return _.fragment=void 0,_}},Pn={scheme:"wss",domainHost:Ct.domainHost,parse:Ct.parse,serialize:Ct.serialize},nu={},zr=!0,Kn="[A-Za-z0-9\\-\\.\\_\\~"+(zr?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Et="[0-9A-Fa-f]",ha=r(r("%[EFef]"+Et+"%"+Et+Et+"%"+Et+Et)+"|"+r("%[89A-Fa-f]"+Et+"%"+Et+Et)+"|"+r("%"+Et+Et)),cn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ka="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",_o=e(Ka,'[\\"\\\\]'),$l="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",wl=new RegExp(Kn,"g"),pa=new RegExp(ha,"g"),bl=new RegExp(e("[^]",cn,"[\\.]",'[\\"]',_o),"g"),$o=new RegExp(e("[^]",Kn,$l),"g"),El=$o;function wo(b){var _=L(b);return _.match(wl)?_:b}var On={scheme:"mailto",parse:function(_,N){var C=_,D=C.to=C.path?C.path.split(","):[];if(C.path=void 0,C.query){for(var Y=!1,fe={},$e=C.query.split("&"),ze=0,ot=$e.length;ze<ot;++ze){var we=$e[ze].split("=");switch(we[0]){case"to":for(var nt=we[1].split(","),Ke=0,Be=nt.length;Ke<Be;++Ke)D.push(nt[Ke]);break;case"subject":C.subject=Fr(we[1],N);break;case"body":C.body=Fr(we[1],N);break;default:Y=!0,fe[Fr(we[0],N)]=Fr(we[1],N);break}}Y&&(C.headers=fe)}C.query=void 0;for(var Re=0,xe=D.length;Re<xe;++Re){var Ge=D[Re].split("@");if(Ge[0]=Fr(Ge[0]),N.unicodeSupport)Ge[1]=Fr(Ge[1],N).toLowerCase();else try{Ge[1]=J.toASCII(Fr(Ge[1],N).toLowerCase())}catch(Wn){C.error=C.error||"Email address's domain name can not be converted to ASCII via punycode: "+Wn}D[Re]=Ge.join("@")}return C},serialize:function(_,N){var C=_,D=u(_.to);if(D){for(var Y=0,fe=D.length;Y<fe;++Y){var $e=String(D[Y]),ze=$e.lastIndexOf("@"),ot=$e.slice(0,ze).replace(pa,wo).replace(pa,o).replace(bl,q),we=$e.slice(ze+1);try{we=N.iri?J.toUnicode(we):J.toASCII(Fr(we,N).toLowerCase())}catch(Re){C.error=C.error||"Email address's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+Re}D[Y]=ot+"@"+we}C.path=D.join(",")}var nt=_.headers=_.headers||{};_.subject&&(nt.subject=_.subject),_.body&&(nt.body=_.body);var Ke=[];for(var Be in nt)nt[Be]!==nu[Be]&&Ke.push(Be.replace(pa,wo).replace(pa,o).replace($o,q)+"="+nt[Be].replace(pa,wo).replace(pa,o).replace(El,q));return Ke.length&&(C.query=Ke.join("&")),C}},Nn=/^([^\:]+)\:(.*)/,au={scheme:"urn",parse:function(_,N){var C=_.path&&_.path.match(Nn),D=_;if(C){var Y=N.scheme||D.scheme||"urn",fe=C[1].toLowerCase(),$e=C[2],ze=Y+":"+(N.nid||fe),ot=V[ze];D.nid=fe,D.nss=$e,D.path=void 0,ot&&(D=ot.parse(D,N))}else D.error=D.error||"URN can not be parsed.";return D},serialize:function(_,N){var C=N.scheme||_.scheme||"urn",D=_.nid,Y=C+":"+(N.nid||D),fe=V[Y];fe&&(_=fe.serialize(_,N));var $e=_,ze=_.nss;return $e.path=(D||N.nid)+":"+ze,$e}},Ts=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,qr={scheme:"urn:uuid",parse:function(_,N){var C=_;return C.uuid=C.nss,C.nss=void 0,!N.tolerant&&(!C.uuid||!C.uuid.match(Ts))&&(C.error=C.error||"UUID is not valid."),C},serialize:function(_,N){var C=_;return C.nss=(_.uuid||"").toLowerCase(),C}};V[Lr.scheme]=Lr,V[zn.scheme]=zn,V[Ct.scheme]=Ct,V[Pn.scheme]=Pn,V[On.scheme]=On,V[au.scheme]=au,V[qr.scheme]=qr,t.SCHEMES=V,t.pctEncChar=q,t.pctDecChars=L,t.parse=vr,t.removeDotSegments=da,t.serialize=mt,t.resolveComponents=ru,t.resolve=go,t.normalize=_l,t.equal=Ns,t.escapeComponent=Sn,t.unescapeComponent=Fr,Object.defineProperty(t,"__esModule",{value:!0})})});var y_=R(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});var m_=Sd();m_.code='require("ajv/dist/runtime/uri").default';Pd.default=m_});var S_=R(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.CodeGen=Ft.Name=Ft.nil=Ft.stringify=Ft.str=Ft._=Ft.KeywordCxt=void 0;var qj=ai();Object.defineProperty(Ft,"KeywordCxt",{enumerable:!0,get:function(){return qj.KeywordCxt}});var Ys=Ie();Object.defineProperty(Ft,"_",{enumerable:!0,get:function(){return Ys._}});Object.defineProperty(Ft,"str",{enumerable:!0,get:function(){return Ys.str}});Object.defineProperty(Ft,"stringify",{enumerable:!0,get:function(){return Ys.stringify}});Object.defineProperty(Ft,"nil",{enumerable:!0,get:function(){return Ys.nil}});Object.defineProperty(Ft,"Name",{enumerable:!0,get:function(){return Ys.Name}});Object.defineProperty(Ft,"CodeGen",{enumerable:!0,get:function(){return Ys.CodeGen}});var xj=oc(),w_=ic(),Mj=sd(),si=cc(),Vj=Ie(),oi=ti(),fc=Xo(),Nd=Ue(),v_=h_(),Uj=y_(),b_=(t,e)=>new RegExp(t,e);b_.code="new RegExp";var Fj=["removeAdditional","useDefaults","coerceTypes"],Lj=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),zj={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},Kj={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g_=200;function Wj(t){var e,r,s,o,u,c,f,h,m,y,g,T,O,E,S,j,k,B,H,Q,z,Ce,ft,rr,bt;let He=t.strict,Mt=(e=t.code)===null||e===void 0?void 0:e.optimize,Nt=Mt===!0||Mt===void 0?1:Mt||0,st=(s=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&s!==void 0?s:b_,Ht=(o=t.uriResolver)!==null&&o!==void 0?o:Uj.default;return{strictSchema:(c=(u=t.strictSchema)!==null&&u!==void 0?u:He)!==null&&c!==void 0?c:!0,strictNumbers:(h=(f=t.strictNumbers)!==null&&f!==void 0?f:He)!==null&&h!==void 0?h:!0,strictTypes:(y=(m=t.strictTypes)!==null&&m!==void 0?m:He)!==null&&y!==void 0?y:"log",strictTuples:(T=(g=t.strictTuples)!==null&&g!==void 0?g:He)!==null&&T!==void 0?T:"log",strictRequired:(E=(O=t.strictRequired)!==null&&O!==void 0?O:He)!==null&&E!==void 0?E:!1,code:t.code?Ze(ce({},t.code),{optimize:Nt,regExp:st}):{optimize:Nt,regExp:st},loopRequired:(S=t.loopRequired)!==null&&S!==void 0?S:g_,loopEnum:(j=t.loopEnum)!==null&&j!==void 0?j:g_,meta:(k=t.meta)!==null&&k!==void 0?k:!0,messages:(B=t.messages)!==null&&B!==void 0?B:!0,inlineRefs:(H=t.inlineRefs)!==null&&H!==void 0?H:!0,schemaId:(Q=t.schemaId)!==null&&Q!==void 0?Q:"$id",addUsedSchema:(z=t.addUsedSchema)!==null&&z!==void 0?z:!0,validateSchema:(Ce=t.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(ft=t.validateFormats)!==null&&ft!==void 0?ft:!0,unicodeRegExp:(rr=t.unicodeRegExp)!==null&&rr!==void 0?rr:!0,int32range:(bt=t.int32range)!==null&&bt!==void 0?bt:!0,uriResolver:Ht}}var ii=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=ce(ce({},e),Wj(e));let{es5:r,lines:s}=this.opts.code;this.scope=new Vj.ValueScope({scope:{},prefixes:Lj,es5:r,lines:s}),this.logger=Zj(e.logger);let o=e.validateFormats;e.validateFormats=!1,this.RULES=(0,Mj.getRules)(),__.call(this,zj,e,"NOT SUPPORTED"),__.call(this,Kj,e,"DEPRECATED","warn"),this._metaOpts=Jj.call(this),e.formats&&Gj.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&Bj.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),Hj.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:s}=this.opts,o=v_;s==="id"&&(o=ce({},v_),o.id=o.$id,delete o.$id),r&&e&&this.addMetaSchema(o,o[s],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let s;if(typeof e=="string"){if(s=this.getSchema(e),!s)throw new Error(`no schema with key or ref "${e}"`)}else s=this.compile(e);let o=s(r);return"$async"in s||(this.errors=s.errors),o}compile(e,r){let s=this._addSchema(e,r);return s.validate||this._compileSchemaEnv(s)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:s}=this.opts;return o.call(this,e,r);function o(y,g){return ir(this,null,function*(){yield u.call(this,y.$schema);let T=this._addSchema(y,g);return T.validate||c.call(this,T)})}function u(y){return ir(this,null,function*(){y&&!this.getSchema(y)&&(yield o.call(this,{$ref:y},!0))})}function c(y){return ir(this,null,function*(){try{return this._compileSchemaEnv(y)}catch(g){if(!(g instanceof w_.default))throw g;return f.call(this,g),yield h.call(this,g.missingSchema),c.call(this,y)}})}function f({missingSchema:y,missingRef:g}){if(this.refs[y])throw new Error(`AnySchema ${y} is loaded but ${g} cannot be resolved`)}function h(y){return ir(this,null,function*(){let g=yield m.call(this,y);this.refs[y]||(yield u.call(this,g.$schema)),this.refs[y]||this.addSchema(g,y,r)})}function m(y){return ir(this,null,function*(){let g=this._loading[y];if(g)return g;try{return yield this._loading[y]=s(y)}finally{delete this._loading[y]}})}}addSchema(e,r,s,o=this.opts.validateSchema){if(Array.isArray(e)){for(let c of e)this.addSchema(c,void 0,s,o);return this}let u;if(typeof e=="object"){let{schemaId:c}=this.opts;if(u=e[c],u!==void 0&&typeof u!="string")throw new Error(`schema ${c} must be string`)}return r=(0,oi.normalizeId)(r||u),this._checkUnique(r),this.schemas[r]=this._addSchema(e,s,r,o,!0),this}addMetaSchema(e,r,s=this.opts.validateSchema){return this.addSchema(e,r,!0,s),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let s;if(s=e.$schema,s!==void 0&&typeof s!="string")throw new Error("$schema must be a string");if(s=s||this.opts.defaultMeta||this.defaultMeta(),!s)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(s,e);if(!o&&r){let u="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(u);else throw new Error(u)}return o}getSchema(e){let r;for(;typeof(r=$_.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:s}=this.opts,o=new si.SchemaEnv({schema:{},schemaId:s});if(r=si.resolveSchema.call(this,o,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=$_.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let s=e[this.opts.schemaId];return s&&(s=(0,oi.normalizeId)(s),delete this.schemas[s],delete this.refs[s]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let s;if(typeof e=="string")s=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=s);else if(typeof e=="object"&&r===void 0){if(r=e,s=r.keyword,Array.isArray(s)&&!s.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Xj.call(this,s,r),!r)return(0,Nd.eachItem)(s,u=>Od.call(this,u)),this;tA.call(this,r);let o=Ze(ce({},r),{type:(0,fc.getJSONTypes)(r.type),schemaType:(0,fc.getJSONTypes)(r.schemaType)});return(0,Nd.eachItem)(s,o.type.length===0?u=>Od.call(this,u,o):u=>o.type.forEach(c=>Od.call(this,u,o,c))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let s of r.rules){let o=s.rules.findIndex(u=>u.keyword===e);o>=0&&s.rules.splice(o,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:s="data"}={}){return!e||e.length===0?"No errors":e.map(o=>`${s}${o.instancePath} ${o.message}`).reduce((o,u)=>o+r+u)}$dataMetaSchema(e,r){let s=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let o of r){let u=o.split("/").slice(1),c=e;for(let f of u)c=c[f];for(let f in s){let h=s[f];if(typeof h!="object")continue;let{$data:m}=h.definition,y=c[f];m&&y&&(c[f]=E_(y))}}return e}_removeAllSchemas(e,r){for(let s in e){let o=e[s];(!r||r.test(s))&&(typeof o=="string"?delete e[s]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[s]))}}_addSchema(e,r,s,o=this.opts.validateSchema,u=this.opts.addUsedSchema){let c,{schemaId:f}=this.opts;if(typeof e=="object")c=e[f];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let h=this._cache.get(e);if(h!==void 0)return h;s=(0,oi.normalizeId)(c||s);let m=oi.getSchemaRefs.call(this,e,s);return h=new si.SchemaEnv({schema:e,schemaId:f,meta:r,baseId:s,localRefs:m}),this._cache.set(h.schema,h),u&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=h),o&&this.validateSchema(e,!0),h}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):si.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{si.compileSchema.call(this,e)}finally{this.opts=r}}};Ft.default=ii;ii.ValidationError=xj.default;ii.MissingRefError=w_.default;function __(t,e,r,s="error"){for(let o in t){let u=o;u in e&&this.logger[s](`${r}: option ${o}. ${t[u]}`)}}function $_(t){return t=(0,oi.normalizeId)(t),this.schemas[t]||this.refs[t]}function Hj(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function Gj(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function Bj(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function Jj(){let t=ce({},this.opts);for(let e of Fj)delete t[e];return t}var Yj={log(){},warn(){},error(){}};function Zj(t){if(t===!1)return Yj;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Qj=/^[a-z_$][a-z0-9_$:-]*$/i;function Xj(t,e){let{RULES:r}=this;if((0,Nd.eachItem)(t,s=>{if(r.keywords[s])throw new Error(`Keyword ${s} is already defined`);if(!Qj.test(s))throw new Error(`Keyword ${s} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function Od(t,e,r){var s;let o=e==null?void 0:e.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:u}=this,c=o?u.post:u.rules.find(({type:h})=>h===r);if(c||(c={type:r,rules:[]},u.rules.push(c)),u.keywords[t]=!0,!e)return;let f={keyword:t,definition:Ze(ce({},e),{type:(0,fc.getJSONTypes)(e.type),schemaType:(0,fc.getJSONTypes)(e.schemaType)})};e.before?eA.call(this,c,f,e.before):c.rules.push(f),u.all[t]=f,(s=e.implements)===null||s===void 0||s.forEach(h=>this.addKeyword(h))}function eA(t,e,r){let s=t.rules.findIndex(o=>o.keyword===r);s>=0?t.rules.splice(s,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function tA(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=E_(e)),t.validateSchema=this.compile(e,!0))}var rA={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function E_(t){return{anyOf:[t,rA]}}});var P_=R(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});var nA={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Td.default=nA});var I_=R(ls=>{"use strict";Object.defineProperty(ls,"__esModule",{value:!0});ls.callRef=ls.getValidate=void 0;var aA=ic(),O_=en(),Tr=Ie(),Zs=na(),N_=cc(),dc=Ue(),sA={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:s}=t,{baseId:o,schemaEnv:u,validateName:c,opts:f,self:h}=s,{root:m}=u;if((r==="#"||r==="#/")&&o===m.baseId)return g();let y=N_.resolveRef.call(h,m,o,r);if(y===void 0)throw new aA.default(s.opts.uriResolver,o,r);if(y instanceof N_.SchemaEnv)return T(y);return O(y);function g(){if(u===m)return hc(t,c,u,u.$async);let E=e.scopeValue("root",{ref:m});return hc(t,(0,Tr._)`${E}.validate`,m,m.$async)}function T(E){let S=T_(t,E);hc(t,S,E,E.$async)}function O(E){let S=e.scopeValue("schema",f.code.source===!0?{ref:E,code:(0,Tr.stringify)(E)}:{ref:E}),j=e.name("valid"),k=t.subschema({schema:E,dataTypes:[],schemaPath:Tr.nil,topSchemaRef:S,errSchemaPath:r},j);t.mergeEvaluated(k),t.ok(j)}}};function T_(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,Tr._)`${r.scopeValue("wrapper",{ref:e})}.validate`}ls.getValidate=T_;function hc(t,e,r,s){let{gen:o,it:u}=t,{allErrors:c,schemaEnv:f,opts:h}=u,m=h.passContext?Zs.default.this:Tr.nil;s?y():g();function y(){if(!f.$async)throw new Error("async schema referenced by sync schema");let E=o.let("valid");o.try(()=>{o.code((0,Tr._)`await ${(0,O_.callValidateCode)(t,e,m)}`),O(e),c||o.assign(E,!0)},S=>{o.if((0,Tr._)`!(${S} instanceof ${u.ValidationError})`,()=>o.throw(S)),T(S),c||o.assign(E,!1)}),t.ok(E)}function g(){t.result((0,O_.callValidateCode)(t,e,m),()=>O(e),()=>T(e))}function T(E){let S=(0,Tr._)`${E}.errors`;o.assign(Zs.default.vErrors,(0,Tr._)`${Zs.default.vErrors} === null ? ${S} : ${Zs.default.vErrors}.concat(${S})`),o.assign(Zs.default.errors,(0,Tr._)`${Zs.default.vErrors}.length`)}function O(E){var S;if(!u.opts.unevaluated)return;let j=(S=r==null?void 0:r.validate)===null||S===void 0?void 0:S.evaluated;if(u.props!==!0)if(j&&!j.dynamicProps)j.props!==void 0&&(u.props=dc.mergeEvaluated.props(o,j.props,u.props));else{let k=o.var("props",(0,Tr._)`${E}.evaluated.props`);u.props=dc.mergeEvaluated.props(o,k,u.props,Tr.Name)}if(u.items!==!0)if(j&&!j.dynamicItems)j.items!==void 0&&(u.items=dc.mergeEvaluated.items(o,j.items,u.items));else{let k=o.var("items",(0,Tr._)`${E}.evaluated.items`);u.items=dc.mergeEvaluated.items(o,k,u.items,Tr.Name)}}}ls.callRef=hc;ls.default=sA});var j_=R(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});var oA=P_(),iA=I_(),uA=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",oA.default,iA.default];Id.default=uA});var A_=R(jd=>{"use strict";Object.defineProperty(jd,"__esModule",{value:!0});var pc=Ie(),Ca=pc.operators,mc={maximum:{okStr:"<=",ok:Ca.LTE,fail:Ca.GT},minimum:{okStr:">=",ok:Ca.GTE,fail:Ca.LT},exclusiveMaximum:{okStr:"<",ok:Ca.LT,fail:Ca.GTE},exclusiveMinimum:{okStr:">",ok:Ca.GT,fail:Ca.LTE}},cA={message:({keyword:t,schemaCode:e})=>(0,pc.str)`must be ${mc[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,pc._)`{comparison: ${mc[t].okStr}, limit: ${e}}`},lA={keyword:Object.keys(mc),type:"number",schemaType:"number",$data:!0,error:cA,code(t){let{keyword:e,data:r,schemaCode:s}=t;t.fail$data((0,pc._)`${r} ${mc[e].fail} ${s} || isNaN(${r})`)}};jd.default=lA});var k_=R(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});var ui=Ie(),fA={message:({schemaCode:t})=>(0,ui.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,ui._)`{multipleOf: ${t}}`},dA={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:fA,code(t){let{gen:e,data:r,schemaCode:s,it:o}=t,u=o.opts.multipleOfPrecision,c=e.let("res"),f=u?(0,ui._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${u}`:(0,ui._)`${c} !== parseInt(${c})`;t.fail$data((0,ui._)`(${s} === 0 || (${c} = ${r}/${s}, ${f}))`)}};Ad.default=dA});var R_=R(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});function C_(t){let e=t.length,r=0,s=0,o;for(;s<e;)r++,o=t.charCodeAt(s++),o>=55296&&o<=56319&&s<e&&(o=t.charCodeAt(s),(o&64512)===56320&&s++);return r}kd.default=C_;C_.code='require("ajv/dist/runtime/ucs2length").default'});var D_=R(Cd=>{"use strict";Object.defineProperty(Cd,"__esModule",{value:!0});var fs=Ie(),hA=Ue(),pA=R_(),mA={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,fs.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,fs._)`{limit: ${t}}`},yA={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:mA,code(t){let{keyword:e,data:r,schemaCode:s,it:o}=t,u=e==="maxLength"?fs.operators.GT:fs.operators.LT,c=o.opts.unicode===!1?(0,fs._)`${r}.length`:(0,fs._)`${(0,hA.useFunc)(t.gen,pA.default)}(${r})`;t.fail$data((0,fs._)`${c} ${u} ${s}`)}};Cd.default=yA});var q_=R(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});var vA=en(),yc=Ie(),gA={message:({schemaCode:t})=>(0,yc.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,yc._)`{pattern: ${t}}`},_A={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:gA,code(t){let{data:e,$data:r,schema:s,schemaCode:o,it:u}=t,c=u.opts.unicodeRegExp?"u":"",f=r?(0,yc._)`(new RegExp(${o}, ${c}))`:(0,vA.usePattern)(t,s);t.fail$data((0,yc._)`!${f}.test(${e})`)}};Rd.default=_A});var x_=R(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});var ci=Ie(),$A={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,ci.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,ci._)`{limit: ${t}}`},wA={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:$A,code(t){let{keyword:e,data:r,schemaCode:s}=t,o=e==="maxProperties"?ci.operators.GT:ci.operators.LT;t.fail$data((0,ci._)`Object.keys(${r}).length ${o} ${s}`)}};Dd.default=wA});var M_=R(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});var li=en(),fi=Ie(),bA=Ue(),EA={message:({params:{missingProperty:t}})=>(0,fi.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,fi._)`{missingProperty: ${t}}`},SA={keyword:"required",type:"object",schemaType:"array",$data:!0,error:EA,code(t){let{gen:e,schema:r,schemaCode:s,data:o,$data:u,it:c}=t,{opts:f}=c;if(!u&&r.length===0)return;let h=r.length>=f.loopRequired;if(c.allErrors?m():y(),f.strictRequired){let O=t.parentSchema.properties,{definedProperties:E}=t.it;for(let S of r)if((O==null?void 0:O[S])===void 0&&!E.has(S)){let j=c.schemaEnv.baseId+c.errSchemaPath,k=`required property "${S}" is not defined at "${j}" (strictRequired)`;(0,bA.checkStrictMode)(c,k,c.opts.strictRequired)}}function m(){if(h||u)t.block$data(fi.nil,g);else for(let O of r)(0,li.checkReportMissingProp)(t,O)}function y(){let O=e.let("missing");if(h||u){let E=e.let("valid",!0);t.block$data(E,()=>T(O,E)),t.ok(E)}else e.if((0,li.checkMissingProp)(t,r,O)),(0,li.reportMissingProp)(t,O),e.else()}function g(){e.forOf("prop",s,O=>{t.setParams({missingProperty:O}),e.if((0,li.noPropertyInData)(e,o,O,f.ownProperties),()=>t.error())})}function T(O,E){t.setParams({missingProperty:O}),e.forOf(O,s,()=>{e.assign(E,(0,li.propertyInData)(e,o,O,f.ownProperties)),e.if((0,fi.not)(E),()=>{t.error(),e.break()})},fi.nil)}}};qd.default=SA});var V_=R(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});var di=Ie(),PA={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,di.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,di._)`{limit: ${t}}`},OA={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:PA,code(t){let{keyword:e,data:r,schemaCode:s}=t,o=e==="maxItems"?di.operators.GT:di.operators.LT;t.fail$data((0,di._)`${r}.length ${o} ${s}`)}};xd.default=OA});var vc=R(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});var U_=ei();U_.code='require("ajv/dist/runtime/equal").default';Md.default=U_});var F_=R(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});var Vd=Xo(),Lt=Ie(),NA=Ue(),TA=vc(),IA={message:({params:{i:t,j:e}})=>(0,Lt.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Lt._)`{i: ${t}, j: ${e}}`},jA={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:IA,code(t){let{gen:e,data:r,$data:s,schema:o,parentSchema:u,schemaCode:c,it:f}=t;if(!s&&!o)return;let h=e.let("valid"),m=u.items?(0,Vd.getSchemaTypes)(u.items):[];t.block$data(h,y,(0,Lt._)`${c} === false`),t.ok(h);function y(){let E=e.let("i",(0,Lt._)`${r}.length`),S=e.let("j");t.setParams({i:E,j:S}),e.assign(h,!0),e.if((0,Lt._)`${E} > 1`,()=>(g()?T:O)(E,S))}function g(){return m.length>0&&!m.some(E=>E==="object"||E==="array")}function T(E,S){let j=e.name("item"),k=(0,Vd.checkDataTypes)(m,j,f.opts.strictNumbers,Vd.DataType.Wrong),B=e.const("indices",(0,Lt._)`{}`);e.for((0,Lt._)`;${E}--;`,()=>{e.let(j,(0,Lt._)`${r}[${E}]`),e.if(k,(0,Lt._)`continue`),m.length>1&&e.if((0,Lt._)`typeof ${j} == "string"`,(0,Lt._)`${j} += "_"`),e.if((0,Lt._)`typeof ${B}[${j}] == "number"`,()=>{e.assign(S,(0,Lt._)`${B}[${j}]`),t.error(),e.assign(h,!1).break()}).code((0,Lt._)`${B}[${j}] = ${E}`)})}function O(E,S){let j=(0,NA.useFunc)(e,TA.default),k=e.name("outer");e.label(k).for((0,Lt._)`;${E}--;`,()=>e.for((0,Lt._)`${S} = ${E}; ${S}--;`,()=>e.if((0,Lt._)`${j}(${r}[${E}], ${r}[${S}])`,()=>{t.error(),e.assign(h,!1).break(k)})))}}};Ud.default=jA});var L_=R(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});var Fd=Ie(),AA=Ue(),kA=vc(),CA={message:"must be equal to constant",params:({schemaCode:t})=>(0,Fd._)`{allowedValue: ${t}}`},RA={keyword:"const",$data:!0,error:CA,code(t){let{gen:e,data:r,$data:s,schemaCode:o,schema:u}=t;s||u&&typeof u=="object"?t.fail$data((0,Fd._)`!${(0,AA.useFunc)(e,kA.default)}(${r}, ${o})`):t.fail((0,Fd._)`${u} !== ${r}`)}};Ld.default=RA});var z_=R(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});var hi=Ie(),DA=Ue(),qA=vc(),xA={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,hi._)`{allowedValues: ${t}}`},MA={keyword:"enum",schemaType:"array",$data:!0,error:xA,code(t){let{gen:e,data:r,$data:s,schema:o,schemaCode:u,it:c}=t;if(!s&&o.length===0)throw new Error("enum must have non-empty array");let f=o.length>=c.opts.loopEnum,h,m=()=>h!=null?h:h=(0,DA.useFunc)(e,qA.default),y;if(f||s)y=e.let("valid"),t.block$data(y,g);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let O=e.const("vSchema",u);y=(0,hi.or)(...o.map((E,S)=>T(O,S)))}t.pass(y);function g(){e.assign(y,!1),e.forOf("v",u,O=>e.if((0,hi._)`${m()}(${r}, ${O})`,()=>e.assign(y,!0).break()))}function T(O,E){let S=o[E];return typeof S=="object"&&S!==null?(0,hi._)`${m()}(${r}, ${O}[${E}])`:(0,hi._)`${r} === ${S}`}}};zd.default=MA});var K_=R(Kd=>{"use strict";Object.defineProperty(Kd,"__esModule",{value:!0});var VA=A_(),UA=k_(),FA=D_(),LA=q_(),zA=x_(),KA=M_(),WA=V_(),HA=F_(),GA=L_(),BA=z_(),JA=[VA.default,UA.default,FA.default,LA.default,zA.default,KA.default,WA.default,HA.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},GA.default,BA.default];Kd.default=JA});var Hd=R(pi=>{"use strict";Object.defineProperty(pi,"__esModule",{value:!0});pi.validateAdditionalItems=void 0;var ds=Ie(),Wd=Ue(),YA={message:({params:{len:t}})=>(0,ds.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ds._)`{limit: ${t}}`},ZA={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:YA,code(t){let{parentSchema:e,it:r}=t,{items:s}=e;if(!Array.isArray(s)){(0,Wd.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}W_(t,s)}};function W_(t,e){let{gen:r,schema:s,data:o,keyword:u,it:c}=t;c.items=!0;let f=r.const("len",(0,ds._)`${o}.length`);if(s===!1)t.setParams({len:e.length}),t.pass((0,ds._)`${f} <= ${e.length}`);else if(typeof s=="object"&&!(0,Wd.alwaysValidSchema)(c,s)){let m=r.var("valid",(0,ds._)`${f} <= ${e.length}`);r.if((0,ds.not)(m),()=>h(m)),t.ok(m)}function h(m){r.forRange("i",e.length,f,y=>{t.subschema({keyword:u,dataProp:y,dataPropType:Wd.Type.Num},m),c.allErrors||r.if((0,ds.not)(m),()=>r.break())})}}pi.validateAdditionalItems=W_;pi.default=ZA});var Gd=R(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.validateTuple=void 0;var H_=Ie(),gc=Ue(),QA=en(),XA={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return G_(t,"additionalItems",e);r.items=!0,!(0,gc.alwaysValidSchema)(r,e)&&t.ok((0,QA.validateArray)(t))}};function G_(t,e,r=t.schema){let{gen:s,parentSchema:o,data:u,keyword:c,it:f}=t;y(o),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=gc.mergeEvaluated.items(s,r.length,f.items));let h=s.name("valid"),m=s.const("len",(0,H_._)`${u}.length`);r.forEach((g,T)=>{(0,gc.alwaysValidSchema)(f,g)||(s.if((0,H_._)`${m} > ${T}`,()=>t.subschema({keyword:c,schemaProp:T,dataProp:T},h)),t.ok(h))});function y(g){let{opts:T,errSchemaPath:O}=f,E=r.length,S=E===g.minItems&&(E===g.maxItems||g[e]===!1);if(T.strictTuples&&!S){let j=`"${c}" is ${E}-tuple, but minItems or maxItems/${e} are not specified or different at path "${O}"`;(0,gc.checkStrictMode)(f,j,T.strictTuples)}}}mi.validateTuple=G_;mi.default=XA});var B_=R(Bd=>{"use strict";Object.defineProperty(Bd,"__esModule",{value:!0});var ek=Gd(),tk={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,ek.validateTuple)(t,"items")};Bd.default=tk});var Y_=R(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});var J_=Ie(),rk=Ue(),nk=en(),ak=Hd(),sk={message:({params:{len:t}})=>(0,J_.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,J_._)`{limit: ${t}}`},ok={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:sk,code(t){let{schema:e,parentSchema:r,it:s}=t,{prefixItems:o}=r;s.items=!0,!(0,rk.alwaysValidSchema)(s,e)&&(o?(0,ak.validateAdditionalItems)(t,o):t.ok((0,nk.validateArray)(t)))}};Jd.default=ok});var Z_=R(Yd=>{"use strict";Object.defineProperty(Yd,"__esModule",{value:!0});var rn=Ie(),_c=Ue(),ik={message:({params:{min:t,max:e}})=>e===void 0?(0,rn.str)`must contain at least ${t} valid item(s)`:(0,rn.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,rn._)`{minContains: ${t}}`:(0,rn._)`{minContains: ${t}, maxContains: ${e}}`},uk={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:ik,code(t){let{gen:e,schema:r,parentSchema:s,data:o,it:u}=t,c,f,{minContains:h,maxContains:m}=s;u.opts.next?(c=h===void 0?1:h,f=m):c=1;let y=e.const("len",(0,rn._)`${o}.length`);if(t.setParams({min:c,max:f}),f===void 0&&c===0){(0,_c.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&c>f){(0,_c.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,_c.alwaysValidSchema)(u,r)){let S=(0,rn._)`${y} >= ${c}`;f!==void 0&&(S=(0,rn._)`${S} && ${y} <= ${f}`),t.pass(S);return}u.items=!0;let g=e.name("valid");f===void 0&&c===1?O(g,()=>e.if(g,()=>e.break())):c===0?(e.let(g,!0),f!==void 0&&e.if((0,rn._)`${o}.length > 0`,T)):(e.let(g,!1),T()),t.result(g,()=>t.reset());function T(){let S=e.name("_valid"),j=e.let("count",0);O(S,()=>e.if(S,()=>E(j)))}function O(S,j){e.forRange("i",0,y,k=>{t.subschema({keyword:"contains",dataProp:k,dataPropType:_c.Type.Num,compositeRule:!0},S),j()})}function E(S){e.code((0,rn._)`${S}++`),f===void 0?e.if((0,rn._)`${S} >= ${c}`,()=>e.assign(g,!0).break()):(e.if((0,rn._)`${S} > ${f}`,()=>e.assign(g,!1).break()),c===1?e.assign(g,!0):e.if((0,rn._)`${S} >= ${c}`,()=>e.assign(g,!0)))}}};Yd.default=uk});var e0=R(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.validateSchemaDeps=Vn.validatePropertyDeps=Vn.error=void 0;var Zd=Ie(),ck=Ue(),yi=en();Vn.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let s=e===1?"property":"properties";return(0,Zd.str)`must have ${s} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:s}})=>(0,Zd._)`{property: ${t},
    missingProperty: ${s},
    depsCount: ${e},
    deps: ${r}}`};var lk={keyword:"dependencies",type:"object",schemaType:"object",error:Vn.error,code(t){let[e,r]=fk(t);Q_(t,e),X_(t,r)}};function fk({schema:t}){let e={},r={};for(let s in t){if(s==="__proto__")continue;let o=Array.isArray(t[s])?e:r;o[s]=t[s]}return[e,r]}function Q_(t,e=t.schema){let{gen:r,data:s,it:o}=t;if(Object.keys(e).length===0)return;let u=r.let("missing");for(let c in e){let f=e[c];if(f.length===0)continue;let h=(0,yi.propertyInData)(r,s,c,o.opts.ownProperties);t.setParams({property:c,depsCount:f.length,deps:f.join(", ")}),o.allErrors?r.if(h,()=>{for(let m of f)(0,yi.checkReportMissingProp)(t,m)}):(r.if((0,Zd._)`${h} && (${(0,yi.checkMissingProp)(t,f,u)})`),(0,yi.reportMissingProp)(t,u),r.else())}}Vn.validatePropertyDeps=Q_;function X_(t,e=t.schema){let{gen:r,data:s,keyword:o,it:u}=t,c=r.name("valid");for(let f in e)(0,ck.alwaysValidSchema)(u,e[f])||(r.if((0,yi.propertyInData)(r,s,f,u.opts.ownProperties),()=>{let h=t.subschema({keyword:o,schemaProp:f},c);t.mergeValidEvaluated(h,c)},()=>r.var(c,!0)),t.ok(c))}Vn.validateSchemaDeps=X_;Vn.default=lk});var r0=R(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});var t0=Ie(),dk=Ue(),hk={message:"property name must be valid",params:({params:t})=>(0,t0._)`{propertyName: ${t.propertyName}}`},pk={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:hk,code(t){let{gen:e,schema:r,data:s,it:o}=t;if((0,dk.alwaysValidSchema)(o,r))return;let u=e.name("valid");e.forIn("key",s,c=>{t.setParams({propertyName:c}),t.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),e.if((0,t0.not)(u),()=>{t.error(!0),o.allErrors||e.break()})}),t.ok(u)}};Qd.default=pk});var eh=R(Xd=>{"use strict";Object.defineProperty(Xd,"__esModule",{value:!0});var $c=en(),gn=Ie(),mk=na(),wc=Ue(),yk={message:"must NOT have additional properties",params:({params:t})=>(0,gn._)`{additionalProperty: ${t.additionalProperty}}`},vk={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:yk,code(t){let{gen:e,schema:r,parentSchema:s,data:o,errsCount:u,it:c}=t;if(!u)throw new Error("ajv implementation error");let{allErrors:f,opts:h}=c;if(c.props=!0,h.removeAdditional!=="all"&&(0,wc.alwaysValidSchema)(c,r))return;let m=(0,$c.allSchemaProperties)(s.properties),y=(0,$c.allSchemaProperties)(s.patternProperties);g(),t.ok((0,gn._)`${u} === ${mk.default.errors}`);function g(){e.forIn("key",o,j=>{!m.length&&!y.length?E(j):e.if(T(j),()=>E(j))})}function T(j){let k;if(m.length>8){let B=(0,wc.schemaRefOrVal)(c,s.properties,"properties");k=(0,$c.isOwnProperty)(e,B,j)}else m.length?k=(0,gn.or)(...m.map(B=>(0,gn._)`${j} === ${B}`)):k=gn.nil;return y.length&&(k=(0,gn.or)(k,...y.map(B=>(0,gn._)`${(0,$c.usePattern)(t,B)}.test(${j})`))),(0,gn.not)(k)}function O(j){e.code((0,gn._)`delete ${o}[${j}]`)}function E(j){if(h.removeAdditional==="all"||h.removeAdditional&&r===!1){O(j);return}if(r===!1){t.setParams({additionalProperty:j}),t.error(),f||e.break();return}if(typeof r=="object"&&!(0,wc.alwaysValidSchema)(c,r)){let k=e.name("valid");h.removeAdditional==="failing"?(S(j,k,!1),e.if((0,gn.not)(k),()=>{t.reset(),O(j)})):(S(j,k),f||e.if((0,gn.not)(k),()=>e.break()))}}function S(j,k,B){let H={keyword:"additionalProperties",dataProp:j,dataPropType:wc.Type.Str};B===!1&&Object.assign(H,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(H,k)}}};Xd.default=vk});var s0=R(rh=>{"use strict";Object.defineProperty(rh,"__esModule",{value:!0});var gk=ai(),n0=en(),th=Ue(),a0=eh(),_k={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:s,data:o,it:u}=t;u.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&a0.default.code(new gk.KeywordCxt(u,a0.default,"additionalProperties"));let c=(0,n0.allSchemaProperties)(r);for(let g of c)u.definedProperties.add(g);u.opts.unevaluated&&c.length&&u.props!==!0&&(u.props=th.mergeEvaluated.props(e,(0,th.toHash)(c),u.props));let f=c.filter(g=>!(0,th.alwaysValidSchema)(u,r[g]));if(f.length===0)return;let h=e.name("valid");for(let g of f)m(g)?y(g):(e.if((0,n0.propertyInData)(e,o,g,u.opts.ownProperties)),y(g),u.allErrors||e.else().var(h,!0),e.endIf()),t.it.definedProperties.add(g),t.ok(h);function m(g){return u.opts.useDefaults&&!u.compositeRule&&r[g].default!==void 0}function y(g){t.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};rh.default=_k});var c0=R(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var o0=en(),bc=Ie(),i0=Ue(),u0=Ue(),$k={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:s,parentSchema:o,it:u}=t,{opts:c}=u,f=(0,o0.allSchemaProperties)(r),h=f.filter(S=>(0,i0.alwaysValidSchema)(u,r[S]));if(f.length===0||h.length===f.length&&(!u.opts.unevaluated||u.props===!0))return;let m=c.strictSchema&&!c.allowMatchingProperties&&o.properties,y=e.name("valid");u.props!==!0&&!(u.props instanceof bc.Name)&&(u.props=(0,u0.evaluatedPropsToName)(e,u.props));let{props:g}=u;T();function T(){for(let S of f)m&&O(S),u.allErrors?E(S):(e.var(y,!0),E(S),e.if(y))}function O(S){for(let j in m)new RegExp(S).test(j)&&(0,i0.checkStrictMode)(u,`property ${j} matches pattern ${S} (use allowMatchingProperties)`)}function E(S){e.forIn("key",s,j=>{e.if((0,bc._)`${(0,o0.usePattern)(t,S)}.test(${j})`,()=>{let k=h.includes(S);k||t.subschema({keyword:"patternProperties",schemaProp:S,dataProp:j,dataPropType:u0.Type.Str},y),u.opts.unevaluated&&g!==!0?e.assign((0,bc._)`${g}[${j}]`,!0):!k&&!u.allErrors&&e.if((0,bc.not)(y),()=>e.break())})})}}};nh.default=$k});var l0=R(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});var wk=Ue(),bk={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:s}=t;if((0,wk.alwaysValidSchema)(s,r)){t.fail();return}let o=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),t.failResult(o,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};ah.default=bk});var f0=R(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});var Ek=en(),Sk={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ek.validateUnion,error:{message:"must match a schema in anyOf"}};sh.default=Sk});var d0=R(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var Ec=Ie(),Pk=Ue(),Ok={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,Ec._)`{passingSchemas: ${t.passing}}`},Nk={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ok,code(t){let{gen:e,schema:r,parentSchema:s,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&s.discriminator)return;let u=r,c=e.let("valid",!1),f=e.let("passing",null),h=e.name("_valid");t.setParams({passing:f}),e.block(m),t.result(c,()=>t.reset(),()=>t.error(!0));function m(){u.forEach((y,g)=>{let T;(0,Pk.alwaysValidSchema)(o,y)?e.var(h,!0):T=t.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},h),g>0&&e.if((0,Ec._)`${h} && ${c}`).assign(c,!1).assign(f,(0,Ec._)`[${f}, ${g}]`).else(),e.if(h,()=>{e.assign(c,!0),e.assign(f,g),T&&t.mergeEvaluated(T,Ec.Name)})})}}};oh.default=Nk});var h0=R(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});var Tk=Ue(),Ik={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=e.name("valid");r.forEach((u,c)=>{if((0,Tk.alwaysValidSchema)(s,u))return;let f=t.subschema({keyword:"allOf",schemaProp:c},o);t.ok(o),t.mergeEvaluated(f)})}};ih.default=Ik});var y0=R(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var Sc=Ie(),m0=Ue(),jk={message:({params:t})=>(0,Sc.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,Sc._)`{failingKeyword: ${t.ifClause}}`},Ak={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:jk,code(t){let{gen:e,parentSchema:r,it:s}=t;r.then===void 0&&r.else===void 0&&(0,m0.checkStrictMode)(s,'"if" without "then" and "else" is ignored');let o=p0(s,"then"),u=p0(s,"else");if(!o&&!u)return;let c=e.let("valid",!0),f=e.name("_valid");if(h(),t.reset(),o&&u){let y=e.let("ifClause");t.setParams({ifClause:y}),e.if(f,m("then",y),m("else",y))}else o?e.if(f,m("then")):e.if((0,Sc.not)(f),m("else"));t.pass(c,()=>t.error(!0));function h(){let y=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);t.mergeEvaluated(y)}function m(y,g){return()=>{let T=t.subschema({keyword:y},f);e.assign(c,f),t.mergeValidEvaluated(T,c),g?e.assign(g,(0,Sc._)`${y}`):t.setParams({ifClause:y})}}}};function p0(t,e){let r=t.schema[e];return r!==void 0&&!(0,m0.alwaysValidSchema)(t,r)}uh.default=Ak});var v0=R(ch=>{"use strict";Object.defineProperty(ch,"__esModule",{value:!0});var kk=Ue(),Ck={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,kk.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};ch.default=Ck});var g0=R(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});var Rk=Hd(),Dk=B_(),qk=Gd(),xk=Y_(),Mk=Z_(),Vk=e0(),Uk=r0(),Fk=eh(),Lk=s0(),zk=c0(),Kk=l0(),Wk=f0(),Hk=d0(),Gk=h0(),Bk=y0(),Jk=v0();function Yk(t=!1){let e=[Kk.default,Wk.default,Hk.default,Gk.default,Bk.default,Jk.default,Uk.default,Fk.default,Vk.default,Lk.default,zk.default];return t?e.push(Dk.default,xk.default):e.push(Rk.default,qk.default),e.push(Mk.default),e}lh.default=Yk});var _0=R(fh=>{"use strict";Object.defineProperty(fh,"__esModule",{value:!0});var Pt=Ie(),Zk={message:({schemaCode:t})=>(0,Pt.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Pt._)`{format: ${t}}`},Qk={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Zk,code(t,e){let{gen:r,data:s,$data:o,schema:u,schemaCode:c,it:f}=t,{opts:h,errSchemaPath:m,schemaEnv:y,self:g}=f;if(!h.validateFormats)return;o?T():O();function T(){let E=r.scopeValue("formats",{ref:g.formats,code:h.code.formats}),S=r.const("fDef",(0,Pt._)`${E}[${c}]`),j=r.let("fType"),k=r.let("format");r.if((0,Pt._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign(j,(0,Pt._)`${S}.type || "string"`).assign(k,(0,Pt._)`${S}.validate`),()=>r.assign(j,(0,Pt._)`"string"`).assign(k,S)),t.fail$data((0,Pt.or)(B(),H()));function B(){return h.strictSchema===!1?Pt.nil:(0,Pt._)`${c} && !${k}`}function H(){let Q=y.$async?(0,Pt._)`(${S}.async ? await ${k}(${s}) : ${k}(${s}))`:(0,Pt._)`${k}(${s})`,z=(0,Pt._)`(typeof ${k} == "function" ? ${Q} : ${k}.test(${s}))`;return(0,Pt._)`${k} && ${k} !== true && ${j} === ${e} && !${z}`}}function O(){let E=g.formats[u];if(!E){B();return}if(E===!0)return;let[S,j,k]=H(E);S===e&&t.pass(Q());function B(){if(h.strictSchema===!1){g.logger.warn(z());return}throw new Error(z());function z(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function H(z){let Ce=z instanceof RegExp?(0,Pt.regexpCode)(z):h.code.formats?(0,Pt._)`${h.code.formats}${(0,Pt.getProperty)(u)}`:void 0,ft=r.scopeValue("formats",{key:u,ref:z,code:Ce});return typeof z=="object"&&!(z instanceof RegExp)?[z.type||"string",z.validate,(0,Pt._)`${ft}.validate`]:["string",z,ft]}function Q(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!y.$async)throw new Error("async format in sync schema");return(0,Pt._)`await ${k}(${s})`}return typeof j=="function"?(0,Pt._)`${k}(${s})`:(0,Pt._)`${k}.test(${s})`}}}};fh.default=Qk});var $0=R(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var Xk=_0(),eC=[Xk.default];dh.default=eC});var w0=R(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.contentVocabulary=Qs.metadataVocabulary=void 0;Qs.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Qs.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var E0=R(hh=>{"use strict";Object.defineProperty(hh,"__esModule",{value:!0});var tC=j_(),rC=K_(),nC=g0(),aC=$0(),b0=w0(),sC=[tC.default,rC.default,(0,nC.default)(),aC.default,b0.metadataVocabulary,b0.contentVocabulary];hh.default=sC});var S0=R(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.DiscrError=void 0;var oC;(function(t){t.Tag="tag",t.Mapping="mapping"})(oC=vi.DiscrError||(vi.DiscrError={}))});var O0=R(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var Xs=Ie(),ph=S0(),P0=cc(),iC=Ue(),uC={message:({params:{discrError:t,tagName:e}})=>t===ph.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,Xs._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},cC={keyword:"discriminator",type:"object",schemaType:"object",error:uC,code(t){let{gen:e,data:r,schema:s,parentSchema:o,it:u}=t,{oneOf:c}=o;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");let f=s.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!c)throw new Error("discriminator: requires oneOf keyword");let h=e.let("valid",!1),m=e.const("tag",(0,Xs._)`${r}${(0,Xs.getProperty)(f)}`);e.if((0,Xs._)`typeof ${m} == "string"`,()=>y(),()=>t.error(!1,{discrError:ph.DiscrError.Tag,tag:m,tagName:f})),t.ok(h);function y(){let O=T();e.if(!1);for(let E in O)e.elseIf((0,Xs._)`${m} === ${E}`),e.assign(h,g(O[E]));e.else(),t.error(!1,{discrError:ph.DiscrError.Mapping,tag:m,tagName:f}),e.endIf()}function g(O){let E=e.name("valid"),S=t.subschema({keyword:"oneOf",schemaProp:O},E);return t.mergeEvaluated(S,Xs.Name),E}function T(){var O;let E={},S=k(o),j=!0;for(let Q=0;Q<c.length;Q++){let z=c[Q];(z==null?void 0:z.$ref)&&!(0,iC.schemaHasRulesButRef)(z,u.self.RULES)&&(z=P0.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,z==null?void 0:z.$ref),z instanceof P0.SchemaEnv&&(z=z.schema));let Ce=(O=z==null?void 0:z.properties)===null||O===void 0?void 0:O[f];if(typeof Ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);j=j&&(S||k(z)),B(Ce,Q)}if(!j)throw new Error(`discriminator: "${f}" must be required`);return E;function k({required:Q}){return Array.isArray(Q)&&Q.includes(f)}function B(Q,z){if(Q.const)H(Q.const,z);else if(Q.enum)for(let Ce of Q.enum)H(Ce,z);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function H(Q,z){if(typeof Q!="string"||Q in E)throw new Error(`discriminator: "${f}" values must be unique strings`);E[Q]=z}}}};mh.default=cC});var N0=R((rF,lC)=>{lC.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var yh=R((vt,I0)=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.MissingRefError=vt.ValidationError=vt.CodeGen=vt.Name=vt.nil=vt.stringify=vt.str=vt._=vt.KeywordCxt=void 0;var fC=S_(),dC=E0(),hC=O0(),T0=N0(),pC=["/properties"],Pc="http://json-schema.org/draft-07/schema",Oc=class extends fC.default{_addVocabularies(){super._addVocabularies(),dC.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(hC.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(T0,pC):T0;this.addMetaSchema(e,Pc,!1),this.refs["http://json-schema.org/schema"]=Pc}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(Pc)?Pc:void 0)}};I0.exports=vt=Oc;Object.defineProperty(vt,"__esModule",{value:!0});vt.default=Oc;var mC=ai();Object.defineProperty(vt,"KeywordCxt",{enumerable:!0,get:function(){return mC.KeywordCxt}});var eo=Ie();Object.defineProperty(vt,"_",{enumerable:!0,get:function(){return eo._}});Object.defineProperty(vt,"str",{enumerable:!0,get:function(){return eo.str}});Object.defineProperty(vt,"stringify",{enumerable:!0,get:function(){return eo.stringify}});Object.defineProperty(vt,"nil",{enumerable:!0,get:function(){return eo.nil}});Object.defineProperty(vt,"Name",{enumerable:!0,get:function(){return eo.Name}});Object.defineProperty(vt,"CodeGen",{enumerable:!0,get:function(){return eo.CodeGen}});var yC=oc();Object.defineProperty(vt,"ValidationError",{enumerable:!0,get:function(){return yC.default}});var vC=ic();Object.defineProperty(vt,"MissingRefError",{enumerable:!0,get:function(){return vC.default}})});var Ph=R((nF,M0)=>{"use strict";var gC=Object.create,Tc=Object.defineProperty,_C=Object.getOwnPropertyDescriptor,$C=Object.getOwnPropertyNames,wC=Object.getPrototypeOf,bC=Object.prototype.hasOwnProperty,Ic=(t,e)=>{for(var r in e)Tc(t,r,{get:e[r],enumerable:!0})},Nc=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of $C(e))!bC.call(t,o)&&o!==r&&Tc(t,o,{get:()=>e[o],enumerable:!(s=_C(e,o))||s.enumerable});return t},Eh=(t,e,r)=>(Nc(t,e,"default"),r&&Nc(r,e,"default")),Sh=(t,e,r)=>(r=t!=null?gC(wC(t)):{},Nc(e||!t||!t.__esModule?Tc(r,"default",{value:t,enumerable:!0}):r,t)),EC=t=>Nc(Tc({},"__esModule",{value:!0}),t),j0={};Ic(j0,{DashboardValidator:()=>x0,Validator:()=>YC,checkDuplicateTokens:()=>A0,checkInputsInStructure:()=>C0,checkVisualizationsInStructure:()=>R0});M0.exports=EC(j0);var Ir={};Ic(Ir,{default:()=>SC});var vh=Sh(tg());Eh(Ir,tg());var SC="default"in vh?vh.default:vh,PC=({WorkerClass:t,onMessage:e,postMessage:r})=>{let s=typeof Worker!="undefined",o=(0,Ir.useRef)(!0),u=(0,Ir.useCallback)(()=>{if(!(!o.current||!s))return o.current=!1,new t},[t,s]),c=(0,Ir.useRef)(u());(0,Ir.useEffect)(()=>{let m=c.current;return()=>{var y;(y=m==null?void 0:m.terminate)==null||y.call(m)}},[]);let f=(0,Ir.useRef)();f.current=e;let h=(0,Ir.useCallback)((...m)=>{var y;(y=f.current)==null||y.call(f,...m)},[]);return(0,Ir.useEffect)(()=>{let m=c.current;return s&&m&&m.addEventListener("message",h),()=>{s&&m&&m.removeEventListener("message",h)}},[h,s]),(0,Ir.useEffect)(()=>{s&&c.current&&r(c.current)},[s,r]),{enabled:s}};function OC(){let t=URL.createObjectURL(new Blob(['"use strict";var Mu=Object.create;var yn=Object.defineProperty,Vu=Object.defineProperties,Uu=Object.getOwnPropertyDescriptor,Fu=Object.getOwnPropertyDescriptors,Lu=Object.getOwnPropertyNames,Ea=Object.getOwnPropertySymbols,xu=Object.getPrototypeOf,Sa=Object.prototype.hasOwnProperty,zu=Object.prototype.propertyIsEnumerable;var wa=(t,e,r)=>e in t?yn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Y=(t,e)=>{for(var r in e||(e={}))Sa.call(e,r)&&wa(t,r,e[r]);if(Ea)for(var r of Ea(e))zu.call(e,r)&&wa(t,r,e[r]);return t},ge=(t,e)=>Vu(t,Fu(e));var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ku=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Lu(e))!Sa.call(t,s)&&s!==r&&yn(t,s,{get:()=>e[s],enumerable:!(n=Uu(e,s))||n.enumerable});return t};var Pt=(t,e,r)=>(r=t!=null?Mu(xu(t)):{},Ku(e||!t||!t.__esModule?yn(r,"default",{value:t,enumerable:!0}):r,t));var Nt=(t,e,r)=>new Promise((n,s)=>{var a=d=>{try{u(r.next(d))}catch(f){s(f)}},o=d=>{try{u(r.throw(d))}catch(f){s(f)}},u=d=>d.done?n(d.value):Promise.resolve(d.value).then(a,o);u((r=r.apply(t,e)).next())});var Ot=S(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.gettext=Hu;Tt._=Gu;Tt.setSharedTranslator=ba;Tt.resetSharedTranslator=Pa;var _n;function Hu(){return _n.apply(void 0,arguments)}function Gu(){return _n.apply(void 0,arguments)}function ba(t){_n=t}function Pa(){ba(typeof window!="undefined"&&window.gettext||function(t){return t})}Pa()});var Yt=S(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.regexpCode=F.getProperty=F.safeStringify=F.stringify=F.strConcat=F.addCodeArg=F.str=F._=F.nil=F._Code=F.Name=F.IDENTIFIER=F._CodeOrName=void 0;var Bt=class{};F._CodeOrName=Bt;F.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var ot=class extends Bt{constructor(e){if(super(),!F.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};F.Name=ot;var Se=class extends Bt{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e===\'""\'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,n)=>`${r}${n}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,n)=>(n instanceof ot&&(r[n.str]=(r[n.str]||0)+1),r),{})}};F._Code=Se;F.nil=new Se("");function xa(t,...e){let r=[t[0]],n=0;for(;n<e.length;)gn(r,e[n]),r.push(t[++n]);return new Se(r)}F._=xa;var vn=new Se("+");function za(t,...e){let r=[Xt(t[0])],n=0;for(;n<e.length;)r.push(vn),gn(r,e[n]),r.push(vn,Xt(t[++n]));return Qu(r),new Se(r)}F.str=za;function gn(t,e){e instanceof Se?t.push(...e._items):e instanceof ot?t.push(e):t.push(tc(e))}F.addCodeArg=gn;function Qu(t){let e=1;for(;e<t.length-1;){if(t[e]===vn){let r=Zu(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function Zu(t,e){if(e===\'""\')return t;if(t===\'""\')return e;if(typeof t=="string")return e instanceof ot||t[t.length-1]!==\'"\'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]===\'"\'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]===\'"\'&&!(t instanceof ot))return`"${t}${e.slice(1)}`}function ec(t,e){return e.emptyStr()?t:t.emptyStr()?e:za`${t}${e}`}F.strConcat=ec;function tc(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:Xt(Array.isArray(t)?t.join(","):t)}function rc(t){return new Se(Xt(t))}F.stringify=rc;function Xt(t){return JSON.stringify(t).replace(/\\u2028/g,"\\\\u2028").replace(/\\u2029/g,"\\\\u2029")}F.safeStringify=Xt;function nc(t){return typeof t=="string"&&F.IDENTIFIER.test(t)?new Se(`.${t}`):xa`[${t}]`}F.getProperty=nc;function sc(t){return new Se(t.toString())}F.regexpCode=sc});var Sn=S(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.ValueScope=ue.ValueScopeName=ue.Scope=ue.varKinds=ue.UsedValueState=void 0;var fe=Yt(),$n=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},En;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(En=ue.UsedValueState||(ue.UsedValueState={}));ue.varKinds={const:new fe.Name("const"),let:new fe.Name("let"),var:new fe.Name("var")};var Cr=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof fe.Name?e:this.name(e)}name(e){return new fe.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,n;if(!((n=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||n===void 0)&&n.has(e)||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};ue.Scope=Cr;var Dr=class extends fe.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:n}){this.value=e,this.scopePath=fe._`.${new fe.Name(r)}[${n}]`}};ue.ValueScopeName=Dr;var ac=fe._`\\n`,wn=class extends Cr{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=ge(Y({},e),{_n:e.lines?ac:fe.nil})}get(){return this._scope}name(e){return new Dr(e,this._newName(e))}value(e,r){var n;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let s=this.toName(e),{prefix:a}=s,o=(n=r.key)!==null&&n!==void 0?n:r.ref,u=this._values[a];if(u){let h=u.get(o);if(h)return h}else u=this._values[a]=new Map;u.set(o,s);let d=this._scope[a]||(this._scope[a]=[]),f=d.length;return d[f]=r.ref,s.setValue(r,{property:a,itemIndex:f}),s}getValue(e,r){let n=this._values[e];if(n)return n.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,n=>{if(n.scopePath===void 0)throw new Error(`CodeGen: name "${n}" has no value`);return fe._`${e}${n.scopePath}`})}scopeCode(e=this._values,r,n){return this._reduceValues(e,s=>{if(s.value===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return s.value.code},r,n)}_reduceValues(e,r,n={},s){let a=fe.nil;for(let o in e){let u=e[o];if(!u)continue;let d=n[o]=n[o]||new Map;u.forEach(f=>{if(d.has(f))return;d.set(f,En.Started);let h=r(f);if(h){let _=this.opts.es5?ue.varKinds.var:ue.varKinds.const;a=fe._`${a}${_} ${f} = ${h};${this.opts._n}`}else if(h=s==null?void 0:s(f))a=fe._`${a}${h}${this.opts._n}`;else throw new $n(f);d.set(f,En.Completed)})}return a}};ue.ValueScope=wn});var R=S(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0});C.or=C.and=C.not=C.CodeGen=C.operators=C.varKinds=C.ValueScopeName=C.ValueScope=C.Scope=C.Name=C.regexpCode=C.stringify=C.getProperty=C.nil=C.strConcat=C.str=C._=void 0;var A=Yt(),be=Sn(),Be=Yt();Object.defineProperty(C,"_",{enumerable:!0,get:function(){return Be._}});Object.defineProperty(C,"str",{enumerable:!0,get:function(){return Be.str}});Object.defineProperty(C,"strConcat",{enumerable:!0,get:function(){return Be.strConcat}});Object.defineProperty(C,"nil",{enumerable:!0,get:function(){return Be.nil}});Object.defineProperty(C,"getProperty",{enumerable:!0,get:function(){return Be.getProperty}});Object.defineProperty(C,"stringify",{enumerable:!0,get:function(){return Be.stringify}});Object.defineProperty(C,"regexpCode",{enumerable:!0,get:function(){return Be.regexpCode}});Object.defineProperty(C,"Name",{enumerable:!0,get:function(){return Be.Name}});var jr=Sn();Object.defineProperty(C,"Scope",{enumerable:!0,get:function(){return jr.Scope}});Object.defineProperty(C,"ValueScope",{enumerable:!0,get:function(){return jr.ValueScope}});Object.defineProperty(C,"ValueScopeName",{enumerable:!0,get:function(){return jr.ValueScopeName}});Object.defineProperty(C,"varKinds",{enumerable:!0,get:function(){return jr.varKinds}});C.operators={GT:new A._Code(">"),GTE:new A._Code(">="),LT:new A._Code("<"),LTE:new A._Code("<="),EQ:new A._Code("==="),NEQ:new A._Code("!=="),NOT:new A._Code("!"),OR:new A._Code("||"),AND:new A._Code("&&"),ADD:new A._Code("+")};var Ke=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},bn=class extends Ke{constructor(e,r,n){super(),this.varKind=e,this.name=r,this.rhs=n}render({es5:e,_n:r}){let n=e?be.varKinds.var:this.varKind,s=this.rhs===void 0?"":` = ${this.rhs}`;return`${n} ${this.name}${s};`+r}optimizeNames(e,r){if(e[this.name.str])return this.rhs&&(this.rhs=Ct(this.rhs,e,r)),this}get names(){return this.rhs instanceof A._CodeOrName?this.rhs.names:{}}},Rr=class extends Ke{constructor(e,r,n){super(),this.lhs=e,this.rhs=r,this.sideEffects=n}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof A.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=Ct(this.rhs,e,r),this}get names(){let e=this.lhs instanceof A.Name?{}:Y({},this.lhs.names);return kr(e,this.rhs)}},Pn=class extends Rr{constructor(e,r,n,s){super(e,n,s),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Nn=class extends Ke{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Tn=class extends Ke{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},On=class extends Ke{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},In=class extends Ke{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=Ct(this.code,e,r),this}get names(){return this.code instanceof A._CodeOrName?this.code.names:{}}},Qt=class extends Ke{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,n)=>r+n.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let n=e[r].optimizeNodes();Array.isArray(n)?e.splice(r,1,...n):n?e[r]=n:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:n}=this,s=n.length;for(;s--;){let a=n[s];a.optimizeNames(e,r)||(oc(e,a.names),n.splice(s,1))}return n.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>ut(e,r.names),{})}},He=class extends Qt{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Cn=class extends Qt{},It=class extends He{};It.kind="else";var Pe=class extends He{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let n=r.optimizeNodes();r=this.else=Array.isArray(n)?new It(n):n}if(r)return e===!1?r instanceof Pe?r:r.nodes:this.nodes.length?this:new Pe(Ka(e),r instanceof Pe?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var n;if(this.else=(n=this.else)===null||n===void 0?void 0:n.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=Ct(this.condition,e,r),this}get names(){let e=super.names;return kr(e,this.condition),this.else&&ut(e,this.else.names),e}};Pe.kind="if";var it=class extends He{};it.kind="for";var Dn=class extends it{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iteration=Ct(this.iteration,e,r),this}get names(){return ut(super.names,this.iteration.names)}},Rn=class extends it{constructor(e,r,n,s){super(),this.varKind=e,this.name=r,this.from=n,this.to=s}render(e){let r=e.es5?be.varKinds.var:this.varKind,{name:n,from:s,to:a}=this;return`for(${r} ${n}=${s}; ${n}<${a}; ${n}++)`+super.render(e)}get names(){let e=kr(super.names,this.from);return kr(e,this.to)}},Ar=class extends it{constructor(e,r,n,s){super(),this.loop=e,this.varKind=r,this.name=n,this.iterable=s}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(super.optimizeNames(e,r))return this.iterable=Ct(this.iterable,e,r),this}get names(){return ut(super.names,this.iterable.names)}},Zt=class extends He{constructor(e,r,n){super(),this.name=e,this.args=r,this.async=n}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};Zt.kind="func";var er=class extends Qt{render(e){return"return "+super.render(e)}};er.kind="return";var An=class extends He{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var n,s;return super.optimizeNames(e,r),(n=this.catch)===null||n===void 0||n.optimizeNames(e,r),(s=this.finally)===null||s===void 0||s.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&ut(e,this.catch.names),this.finally&&ut(e,this.finally.names),e}},tr=class extends He{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};tr.kind="catch";var rr=class extends He{render(e){return"finally"+super.render(e)}};rr.kind="finally";var kn=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=ge(Y({},r),{_n:r.lines?`\n`:""}),this._extScope=e,this._scope=new be.Scope({parent:e}),this._nodes=[new Cn]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let n=this._extScope.value(e,r);return(this._values[n.prefix]||(this._values[n.prefix]=new Set)).add(n),n}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,n,s){let a=this._scope.toName(r);return n!==void 0&&s&&(this._constants[a.str]=n),this._leafNode(new bn(e,a,n)),a}const(e,r,n){return this._def(be.varKinds.const,e,r,n)}let(e,r,n){return this._def(be.varKinds.let,e,r,n)}var(e,r,n){return this._def(be.varKinds.var,e,r,n)}assign(e,r,n){return this._leafNode(new Rr(e,r,n))}add(e,r){return this._leafNode(new Pn(e,C.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==A.nil&&this._leafNode(new In(e)),this}object(...e){let r=["{"];for(let[n,s]of e)r.length>1&&r.push(","),r.push(n),(n!==s||this.opts.es5)&&(r.push(":"),A.addCodeArg(r,s));return r.push("}"),new A._Code(r)}if(e,r,n){if(this._blockNode(new Pe(e)),r&&n)this.code(r).else().code(n).endIf();else if(r)this.code(r).endIf();else if(n)throw new Error(\'CodeGen: "else" body without "then" body\');return this}elseIf(e){return this._elseNode(new Pe(e))}else(){return this._elseNode(new It)}endIf(){return this._endBlockNode(Pe,It)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Dn(e),r)}forRange(e,r,n,s,a=this.opts.es5?be.varKinds.var:be.varKinds.let){let o=this._scope.toName(e);return this._for(new Rn(a,o,r,n),()=>s(o))}forOf(e,r,n,s=be.varKinds.const){let a=this._scope.toName(e);if(this.opts.es5){let o=r instanceof A.Name?r:this.var("_arr",r);return this.forRange("_i",0,A._`${o}.length`,u=>{this.var(a,A._`${o}[${u}]`),n(a)})}return this._for(new Ar("of",s,a,r),()=>n(a))}forIn(e,r,n,s=this.opts.es5?be.varKinds.var:be.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,A._`Object.keys(${r})`,n);let a=this._scope.toName(e);return this._for(new Ar("in",s,a,r),()=>n(a))}endFor(){return this._endBlockNode(it)}label(e){return this._leafNode(new Nn(e))}break(e){return this._leafNode(new Tn(e))}return(e){let r=new er;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error(\'CodeGen: "return" should have one node\');return this._endBlockNode(er)}try(e,r,n){if(!r&&!n)throw new Error(\'CodeGen: "try" without "catch" and "finally"\');let s=new An;if(this._blockNode(s),this.code(e),r){let a=this.name("e");this._currNode=s.catch=new tr(a),r(a)}return n&&(this._currNode=s.finally=new rr,this.code(n)),this._endBlockNode(tr,rr)}throw(e){return this._leafNode(new On(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let n=this._nodes.length-r;if(n<0||e!==void 0&&n!==e)throw new Error(`CodeGen: wrong number of nodes: ${n} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=A.nil,n,s){return this._blockNode(new Zt(e,r,n)),s&&this.code(s).endFunc(),this}endFunc(){return this._endBlockNode(Zt)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let n=this._currNode;if(n instanceof e||r&&n instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof Pe))throw new Error(\'CodeGen: "else" without "if"\');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};C.CodeGen=kn;function ut(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function kr(t,e){return e instanceof A._CodeOrName?ut(t,e.names):t}function Ct(t,e,r){if(t instanceof A.Name)return n(t);if(!s(t))return t;return new A._Code(t._items.reduce((a,o)=>(o instanceof A.Name&&(o=n(o)),o instanceof A._Code?a.push(...o._items):a.push(o),a),[]));function n(a){let o=r[a.str];return o===void 0||e[a.str]!==1?a:(delete e[a.str],o)}function s(a){return a instanceof A._Code&&a._items.some(o=>o instanceof A.Name&&e[o.str]===1&&r[o.str]!==void 0)}}function oc(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function Ka(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:A._`!${jn(t)}`}C.not=Ka;var ic=Ha(C.operators.AND);function uc(...t){return t.reduce(ic)}C.and=uc;var cc=Ha(C.operators.OR);function lc(...t){return t.reduce(cc)}C.or=lc;function Ha(t){return(e,r)=>e===A.nil?r:r===A.nil?e:A._`${jn(e)} ${t} ${jn(r)}`}function jn(t){return t instanceof A.Name?t:A._`(${t})`}});var V=S(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0});D.checkStrictMode=D.getErrorPath=D.Type=D.useFunc=D.setEvaluated=D.evaluatedPropsToName=D.mergeEvaluated=D.eachItem=D.unescapeJsonPointer=D.escapeJsonPointer=D.escapeFragment=D.unescapeFragment=D.schemaRefOrVal=D.schemaHasRulesButRef=D.schemaHasRules=D.checkUnknownRules=D.alwaysValidSchema=D.toHash=void 0;var G=R(),dc=Yt();function fc(t){let e={};for(let r of t)e[r]=!0;return e}D.toHash=fc;function hc(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(Wa(t,e),!Ba(e,t.self.RULES.all))}D.alwaysValidSchema=hc;function Wa(t,e=t.schema){let{opts:r,self:n}=t;if(!r.strictSchema||typeof e=="boolean")return;let s=n.RULES.keywords;for(let a in e)s[a]||Za(t,`unknown keyword: "${a}"`)}D.checkUnknownRules=Wa;function Ba(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}D.schemaHasRules=Ba;function pc(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}D.schemaHasRulesButRef=pc;function mc({topSchemaRef:t,schemaPath:e},r,n,s){if(!s){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return G._`${r}`}return G._`${t}${e}${G.getProperty(n)}`}D.schemaRefOrVal=mc;function yc(t){return Xa(decodeURIComponent(t))}D.unescapeFragment=yc;function _c(t){return encodeURIComponent(qn(t))}D.escapeFragment=_c;function qn(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\\//g,"~1")}D.escapeJsonPointer=qn;function Xa(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}D.unescapeJsonPointer=Xa;function vc(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}D.eachItem=vc;function Ga({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:n}){return(s,a,o,u)=>{let d=o===void 0?a:o instanceof G.Name?(a instanceof G.Name?t(s,a,o):e(s,a,o),o):a instanceof G.Name?(e(s,o,a),a):r(a,o);return u===G.Name&&!(d instanceof G.Name)?n(s,d):d}}D.mergeEvaluated={props:Ga({mergeNames:(t,e,r)=>t.if(G._`${r} !== true && ${e} !== undefined`,()=>{t.if(G._`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,G._`${r} || {}`).code(G._`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if(G._`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,G._`${r} || {}`),Mn(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:Y(Y({},t),e),resultToName:Ya}),items:Ga({mergeNames:(t,e,r)=>t.if(G._`${r} !== true && ${e} !== undefined`,()=>t.assign(r,G._`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if(G._`${r} !== true`,()=>t.assign(r,e===!0?!0:G._`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function Ya(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",G._`{}`);return e!==void 0&&Mn(t,r,e),r}D.evaluatedPropsToName=Ya;function Mn(t,e,r){Object.keys(r).forEach(n=>t.assign(G._`${e}${G.getProperty(n)}`,!0))}D.setEvaluated=Mn;var Ja={};function gc(t,e){return t.scopeValue("func",{ref:e,code:Ja[e.code]||(Ja[e.code]=new dc._Code(e.code))})}D.useFunc=gc;var Qa;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(Qa=D.Type||(D.Type={}));function $c(t,e,r){if(t instanceof G.Name){let n=e===Qa.Num;return r?n?G._`"[" + ${t} + "]"`:G._`"[\'" + ${t} + "\']"`:n?G._`"/" + ${t}`:G._`"/" + ${t}.replace(/~/g, "~0").replace(/\\\\//g, "~1")`}return r?G.getProperty(t).toString():"/"+qn(t)}D.getErrorPath=$c;function Za(t,e,r=t.opts.strictSchema){if(r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}D.checkStrictMode=Za});var Ge=S(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});var oe=R(),Ec={data:new oe.Name("data"),valCxt:new oe.Name("valCxt"),instancePath:new oe.Name("instancePath"),parentData:new oe.Name("parentData"),parentDataProperty:new oe.Name("parentDataProperty"),rootData:new oe.Name("rootData"),dynamicAnchors:new oe.Name("dynamicAnchors"),vErrors:new oe.Name("vErrors"),errors:new oe.Name("errors"),this:new oe.Name("this"),self:new oe.Name("self"),scope:new oe.Name("scope"),json:new oe.Name("json"),jsonPos:new oe.Name("jsonPos"),jsonLen:new oe.Name("jsonLen"),jsonPart:new oe.Name("jsonPart")};Vn.default=Ec});var nr=S(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.extendErrors=ie.resetErrorsCount=ie.reportExtraError=ie.reportError=ie.keyword$DataError=ie.keywordError=void 0;var j=R(),qr=V(),ce=Ge();ie.keywordError={message:({keyword:t})=>j.str`should pass "${t}" keyword validation`};ie.keyword$DataError={message:({keyword:t,schemaType:e})=>e?j.str`"${t}" keyword must be ${e} ($data)`:j.str`"${t}" keyword is invalid ($data)`};function wc(t,e=ie.keywordError,r,n){let{it:s}=t,{gen:a,compositeRule:o,allErrors:u}=s,d=ro(t,e,r);(n!=null?n:o||u)?eo(a,d):to(s,j._`[${d}]`)}ie.reportError=wc;function Sc(t,e=ie.keywordError,r){let{it:n}=t,{gen:s,compositeRule:a,allErrors:o}=n,u=ro(t,e,r);eo(s,u),a||o||to(n,ce.default.vErrors)}ie.reportExtraError=Sc;function bc(t,e){t.assign(ce.default.errors,e),t.if(j._`${ce.default.vErrors} !== null`,()=>t.if(e,()=>t.assign(j._`${ce.default.vErrors}.length`,e),()=>t.assign(ce.default.vErrors,null)))}ie.resetErrorsCount=bc;function Pc({gen:t,keyword:e,schemaValue:r,data:n,errsCount:s,it:a}){if(s===void 0)throw new Error("ajv implementation error");let o=t.name("err");t.forRange("i",s,ce.default.errors,u=>{t.const(o,j._`${ce.default.vErrors}[${u}]`),t.if(j._`${o}.instancePath === undefined`,()=>t.assign(j._`${o}.instancePath`,j.strConcat(ce.default.instancePath,a.errorPath))),t.assign(j._`${o}.schemaPath`,j.str`${a.errSchemaPath}/${e}`),a.opts.verbose&&(t.assign(j._`${o}.schema`,r),t.assign(j._`${o}.data`,n))})}ie.extendErrors=Pc;function eo(t,e){let r=t.const("err",e);t.if(j._`${ce.default.vErrors} === null`,()=>t.assign(ce.default.vErrors,j._`[${r}]`),j._`${ce.default.vErrors}.push(${r})`),t.code(j._`${ce.default.errors}++`)}function to(t,e){let{gen:r,validateName:n,schemaEnv:s}=t;s.$async?r.throw(j._`new ${t.ValidationError}(${e})`):(r.assign(j._`${n}.errors`,e),r.return(!1))}var ct={keyword:new j.Name("keyword"),schemaPath:new j.Name("schemaPath"),params:new j.Name("params"),propertyName:new j.Name("propertyName"),message:new j.Name("message"),schema:new j.Name("schema"),parentSchema:new j.Name("parentSchema")};function ro(t,e,r){let{createErrors:n}=t.it;return n===!1?j._`{}`:Nc(t,e,r)}function Nc(t,e,r={}){let{gen:n,it:s}=t,a=[Tc(s,r),Oc(t,r)];return Ic(t,e,a),n.object(...a)}function Tc({errorPath:t},{instancePath:e}){let r=e?j.str`${t}${qr.getErrorPath(e,qr.Type.Str)}`:t;return[ce.default.instancePath,j.strConcat(ce.default.instancePath,r)]}function Oc({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:n}){let s=n?e:j.str`${e}/${t}`;return r&&(s=j.str`${s}${qr.getErrorPath(r,qr.Type.Str)}`),[ct.schemaPath,s]}function Ic(t,{params:e,message:r},n){let{keyword:s,data:a,schemaValue:o,it:u}=t,{opts:d,propertyName:f,topSchemaRef:h,schemaPath:_}=u;n.push([ct.keyword,s],[ct.params,typeof e=="function"?e(t):e||j._`{}`]),d.messages&&n.push([ct.message,typeof r=="function"?r(t):r]),d.verbose&&n.push([ct.schema,o],[ct.parentSchema,j._`${h}${_}`],[ce.default.data,a]),f&&n.push([ct.propertyName,f])}});var so=S(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.boolOrEmptySchema=Dt.topBoolOrEmptySchema=void 0;var Cc=nr(),Dc=R(),Rc=Ge(),Ac={message:"boolean schema is false"};function kc(t){let{gen:e,schema:r,validateName:n}=t;r===!1?no(t,!1):typeof r=="object"&&r.$async===!0?e.return(Rc.default.data):(e.assign(Dc._`${n}.errors`,null),e.return(!0))}Dt.topBoolOrEmptySchema=kc;function jc(t,e){let{gen:r,schema:n}=t;n===!1?(r.var(e,!1),no(t)):r.var(e,!0)}Dt.boolOrEmptySchema=jc;function no(t,e){let{gen:r,data:n}=t,s={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};Cc.reportError(s,Ac,void 0,e)}});var Un=S(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.getRules=Rt.isJSONType=void 0;var qc=["string","number","integer","boolean","null","object","array"],Mc=new Set(qc);function Vc(t){return typeof t=="string"&&Mc.has(t)}Rt.isJSONType=Vc;function Uc(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:ge(Y({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}Rt.getRules=Uc});var Fn=S(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.shouldUseRule=Xe.shouldUseGroup=Xe.schemaHasRulesForType=void 0;function Fc({schema:t,self:e},r){let n=e.RULES.types[r];return n&&n!==!0&&ao(t,n)}Xe.schemaHasRulesForType=Fc;function ao(t,e){return e.rules.some(r=>oo(t,r))}Xe.shouldUseGroup=ao;function oo(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(n=>t[n]!==void 0))}Xe.shouldUseRule=oo});var ar=S(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.reportTypeError=ne.checkDataTypes=ne.checkDataType=ne.coerceAndCheckDataType=ne.getJSONTypes=ne.getSchemaTypes=ne.DataType=void 0;var Lc=Un(),xc=Fn(),zc=nr(),T=R(),io=V(),sr;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(sr=ne.DataType||(ne.DataType={}));function Kc(t){let e=uo(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error(\'"nullable" cannot be used without "type"\');t.nullable===!0&&e.push("null")}return e}ne.getSchemaTypes=Kc;function uo(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(Lc.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}ne.getJSONTypes=uo;function Hc(t,e){let{gen:r,data:n,opts:s}=t,a=Gc(e,s.coerceTypes),o=e.length>0&&!(a.length===0&&e.length===1&&xc.schemaHasRulesForType(t,e[0]));if(o){let u=xn(e,n,s.strictNumbers,sr.Wrong);r.if(u,()=>{a.length?Jc(t,e,a):zn(t)})}return o}ne.coerceAndCheckDataType=Hc;var co=new Set(["string","number","integer","boolean","null"]);function Gc(t,e){return e?t.filter(r=>co.has(r)||e==="array"&&r==="array"):[]}function Jc(t,e,r){let{gen:n,data:s,opts:a}=t,o=n.let("dataType",T._`typeof ${s}`),u=n.let("coerced",T._`undefined`);a.coerceTypes==="array"&&n.if(T._`${o} == \'object\' && Array.isArray(${s}) && ${s}.length == 1`,()=>n.assign(s,T._`${s}[0]`).assign(o,T._`typeof ${s}`).if(xn(e,s,a.strictNumbers),()=>n.assign(u,s))),n.if(T._`${u} !== undefined`);for(let f of r)(co.has(f)||f==="array"&&a.coerceTypes==="array")&&d(f);n.else(),zn(t),n.endIf(),n.if(T._`${u} !== undefined`,()=>{n.assign(s,u),Wc(t,u)});function d(f){switch(f){case"string":n.elseIf(T._`${o} == "number" || ${o} == "boolean"`).assign(u,T._`"" + ${s}`).elseIf(T._`${s} === null`).assign(u,T._`""`);return;case"number":n.elseIf(T._`${o} == "boolean" || ${s} === null\n              || (${o} == "string" && ${s} && ${s} == +${s})`).assign(u,T._`+${s}`);return;case"integer":n.elseIf(T._`${o} === "boolean" || ${s} === null\n              || (${o} === "string" && ${s} && ${s} == +${s} && !(${s} % 1))`).assign(u,T._`+${s}`);return;case"boolean":n.elseIf(T._`${s} === "false" || ${s} === 0 || ${s} === null`).assign(u,!1).elseIf(T._`${s} === "true" || ${s} === 1`).assign(u,!0);return;case"null":n.elseIf(T._`${s} === "" || ${s} === 0 || ${s} === false`),n.assign(u,null);return;case"array":n.elseIf(T._`${o} === "string" || ${o} === "number"\n              || ${o} === "boolean" || ${s} === null`).assign(u,T._`[${s}]`)}}}function Wc({gen:t,parentData:e,parentDataProperty:r},n){t.if(T._`${e} !== undefined`,()=>t.assign(T._`${e}[${r}]`,n))}function Ln(t,e,r,n=sr.Correct){let s=n===sr.Correct?T.operators.EQ:T.operators.NEQ,a;switch(t){case"null":return T._`${e} ${s} null`;case"array":a=T._`Array.isArray(${e})`;break;case"object":a=T._`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":a=o(T._`!(${e} % 1) && !isNaN(${e})`);break;case"number":a=o();break;default:return T._`typeof ${e} ${s} ${t}`}return n===sr.Correct?a:T.not(a);function o(u=T.nil){return T.and(T._`typeof ${e} == "number"`,u,r?T._`isFinite(${e})`:T.nil)}}ne.checkDataType=Ln;function xn(t,e,r,n){if(t.length===1)return Ln(t[0],e,r,n);let s,a=io.toHash(t);if(a.array&&a.object){let o=T._`typeof ${e} != "object"`;s=a.null?o:T._`!${e} || ${o}`,delete a.null,delete a.array,delete a.object}else s=T.nil;a.number&&delete a.integer;for(let o in a)s=T.and(s,Ln(o,e,r,n));return s}ne.checkDataTypes=xn;var Bc={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?T._`{type: ${t}}`:T._`{type: ${e}}`};function zn(t){let e=Xc(t);zc.reportError(e,Bc)}ne.reportTypeError=zn;function Xc(t){let{gen:e,data:r,schema:n}=t,s=io.schemaRefOrVal(t,n,"type");return{gen:e,keyword:"type",data:r,schema:n.type,schemaCode:s,schemaValue:s,parentSchema:n,params:{},it:t}}});var fo=S(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.assignDefaults=void 0;var At=R(),Yc=V();function Qc(t,e){let{properties:r,items:n}=t.schema;if(e==="object"&&r)for(let s in r)lo(t,s,r[s].default);else e==="array"&&Array.isArray(n)&&n.forEach((s,a)=>lo(t,a,s.default))}Mr.assignDefaults=Qc;function lo(t,e,r){let{gen:n,compositeRule:s,data:a,opts:o}=t;if(r===void 0)return;let u=At._`${a}${At.getProperty(e)}`;if(s){Yc.checkStrictMode(t,`default is ignored for: ${u}`);return}let d=At._`${u} === undefined`;o.useDefaults==="empty"&&(d=At._`${d} || ${u} === null || ${u} === ""`),n.if(d,At._`${u} = ${At.stringify(r)}`)}});var Ee=S(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.validateUnion=x.validateArray=x.usePattern=x.callValidateCode=x.schemaProperties=x.allSchemaProperties=x.noPropertyInData=x.propertyInData=x.isOwnProperty=x.hasPropFunc=x.reportMissingProp=x.checkMissingProp=x.checkReportMissingProp=void 0;var W=R(),Kn=V(),Ye=Ge();function Zc(t,e){let{gen:r,data:n,it:s}=t;r.if(Gn(r,n,e,s.opts.ownProperties),()=>{t.setParams({missingProperty:W._`${e}`},!0),t.error()})}x.checkReportMissingProp=Zc;function el({gen:t,data:e,it:{opts:r}},n,s){return W.or(...n.map(a=>W.and(Gn(t,e,a,r.ownProperties),W._`${s} = ${a}`)))}x.checkMissingProp=el;function tl(t,e){t.setParams({missingProperty:e},!0),t.error()}x.reportMissingProp=tl;function ho(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:W._`Object.prototype.hasOwnProperty`})}x.hasPropFunc=ho;function Hn(t,e,r){return W._`${ho(t)}.call(${e}, ${r})`}x.isOwnProperty=Hn;function rl(t,e,r,n){let s=W._`${e}${W.getProperty(r)} !== undefined`;return n?W._`${s} && ${Hn(t,e,r)}`:s}x.propertyInData=rl;function Gn(t,e,r,n){let s=W._`${e}${W.getProperty(r)} === undefined`;return n?W.or(s,W.not(Hn(t,e,r))):s}x.noPropertyInData=Gn;function po(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}x.allSchemaProperties=po;function nl(t,e){return po(e).filter(r=>!Kn.alwaysValidSchema(t,e[r]))}x.schemaProperties=nl;function sl({schemaCode:t,data:e,it:{gen:r,topSchemaRef:n,schemaPath:s,errorPath:a},it:o},u,d,f){let h=f?W._`${t}, ${e}, ${n}${s}`:e,_=[[Ye.default.instancePath,W.strConcat(Ye.default.instancePath,a)],[Ye.default.parentData,o.parentData],[Ye.default.parentDataProperty,o.parentDataProperty],[Ye.default.rootData,Ye.default.rootData]];o.opts.dynamicRef&&_.push([Ye.default.dynamicAnchors,Ye.default.dynamicAnchors]);let $=W._`${h}, ${r.object(..._)}`;return d!==W.nil?W._`${u}.call(${d}, ${$})`:W._`${u}(${$})`}x.callValidateCode=sl;function al({gen:t,it:{opts:e}},r){let n=e.unicodeRegExp?"u":"";return t.scopeValue("pattern",{key:r,ref:new RegExp(r,n),code:W._`new RegExp(${r}, ${n})`})}x.usePattern=al;function ol(t){let{gen:e,data:r,keyword:n,it:s}=t,a=e.name("valid");if(s.allErrors){let u=e.let("valid",!0);return o(()=>e.assign(u,!1)),u}return e.var(a,!0),o(()=>e.break()),a;function o(u){let d=e.const("len",W._`${r}.length`);e.forRange("i",0,d,f=>{t.subschema({keyword:n,dataProp:f,dataPropType:Kn.Type.Num},a),e.if(W.not(a),u)})}}x.validateArray=ol;function il(t){let{gen:e,schema:r,keyword:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(d=>Kn.alwaysValidSchema(s,d))&&!s.opts.unevaluated)return;let o=e.let("valid",!1),u=e.name("_valid");e.block(()=>r.forEach((d,f)=>{let h=t.subschema({keyword:n,schemaProp:f,compositeRule:!0},u);e.assign(o,W._`${o} || ${u}`),t.mergeValidEvaluated(h,u)||e.if(W.not(o))})),t.result(o,()=>t.reset(),()=>t.error(!0))}x.validateUnion=il});var _o=S(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.validateKeywordUsage=qe.validSchemaType=qe.funcKeywordCode=qe.macroKeywordCode=void 0;var le=R(),lt=Ge(),ul=Ee(),cl=nr();function ll(t,e){let{gen:r,keyword:n,schema:s,parentSchema:a,it:o}=t,u=e.macro.call(o.self,s,a,o),d=yo(r,n,u);o.opts.validateSchema!==!1&&o.self.validateSchema(u,!0);let f=r.name("valid");t.subschema({schema:u,schemaPath:le.nil,errSchemaPath:`${o.errSchemaPath}/${n}`,topSchemaRef:d,compositeRule:!0},f),t.pass(f,()=>t.error(!0))}qe.macroKeywordCode=ll;function dl(t,e){var r;let{gen:n,keyword:s,schema:a,parentSchema:o,$data:u,it:d}=t;hl(d,e);let f=!u&&e.compile?e.compile.call(d.self,a,o,d):e.validate,h=yo(n,s,f),_=n.let("valid");t.block$data(_,$),t.ok((r=e.valid)!==null&&r!==void 0?r:_);function $(){if(e.errors===!1)E(),e.modifying&&mo(t),w(()=>t.error());else{let g=e.async?v():y();e.modifying&&mo(t),w(()=>fl(t,g))}}function v(){let g=n.let("ruleErrs",null);return n.try(()=>E(le._`await `),O=>n.assign(_,!1).if(le._`${O} instanceof ${d.ValidationError}`,()=>n.assign(g,le._`${O}.errors`),()=>n.throw(O))),g}function y(){let g=le._`${h}.errors`;return n.assign(g,null),E(le.nil),g}function E(g=e.async?le._`await `:le.nil){let O=d.opts.passContext?lt.default.this:lt.default.self,re=!("compile"in e&&!u||e.schema===!1);n.assign(_,le._`${g}${ul.callValidateCode(t,h,O,re)}`,e.modifying)}function w(g){var O;n.if(le.not((O=e.valid)!==null&&O!==void 0?O:_),g)}}qe.funcKeywordCode=dl;function mo(t){let{gen:e,data:r,it:n}=t;e.if(n.parentData,()=>e.assign(r,le._`${n.parentData}[${n.parentDataProperty}]`))}function fl(t,e){let{gen:r}=t;r.if(le._`Array.isArray(${e})`,()=>{r.assign(lt.default.vErrors,le._`${lt.default.vErrors} === null ? ${e} : ${lt.default.vErrors}.concat(${e})`).assign(lt.default.errors,le._`${lt.default.vErrors}.length`),cl.extendErrors(t)},()=>t.error())}function hl({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function yo(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:le.stringify(r)})}function pl(t,e,r=!1){return!e.length||e.some(n=>n==="array"?Array.isArray(t):n==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==n||r&&typeof t=="undefined")}qe.validSchemaType=pl;function ml({schema:t,opts:e,self:r,errSchemaPath:n},s,a){if(Array.isArray(s.keyword)?!s.keyword.includes(a):s.keyword!==a)throw new Error("ajv implementation error");let o=s.dependencies;if(o!=null&&o.some(u=>!Object.prototype.hasOwnProperty.call(t,u)))throw new Error(`parent schema must have dependencies of ${a}: ${o.join(",")}`);if(s.validateSchema&&!s.validateSchema(t[a])){let d=`keyword "${a}" value is invalid at path "${n}": `+r.errorsText(s.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(d);else throw new Error(d)}}qe.validateKeywordUsage=ml});var go=S(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.extendSubschemaMode=Qe.extendSubschemaData=Qe.getSubschema=void 0;var Me=R(),vo=V();function yl(t,{keyword:e,schemaProp:r,schema:n,schemaPath:s,errSchemaPath:a,topSchemaRef:o}){if(e!==void 0&&n!==void 0)throw new Error(\'both "keyword" and "schema" passed, only one allowed\');if(e!==void 0){let u=t.schema[e];return r===void 0?{schema:u,schemaPath:Me._`${t.schemaPath}${Me.getProperty(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:u[r],schemaPath:Me._`${t.schemaPath}${Me.getProperty(e)}${Me.getProperty(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${vo.escapeFragment(r)}`}}if(n!==void 0){if(s===void 0||a===void 0||o===void 0)throw new Error(\'"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"\');return{schema:n,schemaPath:s,topSchemaRef:o,errSchemaPath:a}}throw new Error(\'either "keyword" or "schema" must be passed\')}Qe.getSubschema=yl;function _l(t,e,{dataProp:r,dataPropType:n,data:s,dataTypes:a,propertyName:o}){if(s!==void 0&&r!==void 0)throw new Error(\'both "data" and "dataProp" passed, only one allowed\');let{gen:u}=e;if(r!==void 0){let{errorPath:f,dataPathArr:h,opts:_}=e,$=u.let("data",Me._`${e.data}${Me.getProperty(r)}`,!0);d($),t.errorPath=Me.str`${f}${vo.getErrorPath(r,n,_.jsPropertySyntax)}`,t.parentDataProperty=Me._`${r}`,t.dataPathArr=[...h,t.parentDataProperty]}if(s!==void 0){let f=s instanceof Me.Name?s:u.let("data",s,!0);d(f),o!==void 0&&(t.propertyName=o)}a&&(t.dataTypes=a);function d(f){t.data=f,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,f]}}Qe.extendSubschemaData=_l;function vl(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:n,createErrors:s,allErrors:a}){n!==void 0&&(t.compositeRule=n),s!==void 0&&(t.createErrors=s),a!==void 0&&(t.allErrors=a),t.jtdDiscriminator=e,t.jtdMetadata=r}Qe.extendSubschemaMode=vl});var Jn=S((Dp,$o)=>{"use strict";$o.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,a;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(a=Object.keys(e),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){var o=a[s];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}});var wo=S((Rp,Eo)=>{"use strict";var Ze=Eo.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var n=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};Vr(e,n,s,t,"",t)};Ze.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ze.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ze.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ze.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Vr(t,e,r,n,s,a,o,u,d,f){if(n&&typeof n=="object"&&!Array.isArray(n)){e(n,s,a,o,u,d,f);for(var h in n){var _=n[h];if(Array.isArray(_)){if(h in Ze.arrayKeywords)for(var $=0;$<_.length;$++)Vr(t,e,r,_[$],s+"/"+h+"/"+$,a,s,h,n,$)}else if(h in Ze.propsKeywords){if(_&&typeof _=="object")for(var v in _)Vr(t,e,r,_[v],s+"/"+h+"/"+gl(v),a,s,h,n,v)}else(h in Ze.keywords||t.allKeys&&!(h in Ze.skipKeywords))&&Vr(t,e,r,_,s+"/"+h,a,s,h,n)}r(n,s,a,o,u,d,f)}}function gl(t){return t.replace(/~/g,"~0").replace(/\\//g,"~1")}});var Wn=S((Ur,So)=>{(function(t,e){typeof Ur=="object"&&typeof So!="undefined"?e(Ur):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(Ur,function(t){"use strict";function e(){for(var c=arguments.length,i=Array(c),l=0;l<c;l++)i[l]=arguments[l];if(i.length>1){i[0]=i[0].slice(0,-1);for(var m=i.length-1,p=1;p<m;++p)i[p]=i[p].slice(1,-1);return i[m]=i[m].slice(1),i.join("")}else return i[0]}function r(c){return"(?:"+c+")"}function n(c){return c===void 0?"undefined":c===null?"null":Object.prototype.toString.call(c).split(" ").pop().split("]").shift().toLowerCase()}function s(c){return c.toUpperCase()}function a(c){return c!=null?c instanceof Array?c:typeof c.length!="number"||c.split||c.setInterval||c.call?[c]:Array.prototype.slice.call(c):[]}function o(c,i){var l=c;if(i)for(var m in i)l[m]=i[m];return l}function u(c){var i="[A-Za-z]",l="[\\\\x0D]",m="[0-9]",p="[\\\\x22]",b=e(m,"[A-Fa-f]"),I="[\\\\x0A]",q="[\\\\x20]",U=r(r("%[EFef]"+b+"%"+b+b+"%"+b+b)+"|"+r("%[89A-Fa-f]"+b+"%"+b+b)+"|"+r("%"+b+b)),Z="[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]",k="[\\\\!\\\\$\\\\&\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]",B=e(Z,k),ee=c?"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]":"[]",J=c?"[\\\\uE000-\\\\uF8FF]":"[]",M=e(i,m,"[\\\\-\\\\.\\\\_\\\\~]",ee),X=r(i+e(i,m,"[\\\\+\\\\-\\\\.]")+"*"),L=r(r(U+"|"+e(M,k,"[\\\\:]"))+"*"),nt=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("[1-9]"+m)+"|"+m),me=r(r("25[0-5]")+"|"+r("2[0-4]"+m)+"|"+r("1"+m+m)+"|"+r("0?[1-9]"+m)+"|0?0?"+m),_e=r(me+"\\\\."+me+"\\\\."+me+"\\\\."+me),H=r(b+"{1,4}"),ye=r(r(H+"\\\\:"+H)+"|"+_e),ve=r(r(H+"\\\\:")+"{6}"+ye),je=r("\\\\:\\\\:"+r(H+"\\\\:")+"{5}"+ye),st=r(r(H)+"?\\\\:\\\\:"+r(H+"\\\\:")+"{4}"+ye),Le=r(r(r(H+"\\\\:")+"{0,1}"+H)+"?\\\\:\\\\:"+r(H+"\\\\:")+"{3}"+ye),xt=r(r(r(H+"\\\\:")+"{0,2}"+H)+"?\\\\:\\\\:"+r(H+"\\\\:")+"{2}"+ye),br=r(r(r(H+"\\\\:")+"{0,3}"+H)+"?\\\\:\\\\:"+H+"\\\\:"+ye),Pr=r(r(r(H+"\\\\:")+"{0,4}"+H)+"?\\\\:\\\\:"+ye),gt=r(r(r(H+"\\\\:")+"{0,5}"+H)+"?\\\\:\\\\:"+H),$t=r(r(r(H+"\\\\:")+"{0,6}"+H)+"?\\\\:\\\\:"),xe=r([ve,je,st,Le,xt,br,Pr,gt,$t].join("|")),Et=r(r(M+"|"+U)+"+"),pn=r(xe+"\\\\%25"+Et),at=r(xe+r("\\\\%25|\\\\%(?!"+b+"{2})")+Et),Cu=r("[vV]"+b+"+\\\\."+e(M,k,"[\\\\:]")+"+"),Du=r("\\\\["+r(at+"|"+xe+"|"+Cu)+"\\\\]"),_a=r(r(U+"|"+e(M,k))+"*"),zt=r(Du+"|"+_e+"(?!"+_a+")|"+_a),Kt=r(m+"*"),va=r(r(L+"@")+"?"+zt+r("\\\\:"+Kt)+"?"),Ht=r(U+"|"+e(M,k,"[\\\\:\\\\@]")),Ru=r(Ht+"*"),ga=r(Ht+"+"),Au=r(r(U+"|"+e(M,k,"[\\\\@]"))+"+"),ze=r(r("\\\\/"+Ru)+"*"),wt=r("\\\\/"+r(ga+ze)+"?"),mn=r(Au+ze),Nr=r(ga+ze),St="(?!"+Ht+")",zh=r(ze+"|"+wt+"|"+mn+"|"+Nr+"|"+St),bt=r(r(Ht+"|"+e("[\\\\/\\\\?]",J))+"*"),Gt=r(r(Ht+"|[\\\\/\\\\?]")+"*"),$a=r(r("\\\\/\\\\/"+va+ze)+"|"+wt+"|"+Nr+"|"+St),ku=r(X+"\\\\:"+$a+r("\\\\?"+bt)+"?"+r("\\\\#"+Gt)+"?"),ju=r(r("\\\\/\\\\/"+va+ze)+"|"+wt+"|"+mn+"|"+St),qu=r(ju+r("\\\\?"+bt)+"?"+r("\\\\#"+Gt)+"?"),Kh=r(ku+"|"+qu),Hh=r(X+"\\\\:"+$a+r("\\\\?"+bt)+"?"),Gh="^("+X+")\\\\:"+r(r("\\\\/\\\\/("+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?)")+"?("+ze+"|"+wt+"|"+Nr+"|"+St+")")+r("\\\\?("+bt+")")+"?"+r("\\\\#("+Gt+")")+"?$",Jh="^(){0}"+r(r("\\\\/\\\\/("+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?)")+"?("+ze+"|"+wt+"|"+mn+"|"+St+")")+r("\\\\?("+bt+")")+"?"+r("\\\\#("+Gt+")")+"?$",Wh="^("+X+")\\\\:"+r(r("\\\\/\\\\/("+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?)")+"?("+ze+"|"+wt+"|"+Nr+"|"+St+")")+r("\\\\?("+bt+")")+"?$",Bh="^"+r("\\\\#("+Gt+")")+"?$",Xh="^"+r("("+L+")@")+"?("+zt+")"+r("\\\\:("+Kt+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",i,m,"[\\\\+\\\\-\\\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\\\%\\\\:]",M,k),"g"),NOT_HOST:new RegExp(e("[^\\\\%\\\\[\\\\]\\\\:]",M,k),"g"),NOT_PATH:new RegExp(e("[^\\\\%\\\\/\\\\:\\\\@]",M,k),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\\\%\\\\/\\\\@]",M,k),"g"),NOT_QUERY:new RegExp(e("[^\\\\%]",M,k,"[\\\\:\\\\@\\\\/\\\\?]",J),"g"),NOT_FRAGMENT:new RegExp(e("[^\\\\%]",M,k,"[\\\\:\\\\@\\\\/\\\\?]"),"g"),ESCAPE:new RegExp(e("[^]",M,k),"g"),UNRESERVED:new RegExp(M,"g"),OTHER_CHARS:new RegExp(e("[^\\\\%]",M,B),"g"),PCT_ENCODED:new RegExp(U,"g"),IPV4ADDRESS:new RegExp("^("+_e+")$"),IPV6ADDRESS:new RegExp("^\\\\[?("+xe+")"+r(r("\\\\%25|\\\\%(?!"+b+"{2})")+"("+Et+")")+"?\\\\]?$")}}var d=u(!1),f=u(!0),h=function(){function c(i,l){var m=[],p=!0,b=!1,I=void 0;try{for(var q=i[Symbol.iterator](),U;!(p=(U=q.next()).done)&&(m.push(U.value),!(l&&m.length===l));p=!0);}catch(Z){b=!0,I=Z}finally{try{!p&&q.return&&q.return()}finally{if(b)throw I}}return m}return function(i,l){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return c(i,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_=function(c){if(Array.isArray(c)){for(var i=0,l=Array(c.length);i<c.length;i++)l[i]=c[i];return l}else return Array.from(c)},$=2147483647,v=36,y=1,E=26,w=38,g=700,O=72,re=128,z="-",K=/^xn--/,de=/[^\\0-\\x7E]/,We=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,Sr={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},un=v-y,Ce=Math.floor,cn=String.fromCharCode;function rt(c){throw new RangeError(Sr[c])}function au(c,i){for(var l=[],m=c.length;m--;)l[m]=i(c[m]);return l}function ea(c,i){var l=c.split("@"),m="";l.length>1&&(m=l[0]+"@",c=l[1]),c=c.replace(We,".");var p=c.split("."),b=au(p,i).join(".");return m+b}function ta(c){for(var i=[],l=0,m=c.length;l<m;){var p=c.charCodeAt(l++);if(p>=55296&&p<=56319&&l<m){var b=c.charCodeAt(l++);(b&64512)==56320?i.push(((p&1023)<<10)+(b&1023)+65536):(i.push(p),l--)}else i.push(p)}return i}var ou=function(i){return String.fromCodePoint.apply(String,_(i))},iu=function(i){return i-48<10?i-22:i-65<26?i-65:i-97<26?i-97:v},ra=function(i,l){return i+22+75*(i<26)-((l!=0)<<5)},na=function(i,l,m){var p=0;for(i=m?Ce(i/g):i>>1,i+=Ce(i/l);i>un*E>>1;p+=v)i=Ce(i/un);return Ce(p+(un+1)*i/(i+w))},sa=function(i){var l=[],m=i.length,p=0,b=re,I=O,q=i.lastIndexOf(z);q<0&&(q=0);for(var U=0;U<q;++U)i.charCodeAt(U)>=128&&rt("not-basic"),l.push(i.charCodeAt(U));for(var Z=q>0?q+1:0;Z<m;){for(var k=p,B=1,ee=v;;ee+=v){Z>=m&&rt("invalid-input");var J=iu(i.charCodeAt(Z++));(J>=v||J>Ce(($-p)/B))&&rt("overflow"),p+=J*B;var M=ee<=I?y:ee>=I+E?E:ee-I;if(J<M)break;var X=v-M;B>Ce($/X)&&rt("overflow"),B*=X}var L=l.length+1;I=na(p-k,L,k==0),Ce(p/L)>$-b&&rt("overflow"),b+=Ce(p/L),p%=L,l.splice(p++,0,b)}return String.fromCodePoint.apply(String,l)},aa=function(i){var l=[];i=ta(i);var m=i.length,p=re,b=0,I=O,q=!0,U=!1,Z=void 0;try{for(var k=i[Symbol.iterator](),B;!(q=(B=k.next()).done);q=!0){var ee=B.value;ee<128&&l.push(cn(ee))}}catch(at){U=!0,Z=at}finally{try{!q&&k.return&&k.return()}finally{if(U)throw Z}}var J=l.length,M=J;for(J&&l.push(z);M<m;){var X=$,L=!0,nt=!1,me=void 0;try{for(var _e=i[Symbol.iterator](),H;!(L=(H=_e.next()).done);L=!0){var ye=H.value;ye>=p&&ye<X&&(X=ye)}}catch(at){nt=!0,me=at}finally{try{!L&&_e.return&&_e.return()}finally{if(nt)throw me}}var ve=M+1;X-p>Ce(($-b)/ve)&&rt("overflow"),b+=(X-p)*ve,p=X;var je=!0,st=!1,Le=void 0;try{for(var xt=i[Symbol.iterator](),br;!(je=(br=xt.next()).done);je=!0){var Pr=br.value;if(Pr<p&&++b>$&&rt("overflow"),Pr==p){for(var gt=b,$t=v;;$t+=v){var xe=$t<=I?y:$t>=I+E?E:$t-I;if(gt<xe)break;var Et=gt-xe,pn=v-xe;l.push(cn(ra(xe+Et%pn,0))),gt=Ce(Et/pn)}l.push(cn(ra(gt,0))),I=na(b,ve,M==J),b=0,++M}}}catch(at){st=!0,Le=at}finally{try{!je&&xt.return&&xt.return()}finally{if(st)throw Le}}++b,++p}return l.join("")},uu=function(i){return ea(i,function(l){return K.test(l)?sa(l.slice(4).toLowerCase()):l})},cu=function(i){return ea(i,function(l){return de.test(l)?"xn--"+aa(l):l})},mt={version:"2.1.0",ucs2:{decode:ta,encode:ou},decode:sa,encode:aa,toASCII:cu,toUnicode:uu},De={};function Re(c){var i=c.charCodeAt(0),l=void 0;return i<16?l="%0"+i.toString(16).toUpperCase():i<128?l="%"+i.toString(16).toUpperCase():i<2048?l="%"+(i>>6|192).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase():l="%"+(i>>12|224).toString(16).toUpperCase()+"%"+(i>>6&63|128).toString(16).toUpperCase()+"%"+(i&63|128).toString(16).toUpperCase(),l}function yt(c){for(var i="",l=0,m=c.length;l<m;){var p=parseInt(c.substr(l+1,2),16);if(p<128)i+=String.fromCharCode(p),l+=3;else if(p>=194&&p<224){if(m-l>=6){var b=parseInt(c.substr(l+4,2),16);i+=String.fromCharCode((p&31)<<6|b&63)}else i+=c.substr(l,6);l+=6}else if(p>=224){if(m-l>=9){var I=parseInt(c.substr(l+4,2),16),q=parseInt(c.substr(l+7,2),16);i+=String.fromCharCode((p&15)<<12|(I&63)<<6|q&63)}else i+=c.substr(l,9);l+=9}else i+=c.substr(l,3),l+=3}return i}function ln(c,i){function l(m){var p=yt(m);return p.match(i.UNRESERVED)?p:m}return c.scheme&&(c.scheme=String(c.scheme).replace(i.PCT_ENCODED,l).toLowerCase().replace(i.NOT_SCHEME,"")),c.userinfo!==void 0&&(c.userinfo=String(c.userinfo).replace(i.PCT_ENCODED,l).replace(i.NOT_USERINFO,Re).replace(i.PCT_ENCODED,s)),c.host!==void 0&&(c.host=String(c.host).replace(i.PCT_ENCODED,l).toLowerCase().replace(i.NOT_HOST,Re).replace(i.PCT_ENCODED,s)),c.path!==void 0&&(c.path=String(c.path).replace(i.PCT_ENCODED,l).replace(c.scheme?i.NOT_PATH:i.NOT_PATH_NOSCHEME,Re).replace(i.PCT_ENCODED,s)),c.query!==void 0&&(c.query=String(c.query).replace(i.PCT_ENCODED,l).replace(i.NOT_QUERY,Re).replace(i.PCT_ENCODED,s)),c.fragment!==void 0&&(c.fragment=String(c.fragment).replace(i.PCT_ENCODED,l).replace(i.NOT_FRAGMENT,Re).replace(i.PCT_ENCODED,s)),c}function dn(c){return c.replace(/^0*(.*)/,"$1")||"0"}function fn(c,i){var l=c.match(i.IPV4ADDRESS)||[],m=h(l,2),p=m[1];return p?p.split(".").map(dn).join("."):c}function oa(c,i){var l=c.match(i.IPV6ADDRESS)||[],m=h(l,3),p=m[1],b=m[2];if(p){for(var I=p.toLowerCase().split("::").reverse(),q=h(I,2),U=q[0],Z=q[1],k=Z?Z.split(":").map(dn):[],B=U.split(":").map(dn),ee=i.IPV4ADDRESS.test(B[B.length-1]),J=ee?7:8,M=B.length-J,X=Array(J),L=0;L<J;++L)X[L]=k[L]||B[M+L]||"";ee&&(X[J-1]=fn(X[J-1],i));var nt=X.reduce(function(ve,je,st){if(!je||je==="0"){var Le=ve[ve.length-1];Le&&Le.index+Le.length===st?Le.length++:ve.push({index:st,length:1})}return ve},[]),me=nt.sort(function(ve,je){return je.length-ve.length})[0],_e=void 0;if(me&&me.length>1){var H=X.slice(0,me.index),ye=X.slice(me.index+me.length);_e=H.join(":")+"::"+ye.join(":")}else _e=X.join(":");return b&&(_e+="%"+b),_e}else return c}var lu=/^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i,du="".match(/(){0}/)[1]===void 0;function Ue(c){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l={},m=i.iri!==!1?f:d;i.reference==="suffix"&&(c=(i.scheme?i.scheme+":":"")+"//"+c);var p=c.match(lu);if(p){du?(l.scheme=p[1],l.userinfo=p[3],l.host=p[4],l.port=parseInt(p[5],10),l.path=p[6]||"",l.query=p[7],l.fragment=p[8],isNaN(l.port)&&(l.port=p[5])):(l.scheme=p[1]||void 0,l.userinfo=c.indexOf("@")!==-1?p[3]:void 0,l.host=c.indexOf("//")!==-1?p[4]:void 0,l.port=parseInt(p[5],10),l.path=p[6]||"",l.query=c.indexOf("?")!==-1?p[7]:void 0,l.fragment=c.indexOf("#")!==-1?p[8]:void 0,isNaN(l.port)&&(l.port=c.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/)?p[4]:void 0)),l.host&&(l.host=oa(fn(l.host,m),m)),l.scheme===void 0&&l.userinfo===void 0&&l.host===void 0&&l.port===void 0&&!l.path&&l.query===void 0?l.reference="same-document":l.scheme===void 0?l.reference="relative":l.fragment===void 0?l.reference="absolute":l.reference="uri",i.reference&&i.reference!=="suffix"&&i.reference!==l.reference&&(l.error=l.error||"URI is not a "+i.reference+" reference.");var b=De[(i.scheme||l.scheme||"").toLowerCase()];if(!i.unicodeSupport&&(!b||!b.unicodeSupport)){if(l.host&&(i.domainHost||b&&b.domainHost))try{l.host=mt.toASCII(l.host.replace(m.PCT_ENCODED,yt).toLowerCase())}catch(I){l.error=l.error||"Host\'s domain name can not be converted to ASCII via punycode: "+I}ln(l,d)}else ln(l,m);b&&b.parse&&b.parse(l,i)}else l.error=l.error||"URI can not be parsed.";return l}function fu(c,i){var l=i.iri!==!1?f:d,m=[];return c.userinfo!==void 0&&(m.push(c.userinfo),m.push("@")),c.host!==void 0&&m.push(oa(fn(String(c.host),l),l).replace(l.IPV6ADDRESS,function(p,b,I){return"["+b+(I?"%25"+I:"")+"]"})),typeof c.port=="number"&&(m.push(":"),m.push(c.port.toString(10))),m.length?m.join(""):void 0}var ia=/^\\.\\.?\\//,ua=/^\\/\\.(\\/|$)/,ca=/^\\/\\.\\.(\\/|$)/,hu=/^\\/?(?:.|\\n)*?(?=\\/|$)/;function _t(c){for(var i=[];c.length;)if(c.match(ia))c=c.replace(ia,"");else if(c.match(ua))c=c.replace(ua,"/");else if(c.match(ca))c=c.replace(ca,"/"),i.pop();else if(c==="."||c==="..")c="";else{var l=c.match(hu);if(l){var m=l[0];c=c.slice(m.length),i.push(m)}else throw new Error("Unexpected dot segment condition")}return i.join("")}function Ae(c){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.iri?f:d,m=[],p=De[(i.scheme||c.scheme||"").toLowerCase()];if(p&&p.serialize&&p.serialize(c,i),c.host&&!l.IPV6ADDRESS.test(c.host)){if(i.domainHost||p&&p.domainHost)try{c.host=i.iri?mt.toUnicode(c.host):mt.toASCII(c.host.replace(l.PCT_ENCODED,yt).toLowerCase())}catch(q){c.error=c.error||"Host\'s domain name can not be converted to "+(i.iri?"Unicode":"ASCII")+" via punycode: "+q}}ln(c,l),i.reference!=="suffix"&&c.scheme&&(m.push(c.scheme),m.push(":"));var b=fu(c,i);if(b!==void 0&&(i.reference!=="suffix"&&m.push("//"),m.push(b),c.path&&c.path.charAt(0)!=="/"&&m.push("/")),c.path!==void 0){var I=c.path;!i.absolutePath&&(!p||!p.absolutePath)&&(I=_t(I)),b===void 0&&(I=I.replace(/^\\/\\//,"/%2F")),m.push(I)}return c.query!==void 0&&(m.push("?"),m.push(c.query)),c.fragment!==void 0&&(m.push("#"),m.push(c.fragment)),m.join("")}function la(c,i){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=arguments[3],p={};return m||(c=Ue(Ae(c,l),l),i=Ue(Ae(i,l),l)),l=l||{},!l.tolerant&&i.scheme?(p.scheme=i.scheme,p.userinfo=i.userinfo,p.host=i.host,p.port=i.port,p.path=_t(i.path||""),p.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(p.userinfo=i.userinfo,p.host=i.host,p.port=i.port,p.path=_t(i.path||""),p.query=i.query):(i.path?(i.path.charAt(0)==="/"?p.path=_t(i.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?p.path="/"+i.path:c.path?p.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+i.path:p.path=i.path,p.path=_t(p.path)),p.query=i.query):(p.path=c.path,i.query!==void 0?p.query=i.query:p.query=c.query),p.userinfo=c.userinfo,p.host=c.host,p.port=c.port),p.scheme=c.scheme),p.fragment=i.fragment,p}function pu(c,i,l){var m=o({scheme:"null"},l);return Ae(la(Ue(c,m),Ue(i,m),m,!0),m)}function mu(c,i){return typeof c=="string"?c=Ae(Ue(c,i),i):n(c)==="object"&&(c=Ue(Ae(c,i),i)),c}function yu(c,i,l){return typeof c=="string"?c=Ae(Ue(c,l),l):n(c)==="object"&&(c=Ae(c,l)),typeof i=="string"?i=Ae(Ue(i,l),l):n(i)==="object"&&(i=Ae(i,l)),c===i}function _u(c,i){return c&&c.toString().replace(!i||!i.iri?d.ESCAPE:f.ESCAPE,Re)}function Fe(c,i){return c&&c.toString().replace(!i||!i.iri?d.PCT_ENCODED:f.PCT_ENCODED,yt)}var Lt={scheme:"http",domainHost:!0,parse:function(i,l){return i.host||(i.error=i.error||"HTTP URIs must have a host."),i},serialize:function(i,l){return(i.port===(String(i.scheme).toLowerCase()!=="https"?80:443)||i.port==="")&&(i.port=void 0),i.path||(i.path="/"),i}},da={scheme:"https",domainHost:Lt.domainHost,parse:Lt.parse,serialize:Lt.serialize},vu={},gu=!0,fa="[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~"+(gu?"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF":"")+"]",ke="[0-9A-Fa-f]",$u=r(r("%[EFef]"+ke+"%"+ke+ke+"%"+ke+ke)+"|"+r("%[89A-Fa-f]"+ke+"%"+ke+ke)+"|"+r("%"+ke+ke)),Eu="[A-Za-z0-9\\\\!\\\\$\\\\%\\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]",wu="[\\\\!\\\\$\\\\%\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]",Su=e(wu,\'[\\\\"\\\\\\\\]\'),bu="[\\\\!\\\\$\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]",Pu=new RegExp(fa,"g"),vt=new RegExp($u,"g"),Nu=new RegExp(e("[^]",Eu,"[\\\\.]",\'[\\\\"]\',Su),"g"),ha=new RegExp(e("[^]",fa,bu),"g"),Tu=ha;function hn(c){var i=yt(c);return i.match(Pu)?i:c}var pa={scheme:"mailto",parse:function(i,l){var m=i,p=m.to=m.path?m.path.split(","):[];if(m.path=void 0,m.query){for(var b=!1,I={},q=m.query.split("&"),U=0,Z=q.length;U<Z;++U){var k=q[U].split("=");switch(k[0]){case"to":for(var B=k[1].split(","),ee=0,J=B.length;ee<J;++ee)p.push(B[ee]);break;case"subject":m.subject=Fe(k[1],l);break;case"body":m.body=Fe(k[1],l);break;default:b=!0,I[Fe(k[0],l)]=Fe(k[1],l);break}}b&&(m.headers=I)}m.query=void 0;for(var M=0,X=p.length;M<X;++M){var L=p[M].split("@");if(L[0]=Fe(L[0]),l.unicodeSupport)L[1]=Fe(L[1],l).toLowerCase();else try{L[1]=mt.toASCII(Fe(L[1],l).toLowerCase())}catch(nt){m.error=m.error||"Email address\'s domain name can not be converted to ASCII via punycode: "+nt}p[M]=L.join("@")}return m},serialize:function(i,l){var m=i,p=a(i.to);if(p){for(var b=0,I=p.length;b<I;++b){var q=String(p[b]),U=q.lastIndexOf("@"),Z=q.slice(0,U).replace(vt,hn).replace(vt,s).replace(Nu,Re),k=q.slice(U+1);try{k=l.iri?mt.toUnicode(k):mt.toASCII(Fe(k,l).toLowerCase())}catch(M){m.error=m.error||"Email address\'s domain name can not be converted to "+(l.iri?"Unicode":"ASCII")+" via punycode: "+M}p[b]=Z+"@"+k}m.path=p.join(",")}var B=i.headers=i.headers||{};i.subject&&(B.subject=i.subject),i.body&&(B.body=i.body);var ee=[];for(var J in B)B[J]!==vu[J]&&ee.push(J.replace(vt,hn).replace(vt,s).replace(ha,Re)+"="+B[J].replace(vt,hn).replace(vt,s).replace(Tu,Re));return ee.length&&(m.query=ee.join("&")),m}},Ou=/^([^\\:]+)\\:(.*)/,ma={scheme:"urn",parse:function(i,l){var m=i.path&&i.path.match(Ou),p=i;if(m){var b=l.scheme||p.scheme||"urn",I=m[1].toLowerCase(),q=m[2],U=b+":"+(l.nid||I),Z=De[U];p.nid=I,p.nss=q,p.path=void 0,Z&&(p=Z.parse(p,l))}else p.error=p.error||"URN can not be parsed.";return p},serialize:function(i,l){var m=l.scheme||i.scheme||"urn",p=i.nid,b=m+":"+(l.nid||p),I=De[b];I&&(i=I.serialize(i,l));var q=i,U=i.nss;return q.path=(p||l.nid)+":"+U,q}},Iu=/^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/,ya={scheme:"urn:uuid",parse:function(i,l){var m=i;return m.uuid=m.nss,m.nss=void 0,!l.tolerant&&(!m.uuid||!m.uuid.match(Iu))&&(m.error=m.error||"UUID is not valid."),m},serialize:function(i,l){var m=i;return m.nss=(i.uuid||"").toLowerCase(),m}};De[Lt.scheme]=Lt,De[da.scheme]=da,De[pa.scheme]=pa,De[ma.scheme]=ma,De[ya.scheme]=ya,t.SCHEMES=De,t.pctEncChar=Re,t.pctDecChars=yt,t.parse=Ue,t.removeDotSegments=_t,t.serialize=Ae,t.resolveComponents=la,t.resolve=pu,t.normalize=mu,t.equal=yu,t.escapeComponent=_u,t.unescapeComponent=Fe,Object.defineProperty(t,"__esModule",{value:!0})})});var or=S(he=>{"use strict";Object.defineProperty(he,"__esModule",{value:!0});he.getSchemaRefs=he.resolveUrl=he.normalizeId=he._getFullPath=he.getFullPath=he.inlineRef=void 0;var $l=V(),El=Jn(),wl=wo(),Fr=Wn(),Sl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function bl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Bn(t):e?bo(t)<=e:!1}he.inlineRef=bl;var Pl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Bn(t){for(let e in t){if(Pl.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(Bn)||typeof r=="object"&&Bn(r))return!0}return!1}function bo(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!Sl.has(r)&&(typeof t[r]=="object"&&$l.eachItem(t[r],n=>e+=bo(n)),e===1/0))return 1/0}return e}function Po(t="",e){e!==!1&&(t=kt(t));let r=Fr.parse(t);return No(r)}he.getFullPath=Po;function No(t){return Fr.serialize(t).split("#")[0]+"#"}he._getFullPath=No;var Nl=/#\\/?$/;function kt(t){return t?t.replace(Nl,""):""}he.normalizeId=kt;function Tl(t,e){return e=kt(e),Fr.resolve(t,e)}he.resolveUrl=Tl;var Ol=/^[a-z_][-a-z0-9._]*$/i;function Il(t){if(typeof t=="boolean")return{};let{schemaId:e}=this.opts,r=kt(t[e]),n={"":r},s=Po(r,!1),a={},o=new Set;return wl(t,{allKeys:!0},(f,h,_,$)=>{if($===void 0)return;let v=s+h,y=n[$];typeof f[e]=="string"&&(y=E.call(this,f[e])),w.call(this,f.$anchor),w.call(this,f.$dynamicAnchor),n[h]=y;function E(g){if(g=kt(y?Fr.resolve(y,g):g),o.has(g))throw d(g);o.add(g);let O=this.refs[g];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?u(f,O.schema,g):g!==kt(v)&&(g[0]==="#"?(u(f,a[g],g),a[g]=f):this.refs[g]=v),g}function w(g){if(typeof g=="string"){if(!Ol.test(g))throw new Error(`invalid anchor "${g}"`);E.call(this,`#${g}`)}}}),a;function u(f,h,_){if(h!==void 0&&!El(f,h))throw d(_)}function d(f){return new Error(`reference "${f}" resolves to more than one schema`)}}he.getSchemaRefs=Il});var cr=S(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.getData=et.KeywordCxt=et.validateFunctionCode=void 0;var Ro=so(),To=ar(),Yn=Fn(),Lr=ar(),Cl=fo(),ur=_o(),Xn=go(),P=R(),N=Ge(),Dl=or(),Je=V(),ir=nr();function Rl(t){if(jo(t)&&(qo(t),ko(t))){jl(t);return}Ao(t,()=>Ro.topBoolOrEmptySchema(t))}et.validateFunctionCode=Rl;function Ao({gen:t,validateName:e,schema:r,schemaEnv:n,opts:s},a){s.code.es5?t.func(e,P._`${N.default.data}, ${N.default.valCxt}`,n.$async,()=>{t.code(P._`"use strict"; ${Oo(r,s)}`),kl(t,s),t.code(a)}):t.func(e,P._`${N.default.data}, ${Al(s)}`,n.$async,()=>t.code(Oo(r,s)).code(a))}function Al(t){return P._`{${N.default.instancePath}="", ${N.default.parentData}, ${N.default.parentDataProperty}, ${N.default.rootData}=${N.default.data}${t.dynamicRef?P._`, ${N.default.dynamicAnchors}={}`:P.nil}}={}`}function kl(t,e){t.if(N.default.valCxt,()=>{t.var(N.default.instancePath,P._`${N.default.valCxt}.${N.default.instancePath}`),t.var(N.default.parentData,P._`${N.default.valCxt}.${N.default.parentData}`),t.var(N.default.parentDataProperty,P._`${N.default.valCxt}.${N.default.parentDataProperty}`),t.var(N.default.rootData,P._`${N.default.valCxt}.${N.default.rootData}`),e.dynamicRef&&t.var(N.default.dynamicAnchors,P._`${N.default.valCxt}.${N.default.dynamicAnchors}`)},()=>{t.var(N.default.instancePath,P._`""`),t.var(N.default.parentData,P._`undefined`),t.var(N.default.parentDataProperty,P._`undefined`),t.var(N.default.rootData,N.default.data),e.dynamicRef&&t.var(N.default.dynamicAnchors,P._`{}`)})}function jl(t){let{schema:e,opts:r,gen:n}=t;Ao(t,()=>{r.$comment&&e.$comment&&Vo(t),Fl(t),n.let(N.default.vErrors,null),n.let(N.default.errors,0),r.unevaluated&&ql(t),Mo(t),zl(t)})}function ql(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",P._`${r}.evaluated`),e.if(P._`${t.evaluated}.dynamicProps`,()=>e.assign(P._`${t.evaluated}.props`,P._`undefined`)),e.if(P._`${t.evaluated}.dynamicItems`,()=>e.assign(P._`${t.evaluated}.items`,P._`undefined`))}function Oo(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?P._`/*# sourceURL=${r} */`:P.nil}function Ml(t,e){if(jo(t)&&(qo(t),ko(t))){Vl(t,e);return}Ro.boolOrEmptySchema(t,e)}function ko({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function jo(t){return typeof t.schema!="boolean"}function Vl(t,e){let{schema:r,gen:n,opts:s}=t;s.$comment&&r.$comment&&Vo(t),Ll(t),xl(t);let a=n.const("_errs",N.default.errors);Mo(t,a),n.var(e,P._`${a} === ${N.default.errors}`)}function qo(t){Je.checkUnknownRules(t),Ul(t)}function Mo(t,e){if(t.opts.jtd)return Io(t,[],!1,e);let r=To.getSchemaTypes(t.schema),n=To.coerceAndCheckDataType(t,r);Io(t,r,!n,e)}function Ul(t){let{schema:e,errSchemaPath:r,opts:n,self:s}=t;e.$ref&&n.ignoreKeywordsWithRef&&Je.schemaHasRulesButRef(e,s.RULES)&&s.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Fl(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&Je.checkStrictMode(t,"default is ignored in the schema root")}function Ll(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=Dl.resolveUrl(t.baseId,e))}function xl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Vo({gen:t,schemaEnv:e,schema:r,errSchemaPath:n,opts:s}){let a=r.$comment;if(s.$comment===!0)t.code(P._`${N.default.self}.logger.log(${a})`);else if(typeof s.$comment=="function"){let o=P.str`${n}/$comment`,u=t.scopeValue("root",{ref:e.root});t.code(P._`${N.default.self}.opts.$comment(${a}, ${o}, ${u}.schema)`)}}function zl(t){let{gen:e,schemaEnv:r,validateName:n,ValidationError:s,opts:a}=t;r.$async?e.if(P._`${N.default.errors} === 0`,()=>e.return(N.default.data),()=>e.throw(P._`new ${s}(${N.default.vErrors})`)):(e.assign(P._`${n}.errors`,N.default.vErrors),a.unevaluated&&Kl(t),e.return(P._`${N.default.errors} === 0`))}function Kl({gen:t,evaluated:e,props:r,items:n}){r instanceof P.Name&&t.assign(P._`${e}.props`,r),n instanceof P.Name&&t.assign(P._`${e}.items`,n)}function Io(t,e,r,n){let{gen:s,schema:a,data:o,allErrors:u,opts:d,self:f}=t,{RULES:h}=f;if(a.$ref&&(d.ignoreKeywordsWithRef||!Je.schemaHasRulesButRef(a,h))){s.block(()=>Uo(t,"$ref",h.all.$ref.definition));return}d.jtd||Hl(t,e),s.block(()=>{for(let $ of h.rules)_($);_(h.post)});function _($){Yn.shouldUseGroup(a,$)&&($.type?(s.if(Lr.checkDataType($.type,o,d.strictNumbers)),Co(t,$),e.length===1&&e[0]===$.type&&r&&(s.else(),Lr.reportTypeError(t)),s.endIf()):Co(t,$),u||s.if(P._`${N.default.errors} === ${n||0}`))}}function Co(t,e){let{gen:r,schema:n,opts:{useDefaults:s}}=t;s&&Cl.assignDefaults(t,e.type),r.block(()=>{for(let a of e.rules)Yn.shouldUseRule(n,a)&&Uo(t,a.keyword,a.definition,e.type)})}function Hl(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(Gl(t,e),t.opts.allowUnionTypes||Jl(t,e),Wl(t,t.dataTypes))}function Gl(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Do(t.dataTypes,r)||Qn(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),t.dataTypes=t.dataTypes.filter(r=>Do(e,r))}}function Jl(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&Qn(t,"use allowUnionTypes to allow union type keyword")}function Wl(t,e){let r=t.self.RULES.all;for(let n in r){let s=r[n];if(typeof s=="object"&&Yn.shouldUseRule(t.schema,s)){let{type:a}=s.definition;a.length&&!a.some(o=>Bl(e,o))&&Qn(t,`missing type "${a.join(",")}" for keyword "${n}"`)}}}function Bl(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Do(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function Qn(t,e){let r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,Je.checkStrictMode(t,e,t.opts.strictTypes)}var xr=class{constructor(e,r,n){if(ur.validateKeywordUsage(e,r,n),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=n,this.data=e.data,this.schema=e.schema[n],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=Je.schemaRefOrVal(e,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Fo(this.$data,e));else if(this.schemaCode=this.schemaValue,!ur.validSchemaType(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",N.default.errors))}result(e,r,n){this.gen.if(P.not(e)),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.result(e,void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail(P._`${r} !== undefined && (${P.or(this.invalid$data(),e)})`)}error(e,r,n){if(r){this.setParams(r),this._error(e,n),this.setParams({});return}this._error(e,n)}_error(e,r){(e?ir.reportExtraError:ir.reportError)(this,this.def.error,r)}$dataError(){ir.reportError(this,this.def.$dataError||ir.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error(\'add "trackErrors" to keyword definition\');ir.resetErrorsCount(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,n=P.nil){this.gen.block(()=>{this.check$data(e,n),r()})}check$data(e=P.nil,r=P.nil){if(!this.$data)return;let{gen:n,schemaCode:s,schemaType:a,def:o}=this;n.if(P.or(P._`${s} === undefined`,r)),e!==P.nil&&n.assign(e,!0),(a.length||o.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),e!==P.nil&&n.assign(e,!1)),n.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:n,def:s,it:a}=this;return P.or(o(),u());function o(){if(n.length){if(!(r instanceof P.Name))throw new Error("ajv implementation error");let d=Array.isArray(n)?n:[n];return P._`${Lr.checkDataTypes(d,r,a.opts.strictNumbers,Lr.DataType.Wrong)}`}return P.nil}function u(){if(s.validateSchema){let d=e.scopeValue("validate$data",{ref:s.validateSchema});return P._`!${d}(${r})`}return P.nil}}subschema(e,r){let n=Xn.getSubschema(this.it,e);Xn.extendSubschemaData(n,this.it,e),Xn.extendSubschemaMode(n,e);let s=ge(Y(Y({},this.it),n),{items:void 0,props:void 0});return Ml(s,r),s}mergeEvaluated(e,r){let{it:n,gen:s}=this;n.opts.unevaluated&&(n.props!==!0&&e.props!==void 0&&(n.props=Je.mergeEvaluated.props(s,e.props,n.props,r)),n.items!==!0&&e.items!==void 0&&(n.items=Je.mergeEvaluated.items(s,e.items,n.items,r)))}mergeValidEvaluated(e,r){let{it:n,gen:s}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return s.if(r,()=>this.mergeEvaluated(e,P.Name)),!0}};et.KeywordCxt=xr;function Uo(t,e,r,n){let s=new xr(t,r,e);"code"in r?r.code(s,n):s.$data&&r.validate?ur.funcKeywordCode(s,r):"macro"in r?ur.macroKeywordCode(s,r):(r.compile||r.validate)&&ur.funcKeywordCode(s,r)}var Xl=/^\\/(?:[^~]|~0|~1)*$/,Yl=/^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;function Fo(t,{dataLevel:e,dataNames:r,dataPathArr:n}){let s,a;if(t==="")return N.default.rootData;if(t[0]==="/"){if(!Xl.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);s=t,a=N.default.rootData}else{let f=Yl.exec(t);if(!f)throw new Error(`Invalid JSON-pointer: ${t}`);let h=+f[1];if(s=f[2],s==="#"){if(h>=e)throw new Error(d("property/index",h));return n[e-h]}if(h>e)throw new Error(d("data",h));if(a=r[e-h],!s)return a}let o=a,u=s.split("/");for(let f of u)f&&(a=P._`${a}${P.getProperty(Je.unescapeJsonPointer(f))}`,o=P._`${o} && ${a}`);return o;function d(f,h){return`Cannot access ${f} ${h} levels up, current level is ${e}`}}et.getData=Fo});var ts=S(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});var Zn=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};es.default=Zn});var as=S(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});var rs=or(),ns=class extends Error{constructor(e,r,n){super(n||`can\'t resolve reference ${r} from id ${e}`),this.missingRef=rs.resolveUrl(e,r),this.missingSchema=rs.normalizeId(rs.getFullPath(this.missingRef))}};ss.default=ns});var us=S(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.resolveSchema=we.getCompilingSchema=we.resolveRef=we.compileSchema=we.SchemaEnv=void 0;var Ne=R(),Ql=ts(),dt=Ge(),Te=or(),Lo=V(),Zl=cr(),ed=Wn(),jt=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let n;typeof e.schema=="object"&&(n=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:Te.normalizeId(n==null?void 0:n[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=n==null?void 0:n.$async,this.refs={}}};we.SchemaEnv=jt;function is(t){let e=xo.call(this,t);if(e)return e;let r=Te.getFullPath(t.root.baseId),{es5:n,lines:s}=this.opts.code,{ownProperties:a}=this.opts,o=new Ne.CodeGen(this.scope,{es5:n,lines:s,ownProperties:a}),u;t.$async&&(u=o.scopeValue("Error",{ref:Ql.default,code:Ne._`require("ajv/dist/runtime/validation_error").default`}));let d=o.scopeName("validate");t.validateName=d;let f={gen:o,allErrors:this.opts.allErrors,data:dt.default.data,parentData:dt.default.parentData,parentDataProperty:dt.default.parentDataProperty,dataNames:[dt.default.data],dataPathArr:[Ne.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:o.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:Ne.stringify(t.schema)}:{ref:t.schema}),validateName:d,ValidationError:u,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:Ne.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:Ne._`""`,opts:this.opts,self:this},h;try{this._compilations.add(t),Zl.validateFunctionCode(f),o.optimize(this.opts.code.optimize);let _=o.toString();h=`${o.scopeRefs(dt.default.scope)}return ${_}`,this.opts.code.process&&(h=this.opts.code.process(h,t));let v=new Function(`${dt.default.self}`,`${dt.default.scope}`,h)(this,this.scope.get());if(this.scope.value(d,{ref:v}),v.errors=null,v.schema=t.schema,v.schemaEnv=t,t.$async&&(v.$async=!0),this.opts.code.source===!0&&(v.source={validateName:d,validateCode:_,scopeValues:o._values}),this.opts.unevaluated){let{props:y,items:E}=f;v.evaluated={props:y instanceof Ne.Name?void 0:y,items:E instanceof Ne.Name?void 0:E,dynamicProps:y instanceof Ne.Name,dynamicItems:E instanceof Ne.Name},v.source&&(v.source.evaluated=Ne.stringify(v.evaluated))}return t.validate=v,t}catch(_){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),_}finally{this._compilations.delete(t)}}we.compileSchema=is;function td(t,e,r){var n;r=Te.resolveUrl(e,r);let s=t.refs[r];if(s)return s;let a=sd.call(this,t,r);if(a===void 0){let o=(n=t.localRefs)===null||n===void 0?void 0:n[r],{schemaId:u}=this.opts;o&&(a=new jt({schema:o,schemaId:u,root:t,baseId:e}))}if(a!==void 0)return t.refs[r]=rd.call(this,a)}we.resolveRef=td;function rd(t){return Te.inlineRef(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:is.call(this,t)}function xo(t){for(let e of this._compilations)if(nd(e,t))return e}we.getCompilingSchema=xo;function nd(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function sd(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||zr.call(this,t,e)}function zr(t,e){let r=ed.parse(e),n=Te._getFullPath(r),s=Te.getFullPath(t.baseId);if(Object.keys(t.schema).length>0&&n===s)return os.call(this,r,t);let a=Te.normalizeId(n),o=this.refs[a]||this.schemas[a];if(typeof o=="string"){let u=zr.call(this,t,o);return typeof(u==null?void 0:u.schema)!="object"?void 0:os.call(this,r,u)}if(typeof(o==null?void 0:o.schema)=="object"){if(o.validate||is.call(this,o),a===Te.normalizeId(e)){let{schema:u}=o,{schemaId:d}=this.opts,f=u[d];return f&&(s=Te.resolveUrl(s,f)),new jt({schema:u,schemaId:d,root:t,baseId:s})}return os.call(this,r,o)}}we.resolveSchema=zr;var ad=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function os(t,{baseId:e,schema:r,root:n}){var s;if(((s=t.fragment)===null||s===void 0?void 0:s[0])!=="/")return;for(let u of t.fragment.slice(1).split("/")){if(typeof r=="boolean"||(r=r[Lo.unescapeFragment(u)],r===void 0))return;let d=typeof r=="object"&&r[this.opts.schemaId];!ad.has(u)&&d&&(e=Te.resolveUrl(e,d))}let a;if(typeof r!="boolean"&&r.$ref&&!Lo.schemaHasRulesButRef(r,this.RULES)){let u=Te.resolveUrl(e,r.$ref);a=zr.call(this,n,u)}let{schemaId:o}=this.opts;if(a=a||new jt({schema:r,schemaId:o,root:n,baseId:e}),a.schema!==a.root.schema)return a}});var zo=S((Up,od)=>{od.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var Xo=S(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.CodeGen=se.Name=se.nil=se.stringify=se.str=se._=se.KeywordCxt=void 0;var id=cr();Object.defineProperty(se,"KeywordCxt",{enumerable:!0,get:function(){return id.KeywordCxt}});var qt=R();Object.defineProperty(se,"_",{enumerable:!0,get:function(){return qt._}});Object.defineProperty(se,"str",{enumerable:!0,get:function(){return qt.str}});Object.defineProperty(se,"stringify",{enumerable:!0,get:function(){return qt.stringify}});Object.defineProperty(se,"nil",{enumerable:!0,get:function(){return qt.nil}});Object.defineProperty(se,"Name",{enumerable:!0,get:function(){return qt.Name}});Object.defineProperty(se,"CodeGen",{enumerable:!0,get:function(){return qt.CodeGen}});var ud=ts(),Wo=as(),cd=Un(),lr=us(),ld=R(),dr=or(),Kr=ar(),ls=V(),Ko=zo(),dd=["removeAdditional","useDefaults","coerceTypes"],fd=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),hd={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:\'"nullable" keyword is supported by default.\',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:\'"uniqueItems" keyword is always validated.\',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},pd={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:\'"minLength"/"maxLength" account for unicode characters by default.\'},Ho=200;function md(t){var e,r,n,s,a,o,u,d,f,h,_,$,v,y,E,w,g,O,re,z,K;let de=t.strict,We=(e=t.code)===null||e===void 0?void 0:e.optimize,Sr=We===!0||We===void 0?1:We||0;return{strictSchema:(n=(r=t.strictSchema)!==null&&r!==void 0?r:de)!==null&&n!==void 0?n:!0,strictNumbers:(a=(s=t.strictNumbers)!==null&&s!==void 0?s:de)!==null&&a!==void 0?a:!0,strictTypes:(u=(o=t.strictTypes)!==null&&o!==void 0?o:de)!==null&&u!==void 0?u:"log",strictTuples:(f=(d=t.strictTuples)!==null&&d!==void 0?d:de)!==null&&f!==void 0?f:"log",strictRequired:(_=(h=t.strictRequired)!==null&&h!==void 0?h:de)!==null&&_!==void 0?_:!1,code:t.code?ge(Y({},t.code),{optimize:Sr}):{optimize:Sr},loopRequired:($=t.loopRequired)!==null&&$!==void 0?$:Ho,loopEnum:(v=t.loopEnum)!==null&&v!==void 0?v:Ho,meta:(y=t.meta)!==null&&y!==void 0?y:!0,messages:(E=t.messages)!==null&&E!==void 0?E:!0,inlineRefs:(w=t.inlineRefs)!==null&&w!==void 0?w:!0,schemaId:(g=t.schemaId)!==null&&g!==void 0?g:"$id",addUsedSchema:(O=t.addUsedSchema)!==null&&O!==void 0?O:!0,validateSchema:(re=t.validateSchema)!==null&&re!==void 0?re:!0,validateFormats:(z=t.validateFormats)!==null&&z!==void 0?z:!0,unicodeRegExp:(K=t.unicodeRegExp)!==null&&K!==void 0?K:!0}}var fr=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=Y(Y({},e),md(e));let{es5:r,lines:n}=this.opts.code;this.scope=new ld.ValueScope({scope:{},prefixes:fd,es5:r,lines:n}),this.logger=Ed(e.logger);let s=e.validateFormats;e.validateFormats=!1,this.RULES=cd.getRules(),Go.call(this,hd,e,"NOT SUPPORTED"),Go.call(this,pd,e,"DEPRECATED","warn"),this._metaOpts=gd.call(this),e.formats&&_d.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&vd.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),yd.call(this),e.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:n}=this.opts,s=Ko;n==="id"&&(s=Y({},Ko),s.id=s.$id,delete s.$id),r&&e&&this.addMetaSchema(s,s[n],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let n;if(typeof e=="string"){if(n=this.getSchema(e),!n)throw new Error(`no schema with key or ref "${e}"`)}else n=this.compile(e);let s=n(r);return"$async"in n||(this.errors=n.errors),s}compile(e,r){let n=this._addSchema(e,r);return n.validate||this._compileSchemaEnv(n)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:n}=this.opts;return s.call(this,e,r);function s(h,_){return Nt(this,null,function*(){yield a.call(this,h.$schema);let $=this._addSchema(h,_);return $.validate||o.call(this,$)})}function a(h){return Nt(this,null,function*(){h&&!this.getSchema(h)&&(yield s.call(this,{$ref:h},!0))})}function o(h){return Nt(this,null,function*(){try{return this._compileSchemaEnv(h)}catch(_){if(!(_ instanceof Wo.default))throw _;return u.call(this,_),yield d.call(this,_.missingSchema),o.call(this,h)}})}function u({missingSchema:h,missingRef:_}){if(this.refs[h])throw new Error(`AnySchema ${h} is loaded but ${_} cannot be resolved`)}function d(h){return Nt(this,null,function*(){let _=yield f.call(this,h);this.refs[h]||(yield a.call(this,_.$schema)),this.refs[h]||this.addSchema(_,h,r)})}function f(h){return Nt(this,null,function*(){let _=this._loading[h];if(_)return _;try{return yield this._loading[h]=n(h)}finally{delete this._loading[h]}})}}addSchema(e,r,n,s=this.opts.validateSchema){if(Array.isArray(e)){for(let o of e)this.addSchema(o,void 0,n,s);return this}let a;if(typeof e=="object"){let{schemaId:o}=this.opts;if(a=e[o],a!==void 0&&typeof a!="string")throw new Error(`schema ${o} must be string`)}return r=dr.normalizeId(r||a),this._checkUnique(r),this.schemas[r]=this._addSchema(e,n,r,s,!0),this}addMetaSchema(e,r,n=this.opts.validateSchema){return this.addSchema(e,r,!0,n),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let n;if(n=e.$schema,n!==void 0&&typeof n!="string")throw new Error("$schema must be a string");if(n=n||this.opts.defaultMeta||this.defaultMeta(),!n)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let s=this.validate(n,e);if(!s&&r){let a="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(a);else throw new Error(a)}return s}getSchema(e){let r;for(;typeof(r=Jo.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:n}=this.opts,s=new lr.SchemaEnv({schema:{},schemaId:n});if(r=lr.resolveSchema.call(this,s,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=Jo.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let n=e[this.opts.schemaId];return n&&(n=dr.normalizeId(n),delete this.schemas[n],delete this.refs[n]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let n;if(typeof e=="string")n=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=n);else if(typeof e=="object"&&r===void 0){if(r=e,n=r.keyword,Array.isArray(n)&&!n.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Sd.call(this,n,r),!r)return ls.eachItem(n,a=>cs.call(this,a)),this;Pd.call(this,r);let s=ge(Y({},r),{type:Kr.getJSONTypes(r.type),schemaType:Kr.getJSONTypes(r.schemaType)});return ls.eachItem(n,s.type.length===0?a=>cs.call(this,a,s):a=>s.type.forEach(o=>cs.call(this,a,s,o))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let n of r.rules){let s=n.rules.findIndex(a=>a.keyword===e);s>=0&&n.rules.splice(s,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:n="data"}={}){return!e||e.length===0?"No errors":e.map(s=>`${n}${s.instancePath} ${s.message}`).reduce((s,a)=>s+r+a)}$dataMetaSchema(e,r){let n=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let s of r){let a=s.split("/").slice(1),o=e;for(let u of a)o=o[u];for(let u in n){let d=n[u];if(typeof d!="object")continue;let{$data:f}=d.definition,h=o[u];f&&h&&(o[u]=Bo(h))}}return e}_removeAllSchemas(e,r){for(let n in e){let s=e[n];(!r||r.test(n))&&(typeof s=="string"?delete e[n]:s&&!s.meta&&(this._cache.delete(s.schema),delete e[n]))}}_addSchema(e,r,n,s=this.opts.validateSchema,a=this.opts.addUsedSchema){let o,{schemaId:u}=this.opts;if(typeof e=="object")o=e[u];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let d=this._cache.get(e);if(d!==void 0)return d;let f=dr.getSchemaRefs.call(this,e);return n=dr.normalizeId(o||n),d=new lr.SchemaEnv({schema:e,schemaId:u,meta:r,baseId:n,localRefs:f}),this._cache.set(d.schema,d),a&&!n.startsWith("#")&&(n&&this._checkUnique(n),this.refs[n]=d),s&&this.validateSchema(e,!0),d}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):lr.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{lr.compileSchema.call(this,e)}finally{this.opts=r}}};se.default=fr;fr.ValidationError=ud.default;fr.MissingRefError=Wo.default;function Go(t,e,r,n="error"){for(let s in t){let a=s;a in e&&this.logger[n](`${r}: option ${s}. ${t[a]}`)}}function Jo(t){return t=dr.normalizeId(t),this.schemas[t]||this.refs[t]}function yd(){let t=this.opts.schemas;if(t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function _d(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function vd(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function gd(){let t=Y({},this.opts);for(let e of dd)delete t[e];return t}var $d={log(){},warn(){},error(){}};function Ed(t){if(t===!1)return $d;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var wd=/^[a-z_$][a-z0-9_$:-]*$/i;function Sd(t,e){let{RULES:r}=this;if(ls.eachItem(t,n=>{if(r.keywords[n])throw new Error(`Keyword ${n} is already defined`);if(!wd.test(n))throw new Error(`Keyword ${n} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error(\'$data keyword must have "code" or "validate" function\')}function cs(t,e,r){var n;let s=e==null?void 0:e.post;if(r&&s)throw new Error(\'keyword with "post" flag cannot have "type"\');let{RULES:a}=this,o=s?a.post:a.rules.find(({type:d})=>d===r);if(o||(o={type:r,rules:[]},a.rules.push(o)),a.keywords[t]=!0,!e)return;let u={keyword:t,definition:ge(Y({},e),{type:Kr.getJSONTypes(e.type),schemaType:Kr.getJSONTypes(e.schemaType)})};e.before?bd.call(this,o,u,e.before):o.rules.push(u),a.all[t]=u,(n=e.implements)===null||n===void 0||n.forEach(d=>this.addKeyword(d))}function bd(t,e,r){let n=t.rules.findIndex(s=>s.keyword===r);n>=0?t.rules.splice(n,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Pd(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=Bo(e)),t.validateSchema=this.compile(e,!0))}var Nd={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Bo(t){return{anyOf:[t,Nd]}}});var Yo=S(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});var Td={keyword:"id",code(){throw new Error(\'NOT SUPPORTED: keyword "id", use "$id" for schema ID\')}};ds.default=Td});var ti=S(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.callRef=ft.getValidate=void 0;var Od=as(),Qo=Ee(),pe=R(),Mt=Ge(),Zo=us(),Hr=V(),Id={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:n}=t,{baseId:s,schemaEnv:a,validateName:o,opts:u,self:d}=n,{root:f}=a;if((r==="#"||r==="#/")&&s===f.baseId)return _();let h=Zo.resolveRef.call(d,f,s,r);if(h===void 0)throw new Od.default(s,r);if(h instanceof Zo.SchemaEnv)return $(h);return v(h);function _(){if(a===f)return Gr(t,o,a,a.$async);let y=e.scopeValue("root",{ref:f});return Gr(t,pe._`${y}.validate`,f,f.$async)}function $(y){let E=ei(t,y);Gr(t,E,y,y.$async)}function v(y){let E=e.scopeValue("schema",u.code.source===!0?{ref:y,code:pe.stringify(y)}:{ref:y}),w=e.name("valid"),g=t.subschema({schema:y,dataTypes:[],schemaPath:pe.nil,topSchemaRef:E,errSchemaPath:r},w);t.mergeEvaluated(g),t.ok(w)}}};function ei(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):pe._`${r.scopeValue("wrapper",{ref:e})}.validate`}ft.getValidate=ei;function Gr(t,e,r,n){let{gen:s,it:a}=t,{allErrors:o,schemaEnv:u,opts:d}=a,f=d.passContext?Mt.default.this:pe.nil;n?h():_();function h(){if(!u.$async)throw new Error("async schema referenced by sync schema");let y=s.let("valid");s.try(()=>{s.code(pe._`await ${Qo.callValidateCode(t,e,f)}`),v(e),o||s.assign(y,!0)},E=>{s.if(pe._`!(${E} instanceof ${a.ValidationError})`,()=>s.throw(E)),$(E),o||s.assign(y,!1)}),t.ok(y)}function _(){t.result(Qo.callValidateCode(t,e,f),()=>v(e),()=>$(e))}function $(y){let E=pe._`${y}.errors`;s.assign(Mt.default.vErrors,pe._`${Mt.default.vErrors} === null ? ${E} : ${Mt.default.vErrors}.concat(${E})`),s.assign(Mt.default.errors,pe._`${Mt.default.vErrors}.length`)}function v(y){var E;if(!a.opts.unevaluated)return;let w=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(a.props!==!0)if(w&&!w.dynamicProps)w.props!==void 0&&(a.props=Hr.mergeEvaluated.props(s,w.props,a.props));else{let g=s.var("props",pe._`${y}.evaluated.props`);a.props=Hr.mergeEvaluated.props(s,g,a.props,pe.Name)}if(a.items!==!0)if(w&&!w.dynamicItems)w.items!==void 0&&(a.items=Hr.mergeEvaluated.items(s,w.items,a.items));else{let g=s.var("items",pe._`${y}.evaluated.items`);a.items=Hr.mergeEvaluated.items(s,g,a.items,pe.Name)}}}ft.callRef=Gr;ft.default=Id});var ri=S(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});var Cd=Yo(),Dd=ti(),Rd=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Cd.default,Dd.default];fs.default=Rd});var ni=S(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});var Jr=R(),tt=Jr.operators,Wr={maximum:{okStr:"<=",ok:tt.LTE,fail:tt.GT},minimum:{okStr:">=",ok:tt.GTE,fail:tt.LT},exclusiveMaximum:{okStr:"<",ok:tt.LT,fail:tt.GTE},exclusiveMinimum:{okStr:">",ok:tt.GT,fail:tt.LTE}},Ad={message:({keyword:t,schemaCode:e})=>Jr.str`must be ${Wr[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>Jr._`{comparison: ${Wr[t].okStr}, limit: ${e}}`},kd={keyword:Object.keys(Wr),type:"number",schemaType:"number",$data:!0,error:Ad,code(t){let{keyword:e,data:r,schemaCode:n}=t;t.fail$data(Jr._`${r} ${Wr[e].fail} ${n} || isNaN(${r})`)}};hs.default=kd});var si=S(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});var hr=R(),jd={message:({schemaCode:t})=>hr.str`must be multiple of ${t}`,params:({schemaCode:t})=>hr._`{multipleOf: ${t}}`},qd={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:jd,code(t){let{gen:e,data:r,schemaCode:n,it:s}=t,a=s.opts.multipleOfPrecision,o=e.let("res"),u=a?hr._`Math.abs(Math.round(${o}) - ${o}) > 1e-${a}`:hr._`${o} !== parseInt(${o})`;t.fail$data(hr._`(${n} === 0 || (${o} = ${r}/${n}, ${u}))`)}};ps.default=qd});var oi=S(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});function ai(t){let e=t.length,r=0,n=0,s;for(;n<e;)r++,s=t.charCodeAt(n++),s>=55296&&s<=56319&&n<e&&(s=t.charCodeAt(n),(s&64512)===56320&&n++);return r}ms.default=ai;ai.code=\'require("ajv/dist/runtime/ucs2length").default\'});var ii=S(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});var ht=R(),Md=V(),Vd=oi(),Ud={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return ht.str`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>ht._`{limit: ${t}}`},Fd={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Ud,code(t){let{keyword:e,data:r,schemaCode:n,it:s}=t,a=e==="maxLength"?ht.operators.GT:ht.operators.LT,o=s.opts.unicode===!1?ht._`${r}.length`:ht._`${Md.useFunc(t.gen,Vd.default)}(${r})`;t.fail$data(ht._`${o} ${a} ${n}`)}};ys.default=Fd});var ui=S(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});var Ld=Ee(),Br=R(),xd={message:({schemaCode:t})=>Br.str`must match pattern "${t}"`,params:({schemaCode:t})=>Br._`{pattern: ${t}}`},zd={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:xd,code(t){let{data:e,$data:r,schema:n,schemaCode:s,it:a}=t,o=a.opts.unicodeRegExp?"u":"",u=r?Br._`(new RegExp(${s}, ${o}))`:Ld.usePattern(t,n);t.fail$data(Br._`!${u}.test(${e})`)}};_s.default=zd});var ci=S(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});var pr=R(),Kd={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return pr.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>pr._`{limit: ${t}}`},Hd={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Kd,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxProperties"?pr.operators.GT:pr.operators.LT;t.fail$data(pr._`Object.keys(${r}).length ${s} ${n}`)}};vs.default=Hd});var li=S(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});var mr=Ee(),yr=R(),Gd=V(),Jd={message:({params:{missingProperty:t}})=>yr.str`must have required property \'${t}\'`,params:({params:{missingProperty:t}})=>yr._`{missingProperty: ${t}}`},Wd={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Jd,code(t){let{gen:e,schema:r,schemaCode:n,data:s,$data:a,it:o}=t,{opts:u}=o;if(!a&&r.length===0)return;let d=r.length>=u.loopRequired;if(o.allErrors?f():h(),u.strictRequired){let v=t.parentSchema.properties,{definedProperties:y}=t.it;for(let E of r)if((v==null?void 0:v[E])===void 0&&!y.has(E)){let w=o.schemaEnv.baseId+o.errSchemaPath,g=`required property "${E}" is not defined at "${w}" (strictRequired)`;Gd.checkStrictMode(o,g,o.opts.strictRequired)}}function f(){if(d||a)t.block$data(yr.nil,_);else for(let v of r)mr.checkReportMissingProp(t,v)}function h(){let v=e.let("missing");if(d||a){let y=e.let("valid",!0);t.block$data(y,()=>$(v,y)),t.ok(y)}else e.if(mr.checkMissingProp(t,r,v)),mr.reportMissingProp(t,v),e.else()}function _(){e.forOf("prop",n,v=>{t.setParams({missingProperty:v}),e.if(mr.noPropertyInData(e,s,v,u.ownProperties),()=>t.error())})}function $(v,y){t.setParams({missingProperty:v}),e.forOf(v,n,()=>{e.assign(y,mr.propertyInData(e,s,v,u.ownProperties)),e.if(yr.not(y),()=>{t.error(),e.break()})},yr.nil)}}};gs.default=Wd});var di=S($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var _r=R(),Bd={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return _r.str`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>_r._`{limit: ${t}}`},Xd={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Bd,code(t){let{keyword:e,data:r,schemaCode:n}=t,s=e==="maxItems"?_r.operators.GT:_r.operators.LT;t.fail$data(_r._`${r}.length ${s} ${n}`)}};$s.default=Xd});var Xr=S(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});var fi=Jn();fi.code=\'require("ajv/dist/runtime/equal").default\';Es.default=fi});var hi=S(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var ws=ar(),ae=R(),Yd=V(),Qd=Xr(),Zd={message:({params:{i:t,j:e}})=>ae.str`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>ae._`{i: ${t}, j: ${e}}`},ef={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Zd,code(t){let{gen:e,data:r,$data:n,schema:s,parentSchema:a,schemaCode:o,it:u}=t;if(!n&&!s)return;let d=e.let("valid"),f=a.items?ws.getSchemaTypes(a.items):[];t.block$data(d,h,ae._`${o} === false`),t.ok(d);function h(){let y=e.let("i",ae._`${r}.length`),E=e.let("j");t.setParams({i:y,j:E}),e.assign(d,!0),e.if(ae._`${y} > 1`,()=>(_()?$:v)(y,E))}function _(){return f.length>0&&!f.some(y=>y==="object"||y==="array")}function $(y,E){let w=e.name("item"),g=ws.checkDataTypes(f,w,u.opts.strictNumbers,ws.DataType.Wrong),O=e.const("indices",ae._`{}`);e.for(ae._`;${y}--;`,()=>{e.let(w,ae._`${r}[${y}]`),e.if(g,ae._`continue`),f.length>1&&e.if(ae._`typeof ${w} == "string"`,ae._`${w} += "_"`),e.if(ae._`typeof ${O}[${w}] == "number"`,()=>{e.assign(E,ae._`${O}[${w}]`),t.error(),e.assign(d,!1).break()}).code(ae._`${O}[${w}] = ${y}`)})}function v(y,E){let w=Yd.useFunc(e,Qd.default),g=e.name("outer");e.label(g).for(ae._`;${y}--;`,()=>e.for(ae._`${E} = ${y}; ${E}--;`,()=>e.if(ae._`${w}(${r}[${y}], ${r}[${E}])`,()=>{t.error(),e.assign(d,!1).break(g)})))}}};Ss.default=ef});var pi=S(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});var bs=R(),tf=V(),rf=Xr(),nf={message:"must be equal to constant",params:({schemaCode:t})=>bs._`{allowedValue: ${t}}`},sf={keyword:"const",$data:!0,error:nf,code(t){let{gen:e,data:r,$data:n,schemaCode:s,schema:a}=t;n||a&&typeof a=="object"?t.fail$data(bs._`!${tf.useFunc(e,rf.default)}(${r}, ${s})`):t.fail(bs._`${a} !== ${r}`)}};Ps.default=sf});var mi=S(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});var vr=R(),af=V(),of=Xr(),uf={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>vr._`{allowedValues: ${t}}`},cf={keyword:"enum",schemaType:"array",$data:!0,error:uf,code(t){let{gen:e,data:r,$data:n,schema:s,schemaCode:a,it:o}=t;if(!n&&s.length===0)throw new Error("enum must have non-empty array");let u=s.length>=o.opts.loopEnum,d=af.useFunc(e,of.default),f;if(u||n)f=e.let("valid"),t.block$data(f,h);else{if(!Array.isArray(s))throw new Error("ajv implementation error");let $=e.const("vSchema",a);f=vr.or(...s.map((v,y)=>_($,y)))}t.pass(f);function h(){e.assign(f,!1),e.forOf("v",a,$=>e.if(vr._`${d}(${r}, ${$})`,()=>e.assign(f,!0).break()))}function _($,v){let y=s[v];return typeof y=="object"&&y!==null?vr._`${d}(${r}, ${$}[${v}])`:vr._`${r} === ${y}`}}};Ns.default=cf});var yi=S(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var lf=ni(),df=si(),ff=ii(),hf=ui(),pf=ci(),mf=li(),yf=di(),_f=hi(),vf=pi(),gf=mi(),$f=[lf.default,df.default,ff.default,hf.default,pf.default,mf.default,yf.default,_f.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},vf.default,gf.default];Ts.default=$f});var Is=S(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.validateAdditionalItems=void 0;var pt=R(),Os=V(),Ef={message:({params:{len:t}})=>pt.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>pt._`{limit: ${t}}`},wf={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ef,code(t){let{parentSchema:e,it:r}=t,{items:n}=e;if(!Array.isArray(n)){Os.checkStrictMode(r,\'"additionalItems" is ignored when "items" is not an array of schemas\');return}_i(t,n)}};function _i(t,e){let{gen:r,schema:n,data:s,keyword:a,it:o}=t;o.items=!0;let u=r.const("len",pt._`${s}.length`);if(n===!1)t.setParams({len:e.length}),t.pass(pt._`${u} <= ${e.length}`);else if(typeof n=="object"&&!Os.alwaysValidSchema(o,n)){let f=r.var("valid",pt._`${u} <= ${e.length}`);r.if(pt.not(f),()=>d(f)),t.ok(f)}function d(f){r.forRange("i",e.length,u,h=>{t.subschema({keyword:a,dataProp:h,dataPropType:Os.Type.Num},f),o.allErrors||r.if(pt.not(f),()=>r.break())})}}gr.validateAdditionalItems=_i;gr.default=wf});var Cs=S($r=>{"use strict";Object.defineProperty($r,"__esModule",{value:!0});$r.validateTuple=void 0;var vi=R(),Yr=V(),Sf=Ee(),bf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return gi(t,"additionalItems",e);r.items=!0,!Yr.alwaysValidSchema(r,e)&&t.ok(Sf.validateArray(t))}};function gi(t,e,r=t.schema){let{gen:n,parentSchema:s,data:a,keyword:o,it:u}=t;h(s),u.opts.unevaluated&&r.length&&u.items!==!0&&(u.items=Yr.mergeEvaluated.items(n,r.length,u.items));let d=n.name("valid"),f=n.const("len",vi._`${a}.length`);r.forEach((_,$)=>{Yr.alwaysValidSchema(u,_)||(n.if(vi._`${f} > ${$}`,()=>t.subschema({keyword:o,schemaProp:$,dataProp:$},d)),t.ok(d))});function h(_){let{opts:$,errSchemaPath:v}=u,y=r.length,E=y===_.minItems&&(y===_.maxItems||_[e]===!1);if($.strictTuples&&!E){let w=`"${o}" is ${y}-tuple, but minItems or maxItems/${e} are not specified or different at path "${v}"`;Yr.checkStrictMode(u,w,$.strictTuples)}}}$r.validateTuple=gi;$r.default=bf});var $i=S(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var Pf=Cs(),Nf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>Pf.validateTuple(t,"items")};Ds.default=Nf});var wi=S(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});var Ei=R(),Tf=V(),Of=Ee(),If=Is(),Cf={message:({params:{len:t}})=>Ei.str`must NOT have more than ${t} items`,params:({params:{len:t}})=>Ei._`{limit: ${t}}`},Df={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Cf,code(t){let{schema:e,parentSchema:r,it:n}=t,{prefixItems:s}=r;n.items=!0,!Tf.alwaysValidSchema(n,e)&&(s?If.validateAdditionalItems(t,s):t.ok(Of.validateArray(t)))}};Rs.default=Df});var Si=S(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});var Oe=R(),Qr=V(),Rf={message:({params:{min:t,max:e}})=>e===void 0?Oe.str`must contain at least ${t} valid item(s)`:Oe.str`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?Oe._`{minContains: ${t}}`:Oe._`{minContains: ${t}, maxContains: ${e}}`},Af={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Rf,code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t,o,u,{minContains:d,maxContains:f}=n;a.opts.next?(o=d===void 0?1:d,u=f):o=1;let h=e.const("len",Oe._`${s}.length`);if(t.setParams({min:o,max:u}),u===void 0&&o===0){Qr.checkStrictMode(a,\'"minContains" == 0 without "maxContains": "contains" keyword ignored\');return}if(u!==void 0&&o>u){Qr.checkStrictMode(a,\'"minContains" > "maxContains" is always invalid\'),t.fail();return}if(Qr.alwaysValidSchema(a,r)){let y=Oe._`${h} >= ${o}`;u!==void 0&&(y=Oe._`${y} && ${h} <= ${u}`),t.pass(y);return}a.items=!0;let _=e.name("valid");if(u===void 0&&o===1)$(_,()=>e.if(_,()=>e.break()));else{e.let(_,!1);let y=e.name("_valid"),E=e.let("count",0);$(y,()=>e.if(y,()=>v(E)))}t.result(_,()=>t.reset());function $(y,E){e.forRange("i",0,h,w=>{t.subschema({keyword:"contains",dataProp:w,dataPropType:Qr.Type.Num,compositeRule:!0},y),E()})}function v(y){e.code(Oe._`${y}++`),u===void 0?e.if(Oe._`${y} >= ${o}`,()=>e.assign(_,!0).break()):(e.if(Oe._`${y} > ${u}`,()=>e.assign(_,!1).break()),o===1?e.assign(_,!0):e.if(Oe._`${y} >= ${o}`,()=>e.assign(_,!0)))}}};As.default=Af});var Ni=S(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.validateSchemaDeps=Ve.validatePropertyDeps=Ve.error=void 0;var ks=R(),kf=V(),Er=Ee();Ve.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let n=e===1?"property":"properties";return ks.str`must have ${n} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:n}})=>ks._`{property: ${t},\n    missingProperty: ${n},\n    depsCount: ${e},\n    deps: ${r}}`};var jf={keyword:"dependencies",type:"object",schemaType:"object",error:Ve.error,code(t){let[e,r]=qf(t);bi(t,e),Pi(t,r)}};function qf({schema:t}){let e={},r={};for(let n in t){if(n==="__proto__")continue;let s=Array.isArray(t[n])?e:r;s[n]=t[n]}return[e,r]}function bi(t,e=t.schema){let{gen:r,data:n,it:s}=t;if(Object.keys(e).length===0)return;let a=r.let("missing");for(let o in e){let u=e[o];if(u.length===0)continue;let d=Er.propertyInData(r,n,o,s.opts.ownProperties);t.setParams({property:o,depsCount:u.length,deps:u.join(", ")}),s.allErrors?r.if(d,()=>{for(let f of u)Er.checkReportMissingProp(t,f)}):(r.if(ks._`${d} && (${Er.checkMissingProp(t,u,a)})`),Er.reportMissingProp(t,a),r.else())}}Ve.validatePropertyDeps=bi;function Pi(t,e=t.schema){let{gen:r,data:n,keyword:s,it:a}=t,o=r.name("valid");for(let u in e)kf.alwaysValidSchema(a,e[u])||(r.if(Er.propertyInData(r,n,u,a.opts.ownProperties),()=>{let d=t.subschema({keyword:s,schemaProp:u},o);t.mergeValidEvaluated(d,o)},()=>r.var(o,!0)),t.ok(o))}Ve.validateSchemaDeps=Pi;Ve.default=jf});var Oi=S(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var Ti=R(),Mf=V(),Vf={message:"property name must be valid",params:({params:t})=>Ti._`{propertyName: ${t.propertyName}}`},Uf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Vf,code(t){let{gen:e,schema:r,data:n,it:s}=t;if(Mf.alwaysValidSchema(s,r))return;let a=e.name("valid");e.forIn("key",n,o=>{t.setParams({propertyName:o}),t.subschema({keyword:"propertyNames",data:o,dataTypes:["string"],propertyName:o,compositeRule:!0},a),e.if(Ti.not(a),()=>{t.error(!0),s.allErrors||e.break()})}),t.ok(a)}};js.default=Uf});var Ms=S(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var Zr=Ee(),Ie=R(),Ff=Ge(),en=V(),Lf={message:"must NOT have additional properties",params:({params:t})=>Ie._`{additionalProperty: ${t.additionalProperty}}`},xf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Lf,code(t){let{gen:e,schema:r,parentSchema:n,data:s,errsCount:a,it:o}=t;if(!a)throw new Error("ajv implementation error");let{allErrors:u,opts:d}=o;if(o.props=!0,d.removeAdditional!=="all"&&en.alwaysValidSchema(o,r))return;let f=Zr.allSchemaProperties(n.properties),h=Zr.allSchemaProperties(n.patternProperties);_(),t.ok(Ie._`${a} === ${Ff.default.errors}`);function _(){e.forIn("key",s,w=>{!f.length&&!h.length?y(w):e.if($(w),()=>y(w))})}function $(w){let g;if(f.length>8){let O=en.schemaRefOrVal(o,n.properties,"properties");g=Zr.isOwnProperty(e,O,w)}else f.length?g=Ie.or(...f.map(O=>Ie._`${w} === ${O}`)):g=Ie.nil;return h.length&&(g=Ie.or(g,...h.map(O=>Ie._`${Zr.usePattern(t,O)}.test(${w})`))),Ie.not(g)}function v(w){e.code(Ie._`delete ${s}[${w}]`)}function y(w){if(d.removeAdditional==="all"||d.removeAdditional&&r===!1){v(w);return}if(r===!1){t.setParams({additionalProperty:w}),t.error(),u||e.break();return}if(typeof r=="object"&&!en.alwaysValidSchema(o,r)){let g=e.name("valid");d.removeAdditional==="failing"?(E(w,g,!1),e.if(Ie.not(g),()=>{t.reset(),v(w)})):(E(w,g),u||e.if(Ie.not(g),()=>e.break()))}}function E(w,g,O){let re={keyword:"additionalProperties",dataProp:w,dataPropType:en.Type.Str};O===!1&&Object.assign(re,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(re,g)}}};qs.default=xf});var Di=S(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});var zf=cr(),Ii=Ee(),Vs=V(),Ci=Ms(),Kf={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:n,data:s,it:a}=t;a.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Ci.default.code(new zf.KeywordCxt(a,Ci.default,"additionalProperties"));let o=Ii.allSchemaProperties(r);for(let _ of o)a.definedProperties.add(_);a.opts.unevaluated&&o.length&&a.props!==!0&&(a.props=Vs.mergeEvaluated.props(e,Vs.toHash(o),a.props));let u=o.filter(_=>!Vs.alwaysValidSchema(a,r[_]));if(u.length===0)return;let d=e.name("valid");for(let _ of u)f(_)?h(_):(e.if(Ii.propertyInData(e,s,_,a.opts.ownProperties)),h(_),a.allErrors||e.else().var(d,!0),e.endIf()),t.it.definedProperties.add(_),t.ok(d);function f(_){return a.opts.useDefaults&&!a.compositeRule&&r[_].default!==void 0}function h(_){t.subschema({keyword:"properties",schemaProp:_,dataProp:_},d)}}};Us.default=Kf});var ki=S(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var Ri=Ee(),tn=R(),Hf=V(),Ai=V(),Gf={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:n,parentSchema:s,it:a}=t,{opts:o}=a,u=Ri.schemaProperties(a,r);if(u.length===0)return;let d=o.strictSchema&&!o.allowMatchingProperties&&s.properties,f=e.name("valid");a.props!==!0&&!(a.props instanceof tn.Name)&&(a.props=Ai.evaluatedPropsToName(e,a.props));let{props:h}=a;_();function _(){for(let y of u)d&&$(y),a.allErrors?v(y):(e.var(f,!0),v(y),e.if(f))}function $(y){for(let E in d)new RegExp(y).test(E)&&Hf.checkStrictMode(a,`property ${E} matches pattern ${y} (use allowMatchingProperties)`)}function v(y){e.forIn("key",n,E=>{e.if(tn._`${Ri.usePattern(t,y)}.test(${E})`,()=>{t.subschema({keyword:"patternProperties",schemaProp:y,dataProp:E,dataPropType:Ai.Type.Str},f),a.opts.unevaluated&&h!==!0?e.assign(tn._`${h}[${E}]`,!0):a.allErrors||e.if(tn.not(f),()=>e.break())})})}}};Fs.default=Gf});var ji=S(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Jf=V(),Wf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:n}=t;if(Jf.alwaysValidSchema(n,r)){t.fail();return}let s=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),t.result(s,()=>t.error(),()=>t.reset())},error:{message:"must NOT be valid"}};Ls.default=Wf});var qi=S(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});var Bf=Ee(),Xf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Bf.validateUnion,error:{message:"must match a schema in anyOf"}};xs.default=Xf});var Mi=S(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});var rn=R(),Yf=V(),Qf={message:"must match exactly one schema in oneOf",params:({params:t})=>rn._`{passingSchemas: ${t.passing}}`},Zf={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Qf,code(t){let{gen:e,schema:r,parentSchema:n,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(s.opts.discriminator&&n.discriminator)return;let a=r,o=e.let("valid",!1),u=e.let("passing",null),d=e.name("_valid");t.setParams({passing:u}),e.block(f),t.result(o,()=>t.reset(),()=>t.error(!0));function f(){a.forEach((h,_)=>{let $;Yf.alwaysValidSchema(s,h)?e.var(d,!0):$=t.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},d),_>0&&e.if(rn._`${d} && ${o}`).assign(o,!1).assign(u,rn._`[${u}, ${_}]`).else(),e.if(d,()=>{e.assign(o,!0),e.assign(u,_),$&&t.mergeEvaluated($,rn.Name)})})}}};zs.default=Zf});var Vi=S(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});var eh=V(),th={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let s=e.name("valid");r.forEach((a,o)=>{if(eh.alwaysValidSchema(n,a))return;let u=t.subschema({keyword:"allOf",schemaProp:o},s);t.ok(s),t.mergeEvaluated(u)})}};Ks.default=th});var Li=S(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var nn=R(),Fi=V(),rh={message:({params:t})=>nn.str`must match "${t.ifClause}" schema`,params:({params:t})=>nn._`{failingKeyword: ${t.ifClause}}`},nh={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:rh,code(t){let{gen:e,parentSchema:r,it:n}=t;r.then===void 0&&r.else===void 0&&Fi.checkStrictMode(n,\'"if" without "then" and "else" is ignored\');let s=Ui(n,"then"),a=Ui(n,"else");if(!s&&!a)return;let o=e.let("valid",!0),u=e.name("_valid");if(d(),t.reset(),s&&a){let h=e.let("ifClause");t.setParams({ifClause:h}),e.if(u,f("then",h),f("else",h))}else s?e.if(u,f("then")):e.if(nn.not(u),f("else"));t.pass(o,()=>t.error(!0));function d(){let h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},u);t.mergeEvaluated(h)}function f(h,_){return()=>{let $=t.subschema({keyword:h},u);e.assign(o,u),t.mergeValidEvaluated($,o),_?e.assign(_,nn._`${h}`):t.setParams({ifClause:h})}}}};function Ui(t,e){let r=t.schema[e];return r!==void 0&&!Fi.alwaysValidSchema(t,r)}Hs.default=nh});var xi=S(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});var sh=V(),ah={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&sh.checkStrictMode(r,`"${t}" without "if" is ignored`)}};Gs.default=ah});var zi=S(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var oh=Is(),ih=$i(),uh=Cs(),ch=wi(),lh=Si(),dh=Ni(),fh=Oi(),hh=Ms(),ph=Di(),mh=ki(),yh=ji(),_h=qi(),vh=Mi(),gh=Vi(),$h=Li(),Eh=xi();function wh(t=!1){let e=[yh.default,_h.default,vh.default,gh.default,$h.default,Eh.default,fh.default,hh.default,dh.default,ph.default,mh.default];return t?e.push(ih.default,ch.default):e.push(oh.default,uh.default),e.push(lh.default),e}Js.default=wh});var Ki=S(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var Q=R(),Sh={message:({schemaCode:t})=>Q.str`must match format "${t}"`,params:({schemaCode:t})=>Q._`{format: ${t}}`},bh={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Sh,code(t,e){let{gen:r,data:n,$data:s,schema:a,schemaCode:o,it:u}=t,{opts:d,errSchemaPath:f,schemaEnv:h,self:_}=u;if(!d.validateFormats)return;s?$():v();function $(){let y=r.scopeValue("formats",{ref:_.formats,code:d.code.formats}),E=r.const("fDef",Q._`${y}[${o}]`),w=r.let("fType"),g=r.let("format");r.if(Q._`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(w,Q._`${E}.type || "string"`).assign(g,Q._`${E}.validate`),()=>r.assign(w,Q._`"string"`).assign(g,E)),t.fail$data(Q.or(O(),re()));function O(){return d.strictSchema===!1?Q.nil:Q._`${o} && !${g}`}function re(){let z=h.$async?Q._`(${E}.async ? await ${g}(${n}) : ${g}(${n}))`:Q._`${g}(${n})`,K=Q._`(typeof ${g} == "function" ? ${z} : ${g}.test(${n}))`;return Q._`${g} && ${g} !== true && ${w} === ${e} && !${K}`}}function v(){let y=_.formats[a];if(!y){O();return}if(y===!0)return;let[E,w,g]=re(y);E===e&&t.pass(z());function O(){if(d.strictSchema===!1){_.logger.warn(K());return}throw new Error(K());function K(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function re(K){let de=K instanceof RegExp?Q.regexpCode(K):d.code.formats?Q._`${d.code.formats}${Q.getProperty(a)}`:void 0,We=r.scopeValue("formats",{key:a,ref:K,code:de});return typeof K=="object"&&!(K instanceof RegExp)?[K.type||"string",K.validate,Q._`${We}.validate`]:["string",K,We]}function z(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!h.$async)throw new Error("async format in sync schema");return Q._`await ${g}(${n})`}return typeof w=="function"?Q._`${g}(${n})`:Q._`${g}.test(${n})`}}}};Ws.default=bh});var Hi=S(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});var Ph=Ki(),Nh=[Ph.default];Bs.default=Nh});var Gi=S(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.contentVocabulary=Vt.metadataVocabulary=void 0;Vt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Vt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Wi=S(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});var Th=ri(),Oh=yi(),Ih=zi(),Ch=Hi(),Ji=Gi(),Dh=[Th.default,Oh.default,Ih.default(),Ch.default,Ji.metadataVocabulary,Ji.contentVocabulary];Xs.default=Dh});var Bi=S(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.DiscrError=void 0;var Rh;(function(t){t.Tag="tag",t.Mapping="mapping"})(Rh=wr.DiscrError||(wr.DiscrError={}))});var Xi=S(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});var Ut=R(),Ys=Bi(),Ah={message:({params:{discrError:t,tagName:e}})=>t===Ys.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>Ut._`{error: ${t}, tag: ${r}, tagValue: ${e}}`},kh={keyword:"discriminator",type:"object",schemaType:"object",error:Ah,code(t){let{gen:e,data:r,schema:n,parentSchema:s,it:a}=t,{oneOf:o}=s;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");let u=n.propertyName;if(typeof u!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!o)throw new Error("discriminator: requires oneOf keyword");let d=e.let("valid",!1),f=e.const("tag",Ut._`${r}${Ut.getProperty(u)}`);e.if(Ut._`typeof ${f} == "string"`,()=>h(),()=>t.error(!1,{discrError:Ys.DiscrError.Tag,tag:f,tagName:u})),t.ok(d);function h(){let v=$();e.if(!1);for(let y in v)e.elseIf(Ut._`${f} === ${y}`),e.assign(d,_(v[y]));e.else(),t.error(!1,{discrError:Ys.DiscrError.Mapping,tag:f,tagName:u}),e.endIf()}function _(v){let y=e.name("valid"),E=t.subschema({keyword:"oneOf",schemaProp:v},y);return t.mergeEvaluated(E,Ut.Name),y}function $(){var v;let y={},E=g(s),w=!0;for(let z=0;z<o.length;z++){let K=o[z],de=(v=K.properties)===null||v===void 0?void 0:v[u];if(typeof de!="object")throw new Error(`discriminator: oneOf schemas must have "properties/${u}"`);w=w&&(E||g(K)),O(de,z)}if(!w)throw new Error(`discriminator: "${u}" must be required`);return y;function g({required:z}){return Array.isArray(z)&&z.includes(u)}function O(z,K){if(z.const)re(z.const,K);else if(z.enum)for(let de of z.enum)re(de,K);else throw new Error(`discriminator: "properties/${u}" must have "const" or "enum"`)}function re(z,K){if(typeof z!="string"||z in y)throw new Error(`discriminator: "${u}" values must be unique strings`);y[z]=K}}}};Qs.default=kh});var Yi=S((Tm,jh)=>{jh.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var eu=S((te,Zi)=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.CodeGen=te.Name=te.nil=te.stringify=te.str=te._=te.KeywordCxt=void 0;var qh=Xo(),Mh=Wi(),Vh=Xi(),Qi=Yi(),Uh=["/properties"],sn="http://json-schema.org/draft-07/schema",an=class extends qh.default{_addVocabularies(){super._addVocabularies(),Mh.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(Vh.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Qi,Uh):Qi;this.addMetaSchema(e,sn,!1),this.refs["http://json-schema.org/schema"]=sn}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(sn)?sn:void 0)}};Zi.exports=te=an;Object.defineProperty(te,"__esModule",{value:!0});te.default=an;var Fh=cr();Object.defineProperty(te,"KeywordCxt",{enumerable:!0,get:function(){return Fh.KeywordCxt}});var Ft=R();Object.defineProperty(te,"_",{enumerable:!0,get:function(){return Ft._}});Object.defineProperty(te,"str",{enumerable:!0,get:function(){return Ft.str}});Object.defineProperty(te,"stringify",{enumerable:!0,get:function(){return Ft.stringify}});Object.defineProperty(te,"nil",{enumerable:!0,get:function(){return Ft.nil}});Object.defineProperty(te,"Name",{enumerable:!0,get:function(){return Ft.Name}});Object.defineProperty(te,"CodeGen",{enumerable:!0,get:function(){return Ft.CodeGen}})});var Ma=Pt(Ot());var $e=Pt(Ot()),Na=(0,$e._)("Error: Token duplicated across multiple inputs"),Ta=(0,$e._)("Error: Item duplicated in layout structure"),Oa=(0,$e._)("Error: Input duplicated in both layout structure and global inputs"),Ia=(0,$e._)("Error: Input in layout structure does not exist"),Ca=(0,$e._)("Error: Input in global input structure does not exist"),Da=(0,$e._)("Error: Input is not present in the global inputs structure or layout structure"),Ra=(0,$e._)("Error: Visualization in layout structure does not exist"),Aa=(0,$e._)("Error: Visualization is not present in layout structure"),ka=(0,$e._)("When a data source is unnamed, generated tokens for the search results and job status will not be available"),ja=(0,$e._)("When a data source is configured with an invalid name, generated tokens for the search results and job status will not be available"),qa=(0,$e._)("When multiple data sources have the same name, generated tokens for the search results and job status may be unpredictable");var Ju=Object.freeze({}),Va=t=>{let e={},r=[],{inputs:n}=t;return Object.entries(n!=null?n:{}).forEach(([s,a])=>{let{token:o}=a.options||Ju;o!==void 0&&(o in e?e[o].push(s):e[o]=[s])}),Object.entries(e).forEach(([s,a])=>{if(a.length>1){let o=a[a.length-1],u=a.slice(0,-1).join(", ");r.push({instancePath:Na,message:(0,Ma._)(`${u} and ${o} have the same token (${s})`)})}}),r};var Or=Pt(Ot());var Jt=t=>!!t&&!Array.isArray(t)&&typeof t=="object";var Wu=t=>Array.isArray(t)&&t.filter(e=>e!==void 0).length===0,Bu=t=>Jt(t)&&Object.keys(t).length===0,Tr=t=>t===null||typeof t=="undefined"||typeof t=="string"&&!t||typeof t!="string"&&typeof t!="object"||Wu(t)||Bu(t);var Ua=t=>{let{inputs:e={},layout:{globalInputs:r=[],structure:n=[]}={}}=t,s=[];return Object.keys(e).forEach(a=>{!(r!=null&&r.includes(a))&&(n==null?void 0:n.findIndex(({item:o})=>o===a))===-1&&s.push({instancePath:Da,message:(0,Or._)(`Input "${a}" is defined but not used in either the Global Inputs Structure or in the Layout Structure`)})}),r==null||r.forEach((a,o)=>{Tr(e[a])&&s.push({instancePath:Ca,message:(0,Or._)(`Input item ${o} references an input "${a}" that does not exist`)}),(n==null?void 0:n.findIndex(({item:u})=>u===a))!==-1&&s.push({instancePath:Oa,message:(0,Or._)(`Input "${a}" exists in both layout structure and global inputs`)})}),s};var Ir=Pt(Ot());var Xu=({dataSource:t})=>{var e;return t.name||((e=t.options)==null?void 0:e.ref)},Yu=(t,e)=>!e.has(t)&&/^([ \\w-.]+)$/.test(t),Fa=(t,e=[])=>{let{dataSources:r={}}=t,n=new Set(e),s=new Set,a=new Set;return Object.keys(r).reduce((o,u)=>{var f;if(!((f=r[u].options)!=null&&f.enableSmartSources))return o;let d=Xu({dataSource:r[u]});return d?(Yu(d,n)?s.has(d)&&!a.has(d)&&(o.push({instancePath:(0,Ir._)(`Warning: Multiple data sources are configured with the name "${d}"`),message:qa}),a.add(d)):o.push({instancePath:(0,Ir._)(`Warning: The data source "${d}" has an invalid name`),message:ja}),s.add(d),o):(o.push({instancePath:(0,Ir._)(`Warning: The data source "${u}" is unnamed`),message:ka}),o)},[])};var Wt=Pt(Ot());var La=t=>{let e=new Set,{visualizations:r={},inputs:n={},layout:{structure:s=[]}={}}=t,a=[];return s==null||s.forEach((o,u)=>{e.has(o.item)&&a.push({instancePath:Ta,message:(0,Wt._)(`Structure item ${u} has the same key "${o.item}" as another structure item`)}),(o.type==="block"||typeof o.type=="undefined")&&!Jt(r==null?void 0:r[o.item])&&a.push({instancePath:Ra,message:(0,Wt._)(`Structure item ${u} references a visualization "${o.item}" that does not exist`)}),o.type==="input"&&!Jt(n==null?void 0:n[o.item])&&a.push({instancePath:Ia,message:(0,Wt._)(`Structure item ${u} references an input "${o.item}" that does not exist`)}),e.add(o.item)}),Object.keys(r).forEach(o=>{e.has(o)||a.push({instancePath:Aa,message:(0,Wt._)(`Visualization "${o}" is not present in Layout Structure`)})}),a};var ru=Pt(eu());var tu=(t,e)=>{let r={};return(...n)=>{let s=e(...n);return r[s]||(r[s]=t(...n)),r[s]}};var Zs=new ru.default({allErrors:!0,allowMatchingProperties:!0,allowUnionTypes:!0,code:{optimize:typeof Worker=="undefined"?!1:1}}),nu=tu(t=>(t!=null&&t.$id&&Zs.getSchema(t.$id)&&Zs.removeSchema(t.$id),Zs.compile(t)),JSON.stringify);var on=class{constructor(){this.validateDefinition=null}setSchema(e){if(!(e!=null&&e.$id))return null;try{this.validateDefinition=nu(e)}catch(r){return r}return null}validate(e,r){var a,o;if(!this.validateDefinition)throw new Error("setSchema must be called first");if(!this.validateDefinition(e)&&((o=(a=this.validateDefinition)==null?void 0:a.errors)!=null&&o.length))return this.validateDefinition.errors;let s=[...Va(e),...La(e),...Ua(e),...Fa(e,r)];return Tr(s)?null:s}};var su=t=>{let{schema:e,definition:r,readOnlyTokenNamespaces:n}=t.data,s=new on,a=s.setSchema(e);return a||s.validate(r,n)};var Lh=self,xh=t=>postMessage(su(t));Lh.addEventListener("message",xh);\n/*! Bundled license information:\n\nuri-js/dist/es5/uri.all.js:\n  (** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)\n*/\n'],{type:"text/javascript"})),e=new Worker(t);return URL.revokeObjectURL(t),e}var ht={};Ic(ht,{default:()=>NC});var gh=Sh(Fs());Eh(ht,Fs());var NC="default"in gh?gh.default:gh,TC=(0,ht._)("Error: Token duplicated across multiple inputs"),IC=(0,ht._)("Error: Item duplicated in layout structure"),jC=(0,ht._)("Error: Input duplicated in both layout structure and global inputs"),AC=(0,ht._)("Error: Input in layout structure does not exist"),kC=(0,ht._)("Error: Input in global input structure does not exist"),CC=(0,ht._)("Error: Input is not present in the global inputs structure or layout structure"),RC=(0,ht._)("Error: Visualization in layout structure does not exist"),DC=(0,ht._)("Error: Visualization is not present in layout structure"),qC=(0,ht._)("When a data source is unnamed, generated tokens for the search results and job status will not be available"),xC=(0,ht._)("When a data source is configured with an invalid name, generated tokens for the search results and job status will not be available"),MC=(0,ht._)("When multiple data sources have the same name, generated tokens for the search results and job status may be unpredictable"),VC=Object.freeze({}),A0=t=>{let e={},r=[],{inputs:s}=t;return Object.entries(s!=null?s:{}).forEach(([o,u])=>{let{token:c}=u.options||VC;c!==void 0&&(c in e?e[c].push(o):e[c]=[o])}),Object.entries(e).forEach(([o,u])=>{if(u.length>1){let c=u[u.length-1],f=u.slice(0,-1).join(", ");r.push({instancePath:TC,message:(0,ht._)(`${f} and ${c} have the same token (${o})`)})}}),r},bh=t=>!!t&&!Array.isArray(t)&&typeof t=="object",UC=t=>Array.isArray(t)&&t.filter(e=>e!==void 0).length===0,FC=t=>bh(t)&&Object.keys(t).length===0,k0=t=>t===null||typeof t=="undefined"||typeof t=="string"&&!t||typeof t!="string"&&typeof t!="object"||UC(t)||FC(t),C0=t=>{let{inputs:e={},layout:{globalInputs:r=[],structure:s=[]}={}}=t,o=[];return Object.keys(e).forEach(u=>{!(r!=null&&r.includes(u))&&(s==null?void 0:s.findIndex(({item:c})=>c===u))===-1&&o.push({instancePath:CC,message:(0,ht._)(`Input "${u}" is defined but not used in either the Global Inputs Structure or in the Layout Structure`)})}),r==null||r.forEach((u,c)=>{k0(e[u])&&o.push({instancePath:kC,message:(0,ht._)(`Input item ${c} references an input "${u}" that does not exist`)}),(s==null?void 0:s.findIndex(({item:f})=>f===u))!==-1&&o.push({instancePath:jC,message:(0,ht._)(`Input "${u}" exists in both layout structure and global inputs`)})}),o},LC=({dataSource:t})=>{var e;return t.name||((e=t.options)==null?void 0:e.ref)},zC=(t,e)=>!e.has(t)&&/^([ \w-.]+)$/.test(t),KC=(t,e=[])=>{let{dataSources:r={}}=t,s=new Set(e),o=new Set,u=new Set;return Object.keys(r).reduce((c,f)=>{var h;if(!((h=r[f].options)!=null&&h.enableSmartSources))return c;let m=LC({dataSource:r[f]});return m?(zC(m,s)?o.has(m)&&!u.has(m)&&(c.push({instancePath:(0,ht._)(`Warning: Multiple data sources are configured with the name "${m}"`),message:MC}),u.add(m)):c.push({instancePath:(0,ht._)(`Warning: The data source "${m}" has an invalid name`),message:xC}),o.add(m),c):(c.push({instancePath:(0,ht._)(`Warning: The data source "${f}" is unnamed`),message:qC}),c)},[])},R0=t=>{let e=new Set,{visualizations:r={},inputs:s={},layout:{structure:o=[]}={}}=t,u=[];return o==null||o.forEach((c,f)=>{e.has(c.item)&&u.push({instancePath:IC,message:(0,ht._)(`Structure item ${f} has the same key "${c.item}" as another structure item`)}),(c.type==="block"||typeof c.type=="undefined")&&!bh(r==null?void 0:r[c.item])&&u.push({instancePath:RC,message:(0,ht._)(`Structure item ${f} references a visualization "${c.item}" that does not exist`)}),c.type==="input"&&!bh(s==null?void 0:s[c.item])&&u.push({instancePath:AC,message:(0,ht._)(`Structure item ${f} references an input "${c.item}" that does not exist`)}),e.add(c.item)}),Object.keys(r).forEach(c=>{e.has(c)||u.push({instancePath:DC,message:(0,ht._)(`Visualization "${c}" is not present in Layout Structure`)})}),u},D0={};Ic(D0,{default:()=>q0});var _h=Sh(yh());Eh(D0,yh());var q0="default"in _h?_h.default:_h,WC=(t,e)=>{let r={};return(...s)=>{let o=e(...s);return r[o]||(r[o]=t(...s)),r[o]}},$h=new q0({allErrors:!0,allowMatchingProperties:!0,allowUnionTypes:!0,code:{optimize:typeof Worker=="undefined"?!1:1}}),HC=WC(t=>((t==null?void 0:t.$id)&&$h.getSchema(t.$id)&&$h.removeSchema(t.$id),$h.compile(t)),JSON.stringify),x0=class{constructor(){this.validateDefinition=null}setSchema(t){if(!(t!=null&&t.$id))return null;try{this.validateDefinition=HC(t)}catch(e){return e}return null}validate(t,e){var r,s;if(!this.validateDefinition)throw new Error("setSchema must be called first");if(!this.validateDefinition(t)&&((s=(r=this.validateDefinition)==null?void 0:r.errors)==null?void 0:s.length))return this.validateDefinition.errors;let u=[...A0(t),...R0(t),...C0(t),...KC(t,e)];return k0(u)?null:u}},GC=t=>{let{schema:e,definition:r,readOnlyTokenNamespaces:s}=t.data,o=new x0,u=o.setSchema(e);return u||o.validate(r,s)},BC=[],JC=({schema:t,definition:e,onError:r,readOnlyTokenNamespaces:s=BC})=>{let o=(0,Ir.useCallback)(({data:f})=>{f&&r(f)},[r]),u=(0,Ir.useCallback)(f=>{f.postMessage({schema:t,definition:e,readOnlyTokenNamespaces:s})},[t,e,s]),{enabled:c}=PC({WorkerClass:OC,onMessage:o,postMessage:u});return(0,Ir.useEffect)(()=>{c||o({data:GC(new MessageEvent("pseudoValidationEvent",{data:{schema:t,definition:e,readOnlyTokenNamespaces:s}}))})},[e,c,t,s,o]),null},wh=(t,e)=>t===e||JSON.stringify(t)===JSON.stringify(e),YC=(0,Ir.memo)(JC,(t,e)=>t.onError===e.onError&&wh(t.schema,e.schema)&&wh(t.definition,e.definition)&&wh(t.readOnlyTokenNamespaces,e.readOnlyTokenNamespaces))});var $i=R(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.regexpCode=Fe.getEsmExportName=Fe.getProperty=Fe.safeStringify=Fe.stringify=Fe.strConcat=Fe.addCodeArg=Fe.str=Fe._=Fe.nil=Fe._Code=Fe.Name=Fe.IDENTIFIER=Fe._CodeOrName=void 0;var gi=class{};Fe._CodeOrName=gi;Fe.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;var hs=class extends gi{constructor(e){if(super(),!Fe.IDENTIFIER.test(e))throw new Error("CodeGen: name must be a valid identifier");this.str=e}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}};Fe.Name=hs;var nn=class extends gi{constructor(e){super(),this._items=typeof e=="string"?[e]:e}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;let e=this._items[0];return e===""||e==='""'}get str(){var e;return(e=this._str)!==null&&e!==void 0?e:this._str=this._items.reduce((r,s)=>`${r}${s}`,"")}get names(){var e;return(e=this._names)!==null&&e!==void 0?e:this._names=this._items.reduce((r,s)=>(s instanceof hs&&(r[s.str]=(r[s.str]||0)+1),r),{})}};Fe._Code=nn;Fe.nil=new nn("");function V0(t,...e){let r=[t[0]],s=0;for(;s<e.length;)Nh(r,e[s]),r.push(t[++s]);return new nn(r)}Fe._=V0;var Oh=new nn("+");function U0(t,...e){let r=[_i(t[0])],s=0;for(;s<e.length;)r.push(Oh),Nh(r,e[s]),r.push(Oh,_i(t[++s]));return ZC(r),new nn(r)}Fe.str=U0;function Nh(t,e){e instanceof nn?t.push(...e._items):e instanceof hs?t.push(e):t.push(eR(e))}Fe.addCodeArg=Nh;function ZC(t){let e=1;for(;e<t.length-1;){if(t[e]===Oh){let r=QC(t[e-1],t[e+1]);if(r!==void 0){t.splice(e-1,3,r);continue}t[e++]="+"}e++}}function QC(t,e){if(e==='""')return t;if(t==='""')return e;if(typeof t=="string")return e instanceof hs||t[t.length-1]!=='"'?void 0:typeof e!="string"?`${t.slice(0,-1)}${e}"`:e[0]==='"'?t.slice(0,-1)+e.slice(1):void 0;if(typeof e=="string"&&e[0]==='"'&&!(t instanceof hs))return`"${t}${e.slice(1)}`}function XC(t,e){return e.emptyStr()?t:t.emptyStr()?e:U0`${t}${e}`}Fe.strConcat=XC;function eR(t){return typeof t=="number"||typeof t=="boolean"||t===null?t:_i(Array.isArray(t)?t.join(","):t)}function tR(t){return new nn(_i(t))}Fe.stringify=tR;function _i(t){return JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}Fe.safeStringify=_i;function rR(t){return typeof t=="string"&&Fe.IDENTIFIER.test(t)?new nn(`.${t}`):V0`[${t}]`}Fe.getProperty=rR;function nR(t){if(typeof t=="string"&&Fe.IDENTIFIER.test(t))return new nn(`${t}`);throw new Error(`CodeGen: invalid export name: ${t}, use explicit $id name mapping`)}Fe.getEsmExportName=nR;function aR(t){return new nn(t.toString())}Fe.regexpCode=aR});var Ah=R(fr=>{"use strict";Object.defineProperty(fr,"__esModule",{value:!0});fr.ValueScope=fr.ValueScopeName=fr.Scope=fr.varKinds=fr.UsedValueState=void 0;var jr=$i(),Th=class extends Error{constructor(e){super(`CodeGen: "code" for ${e} not defined`),this.value=e.value}},Ih;(function(t){t[t.Started=0]="Started",t[t.Completed=1]="Completed"})(Ih=fr.UsedValueState||(fr.UsedValueState={}));fr.varKinds={const:new jr.Name("const"),let:new jr.Name("let"),var:new jr.Name("var")};var jc=class{constructor({prefixes:e,parent:r}={}){this._names={},this._prefixes=e,this._parent=r}toName(e){return e instanceof jr.Name?e:this.name(e)}name(e){return new jr.Name(this._newName(e))}_newName(e){let r=this._names[e]||this._nameGroup(e);return`${e}${r.index++}`}_nameGroup(e){var r,s;if(((s=(r=this._parent)===null||r===void 0?void 0:r._prefixes)===null||s===void 0?void 0:s.has(e))||this._prefixes&&!this._prefixes.has(e))throw new Error(`CodeGen: prefix "${e}" is not allowed in this scope`);return this._names[e]={prefix:e,index:0}}};fr.Scope=jc;var Ac=class extends jr.Name{constructor(e,r){super(r),this.prefix=e}setValue(e,{property:r,itemIndex:s}){this.value=e,this.scopePath=(0,jr._)`.${new jr.Name(r)}[${s}]`}};fr.ValueScopeName=Ac;var sR=(0,jr._)`\n`,jh=class extends jc{constructor(e){super(e),this._values={},this._scope=e.scope,this.opts=Ze(ce({},e),{_n:e.lines?sR:jr.nil})}get(){return this._scope}name(e){return new Ac(e,this._newName(e))}value(e,r){var s;if(r.ref===void 0)throw new Error("CodeGen: ref must be passed in value");let o=this.toName(e),{prefix:u}=o,c=(s=r.key)!==null&&s!==void 0?s:r.ref,f=this._values[u];if(f){let y=f.get(c);if(y)return y}else f=this._values[u]=new Map;f.set(c,o);let h=this._scope[u]||(this._scope[u]=[]),m=h.length;return h[m]=r.ref,o.setValue(r,{property:u,itemIndex:m}),o}getValue(e,r){let s=this._values[e];if(!!s)return s.get(r)}scopeRefs(e,r=this._values){return this._reduceValues(r,s=>{if(s.scopePath===void 0)throw new Error(`CodeGen: name "${s}" has no value`);return(0,jr._)`${e}${s.scopePath}`})}scopeCode(e=this._values,r,s){return this._reduceValues(e,o=>{if(o.value===void 0)throw new Error(`CodeGen: name "${o}" has no value`);return o.value.code},r,s)}_reduceValues(e,r,s={},o){let u=jr.nil;for(let c in e){let f=e[c];if(!f)continue;let h=s[c]=s[c]||new Map;f.forEach(m=>{if(h.has(m))return;h.set(m,Ih.Started);let y=r(m);if(y){let g=this.opts.es5?fr.varKinds.var:fr.varKinds.const;u=(0,jr._)`${u}${g} ${m} = ${y};${this.opts._n}`}else if(y=o==null?void 0:o(m))u=(0,jr._)`${u}${y}${this.opts._n}`;else throw new Th(m);h.set(m,Ih.Completed)})}return u}};fr.ValueScope=jh});var je=R(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.or=Pe.and=Pe.not=Pe.CodeGen=Pe.operators=Pe.varKinds=Pe.ValueScopeName=Pe.ValueScope=Pe.Scope=Pe.Name=Pe.regexpCode=Pe.stringify=Pe.getProperty=Pe.nil=Pe.strConcat=Pe.str=Pe._=void 0;var ke=$i(),_n=Ah(),Ra=$i();Object.defineProperty(Pe,"_",{enumerable:!0,get:function(){return Ra._}});Object.defineProperty(Pe,"str",{enumerable:!0,get:function(){return Ra.str}});Object.defineProperty(Pe,"strConcat",{enumerable:!0,get:function(){return Ra.strConcat}});Object.defineProperty(Pe,"nil",{enumerable:!0,get:function(){return Ra.nil}});Object.defineProperty(Pe,"getProperty",{enumerable:!0,get:function(){return Ra.getProperty}});Object.defineProperty(Pe,"stringify",{enumerable:!0,get:function(){return Ra.stringify}});Object.defineProperty(Pe,"regexpCode",{enumerable:!0,get:function(){return Ra.regexpCode}});Object.defineProperty(Pe,"Name",{enumerable:!0,get:function(){return Ra.Name}});var Dc=Ah();Object.defineProperty(Pe,"Scope",{enumerable:!0,get:function(){return Dc.Scope}});Object.defineProperty(Pe,"ValueScope",{enumerable:!0,get:function(){return Dc.ValueScope}});Object.defineProperty(Pe,"ValueScopeName",{enumerable:!0,get:function(){return Dc.ValueScopeName}});Object.defineProperty(Pe,"varKinds",{enumerable:!0,get:function(){return Dc.varKinds}});Pe.operators={GT:new ke._Code(">"),GTE:new ke._Code(">="),LT:new ke._Code("<"),LTE:new ke._Code("<="),EQ:new ke._Code("==="),NEQ:new ke._Code("!=="),NOT:new ke._Code("!"),OR:new ke._Code("||"),AND:new ke._Code("&&"),ADD:new ke._Code("+")};var sa=class{optimizeNodes(){return this}optimizeNames(e,r){return this}},kh=class extends sa{constructor(e,r,s){super(),this.varKind=e,this.name=r,this.rhs=s}render({es5:e,_n:r}){let s=e?_n.varKinds.var:this.varKind,o=this.rhs===void 0?"":` = ${this.rhs}`;return`${s} ${this.name}${o};`+r}optimizeNames(e,r){if(!!e[this.name.str])return this.rhs&&(this.rhs=ro(this.rhs,e,r)),this}get names(){return this.rhs instanceof ke._CodeOrName?this.rhs.names:{}}},kc=class extends sa{constructor(e,r,s){super(),this.lhs=e,this.rhs=r,this.sideEffects=s}render({_n:e}){return`${this.lhs} = ${this.rhs};`+e}optimizeNames(e,r){if(!(this.lhs instanceof ke.Name&&!e[this.lhs.str]&&!this.sideEffects))return this.rhs=ro(this.rhs,e,r),this}get names(){let e=this.lhs instanceof ke.Name?{}:ce({},this.lhs.names);return Rc(e,this.rhs)}},Ch=class extends kc{constructor(e,r,s,o){super(e,s,o),this.op=r}render({_n:e}){return`${this.lhs} ${this.op}= ${this.rhs};`+e}},Rh=class extends sa{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`${this.label}:`+e}},Dh=class extends sa{constructor(e){super(),this.label=e,this.names={}}render({_n:e}){return`break${this.label?` ${this.label}`:""};`+e}},qh=class extends sa{constructor(e){super(),this.error=e}render({_n:e}){return`throw ${this.error};`+e}get names(){return this.error.names}},xh=class extends sa{constructor(e){super(),this.code=e}render({_n:e}){return`${this.code};`+e}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(e,r){return this.code=ro(this.code,e,r),this}get names(){return this.code instanceof ke._CodeOrName?this.code.names:{}}},wi=class extends sa{constructor(e=[]){super(),this.nodes=e}render(e){return this.nodes.reduce((r,s)=>r+s.render(e),"")}optimizeNodes(){let{nodes:e}=this,r=e.length;for(;r--;){let s=e[r].optimizeNodes();Array.isArray(s)?e.splice(r,1,...s):s?e[r]=s:e.splice(r,1)}return e.length>0?this:void 0}optimizeNames(e,r){let{nodes:s}=this,o=s.length;for(;o--;){let u=s[o];u.optimizeNames(e,r)||(oR(e,u.names),s.splice(o,1))}return s.length>0?this:void 0}get names(){return this.nodes.reduce((e,r)=>ms(e,r.names),{})}},oa=class extends wi{render(e){return"{"+e._n+super.render(e)+"}"+e._n}},Mh=class extends wi{},to=class extends oa{};to.kind="else";var $n=class extends oa{constructor(e,r){super(r),this.condition=e}render(e){let r=`if(${this.condition})`+super.render(e);return this.else&&(r+="else "+this.else.render(e)),r}optimizeNodes(){super.optimizeNodes();let e=this.condition;if(e===!0)return this.nodes;let r=this.else;if(r){let s=r.optimizeNodes();r=this.else=Array.isArray(s)?new to(s):s}if(r)return e===!1?r instanceof $n?r:r.nodes:this.nodes.length?this:new $n(F0(e),r instanceof $n?[r]:r.nodes);if(!(e===!1||!this.nodes.length))return this}optimizeNames(e,r){var s;if(this.else=(s=this.else)===null||s===void 0?void 0:s.optimizeNames(e,r),!!(super.optimizeNames(e,r)||this.else))return this.condition=ro(this.condition,e,r),this}get names(){let e=super.names;return Rc(e,this.condition),this.else&&ms(e,this.else.names),e}};$n.kind="if";var ps=class extends oa{};ps.kind="for";var Vh=class extends ps{constructor(e){super(),this.iteration=e}render(e){return`for(${this.iteration})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iteration=ro(this.iteration,e,r),this}get names(){return ms(super.names,this.iteration.names)}},Uh=class extends ps{constructor(e,r,s,o){super(),this.varKind=e,this.name=r,this.from=s,this.to=o}render(e){let r=e.es5?_n.varKinds.var:this.varKind,{name:s,from:o,to:u}=this;return`for(${r} ${s}=${o}; ${s}<${u}; ${s}++)`+super.render(e)}get names(){let e=Rc(super.names,this.from);return Rc(e,this.to)}},Cc=class extends ps{constructor(e,r,s,o){super(),this.loop=e,this.varKind=r,this.name=s,this.iterable=o}render(e){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(e)}optimizeNames(e,r){if(!!super.optimizeNames(e,r))return this.iterable=ro(this.iterable,e,r),this}get names(){return ms(super.names,this.iterable.names)}},bi=class extends oa{constructor(e,r,s){super(),this.name=e,this.args=r,this.async=s}render(e){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(e)}};bi.kind="func";var Ei=class extends wi{render(e){return"return "+super.render(e)}};Ei.kind="return";var Fh=class extends oa{render(e){let r="try"+super.render(e);return this.catch&&(r+=this.catch.render(e)),this.finally&&(r+=this.finally.render(e)),r}optimizeNodes(){var e,r;return super.optimizeNodes(),(e=this.catch)===null||e===void 0||e.optimizeNodes(),(r=this.finally)===null||r===void 0||r.optimizeNodes(),this}optimizeNames(e,r){var s,o;return super.optimizeNames(e,r),(s=this.catch)===null||s===void 0||s.optimizeNames(e,r),(o=this.finally)===null||o===void 0||o.optimizeNames(e,r),this}get names(){let e=super.names;return this.catch&&ms(e,this.catch.names),this.finally&&ms(e,this.finally.names),e}},Si=class extends oa{constructor(e){super(),this.error=e}render(e){return`catch(${this.error})`+super.render(e)}};Si.kind="catch";var Pi=class extends oa{render(e){return"finally"+super.render(e)}};Pi.kind="finally";var Lh=class{constructor(e,r={}){this._values={},this._blockStarts=[],this._constants={},this.opts=Ze(ce({},r),{_n:r.lines?`
`:""}),this._extScope=e,this._scope=new _n.Scope({parent:e}),this._nodes=[new Mh]}toString(){return this._root.render(this.opts)}name(e){return this._scope.name(e)}scopeName(e){return this._extScope.name(e)}scopeValue(e,r){let s=this._extScope.value(e,r);return(this._values[s.prefix]||(this._values[s.prefix]=new Set)).add(s),s}getScopeValue(e,r){return this._extScope.getValue(e,r)}scopeRefs(e){return this._extScope.scopeRefs(e,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(e,r,s,o){let u=this._scope.toName(r);return s!==void 0&&o&&(this._constants[u.str]=s),this._leafNode(new kh(e,u,s)),u}const(e,r,s){return this._def(_n.varKinds.const,e,r,s)}let(e,r,s){return this._def(_n.varKinds.let,e,r,s)}var(e,r,s){return this._def(_n.varKinds.var,e,r,s)}assign(e,r,s){return this._leafNode(new kc(e,r,s))}add(e,r){return this._leafNode(new Ch(e,Pe.operators.ADD,r))}code(e){return typeof e=="function"?e():e!==ke.nil&&this._leafNode(new xh(e)),this}object(...e){let r=["{"];for(let[s,o]of e)r.length>1&&r.push(","),r.push(s),(s!==o||this.opts.es5)&&(r.push(":"),(0,ke.addCodeArg)(r,o));return r.push("}"),new ke._Code(r)}if(e,r,s){if(this._blockNode(new $n(e)),r&&s)this.code(r).else().code(s).endIf();else if(r)this.code(r).endIf();else if(s)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(e){return this._elseNode(new $n(e))}else(){return this._elseNode(new to)}endIf(){return this._endBlockNode($n,to)}_for(e,r){return this._blockNode(e),r&&this.code(r).endFor(),this}for(e,r){return this._for(new Vh(e),r)}forRange(e,r,s,o,u=this.opts.es5?_n.varKinds.var:_n.varKinds.let){let c=this._scope.toName(e);return this._for(new Uh(u,c,r,s),()=>o(c))}forOf(e,r,s,o=_n.varKinds.const){let u=this._scope.toName(e);if(this.opts.es5){let c=r instanceof ke.Name?r:this.var("_arr",r);return this.forRange("_i",0,(0,ke._)`${c}.length`,f=>{this.var(u,(0,ke._)`${c}[${f}]`),s(u)})}return this._for(new Cc("of",o,u,r),()=>s(u))}forIn(e,r,s,o=this.opts.es5?_n.varKinds.var:_n.varKinds.const){if(this.opts.ownProperties)return this.forOf(e,(0,ke._)`Object.keys(${r})`,s);let u=this._scope.toName(e);return this._for(new Cc("in",o,u,r),()=>s(u))}endFor(){return this._endBlockNode(ps)}label(e){return this._leafNode(new Rh(e))}break(e){return this._leafNode(new Dh(e))}return(e){let r=new Ei;if(this._blockNode(r),this.code(e),r.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(Ei)}try(e,r,s){if(!r&&!s)throw new Error('CodeGen: "try" without "catch" and "finally"');let o=new Fh;if(this._blockNode(o),this.code(e),r){let u=this.name("e");this._currNode=o.catch=new Si(u),r(u)}return s&&(this._currNode=o.finally=new Pi,this.code(s)),this._endBlockNode(Si,Pi)}throw(e){return this._leafNode(new qh(e))}block(e,r){return this._blockStarts.push(this._nodes.length),e&&this.code(e).endBlock(r),this}endBlock(e){let r=this._blockStarts.pop();if(r===void 0)throw new Error("CodeGen: not in self-balancing block");let s=this._nodes.length-r;if(s<0||e!==void 0&&s!==e)throw new Error(`CodeGen: wrong number of nodes: ${s} vs ${e} expected`);return this._nodes.length=r,this}func(e,r=ke.nil,s,o){return this._blockNode(new bi(e,r,s)),o&&this.code(o).endFunc(),this}endFunc(){return this._endBlockNode(bi)}optimize(e=1){for(;e-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(e){return this._currNode.nodes.push(e),this}_blockNode(e){this._currNode.nodes.push(e),this._nodes.push(e)}_endBlockNode(e,r){let s=this._currNode;if(s instanceof e||r&&s instanceof r)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${r?`${e.kind}/${r.kind}`:e.kind}"`)}_elseNode(e){let r=this._currNode;if(!(r instanceof $n))throw new Error('CodeGen: "else" without "if"');return this._currNode=r.else=e,this}get _root(){return this._nodes[0]}get _currNode(){let e=this._nodes;return e[e.length-1]}set _currNode(e){let r=this._nodes;r[r.length-1]=e}};Pe.CodeGen=Lh;function ms(t,e){for(let r in e)t[r]=(t[r]||0)+(e[r]||0);return t}function Rc(t,e){return e instanceof ke._CodeOrName?ms(t,e.names):t}function ro(t,e,r){if(t instanceof ke.Name)return s(t);if(!o(t))return t;return new ke._Code(t._items.reduce((u,c)=>(c instanceof ke.Name&&(c=s(c)),c instanceof ke._Code?u.push(...c._items):u.push(c),u),[]));function s(u){let c=r[u.str];return c===void 0||e[u.str]!==1?u:(delete e[u.str],c)}function o(u){return u instanceof ke._Code&&u._items.some(c=>c instanceof ke.Name&&e[c.str]===1&&r[c.str]!==void 0)}}function oR(t,e){for(let r in e)t[r]=(t[r]||0)-(e[r]||0)}function F0(t){return typeof t=="boolean"||typeof t=="number"||t===null?!t:(0,ke._)`!${zh(t)}`}Pe.not=F0;var iR=L0(Pe.operators.AND);function uR(...t){return t.reduce(iR)}Pe.and=uR;var cR=L0(Pe.operators.OR);function lR(...t){return t.reduce(cR)}Pe.or=lR;function L0(t){return(e,r)=>e===ke.nil?r:r===ke.nil?e:(0,ke._)`${zh(e)} ${t} ${zh(r)}`}function zh(t){return t instanceof ke.Name?t:(0,ke._)`(${t})`}});var Le=R(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.checkStrictMode=Oe.getErrorPath=Oe.Type=Oe.useFunc=Oe.setEvaluated=Oe.evaluatedPropsToName=Oe.mergeEvaluated=Oe.eachItem=Oe.unescapeJsonPointer=Oe.escapeJsonPointer=Oe.escapeFragment=Oe.unescapeFragment=Oe.schemaRefOrVal=Oe.schemaHasRulesButRef=Oe.schemaHasRules=Oe.checkUnknownRules=Oe.alwaysValidSchema=Oe.toHash=void 0;var tt=je(),fR=$i();function dR(t){let e={};for(let r of t)e[r]=!0;return e}Oe.toHash=dR;function hR(t,e){return typeof e=="boolean"?e:Object.keys(e).length===0?!0:(W0(t,e),!H0(e,t.self.RULES.all))}Oe.alwaysValidSchema=hR;function W0(t,e=t.schema){let{opts:r,self:s}=t;if(!r.strictSchema||typeof e=="boolean")return;let o=s.RULES.keywords;for(let u in e)o[u]||Y0(t,`unknown keyword: "${u}"`)}Oe.checkUnknownRules=W0;function H0(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(e[r])return!0;return!1}Oe.schemaHasRules=H0;function pR(t,e){if(typeof t=="boolean")return!t;for(let r in t)if(r!=="$ref"&&e.all[r])return!0;return!1}Oe.schemaHasRulesButRef=pR;function mR({topSchemaRef:t,schemaPath:e},r,s,o){if(!o){if(typeof r=="number"||typeof r=="boolean")return r;if(typeof r=="string")return(0,tt._)`${r}`}return(0,tt._)`${t}${e}${(0,tt.getProperty)(s)}`}Oe.schemaRefOrVal=mR;function yR(t){return G0(decodeURIComponent(t))}Oe.unescapeFragment=yR;function vR(t){return encodeURIComponent(Kh(t))}Oe.escapeFragment=vR;function Kh(t){return typeof t=="number"?`${t}`:t.replace(/~/g,"~0").replace(/\//g,"~1")}Oe.escapeJsonPointer=Kh;function G0(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Oe.unescapeJsonPointer=G0;function gR(t,e){if(Array.isArray(t))for(let r of t)e(r);else e(t)}Oe.eachItem=gR;function z0({mergeNames:t,mergeToName:e,mergeValues:r,resultToName:s}){return(o,u,c,f)=>{let h=c===void 0?u:c instanceof tt.Name?(u instanceof tt.Name?t(o,u,c):e(o,u,c),c):u instanceof tt.Name?(e(o,c,u),u):r(u,c);return f===tt.Name&&!(h instanceof tt.Name)?s(o,h):h}}Oe.mergeEvaluated={props:z0({mergeNames:(t,e,r)=>t.if((0,tt._)`${r} !== true && ${e} !== undefined`,()=>{t.if((0,tt._)`${e} === true`,()=>t.assign(r,!0),()=>t.assign(r,(0,tt._)`${r} || {}`).code((0,tt._)`Object.assign(${r}, ${e})`))}),mergeToName:(t,e,r)=>t.if((0,tt._)`${r} !== true`,()=>{e===!0?t.assign(r,!0):(t.assign(r,(0,tt._)`${r} || {}`),Wh(t,r,e))}),mergeValues:(t,e)=>t===!0?!0:ce(ce({},t),e),resultToName:B0}),items:z0({mergeNames:(t,e,r)=>t.if((0,tt._)`${r} !== true && ${e} !== undefined`,()=>t.assign(r,(0,tt._)`${e} === true ? true : ${r} > ${e} ? ${r} : ${e}`)),mergeToName:(t,e,r)=>t.if((0,tt._)`${r} !== true`,()=>t.assign(r,e===!0?!0:(0,tt._)`${r} > ${e} ? ${r} : ${e}`)),mergeValues:(t,e)=>t===!0?!0:Math.max(t,e),resultToName:(t,e)=>t.var("items",e)})};function B0(t,e){if(e===!0)return t.var("props",!0);let r=t.var("props",(0,tt._)`{}`);return e!==void 0&&Wh(t,r,e),r}Oe.evaluatedPropsToName=B0;function Wh(t,e,r){Object.keys(r).forEach(s=>t.assign((0,tt._)`${e}${(0,tt.getProperty)(s)}`,!0))}Oe.setEvaluated=Wh;var K0={};function _R(t,e){return t.scopeValue("func",{ref:e,code:K0[e.code]||(K0[e.code]=new fR._Code(e.code))})}Oe.useFunc=_R;var J0;(function(t){t[t.Num=0]="Num",t[t.Str=1]="Str"})(J0=Oe.Type||(Oe.Type={}));function $R(t,e,r){if(t instanceof tt.Name){let s=e===J0.Num;return r?s?(0,tt._)`"[" + ${t} + "]"`:(0,tt._)`"['" + ${t} + "']"`:s?(0,tt._)`"/" + ${t}`:(0,tt._)`"/" + ${t}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return r?(0,tt.getProperty)(t).toString():"/"+Kh(t)}Oe.getErrorPath=$R;function Y0(t,e,r=t.opts.strictSchema){if(!!r){if(e=`strict mode: ${e}`,r===!0)throw new Error(e);t.self.logger.warn(e)}}Oe.checkStrictMode=Y0});var ia=R(Hh=>{"use strict";Object.defineProperty(Hh,"__esModule",{value:!0});var er=je(),wR={data:new er.Name("data"),valCxt:new er.Name("valCxt"),instancePath:new er.Name("instancePath"),parentData:new er.Name("parentData"),parentDataProperty:new er.Name("parentDataProperty"),rootData:new er.Name("rootData"),dynamicAnchors:new er.Name("dynamicAnchors"),vErrors:new er.Name("vErrors"),errors:new er.Name("errors"),this:new er.Name("this"),self:new er.Name("self"),scope:new er.Name("scope"),json:new er.Name("json"),jsonPos:new er.Name("jsonPos"),jsonLen:new er.Name("jsonLen"),jsonPart:new er.Name("jsonPart")};Hh.default=wR});var Oi=R(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.extendErrors=tr.resetErrorsCount=tr.reportExtraError=tr.reportError=tr.keyword$DataError=tr.keywordError=void 0;var qe=je(),qc=Le(),dr=ia();tr.keywordError={message:({keyword:t})=>(0,qe.str)`must pass "${t}" keyword validation`};tr.keyword$DataError={message:({keyword:t,schemaType:e})=>e?(0,qe.str)`"${t}" keyword must be ${e} ($data)`:(0,qe.str)`"${t}" keyword is invalid ($data)`};function bR(t,e=tr.keywordError,r,s){let{it:o}=t,{gen:u,compositeRule:c,allErrors:f}=o,h=X0(t,e,r);(s!=null?s:c||f)?Z0(u,h):Q0(o,(0,qe._)`[${h}]`)}tr.reportError=bR;function ER(t,e=tr.keywordError,r){let{it:s}=t,{gen:o,compositeRule:u,allErrors:c}=s,f=X0(t,e,r);Z0(o,f),u||c||Q0(s,dr.default.vErrors)}tr.reportExtraError=ER;function SR(t,e){t.assign(dr.default.errors,e),t.if((0,qe._)`${dr.default.vErrors} !== null`,()=>t.if(e,()=>t.assign((0,qe._)`${dr.default.vErrors}.length`,e),()=>t.assign(dr.default.vErrors,null)))}tr.resetErrorsCount=SR;function PR({gen:t,keyword:e,schemaValue:r,data:s,errsCount:o,it:u}){if(o===void 0)throw new Error("ajv implementation error");let c=t.name("err");t.forRange("i",o,dr.default.errors,f=>{t.const(c,(0,qe._)`${dr.default.vErrors}[${f}]`),t.if((0,qe._)`${c}.instancePath === undefined`,()=>t.assign((0,qe._)`${c}.instancePath`,(0,qe.strConcat)(dr.default.instancePath,u.errorPath))),t.assign((0,qe._)`${c}.schemaPath`,(0,qe.str)`${u.errSchemaPath}/${e}`),u.opts.verbose&&(t.assign((0,qe._)`${c}.schema`,r),t.assign((0,qe._)`${c}.data`,s))})}tr.extendErrors=PR;function Z0(t,e){let r=t.const("err",e);t.if((0,qe._)`${dr.default.vErrors} === null`,()=>t.assign(dr.default.vErrors,(0,qe._)`[${r}]`),(0,qe._)`${dr.default.vErrors}.push(${r})`),t.code((0,qe._)`${dr.default.errors}++`)}function Q0(t,e){let{gen:r,validateName:s,schemaEnv:o}=t;o.$async?r.throw((0,qe._)`new ${t.ValidationError}(${e})`):(r.assign((0,qe._)`${s}.errors`,e),r.return(!1))}var ys={keyword:new qe.Name("keyword"),schemaPath:new qe.Name("schemaPath"),params:new qe.Name("params"),propertyName:new qe.Name("propertyName"),message:new qe.Name("message"),schema:new qe.Name("schema"),parentSchema:new qe.Name("parentSchema")};function X0(t,e,r){let{createErrors:s}=t.it;return s===!1?(0,qe._)`{}`:OR(t,e,r)}function OR(t,e,r={}){let{gen:s,it:o}=t,u=[NR(o,r),TR(t,r)];return IR(t,e,u),s.object(...u)}function NR({errorPath:t},{instancePath:e}){let r=e?(0,qe.str)`${t}${(0,qc.getErrorPath)(e,qc.Type.Str)}`:t;return[dr.default.instancePath,(0,qe.strConcat)(dr.default.instancePath,r)]}function TR({keyword:t,it:{errSchemaPath:e}},{schemaPath:r,parentSchema:s}){let o=s?e:(0,qe.str)`${e}/${t}`;return r&&(o=(0,qe.str)`${o}${(0,qc.getErrorPath)(r,qc.Type.Str)}`),[ys.schemaPath,o]}function IR(t,{params:e,message:r},s){let{keyword:o,data:u,schemaValue:c,it:f}=t,{opts:h,propertyName:m,topSchemaRef:y,schemaPath:g}=f;s.push([ys.keyword,o],[ys.params,typeof e=="function"?e(t):e||(0,qe._)`{}`]),h.messages&&s.push([ys.message,typeof r=="function"?r(t):r]),h.verbose&&s.push([ys.schema,c],[ys.parentSchema,(0,qe._)`${y}${g}`],[dr.default.data,u]),m&&s.push([ys.propertyName,m])}});var t$=R(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.boolOrEmptySchema=no.topBoolOrEmptySchema=void 0;var jR=Oi(),AR=je(),kR=ia(),CR={message:"boolean schema is false"};function RR(t){let{gen:e,schema:r,validateName:s}=t;r===!1?e$(t,!1):typeof r=="object"&&r.$async===!0?e.return(kR.default.data):(e.assign((0,AR._)`${s}.errors`,null),e.return(!0))}no.topBoolOrEmptySchema=RR;function DR(t,e){let{gen:r,schema:s}=t;s===!1?(r.var(e,!1),e$(t)):r.var(e,!0)}no.boolOrEmptySchema=DR;function e$(t,e){let{gen:r,data:s}=t,o={gen:r,keyword:"false schema",data:s,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,jR.reportError)(o,CR,void 0,e)}});var Gh=R(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.getRules=ao.isJSONType=void 0;var qR=["string","number","integer","boolean","null","object","array"],xR=new Set(qR);function MR(t){return typeof t=="string"&&xR.has(t)}ao.isJSONType=MR;function VR(){let t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:Ze(ce({},t),{integer:!0,boolean:!0,null:!0}),rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ao.getRules=VR});var Bh=R(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.shouldUseRule=Da.shouldUseGroup=Da.schemaHasRulesForType=void 0;function UR({schema:t,self:e},r){let s=e.RULES.types[r];return s&&s!==!0&&r$(t,s)}Da.schemaHasRulesForType=UR;function r$(t,e){return e.rules.some(r=>n$(t,r))}Da.shouldUseGroup=r$;function n$(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(s=>t[s]!==void 0))}Da.shouldUseRule=n$});var Ti=R(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.reportTypeError=zt.checkDataTypes=zt.checkDataType=zt.coerceAndCheckDataType=zt.getJSONTypes=zt.getSchemaTypes=zt.DataType=void 0;var FR=Gh(),LR=Bh(),zR=Oi(),_e=je(),a$=Le(),Ni;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(Ni=zt.DataType||(zt.DataType={}));function KR(t){let e=s$(t.type);if(e.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!e.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&e.push("null")}return e}zt.getSchemaTypes=KR;function s$(t){let e=Array.isArray(t)?t:t?[t]:[];if(e.every(FR.isJSONType))return e;throw new Error("type must be JSONType or JSONType[]: "+e.join(","))}zt.getJSONTypes=s$;function WR(t,e){let{gen:r,data:s,opts:o}=t,u=HR(e,o.coerceTypes),c=e.length>0&&!(u.length===0&&e.length===1&&(0,LR.schemaHasRulesForType)(t,e[0]));if(c){let f=Yh(e,s,o.strictNumbers,Ni.Wrong);r.if(f,()=>{u.length?GR(t,e,u):Zh(t)})}return c}zt.coerceAndCheckDataType=WR;var o$=new Set(["string","number","integer","boolean","null"]);function HR(t,e){return e?t.filter(r=>o$.has(r)||e==="array"&&r==="array"):[]}function GR(t,e,r){let{gen:s,data:o,opts:u}=t,c=s.let("dataType",(0,_e._)`typeof ${o}`),f=s.let("coerced",(0,_e._)`undefined`);u.coerceTypes==="array"&&s.if((0,_e._)`${c} == 'object' && Array.isArray(${o}) && ${o}.length == 1`,()=>s.assign(o,(0,_e._)`${o}[0]`).assign(c,(0,_e._)`typeof ${o}`).if(Yh(e,o,u.strictNumbers),()=>s.assign(f,o))),s.if((0,_e._)`${f} !== undefined`);for(let m of r)(o$.has(m)||m==="array"&&u.coerceTypes==="array")&&h(m);s.else(),Zh(t),s.endIf(),s.if((0,_e._)`${f} !== undefined`,()=>{s.assign(o,f),BR(t,f)});function h(m){switch(m){case"string":s.elseIf((0,_e._)`${c} == "number" || ${c} == "boolean"`).assign(f,(0,_e._)`"" + ${o}`).elseIf((0,_e._)`${o} === null`).assign(f,(0,_e._)`""`);return;case"number":s.elseIf((0,_e._)`${c} == "boolean" || ${o} === null
              || (${c} == "string" && ${o} && ${o} == +${o})`).assign(f,(0,_e._)`+${o}`);return;case"integer":s.elseIf((0,_e._)`${c} === "boolean" || ${o} === null
              || (${c} === "string" && ${o} && ${o} == +${o} && !(${o} % 1))`).assign(f,(0,_e._)`+${o}`);return;case"boolean":s.elseIf((0,_e._)`${o} === "false" || ${o} === 0 || ${o} === null`).assign(f,!1).elseIf((0,_e._)`${o} === "true" || ${o} === 1`).assign(f,!0);return;case"null":s.elseIf((0,_e._)`${o} === "" || ${o} === 0 || ${o} === false`),s.assign(f,null);return;case"array":s.elseIf((0,_e._)`${c} === "string" || ${c} === "number"
              || ${c} === "boolean" || ${o} === null`).assign(f,(0,_e._)`[${o}]`)}}}function BR({gen:t,parentData:e,parentDataProperty:r},s){t.if((0,_e._)`${e} !== undefined`,()=>t.assign((0,_e._)`${e}[${r}]`,s))}function Jh(t,e,r,s=Ni.Correct){let o=s===Ni.Correct?_e.operators.EQ:_e.operators.NEQ,u;switch(t){case"null":return(0,_e._)`${e} ${o} null`;case"array":u=(0,_e._)`Array.isArray(${e})`;break;case"object":u=(0,_e._)`${e} && typeof ${e} == "object" && !Array.isArray(${e})`;break;case"integer":u=c((0,_e._)`!(${e} % 1) && !isNaN(${e})`);break;case"number":u=c();break;default:return(0,_e._)`typeof ${e} ${o} ${t}`}return s===Ni.Correct?u:(0,_e.not)(u);function c(f=_e.nil){return(0,_e.and)((0,_e._)`typeof ${e} == "number"`,f,r?(0,_e._)`isFinite(${e})`:_e.nil)}}zt.checkDataType=Jh;function Yh(t,e,r,s){if(t.length===1)return Jh(t[0],e,r,s);let o,u=(0,a$.toHash)(t);if(u.array&&u.object){let c=(0,_e._)`typeof ${e} != "object"`;o=u.null?c:(0,_e._)`!${e} || ${c}`,delete u.null,delete u.array,delete u.object}else o=_e.nil;u.number&&delete u.integer;for(let c in u)o=(0,_e.and)(o,Jh(c,e,r,s));return o}zt.checkDataTypes=Yh;var JR={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:e})=>typeof t=="string"?(0,_e._)`{type: ${t}}`:(0,_e._)`{type: ${e}}`};function Zh(t){let e=YR(t);(0,zR.reportError)(e,JR)}zt.reportTypeError=Zh;function YR(t){let{gen:e,data:r,schema:s}=t,o=(0,a$.schemaRefOrVal)(t,s,"type");return{gen:e,keyword:"type",data:r,schema:s.type,schemaCode:o,schemaValue:o,parentSchema:s,params:{},it:t}}});var u$=R(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});xc.assignDefaults=void 0;var so=je(),ZR=Le();function QR(t,e){let{properties:r,items:s}=t.schema;if(e==="object"&&r)for(let o in r)i$(t,o,r[o].default);else e==="array"&&Array.isArray(s)&&s.forEach((o,u)=>i$(t,u,o.default))}xc.assignDefaults=QR;function i$(t,e,r){let{gen:s,compositeRule:o,data:u,opts:c}=t;if(r===void 0)return;let f=(0,so._)`${u}${(0,so.getProperty)(e)}`;if(o){(0,ZR.checkStrictMode)(t,`default is ignored for: ${f}`);return}let h=(0,so._)`${f} === undefined`;c.useDefaults==="empty"&&(h=(0,so._)`${h} || ${f} === null || ${f} === ""`),s.if(h,(0,so._)`${f} = ${(0,so.stringify)(r)}`)}});var an=R(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.validateUnion=Xe.validateArray=Xe.usePattern=Xe.callValidateCode=Xe.schemaProperties=Xe.allSchemaProperties=Xe.noPropertyInData=Xe.propertyInData=Xe.isOwnProperty=Xe.hasPropFunc=Xe.reportMissingProp=Xe.checkMissingProp=Xe.checkReportMissingProp=void 0;var lt=je(),Qh=Le(),qa=ia(),XR=Le();function eD(t,e){let{gen:r,data:s,it:o}=t;r.if(ep(r,s,e,o.opts.ownProperties),()=>{t.setParams({missingProperty:(0,lt._)`${e}`},!0),t.error()})}Xe.checkReportMissingProp=eD;function tD({gen:t,data:e,it:{opts:r}},s,o){return(0,lt.or)(...s.map(u=>(0,lt.and)(ep(t,e,u,r.ownProperties),(0,lt._)`${o} = ${u}`)))}Xe.checkMissingProp=tD;function rD(t,e){t.setParams({missingProperty:e},!0),t.error()}Xe.reportMissingProp=rD;function c$(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,lt._)`Object.prototype.hasOwnProperty`})}Xe.hasPropFunc=c$;function Xh(t,e,r){return(0,lt._)`${c$(t)}.call(${e}, ${r})`}Xe.isOwnProperty=Xh;function nD(t,e,r,s){let o=(0,lt._)`${e}${(0,lt.getProperty)(r)} !== undefined`;return s?(0,lt._)`${o} && ${Xh(t,e,r)}`:o}Xe.propertyInData=nD;function ep(t,e,r,s){let o=(0,lt._)`${e}${(0,lt.getProperty)(r)} === undefined`;return s?(0,lt.or)(o,(0,lt.not)(Xh(t,e,r))):o}Xe.noPropertyInData=ep;function l$(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Xe.allSchemaProperties=l$;function aD(t,e){return l$(e).filter(r=>!(0,Qh.alwaysValidSchema)(t,e[r]))}Xe.schemaProperties=aD;function sD({schemaCode:t,data:e,it:{gen:r,topSchemaRef:s,schemaPath:o,errorPath:u},it:c},f,h,m){let y=m?(0,lt._)`${t}, ${e}, ${s}${o}`:e,g=[[qa.default.instancePath,(0,lt.strConcat)(qa.default.instancePath,u)],[qa.default.parentData,c.parentData],[qa.default.parentDataProperty,c.parentDataProperty],[qa.default.rootData,qa.default.rootData]];c.opts.dynamicRef&&g.push([qa.default.dynamicAnchors,qa.default.dynamicAnchors]);let T=(0,lt._)`${y}, ${r.object(...g)}`;return h!==lt.nil?(0,lt._)`${f}.call(${h}, ${T})`:(0,lt._)`${f}(${T})`}Xe.callValidateCode=sD;var oD=(0,lt._)`new RegExp`;function iD({gen:t,it:{opts:e}},r){let s=e.unicodeRegExp?"u":"",{regExp:o}=e.code,u=o(r,s);return t.scopeValue("pattern",{key:u.toString(),ref:u,code:(0,lt._)`${o.code==="new RegExp"?oD:(0,XR.useFunc)(t,o)}(${r}, ${s})`})}Xe.usePattern=iD;function uD(t){let{gen:e,data:r,keyword:s,it:o}=t,u=e.name("valid");if(o.allErrors){let f=e.let("valid",!0);return c(()=>e.assign(f,!1)),f}return e.var(u,!0),c(()=>e.break()),u;function c(f){let h=e.const("len",(0,lt._)`${r}.length`);e.forRange("i",0,h,m=>{t.subschema({keyword:s,dataProp:m,dataPropType:Qh.Type.Num},u),e.if((0,lt.not)(u),f)})}}Xe.validateArray=uD;function cD(t){let{gen:e,schema:r,keyword:s,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(h=>(0,Qh.alwaysValidSchema)(o,h))&&!o.opts.unevaluated)return;let c=e.let("valid",!1),f=e.name("_valid");e.block(()=>r.forEach((h,m)=>{let y=t.subschema({keyword:s,schemaProp:m,compositeRule:!0},f);e.assign(c,(0,lt._)`${c} || ${f}`),t.mergeValidEvaluated(y,f)||e.if((0,lt.not)(c))})),t.result(c,()=>t.reset(),()=>t.error(!0))}Xe.validateUnion=cD});var h$=R(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.validateKeywordUsage=Un.validSchemaType=Un.funcKeywordCode=Un.macroKeywordCode=void 0;var hr=je(),vs=ia(),lD=an(),fD=Oi();function dD(t,e){let{gen:r,keyword:s,schema:o,parentSchema:u,it:c}=t,f=e.macro.call(c.self,o,u,c),h=d$(r,s,f);c.opts.validateSchema!==!1&&c.self.validateSchema(f,!0);let m=r.name("valid");t.subschema({schema:f,schemaPath:hr.nil,errSchemaPath:`${c.errSchemaPath}/${s}`,topSchemaRef:h,compositeRule:!0},m),t.pass(m,()=>t.error(!0))}Un.macroKeywordCode=dD;function hD(t,e){var r;let{gen:s,keyword:o,schema:u,parentSchema:c,$data:f,it:h}=t;mD(h,e);let m=!f&&e.compile?e.compile.call(h.self,u,c,h):e.validate,y=d$(s,o,m),g=s.let("valid");t.block$data(g,T),t.ok((r=e.valid)!==null&&r!==void 0?r:g);function T(){if(e.errors===!1)S(),e.modifying&&f$(t),j(()=>t.error());else{let k=e.async?O():E();e.modifying&&f$(t),j(()=>pD(t,k))}}function O(){let k=s.let("ruleErrs",null);return s.try(()=>S((0,hr._)`await `),B=>s.assign(g,!1).if((0,hr._)`${B} instanceof ${h.ValidationError}`,()=>s.assign(k,(0,hr._)`${B}.errors`),()=>s.throw(B))),k}function E(){let k=(0,hr._)`${y}.errors`;return s.assign(k,null),S(hr.nil),k}function S(k=e.async?(0,hr._)`await `:hr.nil){let B=h.opts.passContext?vs.default.this:vs.default.self,H=!("compile"in e&&!f||e.schema===!1);s.assign(g,(0,hr._)`${k}${(0,lD.callValidateCode)(t,y,B,H)}`,e.modifying)}function j(k){var B;s.if((0,hr.not)((B=e.valid)!==null&&B!==void 0?B:g),k)}}Un.funcKeywordCode=hD;function f$(t){let{gen:e,data:r,it:s}=t;e.if(s.parentData,()=>e.assign(r,(0,hr._)`${s.parentData}[${s.parentDataProperty}]`))}function pD(t,e){let{gen:r}=t;r.if((0,hr._)`Array.isArray(${e})`,()=>{r.assign(vs.default.vErrors,(0,hr._)`${vs.default.vErrors} === null ? ${e} : ${vs.default.vErrors}.concat(${e})`).assign(vs.default.errors,(0,hr._)`${vs.default.vErrors}.length`),(0,fD.extendErrors)(t)},()=>t.error())}function mD({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function d$(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,hr.stringify)(r)})}function yD(t,e,r=!1){return!e.length||e.some(s=>s==="array"?Array.isArray(t):s==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==s||r&&typeof t=="undefined")}Un.validSchemaType=yD;function vD({schema:t,opts:e,self:r,errSchemaPath:s},o,u){if(Array.isArray(o.keyword)?!o.keyword.includes(u):o.keyword!==u)throw new Error("ajv implementation error");let c=o.dependencies;if(c!=null&&c.some(f=>!Object.prototype.hasOwnProperty.call(t,f)))throw new Error(`parent schema must have dependencies of ${u}: ${c.join(",")}`);if(o.validateSchema&&!o.validateSchema(t[u])){let h=`keyword "${u}" value is invalid at path "${s}": `+r.errorsText(o.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(h);else throw new Error(h)}}Un.validateKeywordUsage=vD});var m$=R(xa=>{"use strict";Object.defineProperty(xa,"__esModule",{value:!0});xa.extendSubschemaMode=xa.extendSubschemaData=xa.getSubschema=void 0;var Fn=je(),p$=Le();function gD(t,{keyword:e,schemaProp:r,schema:s,schemaPath:o,errSchemaPath:u,topSchemaRef:c}){if(e!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){let f=t.schema[e];return r===void 0?{schema:f,schemaPath:(0,Fn._)`${t.schemaPath}${(0,Fn.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:f[r],schemaPath:(0,Fn._)`${t.schemaPath}${(0,Fn.getProperty)(e)}${(0,Fn.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,p$.escapeFragment)(r)}`}}if(s!==void 0){if(o===void 0||u===void 0||c===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:o,topSchemaRef:c,errSchemaPath:u}}throw new Error('either "keyword" or "schema" must be passed')}xa.getSubschema=gD;function _D(t,e,{dataProp:r,dataPropType:s,data:o,dataTypes:u,propertyName:c}){if(o!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');let{gen:f}=e;if(r!==void 0){let{errorPath:m,dataPathArr:y,opts:g}=e,T=f.let("data",(0,Fn._)`${e.data}${(0,Fn.getProperty)(r)}`,!0);h(T),t.errorPath=(0,Fn.str)`${m}${(0,p$.getErrorPath)(r,s,g.jsPropertySyntax)}`,t.parentDataProperty=(0,Fn._)`${r}`,t.dataPathArr=[...y,t.parentDataProperty]}if(o!==void 0){let m=o instanceof Fn.Name?o:f.let("data",o,!0);h(m),c!==void 0&&(t.propertyName=c)}u&&(t.dataTypes=u);function h(m){t.data=m,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,m]}}xa.extendSubschemaData=_D;function $D(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:s,createErrors:o,allErrors:u}){s!==void 0&&(t.compositeRule=s),o!==void 0&&(t.createErrors=o),u!==void 0&&(t.allErrors=u),t.jtdDiscriminator=e,t.jtdMetadata=r}xa.extendSubschemaMode=$D});var v$=R((_F,y$)=>{"use strict";var Ma=y$.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var s=typeof r=="function"?r:r.pre||function(){},o=r.post||function(){};Mc(e,s,o,t,"",t)};Ma.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Ma.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Ma.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Ma.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function Mc(t,e,r,s,o,u,c,f,h,m){if(s&&typeof s=="object"&&!Array.isArray(s)){e(s,o,u,c,f,h,m);for(var y in s){var g=s[y];if(Array.isArray(g)){if(y in Ma.arrayKeywords)for(var T=0;T<g.length;T++)Mc(t,e,r,g[T],o+"/"+y+"/"+T,u,o,y,s,T)}else if(y in Ma.propsKeywords){if(g&&typeof g=="object")for(var O in g)Mc(t,e,r,g[O],o+"/"+y+"/"+wD(O),u,o,y,s,O)}else(y in Ma.keywords||t.allKeys&&!(y in Ma.skipKeywords))&&Mc(t,e,r,g,o+"/"+y,u,o,y,s)}r(s,o,u,c,f,h,m)}}function wD(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Ii=R(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getSchemaRefs=Ar.resolveUrl=Ar.normalizeId=Ar._getFullPath=Ar.getFullPath=Ar.inlineRef=void 0;var bD=Le(),ED=ei(),SD=v$(),PD=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function OD(t,e=!0){return typeof t=="boolean"?!0:e===!0?!tp(t):e?g$(t)<=e:!1}Ar.inlineRef=OD;var ND=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function tp(t){for(let e in t){if(ND.has(e))return!0;let r=t[e];if(Array.isArray(r)&&r.some(tp)||typeof r=="object"&&tp(r))return!0}return!1}function g$(t){let e=0;for(let r in t){if(r==="$ref")return 1/0;if(e++,!PD.has(r)&&(typeof t[r]=="object"&&(0,bD.eachItem)(t[r],s=>e+=g$(s)),e===1/0))return 1/0}return e}function _$(t,e="",r){r!==!1&&(e=oo(e));let s=t.parse(e);return $$(t,s)}Ar.getFullPath=_$;function $$(t,e){return t.serialize(e).split("#")[0]+"#"}Ar._getFullPath=$$;var TD=/#\/?$/;function oo(t){return t?t.replace(TD,""):""}Ar.normalizeId=oo;function ID(t,e,r){return r=oo(r),t.resolve(e,r)}Ar.resolveUrl=ID;var jD=/^[a-z_][-a-z0-9._]*$/i;function AD(t,e){if(typeof t=="boolean")return{};let{schemaId:r,uriResolver:s}=this.opts,o=oo(t[r]||e),u={"":o},c=_$(s,o,!1),f={},h=new Set;return SD(t,{allKeys:!0},(g,T,O,E)=>{if(E===void 0)return;let S=c+T,j=u[E];typeof g[r]=="string"&&(j=k.call(this,g[r])),B.call(this,g.$anchor),B.call(this,g.$dynamicAnchor),u[T]=j;function k(H){let Q=this.opts.uriResolver.resolve;if(H=oo(j?Q(j,H):H),h.has(H))throw y(H);h.add(H);let z=this.refs[H];return typeof z=="string"&&(z=this.refs[z]),typeof z=="object"?m(g,z.schema,H):H!==oo(S)&&(H[0]==="#"?(m(g,f[H],H),f[H]=g):this.refs[H]=S),H}function B(H){if(typeof H=="string"){if(!jD.test(H))throw new Error(`invalid anchor "${H}"`);k.call(this,`#${H}`)}}}),f;function m(g,T,O){if(T!==void 0&&!ED(g,T))throw y(O)}function y(g){return new Error(`reference "${g}" resolves to more than one schema`)}}Ar.getSchemaRefs=AD});var ki=R(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.getData=Va.KeywordCxt=Va.validateFunctionCode=void 0;var P$=t$(),w$=Ti(),np=Bh(),Vc=Ti(),kD=u$(),Ai=h$(),rp=m$(),ne=je(),he=ia(),CD=Ii(),ua=Le(),ji=Oi();function RD(t){if(T$(t)&&(I$(t),N$(t))){xD(t);return}O$(t,()=>(0,P$.topBoolOrEmptySchema)(t))}Va.validateFunctionCode=RD;function O$({gen:t,validateName:e,schema:r,schemaEnv:s,opts:o},u){o.code.es5?t.func(e,(0,ne._)`${he.default.data}, ${he.default.valCxt}`,s.$async,()=>{t.code((0,ne._)`"use strict"; ${b$(r,o)}`),qD(t,o),t.code(u)}):t.func(e,(0,ne._)`${he.default.data}, ${DD(o)}`,s.$async,()=>t.code(b$(r,o)).code(u))}function DD(t){return(0,ne._)`{${he.default.instancePath}="", ${he.default.parentData}, ${he.default.parentDataProperty}, ${he.default.rootData}=${he.default.data}${t.dynamicRef?(0,ne._)`, ${he.default.dynamicAnchors}={}`:ne.nil}}={}`}function qD(t,e){t.if(he.default.valCxt,()=>{t.var(he.default.instancePath,(0,ne._)`${he.default.valCxt}.${he.default.instancePath}`),t.var(he.default.parentData,(0,ne._)`${he.default.valCxt}.${he.default.parentData}`),t.var(he.default.parentDataProperty,(0,ne._)`${he.default.valCxt}.${he.default.parentDataProperty}`),t.var(he.default.rootData,(0,ne._)`${he.default.valCxt}.${he.default.rootData}`),e.dynamicRef&&t.var(he.default.dynamicAnchors,(0,ne._)`${he.default.valCxt}.${he.default.dynamicAnchors}`)},()=>{t.var(he.default.instancePath,(0,ne._)`""`),t.var(he.default.parentData,(0,ne._)`undefined`),t.var(he.default.parentDataProperty,(0,ne._)`undefined`),t.var(he.default.rootData,he.default.data),e.dynamicRef&&t.var(he.default.dynamicAnchors,(0,ne._)`{}`)})}function xD(t){let{schema:e,opts:r,gen:s}=t;O$(t,()=>{r.$comment&&e.$comment&&A$(t),LD(t),s.let(he.default.vErrors,null),s.let(he.default.errors,0),r.unevaluated&&MD(t),j$(t),WD(t)})}function MD(t){let{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,ne._)`${r}.evaluated`),e.if((0,ne._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,ne._)`${t.evaluated}.props`,(0,ne._)`undefined`)),e.if((0,ne._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,ne._)`${t.evaluated}.items`,(0,ne._)`undefined`))}function b$(t,e){let r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,ne._)`/*# sourceURL=${r} */`:ne.nil}function VD(t,e){if(T$(t)&&(I$(t),N$(t))){UD(t,e);return}(0,P$.boolOrEmptySchema)(t,e)}function N$({schema:t,self:e}){if(typeof t=="boolean")return!t;for(let r in t)if(e.RULES.all[r])return!0;return!1}function T$(t){return typeof t.schema!="boolean"}function UD(t,e){let{schema:r,gen:s,opts:o}=t;o.$comment&&r.$comment&&A$(t),zD(t),KD(t);let u=s.const("_errs",he.default.errors);j$(t,u),s.var(e,(0,ne._)`${u} === ${he.default.errors}`)}function I$(t){(0,ua.checkUnknownRules)(t),FD(t)}function j$(t,e){if(t.opts.jtd)return E$(t,[],!1,e);let r=(0,w$.getSchemaTypes)(t.schema),s=(0,w$.coerceAndCheckDataType)(t,r);E$(t,r,!s,e)}function FD(t){let{schema:e,errSchemaPath:r,opts:s,self:o}=t;e.$ref&&s.ignoreKeywordsWithRef&&(0,ua.schemaHasRulesButRef)(e,o.RULES)&&o.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function LD(t){let{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ua.checkStrictMode)(t,"default is ignored in the schema root")}function zD(t){let e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,CD.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function KD(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function A$({gen:t,schemaEnv:e,schema:r,errSchemaPath:s,opts:o}){let u=r.$comment;if(o.$comment===!0)t.code((0,ne._)`${he.default.self}.logger.log(${u})`);else if(typeof o.$comment=="function"){let c=(0,ne.str)`${s}/$comment`,f=t.scopeValue("root",{ref:e.root});t.code((0,ne._)`${he.default.self}.opts.$comment(${u}, ${c}, ${f}.schema)`)}}function WD(t){let{gen:e,schemaEnv:r,validateName:s,ValidationError:o,opts:u}=t;r.$async?e.if((0,ne._)`${he.default.errors} === 0`,()=>e.return(he.default.data),()=>e.throw((0,ne._)`new ${o}(${he.default.vErrors})`)):(e.assign((0,ne._)`${s}.errors`,he.default.vErrors),u.unevaluated&&HD(t),e.return((0,ne._)`${he.default.errors} === 0`))}function HD({gen:t,evaluated:e,props:r,items:s}){r instanceof ne.Name&&t.assign((0,ne._)`${e}.props`,r),s instanceof ne.Name&&t.assign((0,ne._)`${e}.items`,s)}function E$(t,e,r,s){let{gen:o,schema:u,data:c,allErrors:f,opts:h,self:m}=t,{RULES:y}=m;if(u.$ref&&(h.ignoreKeywordsWithRef||!(0,ua.schemaHasRulesButRef)(u,y))){o.block(()=>C$(t,"$ref",y.all.$ref.definition));return}h.jtd||GD(t,e),o.block(()=>{for(let T of y.rules)g(T);g(y.post)});function g(T){!(0,np.shouldUseGroup)(u,T)||(T.type?(o.if((0,Vc.checkDataType)(T.type,c,h.strictNumbers)),S$(t,T),e.length===1&&e[0]===T.type&&r&&(o.else(),(0,Vc.reportTypeError)(t)),o.endIf()):S$(t,T),f||o.if((0,ne._)`${he.default.errors} === ${s||0}`))}}function S$(t,e){let{gen:r,schema:s,opts:{useDefaults:o}}=t;o&&(0,kD.assignDefaults)(t,e.type),r.block(()=>{for(let u of e.rules)(0,np.shouldUseRule)(s,u)&&C$(t,u.keyword,u.definition,e.type)})}function GD(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(BD(t,e),t.opts.allowUnionTypes||JD(t,e),YD(t,t.dataTypes))}function BD(t,e){if(!!e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{k$(t.dataTypes,r)||ap(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),QD(t,e)}}function JD(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ap(t,"use allowUnionTypes to allow union type keyword")}function YD(t,e){let r=t.self.RULES.all;for(let s in r){let o=r[s];if(typeof o=="object"&&(0,np.shouldUseRule)(t.schema,o)){let{type:u}=o.definition;u.length&&!u.some(c=>ZD(e,c))&&ap(t,`missing type "${u.join(",")}" for keyword "${s}"`)}}}function ZD(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function k$(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function QD(t,e){let r=[];for(let s of t.dataTypes)k$(e,s)?r.push(s):e.includes("integer")&&s==="number"&&r.push("integer");t.dataTypes=r}function ap(t,e){e+=` at "${t.schemaEnv.baseId+t.errSchemaPath}" (strictTypes)`,(0,ua.checkStrictMode)(t,e,t.opts.strictTypes)}var Uc=class{constructor(e,r,s){if((0,Ai.validateKeywordUsage)(e,r,s),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=s,this.data=e.data,this.schema=e.schema[s],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ua.schemaRefOrVal)(e,this.schema,s,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",R$(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ai.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${s} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",he.default.errors))}result(e,r,s){this.failResult((0,ne.not)(e),r,s)}failResult(e,r,s){this.gen.if(e),s?s():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,ne.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);let{schemaCode:r}=this;this.fail((0,ne._)`${r} !== undefined && (${(0,ne.or)(this.invalid$data(),e)})`)}error(e,r,s){if(r){this.setParams(r),this._error(e,s),this.setParams({});return}this._error(e,s)}_error(e,r){(e?ji.reportExtraError:ji.reportError)(this,this.def.error,r)}$dataError(){(0,ji.reportError)(this,this.def.$dataError||ji.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,ji.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,s=ne.nil){this.gen.block(()=>{this.check$data(e,s),r()})}check$data(e=ne.nil,r=ne.nil){if(!this.$data)return;let{gen:s,schemaCode:o,schemaType:u,def:c}=this;s.if((0,ne.or)((0,ne._)`${o} === undefined`,r)),e!==ne.nil&&s.assign(e,!0),(u.length||c.validateSchema)&&(s.elseIf(this.invalid$data()),this.$dataError(),e!==ne.nil&&s.assign(e,!1)),s.else()}invalid$data(){let{gen:e,schemaCode:r,schemaType:s,def:o,it:u}=this;return(0,ne.or)(c(),f());function c(){if(s.length){if(!(r instanceof ne.Name))throw new Error("ajv implementation error");let h=Array.isArray(s)?s:[s];return(0,ne._)`${(0,Vc.checkDataTypes)(h,r,u.opts.strictNumbers,Vc.DataType.Wrong)}`}return ne.nil}function f(){if(o.validateSchema){let h=e.scopeValue("validate$data",{ref:o.validateSchema});return(0,ne._)`!${h}(${r})`}return ne.nil}}subschema(e,r){let s=(0,rp.getSubschema)(this.it,e);(0,rp.extendSubschemaData)(s,this.it,e),(0,rp.extendSubschemaMode)(s,e);let o=Ze(ce(ce({},this.it),s),{items:void 0,props:void 0});return VD(o,r),o}mergeEvaluated(e,r){let{it:s,gen:o}=this;!s.opts.unevaluated||(s.props!==!0&&e.props!==void 0&&(s.props=ua.mergeEvaluated.props(o,e.props,s.props,r)),s.items!==!0&&e.items!==void 0&&(s.items=ua.mergeEvaluated.items(o,e.items,s.items,r)))}mergeValidEvaluated(e,r){let{it:s,gen:o}=this;if(s.opts.unevaluated&&(s.props!==!0||s.items!==!0))return o.if(r,()=>this.mergeEvaluated(e,ne.Name)),!0}};Va.KeywordCxt=Uc;function C$(t,e,r,s){let o=new Uc(t,r,e);"code"in r?r.code(o,s):o.$data&&r.validate?(0,Ai.funcKeywordCode)(o,r):"macro"in r?(0,Ai.macroKeywordCode)(o,r):(r.compile||r.validate)&&(0,Ai.funcKeywordCode)(o,r)}var XD=/^\/(?:[^~]|~0|~1)*$/,eq=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function R$(t,{dataLevel:e,dataNames:r,dataPathArr:s}){let o,u;if(t==="")return he.default.rootData;if(t[0]==="/"){if(!XD.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);o=t,u=he.default.rootData}else{let m=eq.exec(t);if(!m)throw new Error(`Invalid JSON-pointer: ${t}`);let y=+m[1];if(o=m[2],o==="#"){if(y>=e)throw new Error(h("property/index",y));return s[e-y]}if(y>e)throw new Error(h("data",y));if(u=r[e-y],!o)return u}let c=u,f=o.split("/");for(let m of f)m&&(u=(0,ne._)`${u}${(0,ne.getProperty)((0,ua.unescapeJsonPointer)(m))}`,c=(0,ne._)`${c} && ${u}`);return c;function h(m,y){return`Cannot access ${m} ${y} levels up, current level is ${e}`}}Va.getData=R$});var Fc=R(op=>{"use strict";Object.defineProperty(op,"__esModule",{value:!0});var sp=class extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}};op.default=sp});var Lc=R(cp=>{"use strict";Object.defineProperty(cp,"__esModule",{value:!0});var ip=Ii(),up=class extends Error{constructor(e,r,s,o){super(o||`can't resolve reference ${s} from id ${r}`),this.missingRef=(0,ip.resolveUrl)(e,r,s),this.missingSchema=(0,ip.normalizeId)((0,ip.getFullPath)(e,this.missingRef))}};cp.default=up});var Kc=R(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.resolveSchema=sn.getCompilingSchema=sn.resolveRef=sn.compileSchema=sn.SchemaEnv=void 0;var wn=je(),tq=Fc(),gs=ia(),bn=Ii(),D$=Le(),rq=ki(),io=class{constructor(e){var r;this.refs={},this.dynamicAnchors={};let s;typeof e.schema=="object"&&(s=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,bn.normalizeId)(s==null?void 0:s[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=s==null?void 0:s.$async,this.refs={}}};sn.SchemaEnv=io;function fp(t){let e=q$.call(this,t);if(e)return e;let r=(0,bn.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:s,lines:o}=this.opts.code,{ownProperties:u}=this.opts,c=new wn.CodeGen(this.scope,{es5:s,lines:o,ownProperties:u}),f;t.$async&&(f=c.scopeValue("Error",{ref:tq.default,code:(0,wn._)`require("ajv/dist/runtime/validation_error").default`}));let h=c.scopeName("validate");t.validateName=h;let m={gen:c,allErrors:this.opts.allErrors,data:gs.default.data,parentData:gs.default.parentData,parentDataProperty:gs.default.parentDataProperty,dataNames:[gs.default.data],dataPathArr:[wn.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:c.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,wn.stringify)(t.schema)}:{ref:t.schema}),validateName:h,ValidationError:f,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:wn.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,wn._)`""`,opts:this.opts,self:this},y;try{this._compilations.add(t),(0,rq.validateFunctionCode)(m),c.optimize(this.opts.code.optimize);let g=c.toString();y=`${c.scopeRefs(gs.default.scope)}return ${g}`,this.opts.code.process&&(y=this.opts.code.process(y,t));let O=new Function(`${gs.default.self}`,`${gs.default.scope}`,y)(this,this.scope.get());if(this.scope.value(h,{ref:O}),O.errors=null,O.schema=t.schema,O.schemaEnv=t,t.$async&&(O.$async=!0),this.opts.code.source===!0&&(O.source={validateName:h,validateCode:g,scopeValues:c._values}),this.opts.unevaluated){let{props:E,items:S}=m;O.evaluated={props:E instanceof wn.Name?void 0:E,items:S instanceof wn.Name?void 0:S,dynamicProps:E instanceof wn.Name,dynamicItems:S instanceof wn.Name},O.source&&(O.source.evaluated=(0,wn.stringify)(O.evaluated))}return t.validate=O,t}catch(g){throw delete t.validate,delete t.validateName,y&&this.logger.error("Error compiling schema, function code:",y),g}finally{this._compilations.delete(t)}}sn.compileSchema=fp;function nq(t,e,r){var s;r=(0,bn.resolveUrl)(this.opts.uriResolver,e,r);let o=t.refs[r];if(o)return o;let u=oq.call(this,t,r);if(u===void 0){let c=(s=t.localRefs)===null||s===void 0?void 0:s[r],{schemaId:f}=this.opts;c&&(u=new io({schema:c,schemaId:f,root:t,baseId:e}))}if(u!==void 0)return t.refs[r]=aq.call(this,u)}sn.resolveRef=nq;function aq(t){return(0,bn.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:fp.call(this,t)}function q$(t){for(let e of this._compilations)if(sq(e,t))return e}sn.getCompilingSchema=q$;function sq(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function oq(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||zc.call(this,t,e)}function zc(t,e){let r=this.opts.uriResolver.parse(e),s=(0,bn._getFullPath)(this.opts.uriResolver,r),o=(0,bn.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&s===o)return lp.call(this,r,t);let u=(0,bn.normalizeId)(s),c=this.refs[u]||this.schemas[u];if(typeof c=="string"){let f=zc.call(this,t,c);return typeof(f==null?void 0:f.schema)!="object"?void 0:lp.call(this,r,f)}if(typeof(c==null?void 0:c.schema)=="object"){if(c.validate||fp.call(this,c),u===(0,bn.normalizeId)(e)){let{schema:f}=c,{schemaId:h}=this.opts,m=f[h];return m&&(o=(0,bn.resolveUrl)(this.opts.uriResolver,o,m)),new io({schema:f,schemaId:h,root:t,baseId:o})}return lp.call(this,r,c)}}sn.resolveSchema=zc;var iq=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function lp(t,{baseId:e,schema:r,root:s}){var o;if(((o=t.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(let f of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;let h=r[(0,D$.unescapeFragment)(f)];if(h===void 0)return;r=h;let m=typeof r=="object"&&r[this.opts.schemaId];!iq.has(f)&&m&&(e=(0,bn.resolveUrl)(this.opts.uriResolver,e,m))}let u;if(typeof r!="boolean"&&r.$ref&&!(0,D$.schemaHasRulesButRef)(r,this.RULES)){let f=(0,bn.resolveUrl)(this.opts.uriResolver,e,r.$ref);u=zc.call(this,s,f)}let{schemaId:c}=this.opts;if(u=u||new io({schema:r,schemaId:c,root:s,baseId:e}),u.schema!==u.root.schema)return u}});var x$=R((PF,uq)=>{uq.exports={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var V$=R(dp=>{"use strict";Object.defineProperty(dp,"__esModule",{value:!0});var M$=Sd();M$.code='require("ajv/dist/runtime/uri").default';dp.default=M$});var G$=R(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.CodeGen=Kt.Name=Kt.nil=Kt.stringify=Kt.str=Kt._=Kt.KeywordCxt=void 0;var cq=ki();Object.defineProperty(Kt,"KeywordCxt",{enumerable:!0,get:function(){return cq.KeywordCxt}});var uo=je();Object.defineProperty(Kt,"_",{enumerable:!0,get:function(){return uo._}});Object.defineProperty(Kt,"str",{enumerable:!0,get:function(){return uo.str}});Object.defineProperty(Kt,"stringify",{enumerable:!0,get:function(){return uo.stringify}});Object.defineProperty(Kt,"nil",{enumerable:!0,get:function(){return uo.nil}});Object.defineProperty(Kt,"Name",{enumerable:!0,get:function(){return uo.Name}});Object.defineProperty(Kt,"CodeGen",{enumerable:!0,get:function(){return uo.CodeGen}});var lq=Fc(),K$=Lc(),fq=Gh(),Ci=Kc(),dq=je(),Ri=Ii(),Wc=Ti(),pp=Le(),U$=x$(),hq=V$(),W$=(t,e)=>new RegExp(t,e);W$.code="new RegExp";var pq=["removeAdditional","useDefaults","coerceTypes"],mq=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),yq={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},vq={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},F$=200;function gq(t){var e,r,s,o,u,c,f,h,m,y,g,T,O,E,S,j,k,B,H,Q,z,Ce,ft,rr,bt;let He=t.strict,Mt=(e=t.code)===null||e===void 0?void 0:e.optimize,Nt=Mt===!0||Mt===void 0?1:Mt||0,st=(s=(r=t.code)===null||r===void 0?void 0:r.regExp)!==null&&s!==void 0?s:W$,Ht=(o=t.uriResolver)!==null&&o!==void 0?o:hq.default;return{strictSchema:(c=(u=t.strictSchema)!==null&&u!==void 0?u:He)!==null&&c!==void 0?c:!0,strictNumbers:(h=(f=t.strictNumbers)!==null&&f!==void 0?f:He)!==null&&h!==void 0?h:!0,strictTypes:(y=(m=t.strictTypes)!==null&&m!==void 0?m:He)!==null&&y!==void 0?y:"log",strictTuples:(T=(g=t.strictTuples)!==null&&g!==void 0?g:He)!==null&&T!==void 0?T:"log",strictRequired:(E=(O=t.strictRequired)!==null&&O!==void 0?O:He)!==null&&E!==void 0?E:!1,code:t.code?Ze(ce({},t.code),{optimize:Nt,regExp:st}):{optimize:Nt,regExp:st},loopRequired:(S=t.loopRequired)!==null&&S!==void 0?S:F$,loopEnum:(j=t.loopEnum)!==null&&j!==void 0?j:F$,meta:(k=t.meta)!==null&&k!==void 0?k:!0,messages:(B=t.messages)!==null&&B!==void 0?B:!0,inlineRefs:(H=t.inlineRefs)!==null&&H!==void 0?H:!0,schemaId:(Q=t.schemaId)!==null&&Q!==void 0?Q:"$id",addUsedSchema:(z=t.addUsedSchema)!==null&&z!==void 0?z:!0,validateSchema:(Ce=t.validateSchema)!==null&&Ce!==void 0?Ce:!0,validateFormats:(ft=t.validateFormats)!==null&&ft!==void 0?ft:!0,unicodeRegExp:(rr=t.unicodeRegExp)!==null&&rr!==void 0?rr:!0,int32range:(bt=t.int32range)!==null&&bt!==void 0?bt:!0,uriResolver:Ht}}var Di=class{constructor(e={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,e=this.opts=ce(ce({},e),gq(e));let{es5:r,lines:s}=this.opts.code;this.scope=new dq.ValueScope({scope:{},prefixes:mq,es5:r,lines:s}),this.logger=Sq(e.logger);let o=e.validateFormats;e.validateFormats=!1,this.RULES=(0,fq.getRules)(),L$.call(this,yq,e,"NOT SUPPORTED"),L$.call(this,vq,e,"DEPRECATED","warn"),this._metaOpts=bq.call(this),e.formats&&$q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),e.keywords&&wq.call(this,e.keywords),typeof e.meta=="object"&&this.addMetaSchema(e.meta),_q.call(this),e.validateFormats=o}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){let{$data:e,meta:r,schemaId:s}=this.opts,o=U$;s==="id"&&(o=ce({},U$),o.id=o.$id,delete o.$id),r&&e&&this.addMetaSchema(o,o[s],!1)}defaultMeta(){let{meta:e,schemaId:r}=this.opts;return this.opts.defaultMeta=typeof e=="object"?e[r]||e:void 0}validate(e,r){let s;if(typeof e=="string"){if(s=this.getSchema(e),!s)throw new Error(`no schema with key or ref "${e}"`)}else s=this.compile(e);let o=s(r);return"$async"in s||(this.errors=s.errors),o}compile(e,r){let s=this._addSchema(e,r);return s.validate||this._compileSchemaEnv(s)}compileAsync(e,r){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");let{loadSchema:s}=this.opts;return o.call(this,e,r);function o(y,g){return ir(this,null,function*(){yield u.call(this,y.$schema);let T=this._addSchema(y,g);return T.validate||c.call(this,T)})}function u(y){return ir(this,null,function*(){y&&!this.getSchema(y)&&(yield o.call(this,{$ref:y},!0))})}function c(y){return ir(this,null,function*(){try{return this._compileSchemaEnv(y)}catch(g){if(!(g instanceof K$.default))throw g;return f.call(this,g),yield h.call(this,g.missingSchema),c.call(this,y)}})}function f({missingSchema:y,missingRef:g}){if(this.refs[y])throw new Error(`AnySchema ${y} is loaded but ${g} cannot be resolved`)}function h(y){return ir(this,null,function*(){let g=yield m.call(this,y);this.refs[y]||(yield u.call(this,g.$schema)),this.refs[y]||this.addSchema(g,y,r)})}function m(y){return ir(this,null,function*(){let g=this._loading[y];if(g)return g;try{return yield this._loading[y]=s(y)}finally{delete this._loading[y]}})}}addSchema(e,r,s,o=this.opts.validateSchema){if(Array.isArray(e)){for(let c of e)this.addSchema(c,void 0,s,o);return this}let u;if(typeof e=="object"){let{schemaId:c}=this.opts;if(u=e[c],u!==void 0&&typeof u!="string")throw new Error(`schema ${c} must be string`)}return r=(0,Ri.normalizeId)(r||u),this._checkUnique(r),this.schemas[r]=this._addSchema(e,s,r,o,!0),this}addMetaSchema(e,r,s=this.opts.validateSchema){return this.addSchema(e,r,!0,s),this}validateSchema(e,r){if(typeof e=="boolean")return!0;let s;if(s=e.$schema,s!==void 0&&typeof s!="string")throw new Error("$schema must be a string");if(s=s||this.opts.defaultMeta||this.defaultMeta(),!s)return this.logger.warn("meta-schema not available"),this.errors=null,!0;let o=this.validate(s,e);if(!o&&r){let u="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(u);else throw new Error(u)}return o}getSchema(e){let r;for(;typeof(r=z$.call(this,e))=="string";)e=r;if(r===void 0){let{schemaId:s}=this.opts,o=new Ci.SchemaEnv({schema:{},schemaId:s});if(r=Ci.resolveSchema.call(this,o,e),!r)return;this.refs[e]=r}return r.validate||this._compileSchemaEnv(r)}removeSchema(e){if(e instanceof RegExp)return this._removeAllSchemas(this.schemas,e),this._removeAllSchemas(this.refs,e),this;switch(typeof e){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{let r=z$.call(this,e);return typeof r=="object"&&this._cache.delete(r.schema),delete this.schemas[e],delete this.refs[e],this}case"object":{let r=e;this._cache.delete(r);let s=e[this.opts.schemaId];return s&&(s=(0,Ri.normalizeId)(s),delete this.schemas[s],delete this.refs[s]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(e){for(let r of e)this.addKeyword(r);return this}addKeyword(e,r){let s;if(typeof e=="string")s=e,typeof r=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),r.keyword=s);else if(typeof e=="object"&&r===void 0){if(r=e,s=r.keyword,Array.isArray(s)&&!s.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(Oq.call(this,s,r),!r)return(0,pp.eachItem)(s,u=>hp.call(this,u)),this;Tq.call(this,r);let o=Ze(ce({},r),{type:(0,Wc.getJSONTypes)(r.type),schemaType:(0,Wc.getJSONTypes)(r.schemaType)});return(0,pp.eachItem)(s,o.type.length===0?u=>hp.call(this,u,o):u=>o.type.forEach(c=>hp.call(this,u,o,c))),this}getKeyword(e){let r=this.RULES.all[e];return typeof r=="object"?r.definition:!!r}removeKeyword(e){let{RULES:r}=this;delete r.keywords[e],delete r.all[e];for(let s of r.rules){let o=s.rules.findIndex(u=>u.keyword===e);o>=0&&s.rules.splice(o,1)}return this}addFormat(e,r){return typeof r=="string"&&(r=new RegExp(r)),this.formats[e]=r,this}errorsText(e=this.errors,{separator:r=", ",dataVar:s="data"}={}){return!e||e.length===0?"No errors":e.map(o=>`${s}${o.instancePath} ${o.message}`).reduce((o,u)=>o+r+u)}$dataMetaSchema(e,r){let s=this.RULES.all;e=JSON.parse(JSON.stringify(e));for(let o of r){let u=o.split("/").slice(1),c=e;for(let f of u)c=c[f];for(let f in s){let h=s[f];if(typeof h!="object")continue;let{$data:m}=h.definition,y=c[f];m&&y&&(c[f]=H$(y))}}return e}_removeAllSchemas(e,r){for(let s in e){let o=e[s];(!r||r.test(s))&&(typeof o=="string"?delete e[s]:o&&!o.meta&&(this._cache.delete(o.schema),delete e[s]))}}_addSchema(e,r,s,o=this.opts.validateSchema,u=this.opts.addUsedSchema){let c,{schemaId:f}=this.opts;if(typeof e=="object")c=e[f];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof e!="boolean")throw new Error("schema must be object or boolean")}let h=this._cache.get(e);if(h!==void 0)return h;s=(0,Ri.normalizeId)(c||s);let m=Ri.getSchemaRefs.call(this,e,s);return h=new Ci.SchemaEnv({schema:e,schemaId:f,meta:r,baseId:s,localRefs:m}),this._cache.set(h.schema,h),u&&!s.startsWith("#")&&(s&&this._checkUnique(s),this.refs[s]=h),o&&this.validateSchema(e,!0),h}_checkUnique(e){if(this.schemas[e]||this.refs[e])throw new Error(`schema with key or id "${e}" already exists`)}_compileSchemaEnv(e){if(e.meta?this._compileMetaSchema(e):Ci.compileSchema.call(this,e),!e.validate)throw new Error("ajv implementation error");return e.validate}_compileMetaSchema(e){let r=this.opts;this.opts=this._metaOpts;try{Ci.compileSchema.call(this,e)}finally{this.opts=r}}};Kt.default=Di;Di.ValidationError=lq.default;Di.MissingRefError=K$.default;function L$(t,e,r,s="error"){for(let o in t){let u=o;u in e&&this.logger[s](`${r}: option ${o}. ${t[u]}`)}}function z$(t){return t=(0,Ri.normalizeId)(t),this.schemas[t]||this.refs[t]}function _q(){let t=this.opts.schemas;if(!!t)if(Array.isArray(t))this.addSchema(t);else for(let e in t)this.addSchema(t[e],e)}function $q(){for(let t in this.opts.formats){let e=this.opts.formats[t];e&&this.addFormat(t,e)}}function wq(t){if(Array.isArray(t)){this.addVocabulary(t);return}this.logger.warn("keywords option as map is deprecated, pass array");for(let e in t){let r=t[e];r.keyword||(r.keyword=e),this.addKeyword(r)}}function bq(){let t=ce({},this.opts);for(let e of pq)delete t[e];return t}var Eq={log(){},warn(){},error(){}};function Sq(t){if(t===!1)return Eq;if(t===void 0)return console;if(t.log&&t.warn&&t.error)return t;throw new Error("logger must implement log, warn and error methods")}var Pq=/^[a-z_$][a-z0-9_$:-]*$/i;function Oq(t,e){let{RULES:r}=this;if((0,pp.eachItem)(t,s=>{if(r.keywords[s])throw new Error(`Keyword ${s} is already defined`);if(!Pq.test(s))throw new Error(`Keyword ${s} has invalid name`)}),!!e&&e.$data&&!("code"in e||"validate"in e))throw new Error('$data keyword must have "code" or "validate" function')}function hp(t,e,r){var s;let o=e==null?void 0:e.post;if(r&&o)throw new Error('keyword with "post" flag cannot have "type"');let{RULES:u}=this,c=o?u.post:u.rules.find(({type:h})=>h===r);if(c||(c={type:r,rules:[]},u.rules.push(c)),u.keywords[t]=!0,!e)return;let f={keyword:t,definition:Ze(ce({},e),{type:(0,Wc.getJSONTypes)(e.type),schemaType:(0,Wc.getJSONTypes)(e.schemaType)})};e.before?Nq.call(this,c,f,e.before):c.rules.push(f),u.all[t]=f,(s=e.implements)===null||s===void 0||s.forEach(h=>this.addKeyword(h))}function Nq(t,e,r){let s=t.rules.findIndex(o=>o.keyword===r);s>=0?t.rules.splice(s,0,e):(t.rules.push(e),this.logger.warn(`rule ${r} is not defined`))}function Tq(t){let{metaSchema:e}=t;e!==void 0&&(t.$data&&this.opts.$data&&(e=H$(e)),t.validateSchema=this.compile(e,!0))}var Iq={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function H$(t){return{anyOf:[t,Iq]}}});var B$=R(mp=>{"use strict";Object.defineProperty(mp,"__esModule",{value:!0});var jq={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};mp.default=jq});var Q$=R(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.callRef=_s.getValidate=void 0;var Aq=Lc(),J$=an(),kr=je(),co=ia(),Y$=Kc(),Hc=Le(),kq={keyword:"$ref",schemaType:"string",code(t){let{gen:e,schema:r,it:s}=t,{baseId:o,schemaEnv:u,validateName:c,opts:f,self:h}=s,{root:m}=u;if((r==="#"||r==="#/")&&o===m.baseId)return g();let y=Y$.resolveRef.call(h,m,o,r);if(y===void 0)throw new Aq.default(s.opts.uriResolver,o,r);if(y instanceof Y$.SchemaEnv)return T(y);return O(y);function g(){if(u===m)return Gc(t,c,u,u.$async);let E=e.scopeValue("root",{ref:m});return Gc(t,(0,kr._)`${E}.validate`,m,m.$async)}function T(E){let S=Z$(t,E);Gc(t,S,E,E.$async)}function O(E){let S=e.scopeValue("schema",f.code.source===!0?{ref:E,code:(0,kr.stringify)(E)}:{ref:E}),j=e.name("valid"),k=t.subschema({schema:E,dataTypes:[],schemaPath:kr.nil,topSchemaRef:S,errSchemaPath:r},j);t.mergeEvaluated(k),t.ok(j)}}};function Z$(t,e){let{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,kr._)`${r.scopeValue("wrapper",{ref:e})}.validate`}_s.getValidate=Z$;function Gc(t,e,r,s){let{gen:o,it:u}=t,{allErrors:c,schemaEnv:f,opts:h}=u,m=h.passContext?co.default.this:kr.nil;s?y():g();function y(){if(!f.$async)throw new Error("async schema referenced by sync schema");let E=o.let("valid");o.try(()=>{o.code((0,kr._)`await ${(0,J$.callValidateCode)(t,e,m)}`),O(e),c||o.assign(E,!0)},S=>{o.if((0,kr._)`!(${S} instanceof ${u.ValidationError})`,()=>o.throw(S)),T(S),c||o.assign(E,!1)}),t.ok(E)}function g(){t.result((0,J$.callValidateCode)(t,e,m),()=>O(e),()=>T(e))}function T(E){let S=(0,kr._)`${E}.errors`;o.assign(co.default.vErrors,(0,kr._)`${co.default.vErrors} === null ? ${S} : ${co.default.vErrors}.concat(${S})`),o.assign(co.default.errors,(0,kr._)`${co.default.vErrors}.length`)}function O(E){var S;if(!u.opts.unevaluated)return;let j=(S=r==null?void 0:r.validate)===null||S===void 0?void 0:S.evaluated;if(u.props!==!0)if(j&&!j.dynamicProps)j.props!==void 0&&(u.props=Hc.mergeEvaluated.props(o,j.props,u.props));else{let k=o.var("props",(0,kr._)`${E}.evaluated.props`);u.props=Hc.mergeEvaluated.props(o,k,u.props,kr.Name)}if(u.items!==!0)if(j&&!j.dynamicItems)j.items!==void 0&&(u.items=Hc.mergeEvaluated.items(o,j.items,u.items));else{let k=o.var("items",(0,kr._)`${E}.evaluated.items`);u.items=Hc.mergeEvaluated.items(o,k,u.items,kr.Name)}}}_s.callRef=Gc;_s.default=kq});var X$=R(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});var Cq=B$(),Rq=Q$(),Dq=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Cq.default,Rq.default];yp.default=Dq});var ew=R(vp=>{"use strict";Object.defineProperty(vp,"__esModule",{value:!0});var Bc=je(),Ua=Bc.operators,Jc={maximum:{okStr:"<=",ok:Ua.LTE,fail:Ua.GT},minimum:{okStr:">=",ok:Ua.GTE,fail:Ua.LT},exclusiveMaximum:{okStr:"<",ok:Ua.LT,fail:Ua.GTE},exclusiveMinimum:{okStr:">",ok:Ua.GT,fail:Ua.LTE}},qq={message:({keyword:t,schemaCode:e})=>(0,Bc.str)`must be ${Jc[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,Bc._)`{comparison: ${Jc[t].okStr}, limit: ${e}}`},xq={keyword:Object.keys(Jc),type:"number",schemaType:"number",$data:!0,error:qq,code(t){let{keyword:e,data:r,schemaCode:s}=t;t.fail$data((0,Bc._)`${r} ${Jc[e].fail} ${s} || isNaN(${r})`)}};vp.default=xq});var tw=R(gp=>{"use strict";Object.defineProperty(gp,"__esModule",{value:!0});var qi=je(),Mq={message:({schemaCode:t})=>(0,qi.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,qi._)`{multipleOf: ${t}}`},Vq={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Mq,code(t){let{gen:e,data:r,schemaCode:s,it:o}=t,u=o.opts.multipleOfPrecision,c=e.let("res"),f=u?(0,qi._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${u}`:(0,qi._)`${c} !== parseInt(${c})`;t.fail$data((0,qi._)`(${s} === 0 || (${c} = ${r}/${s}, ${f}))`)}};gp.default=Vq});var nw=R(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});function rw(t){let e=t.length,r=0,s=0,o;for(;s<e;)r++,o=t.charCodeAt(s++),o>=55296&&o<=56319&&s<e&&(o=t.charCodeAt(s),(o&64512)===56320&&s++);return r}_p.default=rw;rw.code='require("ajv/dist/runtime/ucs2length").default'});var aw=R($p=>{"use strict";Object.defineProperty($p,"__esModule",{value:!0});var $s=je(),Uq=Le(),Fq=nw(),Lq={message({keyword:t,schemaCode:e}){let r=t==="maxLength"?"more":"fewer";return(0,$s.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,$s._)`{limit: ${t}}`},zq={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Lq,code(t){let{keyword:e,data:r,schemaCode:s,it:o}=t,u=e==="maxLength"?$s.operators.GT:$s.operators.LT,c=o.opts.unicode===!1?(0,$s._)`${r}.length`:(0,$s._)`${(0,Uq.useFunc)(t.gen,Fq.default)}(${r})`;t.fail$data((0,$s._)`${c} ${u} ${s}`)}};$p.default=zq});var sw=R(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});var Kq=an(),Yc=je(),Wq={message:({schemaCode:t})=>(0,Yc.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,Yc._)`{pattern: ${t}}`},Hq={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Wq,code(t){let{data:e,$data:r,schema:s,schemaCode:o,it:u}=t,c=u.opts.unicodeRegExp?"u":"",f=r?(0,Yc._)`(new RegExp(${o}, ${c}))`:(0,Kq.usePattern)(t,s);t.fail$data((0,Yc._)`!${f}.test(${e})`)}};wp.default=Hq});var ow=R(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});var xi=je(),Gq={message({keyword:t,schemaCode:e}){let r=t==="maxProperties"?"more":"fewer";return(0,xi.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,xi._)`{limit: ${t}}`},Bq={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Gq,code(t){let{keyword:e,data:r,schemaCode:s}=t,o=e==="maxProperties"?xi.operators.GT:xi.operators.LT;t.fail$data((0,xi._)`Object.keys(${r}).length ${o} ${s}`)}};bp.default=Bq});var iw=R(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});var Mi=an(),Vi=je(),Jq=Le(),Yq={message:({params:{missingProperty:t}})=>(0,Vi.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Vi._)`{missingProperty: ${t}}`},Zq={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Yq,code(t){let{gen:e,schema:r,schemaCode:s,data:o,$data:u,it:c}=t,{opts:f}=c;if(!u&&r.length===0)return;let h=r.length>=f.loopRequired;if(c.allErrors?m():y(),f.strictRequired){let O=t.parentSchema.properties,{definedProperties:E}=t.it;for(let S of r)if((O==null?void 0:O[S])===void 0&&!E.has(S)){let j=c.schemaEnv.baseId+c.errSchemaPath,k=`required property "${S}" is not defined at "${j}" (strictRequired)`;(0,Jq.checkStrictMode)(c,k,c.opts.strictRequired)}}function m(){if(h||u)t.block$data(Vi.nil,g);else for(let O of r)(0,Mi.checkReportMissingProp)(t,O)}function y(){let O=e.let("missing");if(h||u){let E=e.let("valid",!0);t.block$data(E,()=>T(O,E)),t.ok(E)}else e.if((0,Mi.checkMissingProp)(t,r,O)),(0,Mi.reportMissingProp)(t,O),e.else()}function g(){e.forOf("prop",s,O=>{t.setParams({missingProperty:O}),e.if((0,Mi.noPropertyInData)(e,o,O,f.ownProperties),()=>t.error())})}function T(O,E){t.setParams({missingProperty:O}),e.forOf(O,s,()=>{e.assign(E,(0,Mi.propertyInData)(e,o,O,f.ownProperties)),e.if((0,Vi.not)(E),()=>{t.error(),e.break()})},Vi.nil)}}};Ep.default=Zq});var uw=R(Sp=>{"use strict";Object.defineProperty(Sp,"__esModule",{value:!0});var Ui=je(),Qq={message({keyword:t,schemaCode:e}){let r=t==="maxItems"?"more":"fewer";return(0,Ui.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Ui._)`{limit: ${t}}`},Xq={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Qq,code(t){let{keyword:e,data:r,schemaCode:s}=t,o=e==="maxItems"?Ui.operators.GT:Ui.operators.LT;t.fail$data((0,Ui._)`${r}.length ${o} ${s}`)}};Sp.default=Xq});var Zc=R(Pp=>{"use strict";Object.defineProperty(Pp,"__esModule",{value:!0});var cw=ei();cw.code='require("ajv/dist/runtime/equal").default';Pp.default=cw});var lw=R(Np=>{"use strict";Object.defineProperty(Np,"__esModule",{value:!0});var Op=Ti(),Wt=je(),ex=Le(),tx=Zc(),rx={message:({params:{i:t,j:e}})=>(0,Wt.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Wt._)`{i: ${t}, j: ${e}}`},nx={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:rx,code(t){let{gen:e,data:r,$data:s,schema:o,parentSchema:u,schemaCode:c,it:f}=t;if(!s&&!o)return;let h=e.let("valid"),m=u.items?(0,Op.getSchemaTypes)(u.items):[];t.block$data(h,y,(0,Wt._)`${c} === false`),t.ok(h);function y(){let E=e.let("i",(0,Wt._)`${r}.length`),S=e.let("j");t.setParams({i:E,j:S}),e.assign(h,!0),e.if((0,Wt._)`${E} > 1`,()=>(g()?T:O)(E,S))}function g(){return m.length>0&&!m.some(E=>E==="object"||E==="array")}function T(E,S){let j=e.name("item"),k=(0,Op.checkDataTypes)(m,j,f.opts.strictNumbers,Op.DataType.Wrong),B=e.const("indices",(0,Wt._)`{}`);e.for((0,Wt._)`;${E}--;`,()=>{e.let(j,(0,Wt._)`${r}[${E}]`),e.if(k,(0,Wt._)`continue`),m.length>1&&e.if((0,Wt._)`typeof ${j} == "string"`,(0,Wt._)`${j} += "_"`),e.if((0,Wt._)`typeof ${B}[${j}] == "number"`,()=>{e.assign(S,(0,Wt._)`${B}[${j}]`),t.error(),e.assign(h,!1).break()}).code((0,Wt._)`${B}[${j}] = ${E}`)})}function O(E,S){let j=(0,ex.useFunc)(e,tx.default),k=e.name("outer");e.label(k).for((0,Wt._)`;${E}--;`,()=>e.for((0,Wt._)`${S} = ${E}; ${S}--;`,()=>e.if((0,Wt._)`${j}(${r}[${E}], ${r}[${S}])`,()=>{t.error(),e.assign(h,!1).break(k)})))}}};Np.default=nx});var fw=R(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var Tp=je(),ax=Le(),sx=Zc(),ox={message:"must be equal to constant",params:({schemaCode:t})=>(0,Tp._)`{allowedValue: ${t}}`},ix={keyword:"const",$data:!0,error:ox,code(t){let{gen:e,data:r,$data:s,schemaCode:o,schema:u}=t;s||u&&typeof u=="object"?t.fail$data((0,Tp._)`!${(0,ax.useFunc)(e,sx.default)}(${r}, ${o})`):t.fail((0,Tp._)`${u} !== ${r}`)}};Ip.default=ix});var dw=R(jp=>{"use strict";Object.defineProperty(jp,"__esModule",{value:!0});var Fi=je(),ux=Le(),cx=Zc(),lx={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Fi._)`{allowedValues: ${t}}`},fx={keyword:"enum",schemaType:"array",$data:!0,error:lx,code(t){let{gen:e,data:r,$data:s,schema:o,schemaCode:u,it:c}=t;if(!s&&o.length===0)throw new Error("enum must have non-empty array");let f=o.length>=c.opts.loopEnum,h,m=()=>h!=null?h:h=(0,ux.useFunc)(e,cx.default),y;if(f||s)y=e.let("valid"),t.block$data(y,g);else{if(!Array.isArray(o))throw new Error("ajv implementation error");let O=e.const("vSchema",u);y=(0,Fi.or)(...o.map((E,S)=>T(O,S)))}t.pass(y);function g(){e.assign(y,!1),e.forOf("v",u,O=>e.if((0,Fi._)`${m()}(${r}, ${O})`,()=>e.assign(y,!0).break()))}function T(O,E){let S=o[E];return typeof S=="object"&&S!==null?(0,Fi._)`${m()}(${r}, ${O}[${E}])`:(0,Fi._)`${r} === ${S}`}}};jp.default=fx});var hw=R(Ap=>{"use strict";Object.defineProperty(Ap,"__esModule",{value:!0});var dx=ew(),hx=tw(),px=aw(),mx=sw(),yx=ow(),vx=iw(),gx=uw(),_x=lw(),$x=fw(),wx=dw(),bx=[dx.default,hx.default,px.default,mx.default,yx.default,vx.default,gx.default,_x.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},$x.default,wx.default];Ap.default=bx});var Cp=R(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.validateAdditionalItems=void 0;var ws=je(),kp=Le(),Ex={message:({params:{len:t}})=>(0,ws.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,ws._)`{limit: ${t}}`},Sx={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Ex,code(t){let{parentSchema:e,it:r}=t,{items:s}=e;if(!Array.isArray(s)){(0,kp.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}pw(t,s)}};function pw(t,e){let{gen:r,schema:s,data:o,keyword:u,it:c}=t;c.items=!0;let f=r.const("len",(0,ws._)`${o}.length`);if(s===!1)t.setParams({len:e.length}),t.pass((0,ws._)`${f} <= ${e.length}`);else if(typeof s=="object"&&!(0,kp.alwaysValidSchema)(c,s)){let m=r.var("valid",(0,ws._)`${f} <= ${e.length}`);r.if((0,ws.not)(m),()=>h(m)),t.ok(m)}function h(m){r.forRange("i",e.length,f,y=>{t.subschema({keyword:u,dataProp:y,dataPropType:kp.Type.Num},m),c.allErrors||r.if((0,ws.not)(m),()=>r.break())})}}Li.validateAdditionalItems=pw;Li.default=Sx});var Rp=R(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.validateTuple=void 0;var mw=je(),Qc=Le(),Px=an(),Ox={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){let{schema:e,it:r}=t;if(Array.isArray(e))return yw(t,"additionalItems",e);r.items=!0,!(0,Qc.alwaysValidSchema)(r,e)&&t.ok((0,Px.validateArray)(t))}};function yw(t,e,r=t.schema){let{gen:s,parentSchema:o,data:u,keyword:c,it:f}=t;y(o),f.opts.unevaluated&&r.length&&f.items!==!0&&(f.items=Qc.mergeEvaluated.items(s,r.length,f.items));let h=s.name("valid"),m=s.const("len",(0,mw._)`${u}.length`);r.forEach((g,T)=>{(0,Qc.alwaysValidSchema)(f,g)||(s.if((0,mw._)`${m} > ${T}`,()=>t.subschema({keyword:c,schemaProp:T,dataProp:T},h)),t.ok(h))});function y(g){let{opts:T,errSchemaPath:O}=f,E=r.length,S=E===g.minItems&&(E===g.maxItems||g[e]===!1);if(T.strictTuples&&!S){let j=`"${c}" is ${E}-tuple, but minItems or maxItems/${e} are not specified or different at path "${O}"`;(0,Qc.checkStrictMode)(f,j,T.strictTuples)}}}zi.validateTuple=yw;zi.default=Ox});var vw=R(Dp=>{"use strict";Object.defineProperty(Dp,"__esModule",{value:!0});var Nx=Rp(),Tx={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Nx.validateTuple)(t,"items")};Dp.default=Tx});var _w=R(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});var gw=je(),Ix=Le(),jx=an(),Ax=Cp(),kx={message:({params:{len:t}})=>(0,gw.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,gw._)`{limit: ${t}}`},Cx={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:kx,code(t){let{schema:e,parentSchema:r,it:s}=t,{prefixItems:o}=r;s.items=!0,!(0,Ix.alwaysValidSchema)(s,e)&&(o?(0,Ax.validateAdditionalItems)(t,o):t.ok((0,jx.validateArray)(t)))}};qp.default=Cx});var $w=R(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});var on=je(),Xc=Le(),Rx={message:({params:{min:t,max:e}})=>e===void 0?(0,on.str)`must contain at least ${t} valid item(s)`:(0,on.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,on._)`{minContains: ${t}}`:(0,on._)`{minContains: ${t}, maxContains: ${e}}`},Dx={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Rx,code(t){let{gen:e,schema:r,parentSchema:s,data:o,it:u}=t,c,f,{minContains:h,maxContains:m}=s;u.opts.next?(c=h===void 0?1:h,f=m):c=1;let y=e.const("len",(0,on._)`${o}.length`);if(t.setParams({min:c,max:f}),f===void 0&&c===0){(0,Xc.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&c>f){(0,Xc.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,Xc.alwaysValidSchema)(u,r)){let S=(0,on._)`${y} >= ${c}`;f!==void 0&&(S=(0,on._)`${S} && ${y} <= ${f}`),t.pass(S);return}u.items=!0;let g=e.name("valid");f===void 0&&c===1?O(g,()=>e.if(g,()=>e.break())):c===0?(e.let(g,!0),f!==void 0&&e.if((0,on._)`${o}.length > 0`,T)):(e.let(g,!1),T()),t.result(g,()=>t.reset());function T(){let S=e.name("_valid"),j=e.let("count",0);O(S,()=>e.if(S,()=>E(j)))}function O(S,j){e.forRange("i",0,y,k=>{t.subschema({keyword:"contains",dataProp:k,dataPropType:Xc.Type.Num,compositeRule:!0},S),j()})}function E(S){e.code((0,on._)`${S}++`),f===void 0?e.if((0,on._)`${S} >= ${c}`,()=>e.assign(g,!0).break()):(e.if((0,on._)`${S} > ${f}`,()=>e.assign(g,!1).break()),c===1?e.assign(g,!0):e.if((0,on._)`${S} >= ${c}`,()=>e.assign(g,!0)))}}};xp.default=Dx});var Ew=R(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.validateSchemaDeps=Ln.validatePropertyDeps=Ln.error=void 0;var Mp=je(),qx=Le(),Ki=an();Ln.error={message:({params:{property:t,depsCount:e,deps:r}})=>{let s=e===1?"property":"properties";return(0,Mp.str)`must have ${s} ${r} when property ${t} is present`},params:({params:{property:t,depsCount:e,deps:r,missingProperty:s}})=>(0,Mp._)`{property: ${t},
    missingProperty: ${s},
    depsCount: ${e},
    deps: ${r}}`};var xx={keyword:"dependencies",type:"object",schemaType:"object",error:Ln.error,code(t){let[e,r]=Mx(t);ww(t,e),bw(t,r)}};function Mx({schema:t}){let e={},r={};for(let s in t){if(s==="__proto__")continue;let o=Array.isArray(t[s])?e:r;o[s]=t[s]}return[e,r]}function ww(t,e=t.schema){let{gen:r,data:s,it:o}=t;if(Object.keys(e).length===0)return;let u=r.let("missing");for(let c in e){let f=e[c];if(f.length===0)continue;let h=(0,Ki.propertyInData)(r,s,c,o.opts.ownProperties);t.setParams({property:c,depsCount:f.length,deps:f.join(", ")}),o.allErrors?r.if(h,()=>{for(let m of f)(0,Ki.checkReportMissingProp)(t,m)}):(r.if((0,Mp._)`${h} && (${(0,Ki.checkMissingProp)(t,f,u)})`),(0,Ki.reportMissingProp)(t,u),r.else())}}Ln.validatePropertyDeps=ww;function bw(t,e=t.schema){let{gen:r,data:s,keyword:o,it:u}=t,c=r.name("valid");for(let f in e)(0,qx.alwaysValidSchema)(u,e[f])||(r.if((0,Ki.propertyInData)(r,s,f,u.opts.ownProperties),()=>{let h=t.subschema({keyword:o,schemaProp:f},c);t.mergeValidEvaluated(h,c)},()=>r.var(c,!0)),t.ok(c))}Ln.validateSchemaDeps=bw;Ln.default=xx});var Pw=R(Vp=>{"use strict";Object.defineProperty(Vp,"__esModule",{value:!0});var Sw=je(),Vx=Le(),Ux={message:"property name must be valid",params:({params:t})=>(0,Sw._)`{propertyName: ${t.propertyName}}`},Fx={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ux,code(t){let{gen:e,schema:r,data:s,it:o}=t;if((0,Vx.alwaysValidSchema)(o,r))return;let u=e.name("valid");e.forIn("key",s,c=>{t.setParams({propertyName:c}),t.subschema({keyword:"propertyNames",data:c,dataTypes:["string"],propertyName:c,compositeRule:!0},u),e.if((0,Sw.not)(u),()=>{t.error(!0),o.allErrors||e.break()})}),t.ok(u)}};Vp.default=Fx});var Fp=R(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});var el=an(),En=je(),Lx=ia(),tl=Le(),zx={message:"must NOT have additional properties",params:({params:t})=>(0,En._)`{additionalProperty: ${t.additionalProperty}}`},Kx={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:zx,code(t){let{gen:e,schema:r,parentSchema:s,data:o,errsCount:u,it:c}=t;if(!u)throw new Error("ajv implementation error");let{allErrors:f,opts:h}=c;if(c.props=!0,h.removeAdditional!=="all"&&(0,tl.alwaysValidSchema)(c,r))return;let m=(0,el.allSchemaProperties)(s.properties),y=(0,el.allSchemaProperties)(s.patternProperties);g(),t.ok((0,En._)`${u} === ${Lx.default.errors}`);function g(){e.forIn("key",o,j=>{!m.length&&!y.length?E(j):e.if(T(j),()=>E(j))})}function T(j){let k;if(m.length>8){let B=(0,tl.schemaRefOrVal)(c,s.properties,"properties");k=(0,el.isOwnProperty)(e,B,j)}else m.length?k=(0,En.or)(...m.map(B=>(0,En._)`${j} === ${B}`)):k=En.nil;return y.length&&(k=(0,En.or)(k,...y.map(B=>(0,En._)`${(0,el.usePattern)(t,B)}.test(${j})`))),(0,En.not)(k)}function O(j){e.code((0,En._)`delete ${o}[${j}]`)}function E(j){if(h.removeAdditional==="all"||h.removeAdditional&&r===!1){O(j);return}if(r===!1){t.setParams({additionalProperty:j}),t.error(),f||e.break();return}if(typeof r=="object"&&!(0,tl.alwaysValidSchema)(c,r)){let k=e.name("valid");h.removeAdditional==="failing"?(S(j,k,!1),e.if((0,En.not)(k),()=>{t.reset(),O(j)})):(S(j,k),f||e.if((0,En.not)(k),()=>e.break()))}}function S(j,k,B){let H={keyword:"additionalProperties",dataProp:j,dataPropType:tl.Type.Str};B===!1&&Object.assign(H,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(H,k)}}};Up.default=Kx});var Tw=R(zp=>{"use strict";Object.defineProperty(zp,"__esModule",{value:!0});var Wx=ki(),Ow=an(),Lp=Le(),Nw=Fp(),Hx={keyword:"properties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,parentSchema:s,data:o,it:u}=t;u.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&Nw.default.code(new Wx.KeywordCxt(u,Nw.default,"additionalProperties"));let c=(0,Ow.allSchemaProperties)(r);for(let g of c)u.definedProperties.add(g);u.opts.unevaluated&&c.length&&u.props!==!0&&(u.props=Lp.mergeEvaluated.props(e,(0,Lp.toHash)(c),u.props));let f=c.filter(g=>!(0,Lp.alwaysValidSchema)(u,r[g]));if(f.length===0)return;let h=e.name("valid");for(let g of f)m(g)?y(g):(e.if((0,Ow.propertyInData)(e,o,g,u.opts.ownProperties)),y(g),u.allErrors||e.else().var(h,!0),e.endIf()),t.it.definedProperties.add(g),t.ok(h);function m(g){return u.opts.useDefaults&&!u.compositeRule&&r[g].default!==void 0}function y(g){t.subschema({keyword:"properties",schemaProp:g,dataProp:g},h)}}};zp.default=Hx});var kw=R(Kp=>{"use strict";Object.defineProperty(Kp,"__esModule",{value:!0});var Iw=an(),rl=je(),jw=Le(),Aw=Le(),Gx={keyword:"patternProperties",type:"object",schemaType:"object",code(t){let{gen:e,schema:r,data:s,parentSchema:o,it:u}=t,{opts:c}=u,f=(0,Iw.allSchemaProperties)(r),h=f.filter(S=>(0,jw.alwaysValidSchema)(u,r[S]));if(f.length===0||h.length===f.length&&(!u.opts.unevaluated||u.props===!0))return;let m=c.strictSchema&&!c.allowMatchingProperties&&o.properties,y=e.name("valid");u.props!==!0&&!(u.props instanceof rl.Name)&&(u.props=(0,Aw.evaluatedPropsToName)(e,u.props));let{props:g}=u;T();function T(){for(let S of f)m&&O(S),u.allErrors?E(S):(e.var(y,!0),E(S),e.if(y))}function O(S){for(let j in m)new RegExp(S).test(j)&&(0,jw.checkStrictMode)(u,`property ${j} matches pattern ${S} (use allowMatchingProperties)`)}function E(S){e.forIn("key",s,j=>{e.if((0,rl._)`${(0,Iw.usePattern)(t,S)}.test(${j})`,()=>{let k=h.includes(S);k||t.subschema({keyword:"patternProperties",schemaProp:S,dataProp:j,dataPropType:Aw.Type.Str},y),u.opts.unevaluated&&g!==!0?e.assign((0,rl._)`${g}[${j}]`,!0):!k&&!u.allErrors&&e.if((0,rl.not)(y),()=>e.break())})})}}};Kp.default=Gx});var Cw=R(Wp=>{"use strict";Object.defineProperty(Wp,"__esModule",{value:!0});var Bx=Le(),Jx={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){let{gen:e,schema:r,it:s}=t;if((0,Bx.alwaysValidSchema)(s,r)){t.fail();return}let o=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),t.failResult(o,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Wp.default=Jx});var Rw=R(Hp=>{"use strict";Object.defineProperty(Hp,"__esModule",{value:!0});var Yx=an(),Zx={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Yx.validateUnion,error:{message:"must match a schema in anyOf"}};Hp.default=Zx});var Dw=R(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});var nl=je(),Qx=Le(),Xx={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,nl._)`{passingSchemas: ${t.passing}}`},eM={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Xx,code(t){let{gen:e,schema:r,parentSchema:s,it:o}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(o.opts.discriminator&&s.discriminator)return;let u=r,c=e.let("valid",!1),f=e.let("passing",null),h=e.name("_valid");t.setParams({passing:f}),e.block(m),t.result(c,()=>t.reset(),()=>t.error(!0));function m(){u.forEach((y,g)=>{let T;(0,Qx.alwaysValidSchema)(o,y)?e.var(h,!0):T=t.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},h),g>0&&e.if((0,nl._)`${h} && ${c}`).assign(c,!1).assign(f,(0,nl._)`[${f}, ${g}]`).else(),e.if(h,()=>{e.assign(c,!0),e.assign(f,g),T&&t.mergeEvaluated(T,nl.Name)})})}}};Gp.default=eM});var qw=R(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});var tM=Le(),rM={keyword:"allOf",schemaType:"array",code(t){let{gen:e,schema:r,it:s}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");let o=e.name("valid");r.forEach((u,c)=>{if((0,tM.alwaysValidSchema)(s,u))return;let f=t.subschema({keyword:"allOf",schemaProp:c},o);t.ok(o),t.mergeEvaluated(f)})}};Bp.default=rM});var Vw=R(Jp=>{"use strict";Object.defineProperty(Jp,"__esModule",{value:!0});var al=je(),Mw=Le(),nM={message:({params:t})=>(0,al.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,al._)`{failingKeyword: ${t.ifClause}}`},aM={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:nM,code(t){let{gen:e,parentSchema:r,it:s}=t;r.then===void 0&&r.else===void 0&&(0,Mw.checkStrictMode)(s,'"if" without "then" and "else" is ignored');let o=xw(s,"then"),u=xw(s,"else");if(!o&&!u)return;let c=e.let("valid",!0),f=e.name("_valid");if(h(),t.reset(),o&&u){let y=e.let("ifClause");t.setParams({ifClause:y}),e.if(f,m("then",y),m("else",y))}else o?e.if(f,m("then")):e.if((0,al.not)(f),m("else"));t.pass(c,()=>t.error(!0));function h(){let y=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);t.mergeEvaluated(y)}function m(y,g){return()=>{let T=t.subschema({keyword:y},f);e.assign(c,f),t.mergeValidEvaluated(T,c),g?e.assign(g,(0,al._)`${y}`):t.setParams({ifClause:y})}}}};function xw(t,e){let r=t.schema[e];return r!==void 0&&!(0,Mw.alwaysValidSchema)(t,r)}Jp.default=aM});var Uw=R(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});var sM=Le(),oM={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,sM.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Yp.default=oM});var Fw=R(Zp=>{"use strict";Object.defineProperty(Zp,"__esModule",{value:!0});var iM=Cp(),uM=vw(),cM=Rp(),lM=_w(),fM=$w(),dM=Ew(),hM=Pw(),pM=Fp(),mM=Tw(),yM=kw(),vM=Cw(),gM=Rw(),_M=Dw(),$M=qw(),wM=Vw(),bM=Uw();function EM(t=!1){let e=[vM.default,gM.default,_M.default,$M.default,wM.default,bM.default,hM.default,pM.default,dM.default,mM.default,yM.default];return t?e.push(uM.default,lM.default):e.push(iM.default,cM.default),e.push(fM.default),e}Zp.default=EM});var Lw=R(Qp=>{"use strict";Object.defineProperty(Qp,"__esModule",{value:!0});var Ot=je(),SM={message:({schemaCode:t})=>(0,Ot.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Ot._)`{format: ${t}}`},PM={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:SM,code(t,e){let{gen:r,data:s,$data:o,schema:u,schemaCode:c,it:f}=t,{opts:h,errSchemaPath:m,schemaEnv:y,self:g}=f;if(!h.validateFormats)return;o?T():O();function T(){let E=r.scopeValue("formats",{ref:g.formats,code:h.code.formats}),S=r.const("fDef",(0,Ot._)`${E}[${c}]`),j=r.let("fType"),k=r.let("format");r.if((0,Ot._)`typeof ${S} == "object" && !(${S} instanceof RegExp)`,()=>r.assign(j,(0,Ot._)`${S}.type || "string"`).assign(k,(0,Ot._)`${S}.validate`),()=>r.assign(j,(0,Ot._)`"string"`).assign(k,S)),t.fail$data((0,Ot.or)(B(),H()));function B(){return h.strictSchema===!1?Ot.nil:(0,Ot._)`${c} && !${k}`}function H(){let Q=y.$async?(0,Ot._)`(${S}.async ? await ${k}(${s}) : ${k}(${s}))`:(0,Ot._)`${k}(${s})`,z=(0,Ot._)`(typeof ${k} == "function" ? ${Q} : ${k}.test(${s}))`;return(0,Ot._)`${k} && ${k} !== true && ${j} === ${e} && !${z}`}}function O(){let E=g.formats[u];if(!E){B();return}if(E===!0)return;let[S,j,k]=H(E);S===e&&t.pass(Q());function B(){if(h.strictSchema===!1){g.logger.warn(z());return}throw new Error(z());function z(){return`unknown format "${u}" ignored in schema at path "${m}"`}}function H(z){let Ce=z instanceof RegExp?(0,Ot.regexpCode)(z):h.code.formats?(0,Ot._)`${h.code.formats}${(0,Ot.getProperty)(u)}`:void 0,ft=r.scopeValue("formats",{key:u,ref:z,code:Ce});return typeof z=="object"&&!(z instanceof RegExp)?[z.type||"string",z.validate,(0,Ot._)`${ft}.validate`]:["string",z,ft]}function Q(){if(typeof E=="object"&&!(E instanceof RegExp)&&E.async){if(!y.$async)throw new Error("async format in sync schema");return(0,Ot._)`await ${k}(${s})`}return typeof j=="function"?(0,Ot._)`${k}(${s})`:(0,Ot._)`${k}.test(${s})`}}}};Qp.default=PM});var zw=R(Xp=>{"use strict";Object.defineProperty(Xp,"__esModule",{value:!0});var OM=Lw(),NM=[OM.default];Xp.default=NM});var Kw=R(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.contentVocabulary=lo.metadataVocabulary=void 0;lo.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];lo.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]});var Hw=R(em=>{"use strict";Object.defineProperty(em,"__esModule",{value:!0});var TM=X$(),IM=hw(),jM=Fw(),AM=zw(),Ww=Kw(),kM=[TM.default,IM.default,(0,jM.default)(),AM.default,Ww.metadataVocabulary,Ww.contentVocabulary];em.default=kM});var Gw=R(Wi=>{"use strict";Object.defineProperty(Wi,"__esModule",{value:!0});Wi.DiscrError=void 0;var CM;(function(t){t.Tag="tag",t.Mapping="mapping"})(CM=Wi.DiscrError||(Wi.DiscrError={}))});var Jw=R(rm=>{"use strict";Object.defineProperty(rm,"__esModule",{value:!0});var fo=je(),tm=Gw(),Bw=Kc(),RM=Le(),DM={message:({params:{discrError:t,tagName:e}})=>t===tm.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,fo._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},qM={keyword:"discriminator",type:"object",schemaType:"object",error:DM,code(t){let{gen:e,data:r,schema:s,parentSchema:o,it:u}=t,{oneOf:c}=o;if(!u.opts.discriminator)throw new Error("discriminator: requires discriminator option");let f=s.propertyName;if(typeof f!="string")throw new Error("discriminator: requires propertyName");if(s.mapping)throw new Error("discriminator: mapping is not supported");if(!c)throw new Error("discriminator: requires oneOf keyword");let h=e.let("valid",!1),m=e.const("tag",(0,fo._)`${r}${(0,fo.getProperty)(f)}`);e.if((0,fo._)`typeof ${m} == "string"`,()=>y(),()=>t.error(!1,{discrError:tm.DiscrError.Tag,tag:m,tagName:f})),t.ok(h);function y(){let O=T();e.if(!1);for(let E in O)e.elseIf((0,fo._)`${m} === ${E}`),e.assign(h,g(O[E]));e.else(),t.error(!1,{discrError:tm.DiscrError.Mapping,tag:m,tagName:f}),e.endIf()}function g(O){let E=e.name("valid"),S=t.subschema({keyword:"oneOf",schemaProp:O},E);return t.mergeEvaluated(S,fo.Name),E}function T(){var O;let E={},S=k(o),j=!0;for(let Q=0;Q<c.length;Q++){let z=c[Q];(z==null?void 0:z.$ref)&&!(0,RM.schemaHasRulesButRef)(z,u.self.RULES)&&(z=Bw.resolveRef.call(u.self,u.schemaEnv.root,u.baseId,z==null?void 0:z.$ref),z instanceof Bw.SchemaEnv&&(z=z.schema));let Ce=(O=z==null?void 0:z.properties)===null||O===void 0?void 0:O[f];if(typeof Ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${f}"`);j=j&&(S||k(z)),B(Ce,Q)}if(!j)throw new Error(`discriminator: "${f}" must be required`);return E;function k({required:Q}){return Array.isArray(Q)&&Q.includes(f)}function B(Q,z){if(Q.const)H(Q.const,z);else if(Q.enum)for(let Ce of Q.enum)H(Ce,z);else throw new Error(`discriminator: "properties/${f}" must have "const" or "enum"`)}function H(Q,z){if(typeof Q!="string"||Q in E)throw new Error(`discriminator: "${f}" values must be unique strings`);E[Q]=z}}}};rm.default=qM});var Yw=R((hL,xM)=>{xM.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var nm=R((gt,Qw)=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.MissingRefError=gt.ValidationError=gt.CodeGen=gt.Name=gt.nil=gt.stringify=gt.str=gt._=gt.KeywordCxt=void 0;var MM=G$(),VM=Hw(),UM=Jw(),Zw=Yw(),FM=["/properties"],sl="http://json-schema.org/draft-07/schema",ol=class extends MM.default{_addVocabularies(){super._addVocabularies(),VM.default.forEach(e=>this.addVocabulary(e)),this.opts.discriminator&&this.addKeyword(UM.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;let e=this.opts.$data?this.$dataMetaSchema(Zw,FM):Zw;this.addMetaSchema(e,sl,!1),this.refs["http://json-schema.org/schema"]=sl}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(sl)?sl:void 0)}};Qw.exports=gt=ol;Object.defineProperty(gt,"__esModule",{value:!0});gt.default=ol;var LM=ki();Object.defineProperty(gt,"KeywordCxt",{enumerable:!0,get:function(){return LM.KeywordCxt}});var ho=je();Object.defineProperty(gt,"_",{enumerable:!0,get:function(){return ho._}});Object.defineProperty(gt,"str",{enumerable:!0,get:function(){return ho.str}});Object.defineProperty(gt,"stringify",{enumerable:!0,get:function(){return ho.stringify}});Object.defineProperty(gt,"nil",{enumerable:!0,get:function(){return ho.nil}});Object.defineProperty(gt,"Name",{enumerable:!0,get:function(){return ho.Name}});Object.defineProperty(gt,"CodeGen",{enumerable:!0,get:function(){return ho.CodeGen}});var zM=Fc();Object.defineProperty(gt,"ValidationError",{enumerable:!0,get:function(){return zM.default}});var KM=Lc();Object.defineProperty(gt,"MissingRefError",{enumerable:!0,get:function(){return KM.default}})});var il=R(Cr=>{/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var WM=Cr&&Cr.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var u in o)o.hasOwnProperty(u)&&(s[u]=o[u])},t(e,r)};return function(e,r){t(e,r);function s(){this.constructor=e}e.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}();Object.defineProperty(Cr,"__esModule",{value:!0});var HM=Object.prototype.hasOwnProperty;function om(t,e){return HM.call(t,e)}Cr.hasOwnProperty=om;function eb(t){if(Array.isArray(t)){for(var e=new Array(t.length),r=0;r<e.length;r++)e[r]=""+r;return e}if(Object.keys)return Object.keys(t);var s=[];for(var o in t)om(t,o)&&s.push(o);return s}Cr._objectKeys=eb;function GM(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}Cr._deepClone=GM;function BM(t){for(var e=0,r=t.length,s;e<r;){if(s=t.charCodeAt(e),s>=48&&s<=57){e++;continue}return!1}return!0}Cr.isInteger=BM;function am(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}Cr.escapePathComponent=am;function JM(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}Cr.unescapePathComponent=JM;function im(t,e){var r;for(var s in t)if(om(t,s)){if(t[s]===e)return am(s)+"/";if(typeof t[s]=="object"&&(r=im(t[s],e),r!=""))return am(s)+"/"+r}return""}Cr._getPathRecursive=im;function YM(t,e){if(t===e)return"/";var r=im(t,e);if(r==="")throw new Error("Object not found in root");return"/"+r}Cr.getPath=YM;function sm(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,r=t.length;e<r;e++)if(sm(t[e]))return!0}else if(typeof t=="object"){for(var s=eb(t),o=s.length,u=0;u<o;u++)if(sm(t[s[u]]))return!0}}return!1}Cr.hasUndefined=sm;function Xw(t,e){var r=[t];for(var s in e){var o=typeof e[s]=="object"?JSON.stringify(e[s],null,2):e[s];typeof o!="undefined"&&r.push(s+": "+o)}return r.join(`
`)}var ZM=function(t){WM(e,t);function e(r,s,o,u,c){var f=this.constructor,h=t.call(this,Xw(r,{name:s,index:o,operation:u,tree:c}))||this;return h.name=s,h.index=o,h.operation=u,h.tree=c,Object.setPrototypeOf(h,f.prototype),h.message=Xw(r,{name:s,index:o,operation:u,tree:c}),h}return e}(Error);Cr.PatchError=ZM});var um=R(We=>{Object.defineProperty(We,"__esModule",{value:!0});var Ur=il();We.JsonPatchError=Ur.PatchError;We.deepClone=Ur._deepClone;var po={add:function(t,e,r){return t[e]=this.value,{newDocument:r}},remove:function(t,e,r){var s=t[e];return delete t[e],{newDocument:r,removed:s}},replace:function(t,e,r){var s=t[e];return t[e]=this.value,{newDocument:r,removed:s}},move:function(t,e,r){var s=ul(r,this.path);s&&(s=Ur._deepClone(s));var o=bs(r,{op:"remove",path:this.from}).removed;return bs(r,{op:"add",path:this.path,value:o}),{newDocument:r,removed:s}},copy:function(t,e,r){var s=ul(r,this.from);return bs(r,{op:"add",path:this.path,value:Ur._deepClone(s)}),{newDocument:r}},test:function(t,e,r){return{newDocument:r,test:Hi(t[e],this.value)}},_get:function(t,e,r){return this.value=t[e],{newDocument:r}}},QM={add:function(t,e,r){return Ur.isInteger(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:r,index:e}},remove:function(t,e,r){var s=t.splice(e,1);return{newDocument:r,removed:s[0]}},replace:function(t,e,r){var s=t[e];return t[e]=this.value,{newDocument:r,removed:s}},move:po.move,copy:po.copy,test:po.test,_get:po._get};function ul(t,e){if(e=="")return t;var r={op:"_get",path:e};return bs(t,r),r.value}We.getValueByPointer=ul;function bs(t,e,r,s,o,u){if(r===void 0&&(r=!1),s===void 0&&(s=!0),o===void 0&&(o=!0),u===void 0&&(u=0),r&&(typeof r=="function"?r(e,0,t,e.path):cl(e,0)),e.path===""){var c={newDocument:t};if(e.op==="add")return c.newDocument=e.value,c;if(e.op==="replace")return c.newDocument=e.value,c.removed=t,c;if(e.op==="move"||e.op==="copy")return c.newDocument=ul(t,e.from),e.op==="move"&&(c.removed=t),c;if(e.op==="test"){if(c.test=Hi(t,e.value),c.test===!1)throw new We.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",u,e,t);return c.newDocument=t,c}else{if(e.op==="remove")return c.removed=t,c.newDocument=null,c;if(e.op==="_get")return e.value=t,c;if(r)throw new We.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",u,e,t);return c}}else{s||(t=Ur._deepClone(t));var f=e.path||"",h=f.split("/"),m=t,y=1,g=h.length,T=void 0,O=void 0,E=void 0;for(typeof r=="function"?E=r:E=cl;;){if(O=h[y],O&&O.indexOf("~")!=-1&&(O=Ur.unescapePathComponent(O)),o&&(O=="__proto__"||O=="prototype"&&y>0&&h[y-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&T===void 0&&(m[O]===void 0?T=h.slice(0,y).join("/"):y==g-1&&(T=e.path),T!==void 0&&E(e,0,t,T)),y++,Array.isArray(m)){if(O==="-")O=m.length;else{if(r&&!Ur.isInteger(O))throw new We.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",u,e,t);Ur.isInteger(O)&&(O=~~O)}if(y>=g){if(r&&e.op==="add"&&O>m.length)throw new We.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",u,e,t);var c=QM[e.op].call(e,m,O,t);if(c.test===!1)throw new We.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",u,e,t);return c}}else if(y>=g){var c=po[e.op].call(e,m,O,t);if(c.test===!1)throw new We.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",u,e,t);return c}if(m=m[O],r&&y<g&&(!m||typeof m!="object"))throw new We.JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",u,e,t)}}}We.applyOperation=bs;function tb(t,e,r,s,o){if(s===void 0&&(s=!0),o===void 0&&(o=!0),r&&!Array.isArray(e))throw new We.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(t=Ur._deepClone(t));for(var u=new Array(e.length),c=0,f=e.length;c<f;c++)u[c]=bs(t,e[c],r,!0,o,c),t=u[c].newDocument;return u.newDocument=t,u}We.applyPatch=tb;function XM(t,e,r){var s=bs(t,e);if(s.test===!1)throw new We.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",r,e,t);return s.newDocument}We.applyReducer=XM;function cl(t,e,r,s){if(typeof t!="object"||t===null||Array.isArray(t))throw new We.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,r);if(po[t.op]){if(typeof t.path!="string")throw new We.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,r);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new We.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,r);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new We.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new We.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,r);if((t.op==="add"||t.op==="replace"||t.op==="test")&&Ur.hasUndefined(t.value))throw new We.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,r);if(r){if(t.op=="add"){var o=t.path.split("/").length,u=s.split("/").length;if(o!==u+1&&o!==u)throw new We.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,r)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==s)throw new We.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,r)}else if(t.op==="move"||t.op==="copy"){var c={op:"_get",path:t.from,value:void 0},f=rb([c],r);if(f&&f.name==="OPERATION_PATH_UNRESOLVABLE")throw new We.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,r)}}}else throw new We.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,r)}We.validator=cl;function rb(t,e,r){try{if(!Array.isArray(t))throw new We.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)tb(Ur._deepClone(e),Ur._deepClone(t),r||!0);else{r=r||cl;for(var s=0;s<t.length;s++)r(t[s],s,e,void 0)}}catch(o){if(o instanceof We.JsonPatchError)return o;throw o}}We.validate=rb;function Hi(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var r=Array.isArray(t),s=Array.isArray(e),o,u,c;if(r&&s){if(u=t.length,u!=e.length)return!1;for(o=u;o--!==0;)if(!Hi(t[o],e[o]))return!1;return!0}if(r!=s)return!1;var f=Object.keys(t);if(u=f.length,u!==Object.keys(e).length)return!1;for(o=u;o--!==0;)if(!e.hasOwnProperty(f[o]))return!1;for(o=u;o--!==0;)if(c=f[o],!Hi(t[c],e[c]))return!1;return!0}return t!==t&&e!==e}We._areEquals=Hi});var nb=R(mo=>{Object.defineProperty(mo,"__esModule",{value:!0});/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var pr=il(),eV=um(),lm=new WeakMap,tV=function(){function t(e){this.observers=new Map,this.obj=e}return t}(),rV=function(){function t(e,r){this.callback=e,this.observer=r}return t}();function nV(t){return lm.get(t)}function aV(t,e){return t.observers.get(e)}function sV(t,e){t.observers.delete(e.callback)}function oV(t,e){e.unobserve()}mo.unobserve=oV;function iV(t,e){var r=[],s,o=nV(t);if(!o)o=new tV(t),lm.set(t,o);else{var u=aV(o,e);s=u&&u.observer}if(s)return s;if(s={},o.value=pr._deepClone(t),e){s.callback=e,s.next=null;var c=function(){cm(s)},f=function(){clearTimeout(s.next),s.next=setTimeout(c)};typeof window!="undefined"&&(window.addEventListener("mouseup",f),window.addEventListener("keyup",f),window.addEventListener("mousedown",f),window.addEventListener("keydown",f),window.addEventListener("change",f))}return s.patches=r,s.object=t,s.unobserve=function(){cm(s),clearTimeout(s.next),sV(o,s),typeof window!="undefined"&&(window.removeEventListener("mouseup",f),window.removeEventListener("keyup",f),window.removeEventListener("mousedown",f),window.removeEventListener("keydown",f),window.removeEventListener("change",f))},o.observers.set(e,new rV(e,s)),s}mo.observe=iV;function cm(t,e){e===void 0&&(e=!1);var r=lm.get(t.object);fm(r.value,t.object,t.patches,"",e),t.patches.length&&eV.applyPatch(r.value,t.patches);var s=t.patches;return s.length>0&&(t.patches=[],t.callback&&t.callback(s)),s}mo.generate=cm;function fm(t,e,r,s,o){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var u=pr._objectKeys(e),c=pr._objectKeys(t),f=!1,h=!1,m=c.length-1;m>=0;m--){var y=c[m],g=t[y];if(pr.hasOwnProperty(e,y)&&!(e[y]===void 0&&g!==void 0&&Array.isArray(e)===!1)){var T=e[y];typeof g=="object"&&g!=null&&typeof T=="object"&&T!=null&&Array.isArray(g)===Array.isArray(T)?fm(g,T,r,s+"/"+pr.escapePathComponent(y),o):g!==T&&(f=!0,o&&r.push({op:"test",path:s+"/"+pr.escapePathComponent(y),value:pr._deepClone(g)}),r.push({op:"replace",path:s+"/"+pr.escapePathComponent(y),value:pr._deepClone(T)}))}else Array.isArray(t)===Array.isArray(e)?(o&&r.push({op:"test",path:s+"/"+pr.escapePathComponent(y),value:pr._deepClone(g)}),r.push({op:"remove",path:s+"/"+pr.escapePathComponent(y)}),h=!0):(o&&r.push({op:"test",path:s,value:t}),r.push({op:"replace",path:s,value:e}),f=!0)}if(!(!h&&u.length==c.length))for(var m=0;m<u.length;m++){var y=u[m];!pr.hasOwnProperty(t,y)&&e[y]!==void 0&&r.push({op:"add",path:s+"/"+pr.escapePathComponent(y),value:pr._deepClone(e[y])})}}}function uV(t,e,r){r===void 0&&(r=!1);var s=[];return fm(t,e,s,"",r),s}mo.compare=uV});var dm=R(Es=>{var cV=um();Object.assign(Es,cV);var lV=nb();Object.assign(Es,lV);var ll=il();Es.JsonPatchError=ll.PatchError;Es.deepClone=ll._deepClone;Es.escapePathComponent=ll.escapePathComponent;Es.unescapePathComponent=ll.unescapePathComponent});var mm=R((hm,pm)=>{(function(t,e){typeof hm=="object"&&typeof pm!="undefined"?pm.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t["hash-it"]=e())})(hm,function(){"use strict";function t(U){for(var J=U.length,V=5381,q=52711,L;J--;)L=U.charCodeAt(J),V=V*33^L,q=q*33^L;return(V>>>0)*4096+(q>>>0)}var e=function(J,V){return J.reduce(function(q,L){var G="[object "+L+"]";return V?q[G]=L:q[L]=G,q},{})},r=function(J){return J.reduce(function(V,q){return V[q]=!0,V},{})},s=["Array","Arguments","Object","RegExp","Symbol","Map","Set","Date","Error","Event","Generator","Promise","WeakMap","WeakSet","DocumentFragment","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","ArrayBuffer","DataView","DocumentFragment","Window","String","Number","Boolean","Function","Undefined","GeneratorFunction","BigInt","Null"],o=e(s,!1),u=e(s,!0),c=r([o.Generator,o.Promise,o.WeakMap,o.WeakSet]),f=r([o.Map,o.Set]),h=r([o.Date,o.RegExp]),m=r(["bigint","boolean","function","number","string","undefined"]),y=r([o.Arguments,o.Array]),g=r([o.RegExp,o.Symbol]),T=r([o.Float32Array,o.Float64Array,o.Int8Array,o.Int16Array,o.Int32Array,o.Uint8Array,o.Uint8ClampedArray,o.Uint16Array,o.Uint32Array]),O=typeof Buffer!="undefined"&&typeof Buffer.from=="function",E=typeof Uint16Array=="function";function S(U){return String.fromCharCode.apply(null,new Uint16Array(U))}function j(U){return Buffer.from(U).toString("utf8")}function k(U){return""}var B=function(){return O?j:E?S:k}(),H=/\[object ([HTML|SVG](.*)Element)\]/,Q=Object.prototype.toString,z=Object.keys;function Ce(U){return{bubbles:U.bubbles,cancelBubble:U.cancelBubble,cancelable:U.cancelable,composed:U.composed,currentTarget:U.currentTarget,defaultPrevented:U.defaultPrevented,eventPhase:U.eventPhase,isTrusted:U.isTrusted,returnValue:U.returnValue,target:U.target,type:U.type}}function ft(U,J){return U>J}function rr(U,J){return U[0]>J[0]}function bt(U,J){for(var V,q,L=0;L<U.length;++L){for(q=U[L],V=L-1;~V&&J(U[V],q);--V)U[V+1]=U[V];U[V+1]=q}return U}function He(U,J,V){var q=[];U.forEach(function(me,pt){q.push([un(pt,J,V),un(me,J,V)])}),bt(q,rr);for(var L=0,G;L<q.length;++L)G=q[L],q[L]="["+G[0]+","+G[1]+"]";return"Map|["+q.join(",")+"]"}function Mt(U,J,V){var q=[];return U.forEach(function(L){q.push(un(L,J,V))}),bt(q,ft),"Set|["+q.join(",")+"]"}function Nt(U){for(var J=bt(z(U),ft),V={},q,L=0;L<J.length;++L)q=J[L],V[q]=U[q];return V}function st(U){for(var J=U.children,V=[],q=0;q<J.length;++q)V.push(J[q].outerHTML);return V.join(",")}function Ht(U,J){for(var V=0;V<U.length;++V)if(U[V]===J)return V+1;return 0}function Gt(U,J,V,q){if(!q){var L=typeof U;if(m[L])return L+"|"+U;if(U===null)return U+"|"+U}var G=q||Q.call(U);return y[G]?U:G===o.Object?Nt(U):g[G]?u[G]+"|"+U.toString():f[G]?U instanceof Map?He(U,J,V):Mt(U,J,V):G===o.Date?u[G]+"|"+U.getTime():G===o.Error?u[G]+"|"+U.stack:G===o.Event?Ce(U):c[G]?u[G]+"|NOT_ENUMERABLE":H.test(G)?G.slice(8,-1)+"|"+U.outerHTML:G===o.DocumentFragment?u[G]+"|"+st(U):T[G]?u[G]+"|"+U.join(","):G===o.ArrayBuffer?u[G]+"|"+B(U):G===o.DataView?u[G]+"|"+B(U.buffer):U}function ca(U,J){return U===void 0&&(U=[]),J===void 0&&(J=[]),function(V,q){if(typeof q=="object")if(U.length){var L=Ht(U,this);L===0?U.push(this):(U.splice(L),J.splice(L)),J.push(V);var G=Ht(U,q);if(G!==0)return"[~"+(J.slice(0,G).join(".")||".")+"]";U.push(q)}else U[0]=q,J[0]=V;return V&&this[V]instanceof Date?Gt(this[V],U,J,o.Date):Gt(q,U,J)}}function un(U,J,V){if(!U||typeof U!="object")return Gt(U,J,V);var q=Q.call(U);return h[q]?Gt(U,J,V,q):JSON.stringify(U,ca(J,V))}function mr(U){return t(un(U))}function Dr(U,J){return mr(U)===mr(J)}function la(U){for(var J=0;J<(arguments.length<=1?0:arguments.length-1);++J)if(!Dr(U,J+1<1||arguments.length<=J+1?void 0:arguments[J+1]))return!1;return!0}function yr(U){for(var J=0;J<(arguments.length<=1?0:arguments.length-1);++J)if(Dr(U,J+1<1||arguments.length<=J+1?void 0:arguments[J+1]))return!0;return!1}function fa(U,J){return mr(U)!==mr(J)}return Dr.all=la,Dr.any=yr,Dr.not=fa,mr.is=Dr,mr})});var gb=R((gL,vb)=>{"use strict";var fV=Object.create,Zi=Object.defineProperty,dV=Object.defineProperties,hV=Object.getOwnPropertyDescriptor,pV=Object.getOwnPropertyDescriptors,mV=Object.getOwnPropertyNames,ab=Object.getOwnPropertySymbols,yV=Object.getPrototypeOf,ib=Object.prototype.hasOwnProperty,vV=Object.prototype.propertyIsEnumerable,sb=(t,e,r)=>e in t?Zi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ue=(t,e)=>{for(var r in e||(e={}))ib.call(e,r)&&sb(t,r,e[r]);if(ab)for(var r of ab(e))vV.call(e,r)&&sb(t,r,e[r]);return t},le=(t,e)=>dV(t,pV(e)),Fa=(t,e)=>{for(var r in e)Zi(t,r,{get:e[r],enumerable:!0})},hl=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of mV(e))!ib.call(t,o)&&o!==r&&Zi(t,o,{get:()=>e[o],enumerable:!(s=hV(e,o))||s.enumerable});return t},Ss=(t,e,r)=>(hl(t,e,"default"),r&&hl(r,e,"default")),Ps=(t,e,r)=>(r=t!=null?fV(yV(t)):{},hl(e||!t||!t.__esModule?Zi(r,"default",{value:t,enumerable:!0}):r,t)),gV=t=>hl(Zi({},"__esModule",{value:!0}),t),ub={};Fa(ub,{DEFAULT_DEFINITION:()=>RV,DashboardDefinition:()=>DV,GLOBAL_TRP_TOKEN_NAME:()=>fl,combineSchema:()=>Gi,createComponentDict:()=>Bi,createMonacoSchema:()=>AV,createSchemaBasedOnDicts:()=>fb,createSchemaBasedOnPresets:()=>kV,createSimpleDSSchema:()=>MV,createSimpleInputSchema:()=>VV,createSimpleVizSchema:()=>xV,createTestSchema:()=>qV,defaultSchema:()=>db,generateId:()=>Ji,getDefaultOptionsForDataSourceType:()=>dl,getDefaultStaticTokens:()=>hb,getDefaultsForVisualizationType:()=>Om,getGlobalDefaultsForVisualizations:()=>Pm,hasDuplicateId:()=>pb,normalizeLayoutStructure:()=>Sm});vb.exports=gV(ub);var W={};Fa(W,{default:()=>_V});var ym=Ps(Uo());Ss(W,Uo());var _V="default"in ym?ym.default:ym,wt={};Fa(wt,{default:()=>$V});var vm=Ps(rg());Ss(wt,rg());var $V="default"in vm?vm.default:vm,Yi={};Fa(Yi,{default:()=>wV});var gm=Ps(Ph());Ss(Yi,Ph());var wV="default"in gm?gm.default:gm,Nm={};Fa(Nm,{default:()=>bV});var _m=Ps(Fs());Ss(Nm,Fs());var bV="default"in _m?_m.default:_m,cb={};Fa(cb,{default:()=>lb});var $m=Ps(nm());Ss(cb,nm());var lb="default"in $m?$m.default:$m,Tm={};Fa(Tm,{default:()=>EV});var wm=Ps(dm());Ss(Tm,dm());var EV="default"in wm?wm.default:wm,Rr="^[a-zA-Z0-9_-]*$",SV=`^${wt.TOKEN_NAME_CHARS_PATTERN}$`,Im={type:"array",items:{type:"object",properties:{type:{type:"string"},options:{type:"object",nullable:!0,properties:{url:{type:"string",nullable:!0},newTab:{type:"boolean",nullable:!0},key:{type:"string",nullable:!0},value:{type:"string",nullable:!0},app:{type:"string",nullable:!0},dashboard:{type:"string",nullable:!0},tokens:{type:"array",nullable:!0,items:{type:"object",properties:{token:{type:"string"},key:{type:"string",nullable:!0,description:"Fetches the data from the event using this key."},value:{type:"string",nullable:!0,description:"Specify a static value."}},required:["token"],oneOf:[{required:["key"]},{required:["value"]}]}},tokenNamespace:{type:"string",nullable:!0},events:{type:"array",items:{type:"string"},nullable:!0}}}},required:["type"],additionalProperties:!1},nullable:!0},PV={type:"object",nullable:!0,required:[],additionalProperties:!1,patternProperties:{[Rr]:{type:"object",properties:{type:{type:"string"},options:{type:"object",nullable:!0},name:{type:"string",nullable:!0},meta:{type:"object"},extend:{type:"string"},eventHandlers:Im},required:["type"],additionalProperties:!1}}},OV={type:"object",required:[],nullable:!0,additionalProperties:!1,patternProperties:{[Rr]:{type:"object",properties:{context:{type:"object",nullable:!0},type:{type:"string"},options:{type:"object",nullable:!0},encoding:{type:"object",nullable:!0},dataSources:{type:"object",patternProperties:{[Rr]:{type:"string"}},required:[],nullable:!0},eventHandlers:Im,title:{type:"string",nullable:!0},description:{type:"string",nullable:!0},showProgressBar:{type:"boolean",nullable:!0},showLastUpdated:{type:"boolean",nullable:!0},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"],additionalProperties:!1}}},NV={type:"object",nullable:!0,required:[],additionalProperties:!1,patternProperties:{[Rr]:{type:"object",properties:{context:{type:"object",nullable:!0},type:{type:"string"},options:{type:"object",nullable:!0},encoding:{type:"object",nullable:!0},dataSources:{type:"object",nullable:!0,required:[],patternProperties:{[Rr]:{type:"string"}}},title:{type:"string",nullable:!0},eventHandlers:Im,showProgressBar:{type:"boolean",nullable:!0},showLastUpdated:{type:"boolean",nullable:!0},canvasAlignment:{type:"string",anyOf:[{enum:["top","bottom","center"]},{pattern:"^[$].*[$]$"}],nullable:!0},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"],additionalProperties:!1}}},TV={type:"object",nullable:!0,required:["type"],additionalProperties:!1,properties:{type:{type:"string"},options:{type:"object",nullable:!0},globalInputs:{type:"array",items:{type:"string"},nullable:!0},structure:{type:"array",items:{type:"object",nullable:!0,required:[]},nullable:!0}}},IV={type:"object",nullable:!0,properties:{inputs:{type:"object",nullable:!0,required:[]},visualizations:{type:"object",nullable:!0,required:[],additionalProperties:!1},dataSources:{type:"object",nullable:!0,required:[],properties:{global:{type:"object",nullable:!0}},patternProperties:{[Rr]:{type:"object",nullable:!0}}},tokens:{type:"object",nullable:!0,required:[],patternProperties:{[Rr]:{type:"object",required:[],patternProperties:{[Rr]:{type:"object",required:["value"],properties:{value:{type:"string"}}}}}}}}},jV={type:"object",nullable:!0,additionalProperties:!1,properties:{conditions:{type:"object",nullable:!0,additionalProperties:!1,required:[],patternProperties:{[SV]:{type:"object",additionalProperties:!1,required:["value"],properties:{value:{type:"string"}}}}}}},jm={$id:"http://www.splunk.com/dashboard.schema.json",title:"Dashboard Definition",description:"Dashboard Definition",type:"object",properties:{version:{type:"string",nullable:!0},title:{type:"string",nullable:!0},description:{type:"string",nullable:!0},dataSources:PV,visualizations:OV,inputs:NV,defaults:IV,layout:TV,expressions:jV},required:[]},AV=({newSchema:t={},modelUri:e})=>{let r=(0,W.isEmpty)(t)?jm:t;return[{uri:"http://splunk/json-schema.json",fileMatch:[e],schema:r}]},Gi=(t,e=!0)=>{let r=[];return(0,W.each)(t,(s,o)=>{if(!(0,W.isEmpty)(s)){let u={if:{properties:{type:{const:o}}},then:{properties:{options:s!=null&&s.extend?s.extend:{type:"object",properties:s,additionalProperties:e}}}};r.push(u)}}),r},fb=({layoutDict:t={},dataSourceDict:e={},visualizationDict:r={},inputDict:s={}})=>{let o=Gi(t),u=Gi(e),c=Gi(r),f=Gi(s,!1),h=(0,W.cloneDeep)(jm);return(0,W.isEmpty)(t)||(0,W.set)(h,"properties.layout.properties.type.enum",Object.keys(t)),(0,W.isEmpty)(o)||(0,W.set)(h,"properties.layout.allOf",o),(0,W.isEmpty)(s)||(0,W.set)(h,["properties","inputs","patternProperties",Rr,"properties","type","enum"],Object.keys(s)),(0,W.isEmpty)(f)||(0,W.set)(h,["properties","inputs","patternProperties",Rr,"allOf"],f),(0,W.isEmpty)(r)||((0,W.set)(h,["properties","visualizations","patternProperties",Rr,"properties","type","enum"],Object.keys(r)),(0,W.set)(h,["properties","defaults","properties","visualizations","properties","global"],{type:"object",nullable:!0,additionalProperties:!1,properties:{context:{type:"object",nullable:!0},showLastUpdated:{type:"boolean",default:!1,nullable:!0},showProgressBar:{type:"boolean",default:!1,nullable:!0}}}),Object.entries(r).forEach(([m,y])=>(0,W.set)(h,["properties","defaults","properties","visualizations","properties",m],{type:"object",nullable:!0,additionalProperties:!1,properties:{context:{type:"object",nullable:!0},showLastUpdated:{type:"boolean",default:!1,nullable:!0},showProgressBar:{type:"boolean",default:!1,nullable:!0},options:{type:"object",properties:y,nullable:!0,additionalProperties:!1}}}))),(0,W.isEmpty)(c)||(0,W.set)(h,["properties","visualizations","patternProperties",Rr,"allOf"],c),(0,W.isEmpty)(e)||(0,W.set)(h,["properties","dataSources","patternProperties",Rr,"properties","type","enum"],Object.keys(e)),(0,W.isEmpty)(u)||(0,W.set)(h,["properties","dataSources","patternProperties",Rr,"allOf"],u),h},Bi=t=>{let e={};return(0,W.each)(t,(r,s)=>{var o;e[s]=((o=r==null?void 0:r.config)==null?void 0:o.optionsSchema)||(r==null?void 0:r.schema)}),e},kV=t=>{let e=Bi(t.layouts),r=Bi(t.dataSources),s=Bi(t.visualizations),o=Bi(t.inputs);return fb({layoutDict:e,dataSourceDict:r,visualizationDict:s,inputDict:o})},db=jm,ob=t=>`${t}_${(0,wt.uniqueId)()}`,bm=new lb({allErrors:!0,allowMatchingProperties:!0,allowUnionTypes:!0}),CV=(0,W.memoize)(t=>(bm.getSchema(t.$id)&&bm.removeSchema(t.$id),bm.compile(t)),t=>(0,wt.hashString)(JSON.stringify(t))),Sm=t=>{let e=(0,W.get)(t,"layout",{}),s=(0,W.get)(t,"layout.structure",[]).map((o,u)=>le(ue({},o),{layer:u}));return le(ue({},t),{layout:le(ue({},e),{structure:(0,W.keyBy)(s,"item")})})},fl="global_time",RV={visualizations:{},dataSources:{},defaults:{dataSources:{global:{options:{queryParameters:{latest:`$${fl}.latest$`,earliest:`$${fl}.earliest$`}}}}},inputs:{input_global_trp:{type:"input.timerange",options:{token:`${fl}`,defaultValue:"-24h@h,now"},title:(0,Nm._)("Global Time Range")}},layout:{type:"absolute",options:{},structure:[],globalInputs:["input_global_trp"]}},dl=(t,e)=>{var r,s,o;if(!t||!e)return{};let u=(o=(s=(r=t==null?void 0:t.dataSources)==null?void 0:r.global)==null?void 0:s.options)!=null?o:{},c=(0,W.get)(t,["dataSources",e,"options"],{}),f=(0,W.defaultsDeep)({},c,u);return(0,W.omit)(f,["query"])},hb=(t,e=new Set)=>{var r;let s=(r=t.defaults)==null?void 0:r.tokens,o={};return s&&Object.keys(s).forEach(u=>{var c;e.has(u)||((c=o[u])!=null||(o[u]={}),Object.keys(s[u]).forEach(f=>{let{value:h}=s[u][f];typeof h=="string"&&(o[u][f]=h)}))}),o},Ji=(t,e=()=>!1)=>{let r=ob(t);for(;e(r);)r=ob(t);return r},pb=(t,e)=>JSON.stringify(t).indexOf(`"${e}"`)!==-1,Pm=t=>{var e,r;let{showProgressBar:s=!1,showLastUpdated:o=!1,context:u={}}=(r=(e=t==null?void 0:t.visualizations)==null?void 0:e.global)!=null?r:{};return{showProgressBar:s,showLastUpdated:o,context:u}},Om=(t,e)=>{var r,s;let{showProgressBar:o,showLastUpdated:u,context:c={},options:f={}}=(s=(r=t==null?void 0:t.visualizations)==null?void 0:r[e])!=null?s:{},h={options:f,context:c};return typeof o=="boolean"&&(h.showProgressBar=o),typeof u=="boolean"&&(h.showLastUpdated=u),h},mb=class{constructor(t={}){this.checkDuplicateTokens=()=>(0,Yi.checkDuplicateTokens)(this.definition),this.checkVisualizationsInStructure=()=>(0,Yi.checkVisualizationsInStructure)(this.definition),this.checkInputsInStructure=()=>(0,Yi.checkInputsInStructure)(this.definition),this.definition=t}static fromJSON(t={}){return new mb(t)}static flattenDataSources(t,e){let r={},s={};return(0,W.each)(t,(o,u)=>{let c=(0,W.get)(o,"type"),f=(0,W.cloneDeep)((0,W.get)(o,"options"));r[c]||(r[c]=dl(e,c));let h=r[c];s[u]=le(ue({},o),{options:(0,W.defaultsDeep)(f,h)})}),s}static flattenVisualizations(t,e){let r=new Map,s=Pm(e),o={};return(0,W.each)(t,(u,c)=>{if(!r.has(u.type)){let h=Om(e,u.type);r.set(u.type,h)}let f=r.get(u.type);o[c]=(0,W.defaultsDeep)({},u,f,s)}),o}setSchema(t){if((0,wt.deprecated)("This method is deprecated, please use the DashboardValidator class validation methods from @splunk/dashboard-validation"),!t.$id)return null;try{this.validateDefinition=CV(t)}catch(e){return e}return null}validate(){var t,e,r;if(this.validateDefinition?(0,wt.deprecated)("This method is deprecated, please use the DashboardValidator class validation methods from @splunk/dashboard-validation"):this.setSchema(db),!((t=this.validateDefinition)==null?void 0:t.call(this,this.definition))&&((r=(e=this.validateDefinition)==null?void 0:e.errors)==null?void 0:r.length))return(0,W.cloneDeep)(this.validateDefinition.errors);let o=[...this.checkDuplicateTokens(),...this.checkVisualizationsInStructure(),...this.checkInputsInStructure()];return(0,W.isEmpty)(o)?null:o}updateDashboard({title:t,desc:e}){return(0,W.isString)(t)&&(this.definition=le(ue({},this.definition),{title:t&&t.trim()||""})),e&&(this.definition=le(ue({},this.definition),{description:e})),this}addDataSource(t,e){return e?(this.definition=le(ue({},this.definition),{dataSources:le(ue({},this.definition.dataSources),{[t]:e})}),this):this}addVisualization(t,e){return this.updateVisualization(t,e)}addInput(t,e){let r=(0,W.get)(e,"options.token",this.nextTokenId()),s=(0,W.get)(e,"type","input.text");return this.definition=le(ue({},this.definition),{inputs:le(ue({},this.definition.inputs),{[t]:le(ue({},e),{type:s,options:le(ue({},e==null?void 0:e.options),{token:r})})})}),this}addInputToLayout(t){let e=this.getGlobalInputs();return this.updateGlobalInputs([...e,t])}removeInputFromLayout(t){let e=this.getGlobalInputs().filter(r=>r!==t);return this.updateGlobalInputs(e)}updateGlobalInputs(t=[]){return this.definition=le(ue({},this.definition),{layout:le(ue({type:"absolute"},this.definition.layout),{globalInputs:t})}),this}cloneDataSource(t){let e=this.getDataSource(t);if(!e)return null;let{name:r}=e,s=/ copy (\d+)$/;if(r){let u=r.replace(s,""),h=Object.values(this.definition.dataSources).map(m=>m.name).filter(m=>m==null?void 0:m.includes(u)).reduce((m,y)=>{let g=y==null?void 0:y.match(s),T=g?parseInt(g[1],10)+1:1;return Math.max(m,T)},1);e=le(ue({},e),{name:`${u} copy ${h}`})}let o=`${this.nextDataSourceId()}_${t}`;return this.addDataSource(o,e),o}cloneDataSourcesFromItemDef(t){if((0,W.isEmpty)(t==null?void 0:t.dataSources))return;let e={};return(0,W.each)(t.dataSources,(r,s)=>{if(this.getDataSource(r)){let o=this.cloneDataSource(r);e[s]=o}}),e}cloneVisualization(t,e){if(!e)return null;let r=this.getVisualization(t);if(!r)return null;let s=ue({},r),o=this.cloneDataSourcesFromItemDef(r);return o&&(s.dataSources=o),this.addVisualization(e,s),e}cloneInput(t,e){var r;if(!e)return null;let s=this.getInput(t);if(!s)return null;let o=(0,W.cloneDeep)(s);(r=o.options)!=null||(o.options={}),o.options.token=this.nextTokenId();let u=this.cloneDataSourcesFromItemDef(s);return u&&(o.dataSources=u),this.addInput(e,o),e}removeDataSource(t){return this.definition=le(ue({},this.definition),{dataSources:(0,W.omit)(this.definition.dataSources,[t])}),this}removeVisualization(t){return this.definition=le(ue({},this.definition),{visualizations:(0,W.omit)(this.definition.visualizations,[t])}),this}removeInput(t){return this.definition=le(ue({},this.definition),{inputs:(0,W.omit)(this.definition.inputs,[t])}),this}removeDefaultStaticToken({tokenName:t,namespace:e=wt.DEFAULT_TOKEN_NAMESPACE}){var r,s,o,u,c;let f=(0,W.cloneDeep)(this.definition);return(s=(r=f.defaults)==null?void 0:r.tokens)!=null&&s[e]&&delete f.defaults.tokens[e][t],((u=(o=f.defaults)==null?void 0:o.tokens)==null?void 0:u[e])&&(0,W.isEmpty)(f.defaults.tokens[e])&&delete f.defaults.tokens[e],((c=f.defaults)==null?void 0:c.tokens)&&(0,W.isEmpty)(f.defaults.tokens)&&delete f.defaults.tokens,f.defaults&&(0,W.isEmpty)(f.defaults)&&delete f.defaults,this.definition=f,this}updateLayoutType(t){return this.definition=le(ue({},this.definition),{layout:le(ue({},this.definition.layout),{type:t})}),this}updateLayoutOptions(t){return this.definition=le(ue({},this.definition),{layout:le(ue({type:"absolute"},this.definition.layout),{options:t})}),this}updateLayoutStructure(t){return this.definition=le(ue({},this.definition),{layout:le(ue({type:"absolute"},this.definition.layout),{structure:t})}),this}updateVisualization(t,e){return e?(this.definition=le(ue({},this.definition),{visualizations:le(ue({},this.definition.visualizations),{[t]:e})}),this):this}updateDataSource(t,e){return!e||(0,W.isEqual)(e,(0,W.get)(this.definition,["dataSources",t]))?this:(this.definition=le(ue({},this.definition),{dataSources:le(ue({},this.definition.dataSources),{[t]:e})}),this)}updateInput(t,e){return e?(this.definition=le(ue({},this.definition),{inputs:le(ue({},this.definition.inputs),{[t]:e})}),this):this}setDefaultStaticToken({tokenName:t,defaultValue:e,namespace:r=wt.DEFAULT_TOKEN_NAMESPACE}){var s,o,u;return e?this.definition=le(ue({},this.definition),{defaults:le(ue({},this.definition.defaults),{tokens:le(ue({},(s=this.definition.defaults)==null?void 0:s.tokens),{[r]:le(ue({},(u=(o=this.definition.defaults)==null?void 0:o.tokens)==null?void 0:u[r]),{[t]:{value:e}})})})}):this.removeDefaultStaticToken({tokenName:t,namespace:r}),this}toJSON(){return this.definition}getItemOptions(t){var e,r;return(r=(e=this.getVisualization(t))!=null?e:this.getInput(t))==null?void 0:r.options}getLayoutStructure(){let t=(0,W.get)(this.definition,"layout.structure");return Array.isArray(t)?t:[]}getLayoutType(){var t;return(t=this.definition.layout)==null?void 0:t.type}getValidatedLayoutType(){let t=this.getLayoutType();if(t!=="grid"&&t!=="absolute")throw new TypeError(`${t} is not supported by this api`);return t}getLayoutOptions(){return(0,W.get)(this.definition,"layout.options")||{}}getVisualization(t){return(0,W.get)(this.definition,`visualizations["${t}"]`,null)}getVisualizationWithFlattenedDefaults(t){let e=this.getVisualization(t);if(!e)return null;let r=this.getDefaults(),s=Pm(r),o=Om(r,e.type);return(0,wt.deepMergeWithDefaults)(e,o,s)}getVisualizationIds(){return Object.keys((0,W.get)(this.definition,"visualizations",{}))}getDataSource(t){return(0,W.get)(this.definition,`dataSources["${t}"]`,null)}canBeBaseDataSource(t,e=0){let r=(0,W.get)(this.getDataSource(t),"options.extend",""),s=e<wt.MAX_CHAIN_LENGTH;return r&&s?this.canBeBaseDataSource(r,e+1):s}getBaseDataSources(){let t=(0,W.get)(this.definition,"dataSources",{});return(0,W.pickBy)(t,(e,r)=>this.canBeBaseDataSource(r))}getDataSourceDefaultOptions(t){let e=(0,W.get)(this.getDataSource(t),"type");return e?dl(this.getDefaults(),e):null}getInput(t){return(0,W.get)(this.definition,["inputs",t],null)}getGlobalInputs(){return(0,W.get)(this.definition,"layout.globalInputs",[]).slice()}getInputByToken(t){if(!t)return null;let e=(0,W.get)(this.definition,"inputs");return(0,W.find)(e,r=>(0,W.get)(r,"options.token")===t)||null}getVisualizationType(t){var e,r;return((r=(e=this.definition.visualizations)==null?void 0:e[t])==null?void 0:r.type)||null}getInputType(t){var e,r;return((r=(e=this.definition.inputs)==null?void 0:e[t])==null?void 0:r.type)||null}getItemPresetType(t){return this.getVisualizationType(t)||this.getInputType(t)||void 0}getEventHandlers(t,e="visualizations"){if(!t)return[];let r=(0,W.get)(this.definition,[e,t],null);return r&&Array.isArray(r.eventHandlers)&&r.eventHandlers||[]}createEventHandler(t,e,r="visualizations"){var s;if((0,W.get)(this.definition,[r,t],null)==null)return this;let u=[...this.getEventHandlers(t,r),e];return this.definition=le(ue({},this.definition),{[r]:le(ue({},this.definition[r]),{[t]:le(ue({},(s=this.definition[r])==null?void 0:s[t]),{eventHandlers:u})})}),this}removeEventHandler(t,e=0,r="visualizations"){var s;if((0,W.get)(this.definition,[r,t],null)==null)return this;let u=[...this.getEventHandlers(t,r)];return u.splice(e,1),this.definition=le(ue({},this.definition),{[r]:le(ue({},this.definition[r]),{[t]:le(ue({},(s=this.definition[r])==null?void 0:s[t]),{eventHandlers:u})})}),this}editEventHandler(t,e=0,r={},s="visualizations"){var o;if((0,W.get)(this.definition,[s,t],null)==null)return this;let c=[...this.getEventHandlers(t,s)];return e>=0&&e<=c.length-1&&(c[e]=r,this.definition=le(ue({},this.definition),{[s]:le(ue({},this.definition[s]),{[t]:le(ue({},(o=this.definition[s])==null?void 0:o[t]),{eventHandlers:c})})})),this}connectNewDataSourceToVisualization({vizId:t,dataSourceType:e,dataSourceDefinition:r}){let s=this.nextDataSourceId();return this.addDataSource(s,r),this.connectDataSourceToVisualization({vizId:t,dataSourceType:e,dataSourceId:s}),this}connectNewDataSourceToInput({inputId:t,dataSourceType:e,dataSourceDefinition:r}){let s=this.nextDataSourceId();return this.addDataSource(s,r),this.connectDataSourceToInput({inputId:t,dataSourceType:e,dataSourceId:s}),this}connectNewDataSourceToItem({itemId:t,dataSourceType:e,dataSourceDefinition:r}){return this.getItemType(t)==="input"?this.connectNewDataSourceToInput({inputId:t,dataSourceType:e,dataSourceDefinition:r}):this.connectNewDataSourceToVisualization({vizId:t,dataSourceType:e,dataSourceDefinition:r})}connectDataSourceToVisualization({vizId:t,dataSourceType:e,dataSourceId:r}){let s=this.getVisualization(t),o=this.getDataSource(r);return s&&o&&this.updateVisualization(t,le(ue({},s),{dataSources:le(ue({},s.dataSources),{[e]:r})})),this}connectDataSourceToInput({inputId:t,dataSourceType:e,dataSourceId:r}){let s=this.getInput(t),o=this.getDataSource(r);return s&&o&&this.updateInput(t,le(ue({},s),{dataSources:le(ue({},s.dataSources),{[e]:r})})),this}connectDataSourceToItem({itemId:t,dataSourceType:e,dataSourceId:r,type:s="block"}){return s==="input"?this.connectDataSourceToInput({inputId:t,dataSourceType:e,dataSourceId:r}):this.connectDataSourceToVisualization({vizId:t,dataSourceType:e,dataSourceId:r})}disconnectDataSourceFromVisualization({vizId:t,dataSourceType:e,dataSourceId:r}){let s=this.getVisualization(t);return s&&s.dataSources&&s.dataSources[e]===r&&this.updateVisualization(t,le(ue({},s),{dataSources:(0,W.omit)(s.dataSources,e)})),this}disconnectDataSourceFromInput({inputId:t,dataSourceType:e,dataSourceId:r}){let s=this.getInput(t);return s&&s.dataSources&&s.dataSources[e]===r&&this.updateInput(t,le(ue({},s),{dataSources:(0,W.omit)(s.dataSources,e)})),this}disconnectDataSourceFromItem({itemId:t,dataSourceType:e,dataSourceId:r}){return this.getItemType(t)==="input"?this.disconnectDataSourceFromInput({inputId:t,dataSourceType:e,dataSourceId:r}):this.disconnectDataSourceFromVisualization({vizId:t,dataSourceType:e,dataSourceId:r})}nextVisualizationId(){return Ji("viz",t=>this.getVisualization(t))}nextDataSourceId(){return Ji("ds",t=>this.getDataSource(t))}nextInputId(){return Ji("input",t=>this.getInput(t))}nextTokenId(t="token"){return Ji(t,e=>this.getInputByToken(e))}countVisualizationsUsingDataSource(t){let{visualizations:e={}}=this.definition,r=0;return Object.keys(e).forEach(s=>{let o=(0,W.get)(e,[s,"dataSources"],{});Object.keys(o).forEach(u=>{o[u]===t&&(r+=1)})}),r}countInputsUsingDataSource(t){let{inputs:e={}}=this.definition,r=0;return Object.keys(e).forEach(s=>{let o=(0,W.get)(e,[s,"dataSources"],{});Object.keys(o).forEach(u=>{o[u]===t&&(r+=1)})}),r}getChainSearchesUsingDataSource(t,e=0){let r=(0,W.get)(this.definition,"dataSources",{}),s=[];return(0,W.each)(r,(o,u)=>{(0,W.get)(o,"options.extend","")===t&&e<wt.MAX_CHAIN_LENGTH&&s.push({id:u,config:this.getDataSource(u)},...this.getChainSearchesUsingDataSource(u,e+1))}),s}disconnectDataSource(t){let{visualizations:e={},inputs:r={}}=this.definition;return Object.keys(e).forEach(s=>{let o=(0,W.get)(e,[s,"dataSources"],{});Object.keys(o).forEach(u=>{this.disconnectDataSourceFromVisualization({vizId:s,dataSourceType:u,dataSourceId:t})})}),Object.keys(r).forEach(s=>{let o=(0,W.get)(r,[s,"dataSources"],{});Object.keys(o).forEach(u=>{this.disconnectDataSourceFromInput({inputId:s,dataSourceType:u,dataSourceId:t})})}),this}hasDuplicateId(t){return pb(this.definition,t)}updateComponentId(t,e){if(t===e||!/^(viz|input|ds)_[a-zA-Z0-9-_]+$/.test(e)||this.hasDuplicateId(e)||!this.hasDuplicateId(t))return!1;let r=JSON.stringify(this.definition),s=new RegExp(`"${t}"`,"g");return this.definition=JSON.parse(r.replace(s,`"${e}"`)),!0}compare(t){return(0,Tm.compare)(Sm(this.toJSON()),Sm(t.toJSON()))}getFirstTimeRangeInputId(){return(0,W.find)((0,W.get)(this.definition,["layout","globalInputs"],[]),t=>(0,W.get)(this.getInput(t),"type")==="input.timerange")}getDefaults(){return(0,W.get)(this.definition,"defaults",{})}getDefaultTimeRangeForNewSearch(){let t=dl(this.getDefaults(),"ds.search"),e=(0,W.get)(t,"queryParameters",{});if(e.earliest||e.latest)return{};let r=(0,W.get)(this.getInput(this.getFirstTimeRangeInputId()),["options","token"]);return r?{earliest:`$${r}.earliest$`,latest:`$${r}.latest$`}:{earliest:"-24h@h",latest:"now"}}getVisualizationLayoutType(t){let e=this.getLayoutStructure(),{type:r="block"}=e.find(s=>s.item===t)||{};return r}getItemType(t){return this.getInput(t)?"input":"block"}addLayoutItem({visualizationId:t,vizContract:e}={}){if(!t)throw new SyntaxError("No visualization id supplied");let r=this.getValidatedLayoutType(),s=this.getVisualization(t);if(!s)throw new ReferenceError("Visualization does not exist");let o=this.getLayoutStructure();if(o.find(h=>h.item===t))throw new Error(`${t} is already in the layout structure`);let u=this.getLayoutOptions(),c=(0,W.get)(u,"width",wt.DEFAULT_CANVAS_WIDTH),f=null;if(r==="grid")f=(0,wt.computeNewGridStructureItem)({canvasWidth:c,layoutItems:o,itemId:t});else{let h=(0,W.get)(s,"type")==="abslayout.line",m=(0,W.get)(u,"height",wt.DEFAULT_CANVAS_HEIGHT);f=(0,wt.computeNewAbsoluteStructureItem)({itemId:t,type:h?"line":"block",canvasWidth:c,canvasHeight:m,vizContract:e,layoutItems:o})}return this.updateLayoutStructure([...o,f]),this}addInputToLayoutStructure(t){if(!t)throw new SyntaxError("No input id supplied");let e=this.getValidatedLayoutType();if(!this.getInput(t))throw new ReferenceError("Input does not exist");let s=this.getLayoutStructure();if(s.find(f=>f.item===t))throw new Error(`${t} is already in the layout structure`);let o=this.getLayoutOptions(),u=(0,W.get)(o,"width",wt.DEFAULT_CANVAS_WIDTH),c=null;if(e==="grid")c=(0,wt.computeNewGridStructureItem)({itemId:t,type:"input",canvasWidth:u,layoutItems:s});else{let f=(0,W.get)(o,"height",wt.DEFAULT_CANVAS_HEIGHT);c=(0,wt.computeNewAbsoluteStructureItem)({itemId:t,type:"input",canvasWidth:u,canvasHeight:f,layoutItems:s})}return this.updateLayoutStructure([...s,c]),this}getDefaultStaticTokens(t=new Set){return hb(this.definition,t)}getVisualizationIdsUsingToken(t){return this.getVisualizationIds().filter(e=>!!this.getEventHandlers(e).find(r=>{var s,o;return!!((o=(s=r.options)==null?void 0:s.tokens)!=null&&o.find(u=>u.token===t))}))}isInputOnCanvas(t){return!!this.getLayoutStructure().find(r=>r.item===t&&r.type==="input")}moveInputToCanvas(t){return this.isInputOnCanvas(t)||this.addInputToLayoutStructure(t),this.removeInputFromLayout(t),this}moveInputToGlobalInputs(t){return this.isInputOnCanvas(t)&&this.removeInputFromLayoutStructure(t),this.addInputToLayout(t),this}safeRemoveGridItem(t){let e=this.getLayoutStructure(),r=e.find(h=>h.item===t);if(!r)return this;let s=this.getLayoutOptions(),o=(0,W.get)(s,"width",wt.DEFAULT_CANVAS_WIDTH),u=(0,wt.updateRemovedVizNeighbors)({itemToRemove:r,items:e,width:o}),c=u.map(h=>h.item),f=e.filter(h=>h.item!==r.item&&c.indexOf(h.item)<0);return this.updateLayoutStructure([...u,...f]),this}removeInputFromLayoutStructure(t){if(this.getLayoutType()==="grid")return this.safeRemoveGridItem(t);let e=[...this.getLayoutStructure()],r=e.findIndex(({item:s,type:o})=>s===t&&o==="input");return r!==-1&&(e.splice(r,1),this.updateLayoutStructure(e)),this}},DV=mb,yb={};Fa(yb,{default:()=>Qi});var Em=Ps(mm());Ss(yb,mm());var Qi="default"in Em?Em.default:Em,qV=t=>({$schema:"http://json-schema.org/draft-07/schema#",$id:`http://www.splunk.com/dashboard.schema.json?id=${Qi(t)}`,title:"Dashboard Definition",description:"Dashboard Definition",type:"object",properties:t}),xV=t=>({$id:`http://www.splunk.com/dashboard.vizSchema.json?id=${Qi(t)}`,additionalProperties:!1,title:"Visualization Definition",description:"Visualization Definition",type:"object",properties:{context:{type:"object",nullable:!0},dataSources:{type:"object",nullable:!0,required:[],patternProperties:{"^[a-zA-Z0-9_-]*$":{type:"string"}}},description:{type:"string",nullable:!0},encoding:{type:"object",nullable:!0},eventHandlers:{type:"array",nullable:!0,items:{type:"object",properties:{name:{type:"string"},options:{type:"object",nullable:!0},type:{type:"string"}},required:["type"],additionalProperties:!1}},options:{type:"object",properties:t,nullable:!0},showLastUpdated:{type:"boolean",nullable:!0},showProgressBar:{type:"boolean",nullable:!0},title:{type:"string",nullable:!0},type:{type:"string"},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"]}),MV=t=>({$id:`http://www.splunk.com/dashboard.dsSchema.json?id=${Qi(t)}`,additionalProperties:!1,title:"DataSource Definition",description:"DataSource Definition",type:"object",properties:{type:{type:"string"},options:{type:"object",properties:t},name:{type:"string"},meta:{type:"object"}},required:["type"]}),VV=t=>({$id:`http://www.splunk.com/dashboard.inputSchema.json?id=${Qi(t)}`,additionalProperties:!1,title:"Input Definition",description:"Input Definition",type:"object",properties:{dataSources:{patternProperties:{"^[a-zA-Z0-9_-]*$":{type:"string"}}},encoding:{type:"object"},options:{type:"object",properties:t},context:{type:"object"},title:{type:"string"},type:{type:"string"},canvasAlignment:{type:"string",anyOf:[{enum:["top","bottom","center"]},{pattern:"^[$].*[$]$"}]},hideWhenNoData:{type:"boolean",nullable:!0}},required:["type"]})});var Xi=hn(Uo(),1),Eb=hn(gT(),1),xt=hn(yT(),1),Am=hn(vT(),1);var Fo=hn(Uo(),1),Gu=(t,e)=>`<![CDATA[
${(e?JSON.stringify(t,null,"	"):JSON.stringify(t)).replace(/]]>/g,"]]]]><![CDATA[>")}
    ]]>`,Bu=(t,e,r={},s=!1,o=!1,u=!1,c="",f=!0,h=null)=>{let m={hideEdit:s,hideOpenInSearch:o,hideExport:u},y=c?`
    <tags>${(0,Fo.escape)(c)}</tags>`:"",g=h?`
    <meta type="conversionReport">${Gu(h.toJSON(),f)}</meta>`:"",T=Object.keys(r).length>0?`
    <assets>${Gu(r,f)}</assets>`:"";return`
<dashboard version="2" theme="${(0,Fo.escape)(e)}">
    <label>${(0,Fo.escape)(t.title)}</label>${y}
    <description>${(0,Fo.escape)(t.description)}</description>
    <definition>${Gu(t,f)}</definition>${T}
    <meta type="hiddenElements">${Gu(m,f)}</meta>${g}
</dashboard>`};var ml=hn(Fs(),1),yl=hn(Uo(),1),$b=hn(hg(),1),wb=hn(gb(),1);var pl=wb.DEFAULT_DEFINITION,_b,UV=Ze(ce({},(0,$b.set)("defaults.dataSources",(0,yl.mapKeys)((0,yl.get)(pl,"defaults.dataSources",{}),(t,e)=>e==="global"?"ds.search":e),pl)),{layout:Ze(ce({},pl.layout),{options:Ze(ce({},(_b=pl.layout)==null?void 0:_b.options),{width:1440,height:960})}),description:"",title:""}),$L={type:"splunk.rectangle",options:{fillColor:"transparent",strokeColor:"transparent"}},wL=1440,bL=960,FV="auto",EL=(0,ml._)("Successfully converted dashboard"),SL=(0,ml._)("Successfully converted visualization"),PL=(0,ml._)("Errors occurred during conversion"),OL={FAIL:"fail",SUCCESS:"success"};var vl=hn(Fs(),1),gl=hn(_T(),1);var Os="data/ui/views",bb=7*1024*1024,Sb={ID_ALREADY_TAKEN:(0,vl._)("ID already in use. Edit the ID or choose a different title."),LARGE_DASHBOARD:(0,vl._)("The total size of a dashboard must be 7MB or smaller. Please remove some images and icons.")};var La=(t,e={})=>{let r=e;return r.sharing==="user"&&(r.sharing=!1),(0,Am.createRESTURL)(t,r)},AL=()=>{let t=La(`${Os}/_new?output_mode=json`,{app:xt.app,owner:xt.username});return qn(t)},kL=()=>{let t=La("authorization/roles?output_mode=json");return qn(t)},CL=({id:t,display:e,owner:r=xt.username,readPerms:s,writePerms:o,app:u=xt.app})=>{let c=(0,Xi.includes)(s,"*")?"*":s,f=(0,Xi.includes)(o,"*")?"*":o,h={output_mode:"json",sharing:e,owner:r,"perms.read":c,"perms.write":f},m=gl.default.stringify(h,{arrayFormat:"comma"}),y=La(`${Os}/${t}/acl`,{app:u,owner:r});return qn(y,{method:"POST",body:m})},RL=({id:t,app:e=xt.app,owner:r=xt.username,sharing:s})=>{let o=La(`${Os}/${t}?output_mode=json`,{sharing:s,app:e,owner:r});return qn(o,{customErrors:{404:(0,vl._)("The dashboard you selected no longer exists.")}})},DL=({app:t=xt.app,owner:e=xt.username,sharing:r,count:s=0,offset:o=0,filter:u="",search:c='(isDashboard=1 AND isVisible=1 AND (rootNode="dashboard" OR rootNode="form"))',sortDirection:f="asc",sortKey:h="label"}={})=>{let m=u&&u.replace(/\\/g,"\\\\").replace(/"/g,'\\"'),y=u?`(${c} AND label="*${m}*")`:c,g=La(`${Os}?output_mode=json&sort_dir=${f}&sort_key=${h}&sort_mode=alpha&count=${s}&digest=1&offset=${o}&search=${encodeURIComponent(y).replace(/%20/g,"+")}`,{sharing:r,app:t,owner:e});return qn(g)},Pb=(t,e,r,s,o,u,c,f)=>{let h=Bu(t,e,r,s,o,u,c,!0,f);return new Blob([h]).size>=bb&&(h=Bu(t,e,r,s,o,u,c,!1,f)),new Blob([h]).size>=bb&&(h=Bu(t,e,r,s,o,u,c,!1,null)),h},qL=({id:t,app:e=xt.app,owner:r=xt.username,definition:s,sharing:o,theme:u="",assets:c,customErrors:f={},hideEdit:h=!1,hideOpenInSearch:m=!1,hideExport:y=!1,tags:g,conversionReport:T})=>{let O=La(`${Os}?output_mode=json`,{sharing:o,app:e,owner:r}),E=Pb(s,u,c,h,m,y,g,T);return qn(O,{method:"POST",body:gl.default.stringify({name:t,"eai:data":E}),customErrors:ce({409:Sb.ID_ALREADY_TAKEN},f)})},xL=e=>ir(void 0,[e],function*({dashboardId:t}){let r=`| rest /services/search/jobs
                                        | rename eai:acl.app as App
                                        | rex field=provenance "UI:dashboard:(?<Dashboard>.+)" | search Dashboard=${t}
                                        | table label,id,App,Dashboard,author,published,runDuration,dispatchState,title,doneProgress,isRealTimeSearch,isSavedSearch
                                        | eval Status=mvjoin(mvsort(mvdedup(split(mvjoin(Status,","),","))),",")
                                        | sort 0 -Published`;return yield Eb.default.default.create({search:r},{app:xt.app,owner:xt.username}).getResults().first().toPromise()}),ML=({id:t,app:e=xt.app,owner:r=xt.username,definition:s,sharing:o,assets:u,theme:c="",customErrors:f={},hideEdit:h=!1,hideOpenInSearch:m=!1,hideExport:y=!1,tags:g,conversionReport:T})=>{let O=La(`${Os}/${t}?output_mode=json`,{sharing:o,app:e,owner:r}),E=Pb(s,c,u,h,m,y,g,T);return qn(O,{method:"POST",body:gl.default.stringify({"eai:data":E}),customErrors:ce({400:Sb.LARGE_DASHBOARD},f)})};var VL=({id:t,app:e=xt.app,owner:r=xt.username,sharing:s})=>{let o=La(`${Os}/${t}?output_mode=json`,{sharing:s,app:e,owner:r});return qn(o,{method:"DELETE"})},UL=(t,e,r)=>ir(void 0,null,function*(){let s=(0,Am.createRESTURL)("ssg/deep_link/dashboard"),o={dashboard_id:`${r}/${e}/${t}`};return yield qn(s,{method:"POST",body:JSON.stringify(o),getErrorJSON:!0})});export{ei as a,Sd as b,Ph as c,nm as d,dm as e,mm as f,gb as g,UV as h,$L as i,wL as j,bL as k,FV as l,EL as m,PL as n,OL as o,La as p,AL as q,kL as r,CL as s,RL as t,DL as u,qL as v,xL as w,ML as x,VL as y,UL as z};
