!function(e){function t(t){for(var s,n,a=t[0],l=t[1],d=t[2],c=0,p=[];c<a.length;c++)n=a[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(h&&h(t);p.length;)p.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=i[0]))}return e}var s={},r={63:0},o=[];function n(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.e=function(e){var t=[],i=r[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,s){i=r[e]=[t,s]}));t.push(i[2]=s);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.src=function(e){return n.p+""+({}[e]||e)+".js"}(e);var l=new Error;o=function(t){a.onerror=a.onload=null,clearTimeout(d);var i=r[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",l.name="ChunkLoadError",l.type=s,l.request=o,i[1](l)}r[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(t)},n.m=e,n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var h=l;o.push([2571,0]),i()}({2571:function(e,t,i){var s,r;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,s="",r=0,o=arguments.length;r<o;r++)(i=(t=arguments[r].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?s+="/"+t:s+=t;if("/"!=s){var n=s.split("/"),a=n[1];if("static"==a||"modules"==a){var l=s.substring(a.length+2,s.length);s="/"+a,window.$C.BUILD_NUMBER&&(s+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(s+="."+window.$C.BUILD_PUSH_NUMBER),"app"==n[2]&&(s+=":"+e("APP_BUILD",0)),s+="/"+l}}var d=e("MRSPARKLE_ROOT_PATH","/"),h=e("LOCALE","en-US"),c="/"+h+s;return""==d||"/"==d?c:d+c}("/static/build/pages/light")+"/"}(),s=[i("routers/Report"),i("util/router_utils")],void 0===(r=function(e,t){new e;t.start_backbone_history()}.apply(t,s))||(e.exports=r)},2572:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.report-header-title>h2{margin-bottom:10px;overflow:hidden;padding-right:300px;text-overflow:ellipsis;white-space:nowrap}.report-scheduleinfo{margin:20px 0}.report-scheduleinfo .icon-clock:before{color:#818d99;font-size:24px;padding-right:5px;vertical-align:middle}.report-disabled{opacity:.3;position:relative}.report-disabled:after{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:500}.view-report-page{position:relative}.chart-viewer{background-color:#f2f4f5}.single-value{display:block}.results-table{margin-bottom:-1px}.table-caption-inner .dropdown-toggle{margin-left:10px;margin-top:5px}.table-caption-inner{text-align:left}.table-caption-inner.affix-top{background-color:#f2f4f5;z-index:406}.table-caption-inner.affix-top.disabled .table-caption-inner-cover{background-color:#5c6773;bottom:0;left:0;opacity:.3;position:absolute;right:0;top:0;z-index:404}.section-header{min-height:60px;padding-bottom:0}.section-header:after,.section-header:before{content:"";display:table;line-height:0}.section-header:after{clear:both}.section-header>.controls.shared-timerangepicker{padding-top:4px}.section-description{margin:10px 0;overflow:hidden;text-overflow:ellipsis}.job-bar{min-height:33px}.shared-jobstatus{margin-top:0;width:auto}.shared-jobstatus-count{margin-top:2px}.export-print-group{margin-right:0}.chart-viewer+.table-caption{padding-top:0}.shared-reportcontrols-details>.list-dotted{margin:10px 0 0}.events-viewer-wrapper{clear:both}.report-statemessage,.results-wrapper{background-color:#f2f4f5;border-top:1px solid #c3cbd4;min-height:397px}.report-statemessage:after,.report-statemessage:before,.results-wrapper:after,.results-wrapper:before{content:"";display:table;line-height:0}.report-statemessage:after,.results-wrapper:after{clear:both}.report-statemessage{color:#3c444d;min-height:430px;text-align:center}.report-statemessage h2{font-size:24px;font-weight:200;margin-top:80px}.report-statemessage a{margin-top:20px}.report-statemessage a:first-child{margin-right:20px}.report-actionbar{padding-left:20px;padding-top:2px}.report-eventscontrols,.report-statisticscontrols{margin:10px 20px 5px}.report-eventscontrols:after,.report-eventscontrols:before,.report-statisticscontrols:after,.report-statisticscontrols:before{content:"";display:table;line-height:0}.report-eventscontrols:after,.report-statisticscontrols:after{clear:both}.more-info>.popdown-dialog{width:400px}.more-info .popdown-dialog-body{padding:10px 20px 20px}.timerange>.controls>.btn{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%}.lazy-results-table.loading,.message-single,.shared-reportvisualizer .loading,.shared-reportvisualizer .visualization-message{padding:60px 20px}.shared-flashmessagesv2{clear:left;margin-top:10px;padding-top:10px}.report-message.shared-flashmessages{padding-bottom:20px;padding-top:40px}.results-message.shared-flashmessages{padding:20px}.alert-error{margin-bottom:0}.report-tablecontrols-resultscount{float:left;padding:10px 10px 10px 20px}.header-table-docked{z-index:405}@media print{.report-actionbar,.table-caption-inner :not(.report-tablecontrols-resultscount){display:none!important}.table-caption-inner.affix-top{position:static}.results-table,.results-wrapper{max-width:100%!important;overflow:hidden!important;width:100%!important}}',""])},"routers/BootstrapSearch":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("routers/BaseSearch"),i("models/search/Job"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r,o,n){return s.extend({initialize:function(t){t=t||{},s.prototype.initialize.apply(this,arguments),this.loadingMessage=e("Loading...").t(),this.requiresRoles=t.requiresRoles,this.reportRequired=!1},page:function(e,i,n){s.prototype.page.apply(this,arguments),this.shouldRender?this.baseDeactivateDeferred.resolve():this.deactivate(),"resolved"!==this.deferreds.times.state()&&this.collection.times.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1},success:function(e,t){this.deferreds.times.resolve()}.bind(this),error:function(e,t){this.deferreds.times.resolve()}.bind(this)}),"resolved"!==this.deferreds.uiPrefs.state()&&this.model.uiPrefs.bootstrap(this.deferreds.uiPrefs,this.model.application.get("page"),this.model.application.get("app"),this.model.application.get("owner")),"resolved"!==this.deferreds.appLocal.state()&&this.model.appLocal.fetch({url:o.fullpath(this.model.appLocal.url+"/"+encodeURIComponent(this.model.application.get("app"))),data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(e,t){this.deferreds.appLocal.resolve()}.bind(this),error:function(e,t){this.deferreds.appLocal.resolve()}.bind(this)}),"resolved"!==this.deferreds.workflowActions.state()&&this.collection.workflowActions.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1,sort_key:"name",search:"disabled=false"},success:function(e,t){this.deferreds.workflowActions.resolve()}.bind(this),error:function(e,t){this.deferreds.workflowActions.resolve()}.bind(this)}),this.requiresRoles?"resolved"!==this.deferreds.roles.state()&&this.collection.roles.fetch({success:function(e,t){this.deferreds.roles.resolve()}.bind(this),error:function(e,t){this.deferreds.roles.resolve()}.bind(this)}):this.deferreds.roles.resolve(),t.when(this.baseDeactivateDeferred).then(function(){this.model.report.entry.content.set({"display.prefs.events.offset":"0","display.prefs.statistics.offset":"0","display.events.table.sortDirection":"asc","display.statistics.sortDirection":"asc"}),this.bootstrapDeferred=t.Deferred(),t.when(this.deferreds.uiPrefs,this.deferreds.userPref,this.deferreds.user,this.deferreds.appLocals).then(function(){this.model.classicUrl.fetch({success:function(e,t){this.autoPause=r.getAutoPauseInterval(this.model.classicUrl.get("auto_pause")),this.model.classicUrl.set({"display.events.timelineEarliestTime":void 0,"display.events.timelineLatestTime":void 0,"display.prefs.events.offset":void 0,"display.prefs.statistics.offset":void 0,"display.statistics.sortColumn":void 0,"display.statistics.sortDirection":void 0,"display.events.table.sortColumn":void 0,"display.events.table.sortDirection":void 0}),this.syncFromClassicURL()}.bind(this)})}.bind(this)),t.when(this.deferreds.roles,this.deferreds.times,this.deferreds.appLocal,this.deferreds.user,this.deferreds.workflowActions,this.deferreds.pageViewRendered,this.deferreds.preloadReplaced,this.deferreds.serverInfo,this.bootstrapDeferred).then(function(){this.baseActivateDeferred.resolve()}.bind(this))}.bind(this))},syncFromClassicURL:function(i){var s,r,a,l,d=(i=i||{}).jobFetchDeferred||t.Deferred(),h=i.jobCreationDeferred||t.Deferred(),c=i.reportFetchDeferred||t.Deferred(),p=i.timeRangeDeferred||t.Deferred(),m=(i.mergeFromSearchDeferred||t.Deferred(),i.syncFromClassicURLDeferred||t.Deferred()),u=this.model.classicUrl.get("s"),f=n.stripLeadingSearchCommand(this.model.classicUrl.get("q")),v=this.model.classicUrl.get("sid"),g=this.model.classicUrl.filterByWildcards(this.url_filter,{allowEmpty:!0}),b=this.model.userPref?this.model.userPref.entry.content.filterByWildcards(this.user_prefs_filter):{},w=this.model.classicUrl.get("uiprefsoff"),y={},D={},_=this.shouldFetchTableAST();if(u=this.sanitizeParamForUrl(u),v=this.sanitizeParamForUrl(v),s=_?i.tableASTDeferred||t.Deferred():i.tableASTDeferred&&i.tableASTDeferred.resolve()||t.Deferred().resolve(),w?D["display.events.type"]="list":D=this.model.uiPrefs.entry.content.filterByWildcards(this.job_filter),this.reportRequired&&!u){var S=o.createSplunkDMessage(o.FATAL,e("No report was specified.").t());return this.model.report._onerror(this.model.report,S),d.resolve(),c.resolve(),h.resolve(),p.resolve(),m.resolve(),void this.bootstrapDeferred.resolve()}if(this.mediateClassicUrlAttrsToReport(g),this.mediateUserPrefsAttrs(b),!u&&!v&&!f)return this.mergeFromEmptyState(p,b,D,g),this.model.report.isSampled()&&this.model.report.isRealTime()&&this.model.classicUrl.save({"dispatch.sample_ratio":"1"},{replaceState:!0}),this.model.report.adjustSampleRatio(),this.model.report.syncCustomSampleRatio(),void m.resolve();this.reportBootstrap(c,h,u,f,v),t.when(c).then(function(){this.jobBootstrap(d,h,u,f,v)}.bind(this)),t.when(d).then(function(){if(this.reportRequired&&this.model.report.isNew())return h.resolve(),p.resolve(),void m.resolve();if(r=this.model.report.entry.content.get("search"),a=n.stripLeadingSearchCommand(this.model.searchJob.getSearch()),this.model.report.isNew())this.model.report.entry.content.set(t.extend({},b,D));else{var o=this.model.report.entry.content.toJSON();e.defaults(o,D),this.model.report.entry.content.set(t.extend({},o))}l=this.getSearch(f,r,a),_&&"resolved"!==s.state()&&this.tableASTBootstrap(s,l),this.shouldStartNewSearch()?(this.model.report.entry.content.set(t.extend({},g,{search:l})),this.model.report.adjustSampleRatio(),this.startNewSearch(h,l,g,i)):this.model.searchJob.isNew()?(this.model.report.entry.content.set(t.extend({},g,{search:l})),h.resolve()):this.mergeFromSearch(h,l,g,y,i),t.when(h).then(function(){this.model.report.syncDrilldownMode(),this.model.report.syncCustomSampleRatio(),this.populateSelectedFieldsFromReport(),this.timeRangeBootstrap(p)}.bind(this))}.bind(this)),t.when(h,p,s).then(function(){this.model.searchJob.isNew()||(this.model.searchJob.isPreparing()||(this.model.report.setSearchTab({isTransforming:this.model.searchJob.isReportSearch(),isUneventfulReportSearch:this.model.searchJob.isUneventfulReportSearch(),canPatternDetect:this.model.user.canPatternDetect()}),this.registerSearchJobFriends()),this.model.searchJob.on("prepared",this.registerSearchJobFriends,this),this.populateClassicUrlFromSearchJob(),this.model.searchJob.startPolling()),m.resolve(),this.bootstrapDeferred.resolve()}.bind(this))},mergeFromEmptyState:function(e,i,s,r){this.model.report.entry.content.set(t.extend({},i,s,r)),this.timeRangeBootstrap(e),t.when(e).then(function(){n.normalizeBoolean(this.model.report.entry.content.get("display.prefs.enableMetaData"))?this.startMetaDataSearch(this.bootstrapDeferred):this.bootstrapDeferred.resolve()}.bind(this))},getSearch:function(e,i,s){return this.model.searchJob.isNew()?e&&t.trim(e)!==t.trim(i)?e:i:s},shouldStartNewSearch:function(){return this.model.searchJob.isNew()},mergeFromSearch:function(e,i,s,r,o){var a,l=!this.model.report.isAlert()&&this.model.report.entry.content.get("is_scheduled");(r=this.model.searchJob.entry.content.custom.filterByWildcards(this.job_filter))["display.page.search.mode"]=this.model.searchJob.getAdhocSearchMode(),r["dispatch.earliest_time"]=this.model.searchJob.getDispatchEarliestTimeOrAllTime(l),r["dispatch.latest_time"]=this.model.searchJob.getDispatchLatestTimeOrAllTime(l),r["dispatch.sample_ratio"]=this.model.searchJob.getSampleRatio(),r.workload_pool=this.model.searchJob.getWorkloadPool(),a=this.model.searchJob.entry.acl.canWrite()?this.model.searchJob.setPreview(n.normalizeBoolean(this.model.report.entry.content.get("display.general.enablePreview"))):t.Deferred().resolve(),this.model.report.entry.content.set(t.extend({},s,r,{search:i})),a.always(function(){e.resolve()}.bind(this))},startNewSearch:function(t,i,s){var n;i?(n=new r,s&&(this.deleteOneTimeUseAttrs(s),delete s["display.page.search.patterns.sensitivity"],n.entry.content.custom.set(s)),!e.isUndefined(this.collection.workloadManagementStatus)&&this.model.user.canListAndSelectWorkloadPools(this.collection.workloadManagementStatus)&&e.isEmpty(this.model.report.entry.content.get("workload_pool"))&&!e.isUndefined(s.search)&&e.isUndefined(s.workload_pool)&&this.model.report.entry.content.set("workload_pool",this.collection.workloadManagementStatus.getDefaultSearchPoolName()),this.addNewSearchListeners(n,t),n.save({},{data:{search:i,earliest_time:this.model.report.entry.content.get("dispatch.earliest_time"),latest_time:this.model.report.entry.content.get("dispatch.latest_time"),auto_cancel:r.DEFAULT_AUTO_CANCEL,auto_pause:this.autoPause?this.autoPause:void 0,status_buckets:300,ui_dispatch_app:this.model.application.get("app"),preview:this.model.report.entry.content.get("display.general.enablePreview"),adhoc_search_level:this.model.report.entry.content.get("display.page.search.mode"),workload_pool:this.model.report.entry.content.get("workload_pool"),app:this.model.application.get("app"),owner:this.model.application.get("owner"),indexedRealtime:this.model.report.entry.content.get("dispatch.indexedRealtime"),sample_ratio:this.model.report.entry.content.get("dispatch.sample_ratio"),check_risky_command:this.shouldCheckRiskyCommand(i),provenance:this.getJobProvenance()}})):(this.jobBootstrapErrors=[o.createMessageObject(o.FATAL,e("No search was specified.").t())],t.resolve())},addNewSearchListeners:function(e,t){e.on("sync",(function(i,s,r){var o;this.model.searchJob.clear(),this.model.searchJob.setFromSplunkD(e.toSplunkD()),this.jobBootstrapErrors&&this.jobBootstrapErrors.length>0?o=this.jobBootstrapErrors:i.error.get("messages")&&(o=i.error.get("messages")),o&&this.model.searchJob.error.set({messages:o}),this.model.classicUrl.unset("auto_pause"),e.off(),t.resolve()}),this),e.on("error",(function(e,i,s){this.model.searchJob.trigger("error",this.model.searchJob,i),e.off(),t.resolve()}),this)},shouldCheckRiskyCommand:function(e){return this.pageViewCount<=1},shouldFetchTableAST:function(){return!1},registerSearchJobFriends:function(t){t=e.extend({},t,{registerResultJsonCols:!1,registerResultJsonRows:!1}),s.prototype.registerSearchJobFriends.call(this,t)},reportBootstrap:function(e,t,i,s,r){i&&this.model.report.set("id",this.applyModelFullPathToName(this.model.report,i)),this.model.report.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(t,i){this.model.reportPristine.setFromSplunkD(this.model.report.toSplunkD()),e.resolve()}.bind(this),error:function(o,n){var a=n;this.model.report.unset("id"),this.model.classicUrl.save({s:void 0},{replaceState:!0}),this.reportRequired||i&&!s&&!r?(this.model.report._onerror(this.model.report,n),e.resolve(),t.resolve()):this.model.reportPristine.fetch({success:function(t,i){this.model.report.setFromSplunkD(this.model.reportPristine.toSplunkD()),this.model.report.trigger("error",this.model.report,a),e.resolve()}.bind(this),error:function(t,i){e.resolve()}.bind(this)})}.bind(this)})},jobBootstrap:function(e,t,i,s,r){r?this.fetchJob(r,e,t,i,s):e.resolve()},fetchJob:function(t,i,s,r,a){this.model.searchJob.set("id",t),this.model.searchJob.fetch({success:function(e,t){var s=n.stripLeadingSearchCommand(e.getSearch());this.bootstrappedJobIsInvalid(a,s)&&(this.model.classicUrl.save({sid:void 0},{replaceState:!0}),this.model.searchJob.unset("id")),i.resolve()}.bind(this),error:function(n,l){this.model.classicUrl.save({sid:void 0},{replaceState:!0}),this.model.searchJob.unset("id"),!t||a||r?(this.jobBootstrapErrors=[o.createMessageObject(o.WARNING,e("The job could not be loaded. A new job has been started with the same search.").t())],i.resolve()):(i.resolve(),s.resolve())}.bind(this)})},bootstrappedJobIsInvalid:function(e,i){return e&&t.trim(e)!==t.trim(i)},timeRangeBootstrap:function(e){this.model.timeRange.save({earliest:this.model.report.entry.content.get("dispatch.earliest_time"),latest:this.model.report.entry.content.get("dispatch.latest_time")},{validate:!1,success:function(t,i){e.resolve()}.bind(this),error:function(t,i){e.resolve()}.bind(this)})},tableASTBootstrap:function(e,t){this.model.tableAST.set({spl:n.addLeadingSearchCommand(t,!0)}),this.model.tableAST.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(t,i){e.resolve()}.bind(this),error:function(t,i){e.resolve()}.bind(this)})},sanitizeParamForUrl:function(e){if(e)return e.replace(/\.\.\//g,"")}})}.apply(t,s))||(e.exports=r)},"routers/Report":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("routers/BootstrapSearch"),i("views/report/Master"),i("views/shared/documentcontrols/dialogs/permissions_dialog/Master"),i("views/shared/reportcontrols/dialogs/schedule_dialog/Master"),i("views/shared/reportcontrols/dialogs/AccelerationDialog"),i("views/shared/reportcontrols/dialogs/embed_dialog/Master"),i("models/search/Report"),i("models/search/DispatchJob"),i("collections/shared/ModAlertActions"),i("collections/services/admin/workload_management/Status"),i("util/splunkd_utils"),i("util/time"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r,o,n,a,l,d,h,c,p,m,u,f){return s.extend({initialize:function(i){(i=i||{}).requiresRoles=!0,s.prototype.initialize.call(this,i),this.url_filter=["^earliest$","^latest$","^display.prefs.events.count$","^display.prefs.statistics.count$"],this.reportRequired=!0,this.fetchVisualizations=!0,this.fetchVisualizationFormatters=!1,this.setPageTitle(e("Report").t()),this.model.eventsViewerReport=new d,this.alertActionsCollection=new c,this.deferredAlertActionCollection=t.Deferred(),this.workloadManagementStatus=new p,this.deferreds.workloadManagementStatus=t.Deferred()},page:function(i,r,o){s.prototype.page.apply(this,arguments),t.when(this.deferreds.user).then(function(){this.model.user.canUseAlerts()?this.alertActionsCollection.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:"disabled!=1"},addListInTriggeredAlerts:!1,success:function(e,t){this.deferredAlertActionCollection.resolve()}.bind(this),error:function(e,t){this.deferredAlertActionCollection.resolve()}.bind(this)}):this.deferredAlertActionCollection.resolve()}.bind(this)),this.workloadManagementStatus.bootstrapWorkloadManagementStatus(this.deferreds.workloadManagementStatus),t.when(this.baseDeactivateDeferred,this.deferreds.times,this.deferreds.pageViewRendered,this.deferredAlertActionCollection,this.deferreds.visualizations,this.deferreds.workloadManagementStatus).then(function(){this.shouldRender&&(this.initializeReportView(),this.addPageViewEl(this.pageView.el),this.deferreds.preloadReplaced.resolve())}.bind(this)),t.when(this.baseActivateDeferred,this.deferreds.visualizations).then(function(){if(this.reportView.activate(),this.activate(),this.shouldRender){switch(this.setPageTitle(this.model.report.entry.get("name")||e("Report").t()),this.reportView.render().replaceContentsOf(t(".main-section-body")),this.model.classicUrl.get("dialog")){case"permissions":this.model.reportPristine.entry.acl.get("can_change_perms")&&this.showPermissionsDialog();break;case"schedule":this.showScheduleDialog();break;case"acceleration":this.showAccelerationDialog();break;case"embed":this.showEmbedDialog()}t(document).trigger("rendered")}}.bind(this))},initializeReportView:function(){this.reportView||(this.reportView=new r({model:{result:this.model.result,summary:this.model.summary,searchJob:this.model.searchJob,report:this.model.report,reportPristine:this.model.reportPristine,eventsViewerReport:this.model.eventsViewerReport,application:this.model.application,timeRange:this.model.timeRange,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo},collection:{times:this.collection.times,selectedFields:this.collection.selectedFields,roles:this.collection.roles,appLocals:this.collection.appLocals,workflowActions:this.collection.workflowActions,alertActions:this.alertActionsCollection,workloadManagementStatus:this.workloadManagementStatus},deferreds:{user:this.deferreds.user,appLocal:this.deferreds.appLocal,times:this.deferreds.times,uiPrefs:this.deferreds.uiPrefs,roles:this.deferreds.roles,workflowActions:this.deferreds.workflowActions}}))},activate:function(){this.model.eventsViewerReport.setFromSplunkD(this.model.report.toSplunkD()),this.model.eventsViewerReport.entry.content.on("change:display.events.table.sortColumn change:display.events.table.sortDirection",e.debounce((function(){this.model.report.entry.content.set({"display.events.table.sortDirection":this.model.eventsViewerReport.entry.content.get("display.events.table.sortDirection"),"display.events.table.sortColumn":this.model.eventsViewerReport.entry.content.get("display.events.table.sortColumn")})}),0),this),this.model.report.entry.content.on("change:display.prefs.events.offset change:display.events.maxLines change:display.events.raw.drilldown change:display.events.list.drilldown change:display.events.fields change:display.prefs.events.count change:display.events.timelineEarliestTime change:display.events.timelineLatestTime change:display.events.table.sortColumn change:display.events.table.sortDirection",e.debounce((function(){this.fetchResult()}),0),this),this.model.report.entry.content.on("change:display.event.fields",this.populateSelectedFieldsFromReport,this),this.collection.selectedFields.on("add remove reset",this.populateReportFromSelectedFields,this),this.model.report.entry.content.on("change:display.events.timelineEarliestTime change:display.events.timelineLatestTime change:display.events.fieldsFilter change:display.events.fieldCoverage",e.debounce((function(){this.fetchSummary()}),0),this),this.model.report.entry.content.on("change:display.events.timelineEarliestTime change:display.events.timelineLatestTime",e.debounce((function(){this.fetchTimeline()}),0),this),this.model.report.entry.content.on("change:display.prefs.events.count",(function(){this.model.report.entry.content.get("display.prefs.events.count")&&this.model.report.entry.content.set({"display.prefs.events.offset":"0"})}),this),this.model.report.entry.content.on("change:display.prefs.statistics.count",(function(){this.model.report.entry.content.get("display.prefs.statistics.count")&&this.model.report.entry.content.set({"display.prefs.statistics.offset":"0"})}),this),this.model.report.entry.content.on("change:display.general.enablePreview",(function(){f.normalizeBoolean(this.model.report.entry.content.get("display.general.enablePreview"))?this.model.searchJob.enablePreview():this.model.searchJob.disablePreview()}),this),this.model.report.entry.content.on("change",(function(){var e=this.model.report.entry.content.changedAttributes(),i=t.Deferred(),s=t.Deferred();delete e.search,this.populateJob(i,e),this.populateUIPrefs(s,e),t.when(i,s).always(function(){this.populateClassicUrl(e)}.bind(this))}),this),this.model.reportPristine.on("change:id",(function(){this.model.classicUrl.save({s:this.model.reportPristine.id},{replaceState:!0});var e=this.model.reportPristine.toSplunkD();e.entry[0].content={},this.model.report.setFromSplunkD(e),this.model.eventsViewerReport.setFromSplunkD(e)}),this),this.listenTo(this.model.reportPristine.entry.content,"change:is_scheduled",(function(){this.loadNewJob({replaceState:!0})})),this.listenTo(this.model.reportPristine.entry.content,"change:disabled",(function(){this.loadNewJob({replaceState:!0})})),this.listenTo(this.model.reportPristine.entry.content,"change:dispatch.earliest_time change:dispatch.latest_time",e.debounce((function(){this.model.report.entry.content.set({"dispatch.earliest_time":this.model.reportPristine.entry.content.get("dispatch.earliest_time"),"dispatch.latest_time":this.model.reportPristine.entry.content.get("dispatch.latest_time")})}),0)),this.listenTo(this.model.reportPristine.entry.content,"change:display.page.search.mode",e.debounce((function(){this.model.report.entry.content.set({"display.page.search.mode":this.model.reportPristine.entry.content.get("display.page.search.mode")},{silent:!0})}),0)),this.listenTo(this.model.reportPristine.entry.content,"change:workload_pool",e.debounce((function(){this.model.report.entry.content.set({workload_pool:this.model.reportPristine.entry.content.get("workload_pool")},{silent:!0})}),0)),this.model.searchJob.on("prepared",(function(){this.model.report.setDisplayType(this.model.searchJob.isReportSearch())}),this),this.model.searchJob.on("destroy",(function(){this.model.classicUrl.save({sid:"","display.prefs.events.offset":void 0,"display.prefs.statistics.offset":void 0,"display.statistics.sortColumn":void 0,"display.statistics.sortDirection":void 0,"display.events.table.sortColumn":void 0,"display.events.table.sortDirection":void 0,auto_pause:""},{replaceState:!0})}),this),this.model.searchJob.on("reload",this.loadNewJob,this)},deactivate:function(){this.shouldRender||(this.model.report.off(null,null,this),this.model.report.entry.content.off(null,null,this),this.model.reportPristine.off(null,null,this),this.model.reportPristine.entry.content.off(null,null,this),this.model.eventsViewerReport.entry.content.off(null,null,this),this.model.searchJob.off(null,null,this)),this.reportView.deactivate({deep:!0}),s.prototype.deactivate.apply(this,arguments),this.model.eventsViewerReport.clear()},loadNewJob:function(t){var i=e.extend({replaceState:!1},t||{});i.replaceState=i.replaceState||this.model.report.entry.content.get("is_scheduled"),this.model.classicUrl.save({sid:void 0},{replaceState:i.replaceState}),this.page(this.model.application.get("locale"),this.model.application.get("app"),this.model.application.get("page"))},bootstrappedJobIsInvalid:function(e,i){if(t.trim(this.model.report.entry.content.get("search"))!==i)return!0;var s=this.model.report.entry.content.get("is_scheduled");if(s){var r=this.model.searchJob.getDispatchEarliestTimeOrAllTime(s),o=this.model.searchJob.getDispatchLatestTimeOrAllTime(s),n=this.model.report.entry.content.get("dispatch.earliest_time"),a=this.model.report.entry.content.get("dispatch.latest_time");return!u.compareTwoTimeRanges(r,o,n,a)}var l=this.model.report.entry.content.get("dispatchAs"),d=this.model.searchJob.entry.acl.get("owner");if("owner"===l)return d!==this.model.report.entry.acl.get("owner");if("user"===l)return d!==this.model.application.get("owner");throw new Error("Invalid value for dispatchAs")},getSearch:function(e,t,i){return t},shouldStartNewSearch:function(){return!this.model.report.entry.content.get("is_scheduled")&&this.model.searchJob.isNew()},startNewSearch:function(e,t,i){var s=new h;this.addNewSearchListeners(s,e),s.save({},{url:m.fullpath(this.model.report.entry.links.get("dispatch")),data:{earliest_time:this.model.report.entry.content.get("dispatch.earliest_time"),latest_time:this.model.report.entry.content.get("dispatch.latest_time"),enablePreview:this.model.report.entry.content.get("display.general.enablePreview"),app:this.model.application.get("app"),owner:this.model.application.get("owner"),adhoc_search_level:this.model.report.entry.content.get("display.page.search.mode"),rt_backfill:!0,provenance:"UI:Report"}})},showPermissionsDialog:function(){this.permissionsDialog=new o({model:{document:this.model.reportPristine,nameModel:this.model.reportPristine.entry,user:this.model.user,serverInfo:this.model.serverInfo,application:this.model.application},collection:this.collection.roles,onHiddenRemove:!0,nameLabel:e("Report").t(),showDispatchAs:!0}),t("body").append(this.permissionsDialog.render().el),this.permissionsDialog.show(),this.model.classicUrl.save({dialog:void 0},{replaceState:!0})},showScheduleDialog:function(){this.scheduleDialog=new n({model:{report:this.model.reportPristine,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo},collection:{alertActions:this.alertActionsCollection,workloadManagementStatus:this.workloadManagementStatus},onHiddenRemove:!0}),t("body").append(this.scheduleDialog.render().el),this.scheduleDialog.show(),this.model.classicUrl.save({dialog:void 0},{replaceState:!0})},showAccelerationDialog:function(){this.accelerationDialog=new a({model:{report:this.model.reportPristine,application:this.model.application,user:this.model.user},collection:{workloadManagementStatus:this.workloadManagementStatus},onHiddenRemove:!0}),t("body").append(this.accelerationDialog.render().el),this.accelerationDialog.show(),this.model.classicUrl.save({dialog:void 0},{replaceState:!0})},showEmbedDialog:function(){this.embedDialog=new l({model:{report:this.model.reportPristine,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user},onHiddenRemove:!0}),t("body").append(this.embedDialog.render().el),this.embedDialog.show(),this.model.classicUrl.save({dialog:void 0},{replaceState:!0})},jobBootstrap:function(e,i,s,r,o){if(this.model.report.entry.content.get("disabled"))this.model.classicUrl.save({sid:void 0},{replaceState:!0}),e.resolve();else if(this.model.report.entry.content.get("is_scheduled")){this.model.classicUrl.save({sid:void 0},{replaceState:!0});var n=this.model.report.getLatestHistoricJobId();t.when(n).then(function(t){t?(this.model.searchJob.set("id",t),this.model.searchJob.fetch({success:function(t,i){var s=f.stripLeadingSearchCommand(t.getSearch());this.bootstrappedJobIsInvalid(r,s)&&this.model.searchJob.unset("id"),e.resolve()}.bind(this),error:function(t,i){this.model.searchJob.unset("id"),e.resolve()}.bind(this)})):e.resolve()}.bind(this))}else o?this.fetchJob(o,e,i,s,r):e.resolve()}})}.apply(t,s))||(e.exports=r)},"views/report/ActionBar":function(e,t,i){var s,r;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/reportcontrols/editmenu/Master"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Master"),i("views/shared/reportcontrols/details/Master"),i("views/shared/delegates/Popdown"),i("shim/splunk.util"),i("views/search/actions/savemenu/SaveToDashboard"),i("services/WebFeatures")],void 0===(r=function(e,t,i,s,r,o,n,a,l,d,h){return s.extend({moduleId:i.i,className:"btn-group pull-right",initialize:function(){return s.prototype.initialize.apply(this,arguments),this.saveReportToDashboardFlag=null,this.children.editButtonView=new r({model:{report:this.model.report,reportCurrent:this.model.reportCurrent,application:this.model.application,searchJob:this.model.searchJob,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:this.collection,deleteRedirect:!0,className:"btn-combo"}),this.children.detailsView=new n({model:{report:this.model.report,application:this.model.application,searchJob:this.model.searchJob,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles,alertActions:this.collection.alertActions}}),this.initializeAddToDashboardElement()},initializeAddToDashboardElement:function(){return this.shouldHaveDropdownAddMenu().then(function(e){this.saveReportToDashboardFlag=e,this.saveReportToDashboardFlag&&(this.children.saveControls=new d({model:{report:this.model.report,application:this.model.application,searchJob:this.model.searchJob,appLocal:this.model.appLocal,user:this.model.user},collection:{times:this.collection.times},className:"btn-combo"})),this.listenTo(this.model.searchJob,"prepared",(function(){e?this.children.saveControls.enable():this.$("a.addtodashboard").removeClass("disabled")}))}.bind(this))},shouldHaveDropdownAddMenu:function(){return h.default.getFeatureSettings("dashboard_studio").then((function(e){return e&&e.activate_save_report_to_dashboard_studio}))},events:{"click a.addtodashboard":function(t){null===this.saveReportToDashboardFlag||this.saveReportToDashboardFlag||(this.children.dashboardDialog=new o({model:{report:this.model.report,searchJob:this.model.searchJob,application:this.model.application,user:this.model.user,serverInfo:this.model.serverInfo},onHiddenRemove:!0}),this.children.dashboardDialog.render().appendTo(e("body")),this.children.dashboardDialog.show()),t.preventDefault()}},render:function(){return null===this.saveReportToDashboardFlag?(this.$el.html(""),this):(this.$el.html(this.compiledTemplate({_:t,saveReportToDashboardFlag:this.saveReportToDashboardFlag})),this.children.editButtonView.render().prependTo(this.$el),this.children.detailsView.render().prependTo(this.$(".more-info .popdown-dialog-body")),this.saveReportToDashboardFlag&&this.children.saveControls.render().appendTo(this.$el),this.model.searchJob.isPreparing()&&(this.saveReportToDashboardFlag?this.children.saveControls.disable():this.$("a.addtodashboard").addClass("disabled")),this.children.popdownDelegate=new a({el:this.$(".more-info")}),this)},template:'                <% if (saveReportToDashboardFlag) { %>                    <div class="btn-combo more-info"><a href=# class="popdown-toggle btn"><%- _("More Info").t() %><span class="caret" aria-hidden="true"></span></a><div class="popdown-dialog"><div class="arrow"></div><div class="popdown-dialog-body"></div></div></div>                <% } else {%>                    <div class="btn-combo more-info"><a href=# class="popdown-toggle btn"><%- _("More Info").t() %><span class="caret" aria-hidden="true"></span></a><div class="popdown-dialog"><div class="arrow"></div><div class="popdown-dialog-body"></div></div></div>                    <a href=# class="addtodashboard btn"><%- _("Add to Dashboard").t() %></a>                <% } %>            '})}.apply(t,s))||(e.exports=r)},"views/report/Master":function(e,t,i){var s,r;s=[i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/FlashMessages"),i("views/report/Title"),i("views/report/ScheduleInfo"),i("views/report/results/Master"),i("views/report/ActionBar"),i("views/report/StateMessage"),i("views/shared/timerangepicker/Master"),i("shim/splunk.util"),i("util/splunkd_utils"),i("views/report/Master.pcss"),i(307)],void 0===(r=function(e,t,i,s,r,o,n,a,l,d,h,c,p,m,u){return s.extend({moduleId:i.i,className:"view-report-page",initialize:function(){s.prototype.initialize.apply(this,arguments),this.errorTypes=[p.FATAL,p.ERROR],this.children.flashMessage=new r({className:"report-message",model:{report:this.model.report},whitelist:this.errorTypes}),this.children.title=new o({model:this.model.reportPristine}),this.children.actionBar=new l({model:{searchJob:this.model.searchJob,report:this.model.reportPristine,reportCurrent:this.model.report,application:this.model.application,timeRange:this.model.timeRange,user:this.model.user,appLocal:this.model.appLocal,serverInfo:this.model.serverInfo},collection:{roles:this.collection.roles,appLocals:this.collection.appLocals,alertActions:this.collection.alertActions,workloadManagementStatus:this.collection.workloadManagementStatus}}),this.children.scheduleInfo=new n({model:{report:this.model.reportPristine,searchJob:this.model.searchJob},collection:{times:this.collection.times}}),this.children.timeRangePicker=new h({className:"controls",model:{state:this.model.report.entry.content,timeRange:this.model.timeRange,user:this.model.user,appLocal:this.model.appLocal,application:this.model.application},collection:this.collection.times,timerangeClassName:"btn btn-primary pull-left"}),this.children.resultsContainer=new a({model:{searchJob:this.model.searchJob,report:this.model.report,eventsViewerReport:this.model.eventsViewerReport,result:this.model.result,summary:this.model.summary,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo},collection:{selectedFields:this.collection.selectedFields,workflowActions:this.collection.workflowActions},flashMessagesHelper:this.children.flashMessage.flashMsgHelper}),this.children.stateMessage=new d({model:{report:this.model.reportPristine,searchJob:this.model.searchJob,application:this.model.application,user:this.model.user}}),e.each(this.children,(function(e,t){e.deactivate({deep:!0})}))},activate:function(t){const i=e.extend({},t||{});if(delete i.deep,this.ensureDeactivated({deep:!0}),this.isError=p.messagesContainsOneOfTypes(this.model.report.error.get("messages"),this.errorTypes),this.model.report.isNew()&&!this.isError){const t=p.createSplunkDMessage(p.FATAL,e("No report was specified.").t());this.model.report.trigger("error",this.model.report,t),this.isError=!0}return this.manageStateOfChildren(),s.prototype.activate.call(this,i)},deactivate:function(e){return this.active?(s.prototype.deactivate.apply(this,arguments),this.isError=!1,this):s.prototype.deactivate.apply(this,arguments)},manageStateOfChildren:function(){if(this.isError)this.children.flashMessage.activate({deep:!0}).$el.show(),this.children.actionBar.deactivate({deep:!0}).$el.hide(),this.children.title.deactivate().$el.hide(),this.children.timeRangePicker.deactivate({deep:!0}).$el.hide(),this.children.scheduleInfo.deactivate().$el.hide(),this.children.resultsContainer.deactivate({deep:!0}).$el.hide(),this.children.stateMessage.deactivate().$el.hide();else{const e=this.model.report.entry.content.get("is_scheduled");this.children.flashMessage.deactivate({deep:!0}).$el.hide(),this.children.actionBar.activate({deep:!0}).$el.show(),this.children.title.activate().$el.show(),e?this.children.scheduleInfo.activate().$el.show():this.children.scheduleInfo.deactivate().$el.hide(),this.model.report.entry.content.get("disabled")?(this.children.timeRangePicker.deactivate({deep:!0}).$el.hide(),this.children.resultsContainer.deactivate({deep:!0}).$el.hide(),this.children.stateMessage.activate().$el.show()):(!e&&c.normalizeBoolean(this.model.report.entry.content.get("display.general.timeRangePicker.show"))?this.children.timeRangePicker.activate({deep:!0}).$el.show():this.children.timeRangePicker.deactivate({deep:!0}).$el.hide(),e&&this.model.searchJob.isNew()?(this.children.stateMessage.activate().$el.show(),this.children.resultsContainer.deactivate({deep:!0}).$el.hide()):(this.children.stateMessage.deactivate().$el.hide(),this.children.resultsContainer.activate().$el.show()))}},updateKvStore:function(){try{const e={id:this.model.report.get("id"),name:this.model.report.entry.get("name"),app:this.model.report.entry.acl.get("app")};u.default.reportViewed(e).catch(()=>{})}catch(e){}},render:function(){this.$el.html(this.template);const e=this.$(".section-header");return this.children.flashMessage.render().appendTo(e),this.children.actionBar.render().appendTo(e),this.children.title.render().appendTo(e),this.children.scheduleInfo.render().appendTo(e),this.children.timeRangePicker.render().appendTo(e),this.children.resultsContainer.render().appendTo(this.$el),this.children.stateMessage.render().appendTo(this.$el),this.updateKvStore(),this},template:'                <div class="section-padded section-header"></div>            '})}.apply(t,s))||(e.exports=r)},"views/report/Master.pcss":function(e,t,i){var s=i(2572);"string"==typeof s&&(s=[[e.i,s,""]]);var r={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,r);s.locals&&(e.exports=s.locals)},"views/report/ScheduleInfo":function(e,t,i){var s,r;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),e,i("models/shared/Cron"),i("models/shared/TimeRange"),i("util/time"),i("util/string_utils"),i("stubs/i18n"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r,o,n,a,l,d,h){return s.extend({moduleId:r.i,initialize:function(){s.prototype.initialize.apply(this,arguments),this.model.timeRange=new n,this.timeRangeDeferred=e.Deferred()},activate:function(e){return this.timeRangeDeferred=this.model.timeRange.save({earliest:this.model.report.entry.content.get("dispatch.earliest_time"),latest:this.model.report.entry.content.get("dispatch.latest_time")}),this.render(),s.prototype.activate.call(this,e)},startListening:function(){this.listenTo(this.model.report.entry.content,"change:cron_schedule change:is_scheduled",this.debouncedRender)},getScheduleInfo:function(){if(this.model.report.entry.content.get("is_scheduled")){var e=o.createFromCronString(this.model.report.entry.content.get("cron_schedule"));switch(e.get("cronType")){case"hourly":return h.sprintf(t("This scheduled report runs hourly, at %s minutes past the hour.").t(),e.get("minute"));case"daily":return h.sprintf(t("This scheduled report runs daily, at %s:00.").t(),e.get("hour"));case"weekly":return h.sprintf(t("This scheduled report runs weekly, %s at %s:00.").t(),e.getDayOfWeekName(),e.get("hour"));case"monthly":return h.sprintf(t("This scheduled report runs monthly, on day %s at %s:00.").t(),e.get("dayOfMonth"),e.get("hour"));case"custom":return h.sprintf(t("This scheduled report runs on cron schedule %s.").t(),e.getCronString())}}},getTimeRangeInfo:function(){var e=this.model.timeRange.get("earliest_date"),i=this.model.timeRange.get("latest_date"),s=!this.model.timeRange.hasNoEarliest()&&this.model.timeRange.isAbsolute("earliest"),r=this.model.timeRange.isWholeDay("earliest"),o=this.model.timeRange.latestIsNow(),n=!o&&this.model.timeRange.isAbsolute("latest"),a=this.model.timeRange.isWholeDay("latest");return!s||!n||r&&a?this.model.timeRange.hasNoEarliest()&&n&&!a?h.sprintf(t("Its time range is before %s.").t(),d.format_datetime(i)):s&&!r&&o?h.sprintf(t("Its time range is since %s.").t(),d.format_datetime(e)):h.sprintf(t("Its time range is %s.").t(),l.firstToLower(this.model.timeRange.generateLabel(this.collection.times))):h.sprintf(t("Its time range is from %s through %s.").t(),d.format_datetime(e),d.format_datetime(i))},getJobPublishedInfo:function(){if(!this.model.searchJob.isNew()){var e=new Date(this.model.searchJob.entry.get("published")).getTime()/1e3;return h.sprintf(t("The following results were generated %s.").t(),a.convertToRelativeTime(e))}},render:function(){return e.when(this.timeRangeDeferred).then(function(){this.$el.html(this.compiledTemplate({scheduleInfo:this.getScheduleInfo(),timeRangeInfo:this.getTimeRangeInfo(),jobPublishedInfo:this.getJobPublishedInfo()}))}.bind(this)),this},template:'            <i class="icon-clock"></i><%- scheduleInfo%> <%- timeRangeInfo%> <%- jobPublishedInfo%>        '})}.apply(t,s))||(e.exports=r)},"views/report/StateMessage":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("uri/route"),i("util/time"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r,o,n){return s.extend({className:"message-wrapper",moduleId:i.i,initialize:function(){s.prototype.initialize.apply(this,arguments)},events:{"click a.open-in-search":function(e){e.preventDefault();var t={s:this.model.report.id},i=r.search(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:t});window.location=i},"click a.reload-report":function(e){e.preventDefault(),this.model.searchJob.trigger("reload",{replaceState:!0})},"click a.enable-report":function(e){e.preventDefault(),this.model.report.save({disabled:!1},{wait:!0})}},activate:function(e){return this.$el.html()&&this.render(),s.prototype.activate.call(this,e)},startListening:function(){this.listenTo(this.model.report.entry.content,"change:cron_schedule",this.render)},render:function(){return this.$el.html(this.compiledTemplate({_:e,disabled:this.model.report.entry.content.get("disabled"),isScheduled:this.model.report.entry.content.get("is_scheduled"),canWrite:this.model.report.canWrite(this.model.user.canScheduleSearch(),this.model.user.canRTSearch())})),this},template:'                <% if (disabled) { %>                    <h2><%- _("There are no results because the report is disabled.").t() %></h2>                <% } else if (isScheduled) { %>                    <h2><%- _("There are no results because the first scheduled run of the report has not completed.").t() %></h2>                <% } %>                <p>                    <% if (disabled && canWrite) { %>                        <a href="#" class="btn enable-report"><%- _("Enable Report").t() %></a>                    <% } %>                    <a href="#" class="btn open-in-search"><%- _("Open in Search").t() %></a>                </p>            '})}.apply(t,s))||(e.exports=r)},"views/report/Title":function(e,t,i){var s,r;s=[i("require/underscore"),i("views/Base"),e],void 0===(r=function(e,t,i){return t.extend({moduleId:i.i,initialize:function(){t.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.entry,"change:name",this.debouncedRender),this.listenTo(this.model.entry.content,"change:description",this.debouncedRender)},render:function(){return this.$el.html(this.compiledTemplate({model:this.model})),this},template:'            <h1 class="section-title"><%- model.entry.get("name") %></h1>            <% if(model.entry.content.get("description")) { %>                <p class="section-description">                    <%- model.entry.content.get("description") %>                </p>            <% } %>        '})}.apply(t,s))||(e.exports=r)},"views/report/results/EventsPane":function(e,t,i){var s,r;s=[i("require/underscore"),i("require/backbone"),e,i("models/Base"),i("views/Base"),i("views/shared/JobDispatchState"),i("views/report/tablecontrols/Master"),i("views/shared/eventsviewerdrilldown/Master"),i("util/splunkd_utils"),i("uri/route")],void 0===(r=function(e,t,i,s,r,o,n,a,l,d){return r.extend({moduleId:i.i,initialize:function(){r.prototype.initialize.apply(this,arguments),this.model.state=new s,this.children.eventControls=new n({model:{report:this.model.report,searchJob:this.model.searchJob,state:this.model.state},mode:"events",offsetKey:"display.prefs.events.offset",countKey:"display.prefs.events.count"}),this.children.eventsViewer=new a({model:{result:this.model.result,summary:this.model.summary,searchJob:this.model.searchJob,report:this.model.eventsViewerReport,application:this.model.application,state:this.model.state},collection:{selectedFields:this.collection.selectedFields,workflowActions:this.collection.workflowActions},setLocation:!0,selectableFields:!1,headerMode:"dock",headerOffset:43}),this.children.jobDispatchState=new o({model:{searchJob:this.model.searchJob,application:this.model.application},mode:"events"})},startListening:function(){this.listenTo(this.model.eventsViewerReport,"eventsviewer:drilldown",(function(){var e=d.search(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{earliest:this.model.eventsViewerReport.entry.content.get("dispatch.earliest_time"),latest:this.model.eventsViewerReport.entry.content.get("dispatch.latest_time"),q:this.model.eventsViewerReport.entry.content.get("search")}});window.location=e})),this.listenTo(this.model.searchJob.entry.content,"change:eventCount change:dispatchState",e.debounce((function(){this.active&&this.visibility()}),0))},activate:function(t){var i=e.extend({},t||{});return delete i.deep,this.ensureDeactivated({deep:!0}),r.prototype.activate.call(this,i),this.visibility(),this},deactivate:function(e){return this.active?(r.prototype.deactivate.apply(this,arguments),this.model.state.clear(),this):r.prototype.deactivate.apply(this,arguments)},visibility:function(){0===this.model.searchJob.entry.content.get("eventCount")||0===this.model.searchJob.entry.content.get("eventAvailableCount")?(this.children.eventControls.deactivate({deep:!0}).$el.hide(),this.children.eventsViewer.deactivate({deep:!0}).$el.hide(),this.children.jobDispatchState.activate({deep:!0}).$el.show()):(this.children.eventControls.activate({deep:!0}).$el.show(),this.children.eventsViewer.activate({deep:!0}).$el.show(),this.children.jobDispatchState.deactivate({deep:!0}).$el.hide())},render:function(){return this.innerHTML||(this.children.jobDispatchState.render().appendTo(this.$el),this.children.eventControls.render().appendTo(this.$el),this.children.eventsViewer.render().appendTo(this.$el)),this}})}.apply(t,s))||(e.exports=r)},"views/report/results/Master":function(e,t,i){var s,r;s=[i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/FlashMessages"),i("views/shared/JobDispatchState"),i("views/shared/jobstatus/Master"),i("views/report/results/EventsPane"),i("views/report/results/ResultsPane"),i("util/splunkd_utils")],void 0===(r=function(e,t,i,s,r,o,n,a,l,d){return s.extend({moduleId:i.i,initialize:function(){s.prototype.initialize.apply(this,arguments),this.errorTypes=[d.FATAL,d.ERROR],this.searchJobErrorTypes=[d.FATAL],this.children.flashMessage=new r({className:"results-message",model:{searchJob:this.model.searchJob,searchJobControl:this.model.searchJob.control,report:this.model.report,eventsViewerReport:this.model.eventsViewerReport,result:this.model.result,summary:this.model.summary},whitelist:this.errorTypes}),this.children.jobDispatchState=new o({mode:"auto",model:{searchJob:this.model.searchJob,application:this.model.application}}),this.children.eventsPane=new a({model:{result:this.model.result,summary:this.model.summary,report:this.model.report,eventsViewerReport:this.model.eventsViewerReport,searchJob:this.model.searchJob,application:this.model.application},collection:{selectedFields:this.collection.selectedFields,workflowActions:this.collection.workflowActions}}),this.children.resultsPane=new l({model:{report:this.model.report,searchJob:this.model.searchJob,appLocal:this.model.appLocal,application:this.model.application},flashMessagesHelper:this.options.flashMessagesHelper})},instantiateJobStatus:function(){this.children.jobStatus=new n({model:{searchJob:this.model.searchJob,state:this.model.report.entry.content,application:this.model.application,appLocal:this.model.appLocal,report:this.model.report,serverInfo:this.model.serverInfo,user:this.model.user},enableReload:!0,enableSearchMode:!1,allowDelete:!1}),this.children.jobStatus.deactivate({deep:!0})},startListening:function(){this.listenTo(this.model.searchJob,"prepared",(function(){this.active&&this.manageStateOfChildren()})),this.listenTo(this.model.searchJob.entry.content,"change:isFailed",(function(){this.active&&this.manageStateOfChildren()})),this.listenTo(this.model.searchJob,"error",(function(){if(this.active){var e=d.messagesContainsOneOfTypes(this.model.searchJob.error.get("messages"),this.searchJobErrorTypes);this.setSearchErrorState(e)}})),this.listenTo(this.model.searchJob.control,"error",(function(){if(this.active){var e=d.messagesContainsOneOfTypes(this.model.searchJob.control.error.get("messages"),this.searchJobErrorTypes);this.setSearchErrorState(e)}}))},activate:function(t){var i=e.extend({},t||{});delete i.deep,this.ensureDeactivated({deep:!0}),this.children.jobStatus||this.instantiateJobStatus(),s.prototype.activate.call(this,i),this.$el.html()&&!this.children.jobStatus.$el.html()&&this.children.jobStatus.activate({deep:!0}).render().appendTo(this.$(".job-bar")),this.manageStateOfChildren();var r=d.messagesContainsOneOfTypes(this.model.searchJob.error.get("messages"),this.searchJobErrorTypes);return this.setSearchErrorState(r),this},deactivate:function(e){return this.active?(this.children.jobStatus.remove(),delete this.children.jobStatus,s.prototype.deactivate.apply(this,arguments),this):s.prototype.deactivate.apply(this,arguments)},setSearchErrorState:function(e){e?(this.children.eventsPane.$el.addClass("report-disabled"),this.children.resultsPane.$el.addClass("report-disabled")):(this.children.eventsPane.$el.removeClass("report-disabled"),this.children.resultsPane.$el.removeClass("report-disabled"))},manageStateOfChildren:function(){var t,i=this.model.searchJob.id,s=this.model.searchJob.isPreparing();if(this.children.flashMessage.activate({deep:!0}),this.children.jobStatus.activate({deep:!0}).$el.show(),!i||this.model.searchJob.isFailed()){this.$resultsWrapper&&this.$resultsWrapper.hide();var r=i?["flashMessage","jobStatus"]:["flashMessage"];return e.chain(this.children).omit(r).each((function(e){e.deactivate({deep:!0}).$el.hide()})),this}return this.$resultsWrapper&&this.$resultsWrapper.show(),s?(this.children.jobDispatchState.activate({deep:!0}).$el.show(),e.chain(this.children).omit(["jobDispatchState","jobStatus","flashMessage"]).each((function(e){e.deactivate({deep:!0}).$el.hide()})),this):(t=this.model.searchJob.isReportSearch(),this.children.jobDispatchState.deactivate({deep:!0}).$el.hide(),t?(this.children.resultsPane.active||this.children.resultsPane.activate().$el.show(),this.children.eventsPane.deactivate().$el.hide()):(this.children.eventsPane.active||this.children.eventsPane.activate().$el.show(),this.children.resultsPane.deactivate().$el.hide()),this)},render:function(){return this.el.innerHTML||(this.$el.html(this.template),this.$resultsWrapper=this.$(".results-wrapper"),this.children.flashMessage.render().prependTo(this.$el),this.children.jobStatus&&this.children.jobStatus.render().appendTo(this.$(".job-bar")),this.children.jobDispatchState.render().appendTo(this.$resultsWrapper),this.children.eventsPane.render().appendTo(this.$resultsWrapper),this.children.resultsPane.render().appendTo(this.$resultsWrapper),this.model.searchJob.isFailed()&&this.$resultsWrapper.hide()),this},template:'                <div class="job-bar"></div>                <div class="results-wrapper"></div>            '})}.apply(t,s))||(e.exports=r)},"views/report/results/ResultsPane":function(e,t,i){var s,r;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/JobDispatchState"),i("views/shared/LazyResultsTableDrilldown"),i("views/shared/ReportVisualizer"),i("views/report/tablecontrols/Master"),i("models/Base"),i("models/search/Job"),i("util/drilldown"),i("util/splunkd_utils"),i("shim/splunk.util"),i("uri/route"),i("helpers/VisualizationRegistry")],void 0===(r=function(e,t,i,s,r,o,n,a,l,d,h,c,p,m,u,f){return f.registerOverride("statistics",{factory:n}),r.extend({moduleId:s.i,initialize:function(){r.prototype.initialize.apply(this,arguments),this.model.state=new d,this.children.jobDispatchState=new o({model:{searchJob:this.model.searchJob,application:this.model.application},mode:this.model.searchJob.entry.content.get("isPreviewEnabled")?"results_preview":"results"})},initializeControls:function(){this.children.controls=new l({model:{report:this.model.report,searchJob:this.model.searchJob,state:this.model.state},mode:this.model.searchJob.entry.content.get("isPreviewEnabled")?"results_preview":"results",offsetKey:"display.prefs.statistics.offset",countKey:"display.prefs.statistics.count"})},initializeTable:function(){this.children.table=new a({model:{config:this.model.report.entry.content,application:this.model.application,state:this.model.state},tableDockOffset:36,allowResize:!1,generalTypeOverride:a.GENERAL_TYPES.STATISTICS}),this.listenTo(this.children.table,"drilldown",this.handleDrilldown),this.listenTo(this.children.table,"dataSourcesChange",this.bindTableDataSources)},initializeViz:function(){this.children.viz=new a({model:{config:this.model.report.entry.content,application:this.model.application},allowResize:!1,generalTypeOverride:a.GENERAL_TYPES.VISUALIZATIONS}),this.listenTo(this.children.viz,"drilldown",this.handleDrilldown),this.listenTo(this.children.viz,"dataSourcesChange",this.bindVizDataSources)},startListening:function(){this.listenTo(this.model.searchJob.entry.content,"change:dispatchState change:resultCount change:resultPreviewCount",t.debounce((function(){this.active&&this.visibility()}),0))},activate:function(e){var i=t.extend({},e||{});return delete i.deep,this.ensureDeactivated({deep:!0}),this.render(),r.prototype.activate.call(this,i),this.visibility(),this},deactivate:function(e){return this.active?(r.prototype.deactivate.apply(this,arguments),this.children.controls&&(this.children.controls.remove(),delete this.children.controls),this.children.table&&(this.children.table.remove(),delete this.children.table,this.unbindTableDataSources()),this.children.viz&&(this.children.viz.remove(),delete this.children.viz,this.unbindVizDataSources()),this):r.prototype.deactivate.apply(this,arguments)},showVizChild:function(){var t=!1,i=e('<div class="chart-viewer"></div>');this.$el.children("div.chart-viewer")[0]||(this.children.controls?i.insertBefore(this.children.controls.el):i.appendTo(this.$el)),this.children.viz.isAddedToDocument()||(this.children.viz.appendTo(this.$("div.chart-viewer")),t=!0),this.children.viz.active||this.children.viz.activate({deep:!0}),t&&this.children.viz.load().render(),this.children.viz.$el.show()},visibility:function(){0===(this.model.searchJob.entry.content.get("isPreviewEnabled")?this.model.searchJob.entry.content.get("resultPreviewCount"):this.model.searchJob.entry.content.get("resultCount"))?(this.children.jobDispatchState.activate({deep:!0}).$el.show(),this.children.controls&&this.children.controls.deactivate({deep:!0}).$el.hide(),this.children.table&&this.children.table.deactivate({deep:!0}).$el.hide(),this.children.viz&&this.children.viz.deactivate({deep:!0}).$el.hide()):(this.children.jobDispatchState.deactivate({deep:!0}).$el.hide(),m.normalizeBoolean(this.model.report.entry.content.get("display.statistics.show"))&&(this.children.controls||(this.initializeControls(),this.children.controls.render().appendTo(this.$el)),this.children.table||(this.initializeTable(),this.children.table.render().appendTo(this.$el)),this.children.controls.activate({deep:!0}).$el.show(),this.children.table.load().activate({deep:!0}).$el.show(),this.bindTableDataSources()),m.normalizeBoolean(this.model.report.entry.content.get("display.visualizations.show"))&&(this.children.viz||this.initializeViz(),this.showVizChild(),this.bindVizDataSources()))},render:function(){return this.el.innerHTML||this.children.jobDispatchState.render().appendTo(this.$el),this},handleDrilldown:function(e,t){var i=this.model.report.entry.content,s=this.model.application,r=this.model.searchJob.entry.content.get("fieldMetadataResults"),o={search:i.get("search"),earliest:i.get("dispatch.earliest_time"),latest:i.get("dispatch.latest_time")};u.redirectTo(c.applyDrilldownIntention(e,o,r,s,t).then((function(e){return u.search(s.get("root"),s.get("locale"),s.get("app"),{data:e})})),c.shouldDrilldownInNewTab(e,t))},unbindVizDataSources:function(){this.vizPrimaryDataSource&&(this.vizPrimaryDataSource.disconnect(),this.stopListening(this.vizPrimaryDataSource),this.options.flashMessagesHelper.unregister(this.vizPrimaryDataSource.searchResults),this.vizPrimaryDataSource=null)},bindVizDataSources:function(){this.unbindVizDataSources(),this.vizPrimaryDataSource=this.children.viz.getPrimaryDataSource(),this.vizPrimaryDataSource&&(this.vizPrimaryDataSource.connectToSearchJob(this.model.searchJob),this.options.flashMessagesHelper.register(this.vizPrimaryDataSource.searchResults,[p.FATAL,p.ERROR]))},unbindTableDataSources:function(){this.tablePrimaryDataSource&&(this.tablePrimaryDataSource.disconnect(),this.stopListening(this.tablePrimaryDataSource),this.options.flashMessagesHelper.unregister(this.tablePrimaryDataSource.searchResults),this.tablePrimaryDataSource=null)},bindTableDataSources:function(){this.unbindTableDataSources(),this.tablePrimaryDataSource=this.children.table.getPrimaryDataSource(),this.tablePrimaryDataSource&&(this.tablePrimaryDataSource.connectToSearchJob(this.model.searchJob),this.options.flashMessagesHelper.register(this.tablePrimaryDataSource.searchResults,[p.FATAL,p.ERROR]))}})}.apply(t,s))||(e.exports=r)},"views/report/tablecontrols/Master":function(e,t,i){var s,r;s=[i("require/underscore"),e,i("views/Base"),i("views/report/tablecontrols/ResultsCount"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/SearchResultsPaginator"),i("views/shared/delegates/Dock")],void 0===(r=function(e,t,i,s,r,o,n){return i.extend({moduleId:t.i,tagName:"div",className:"table-caption",initialize:function(){i.prototype.initialize.apply(this,arguments),this.children.resultsCount=new s({model:{searchJob:this.model.searchJob}});var t=[{value:"10",label:e("10 per page").t()},{value:"20",label:e("20 per page").t()},{value:"50",label:e("50 per page").t()}];"events"!==this.options.mode&&t.push({value:"100",label:e("100 per page").t()}),this.children.count=new r({menuWidth:"narrow",className:"btn-group pull-left",items:t,model:this.model.report.entry.content,modelAttribute:this.options.countKey,toggleClassName:"btn-pill"}),this.children.searchResultsPaginator=new o({mode:this.options.mode,model:{state:this.model.report.entry.content,searchJob:this.model.searchJob},countKey:this.options.countKey,offsetKey:this.options.offsetKey})},startListening:function(){this.listenTo(this.model.state,"change:isModalized",(function(e,t){this.children.dock[t?"disable":"enable"]()}))},events:{"click .table-caption-inner.disabled":function(e){this.model.state.trigger("unmodalize"),this.model.state.set("isModalized",!1),e.preventDefault()}},render:function(){this.$el.html(this.template),"results"!==this.options.mode&&"results_preview"!==this.options.mode||this.children.resultsCount.render().appendTo(this.$(".table-caption-inner"));var e=this.$(".table-caption-inner");return this.children.count.render().appendTo(e),this.children.searchResultsPaginator.render().appendTo(e),this.$(".table-caption-inner").append('<div class="table-caption-inner-cover"/>'),this.children.dock=new n({el:this.el,affix:".table-caption-inner"}),this},template:'                <div class="table-caption-inner"></div>            '})}.apply(t,s))||(e.exports=r)},"views/report/tablecontrols/ResultsCount":function(e,t,i){var s,r;s=[i("require/underscore"),e,i("views/Base"),i("stubs/i18n")],void 0===(r=function(e,t,i,s){return i.extend({moduleId:t.i,tagName:"span",className:"pull-left",initialize:function(){i.prototype.initialize.apply(this,arguments)},startListening:function(){this.listenTo(this.model.searchJob.entry.content,"change:isPreviewEnabled change:resultCount change:resultPreviewCount",this.debouncedRender)},activate:function(e){return this.active?i.prototype.activate.apply(this,arguments):(i.prototype.activate.apply(this,arguments),this.render(),this)},render:function(){var t=this.model.searchJob.entry.content.get("isPreviewEnabled")?this.model.searchJob.entry.content.get("resultPreviewCount"):this.model.searchJob.entry.content.get("resultCount");this.$el.html(s.format_decimal(t)+s.ungettext(e(" result").t(),e(" results").t(),t))}})}.apply(t,s))||(e.exports=r)},"views/shared/LazyResultsTableDrilldown":function(e,t,i){var s,r;s=[e,i("views/shared/results_table/LazyResultsTable"),i("shim/jquery")],void 0===(r=function(e,t,s){return t.extend({loadModule:function(){var e=s.Deferred();return Promise.all([i.e(0),i.e(83)]).then((function(){var t=[i("views/shared/ResultsTableDrilldown")];(function(){e.resolve.apply(e,arguments)}).apply(null,t)})).catch(i.oe),e}})}.apply(t,s))||(e.exports=r)},"views/shared/eventsviewerdrilldown/FieldValueDrilldown":function(e,t,i){var s,r;s=[i("require/underscore"),e,i("views/shared/PopTart"),i("shim/splunk.util"),i("stubs/i18n")],void 0===(r=function(e,t,i,s,r){return i.extend({moduleId:t.i,className:"dropdown-menu",initialize:function(t){i.prototype.initialize.call(this,t),e.defaults(this.options,{header:s.sprintf("Field: %s = %s",this.options.field,this.options.value)}),this.model.field&&(this.fieldsModes=this.model.field.get("modes"),this.fieldMode=e.findWhere(this.fieldsModes,{value:this.options.value}),this.fieldMode&&(this.valueCount=this.fieldMode.count||0,this.notValueCount=(this.model.field.get("count")||0)-this.valueCount,this.notValueCount=this.notValueCount<0?0:this.notValueCount))},events:{"click .curr_inc_val":function(e){this.fieldDrilldown(e)},"click .curr_inc_val_secondary":function(e){this.fieldDrilldown(e,{newTab:!0})},"click .curr_exc_val":function(e){this.fieldDrilldown(e,{negate:!0})},"click .curr_exc_val_secondary":function(e){this.fieldDrilldown(e,{negate:!0,newTab:!0})},"click .remove_val":function(e){this.fieldDrilldown(e)},"click .remove_val_secondary":function(e){this.fieldDrilldown(e,{newTab:!0})},"click .only_val":function(e){this.options.action="fieldvalue",this.fieldDrilldown(e,{search:"*"})},"click .only_val_secondary":function(e){this.options.action="fieldvalue",this.fieldDrilldown(e,{search:"*",newTab:!0})}},fieldDrilldown:function(e,t){e.preventDefault();var i=(t=t||{}).search?t.search:this.model.report.entry.content.get("search");this.model.state.trigger("drilldown",{data:{q:i,stripReportsSearch:!1,negate:t.negate,action:this.options.action,field:this.options.field,value:this.options.value,app:this.model.application.get("app"),owner:this.model.application.get("owner"),usespath:this.options.usespath},event:e,idx:this.options.idx,newTab:t.newTab,stateModel:this.model.state}),this.hide()},render:function(){var t=this.compiledTemplate({_:e,fieldMode:this.fieldMode,valueCount:r.format_decimal(this.valueCount),notValueCount:r.format_decimal(this.notValueCount),splunkUtil:s,removable:"removefieldvalue"===this.options.action});return this.$el.html(i.prototype.template_menu),this.$el.append(t),this},template:'                <ul>                    <% if (!removable) { %>                        <li>                            <a class="curr_inc_val primary-link" href="#">                                <%- _("Add to search").t()%>                                <% if (fieldMode) { %>                                    <span class="info"><%- splunkUtil.sprintf(_("%s events").t(), valueCount) %></span>                                <% } %>                            </a>                            <a class="curr_inc_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                        <li>                            <a class="curr_exc_val primary-link" href="#">                                <%- _("Exclude from search").t() %>                                <% if (fieldMode) { %>                                    <span class="info"><%- splunkUtil.sprintf(_("%s events").t(), notValueCount) %></span>                                <% } %>                            </a>                            <a class="curr_exc_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                    <% } else { %>                        <li>                            <a class="remove_val primary-link" href="#"><%- _("Remove from search").t() %></a>                            <a class="remove_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                    <% } %>                    <li>                        <a class="only_val primary-link" href="#"><%- _("New search").t() %></a>                        <a class="only_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                    </li>                </ul>            '})}.apply(t,s))||(e.exports=r)},"views/shared/eventsviewerdrilldown/Master":function(e,t,i){var s,r;s=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/eventsviewer/Master"),i("views/shared/eventsviewerdrilldown/FieldValueDrilldown"),i("views/shared/eventsviewerdrilldown/SegmentationDrilldown"),i("views/shared/eventsviewerdrilldown/TagDrilldown"),i("views/shared/eventsviewer/shared/TimeInfo"),i("models/services/search/IntentionsParser"),i("uri/route")],void 0===(r=function(e,t,i,s,r,o,n,a,l,d){return s.extend({initialize:function(e){(e=e||{}).model=e.model||{},e.model.intentions||(e.model.intentions=new l,this.createdDrilldownIntentions=!0),s.prototype.initialize.call(this,e)},deactivate:function(e){return this.active?(s.prototype.deactivate.apply(this,arguments),this.createdDrilldownIntentions&&this.model.intentions.clear(),this.lastTargetElement=void 0,this):s.prototype.deactivate.apply(this,arguments)},openTagDrilldown:function(t){var i=t.$target,s=t.stateModel;this.children.tagDrilldown&&this.children.tagDrilldown.shown&&(this.children.tagDrilldown.hide(),this.children.tagDrilldown.remove(),delete this.children.tagDrilldown,this.lastTargetElement===i[0])||(s.set("modalizedRow",t.idx),this.children.tagDrilldown=new n({taggedFieldName:t.data.field,value:t.data.value,action:t.data.action,idx:t.idx,usespath:t.data.usespath,onHiddenRemove:!0,model:{application:this.model.application,report:this.model.report,state:s,searchJob:this.model.searchJob},scrollContainer:i.closest(".scrolling-table-wrapper"),ignoreToggleMouseDown:!0}),this.lastTargetElement=i[0],this.children.tagDrilldown.render().appendTo(e("body")).show(i))},openSegmentationDrilldown:function(t){var i=t.$target,s=t.stateModel;i.addClass("selected-segment"),this.children.segmentationDrilldown&&this.children.segmentationDrilldown.shown&&(this.children.segmentationDrilldown.hide(),this.children.segmentationDrilldown.remove(),delete this.children.segmentationDrilldown,this.lastTargetElement===i[0])||(s.set("modalizedRow",t.idx),this.children.segmentationDrilldown=new o({field:t.data.field,value:t.data.value,action:t.data.action,usespath:t.data.usespath,idx:t.idx,onHiddenRemove:!0,model:{application:this.model.application,report:this.model.report,state:s,searchJob:this.model.searchJob},scrollContainer:i.closest(".scrolling-table-wrapper"),ignoreToggleMouseDown:!0}),this.lastTargetElement=i[0],this.children.segmentationDrilldown.render().appendTo(e("body")).show(i),this.listenToOnce(this.children.segmentationDrilldown,"hidden",(function(){i.removeClass("selected-segment")})))},openFieldDrilldown:function(t){var i=t.$anchor||t.$target,s=t.stateModel,o=t.data.field,n=this.model.summary.findByFieldName(o),a=t.data.value,l=t.data.action;this.children.fieldValueDrilldown&&this.children.fieldValueDrilldown.shown&&(this.children.fieldValueDrilldown.hide(),this.children.fieldValueDrilldown.remove(),delete this.children.fieldValueDrilldown,this.lastTargetElement===i[0])||(i.addClass("selected-segment"),s.set("modalizedRow",t.idx),this.children.fieldValueDrilldown=new r({field:o,value:a,action:l,idx:t.idx,onHiddenRemove:!0,usespath:t.data.usespath,model:{field:n,application:this.model.application,report:this.model.report,state:s,searchJob:this.model.searchJob},scrollContainer:i.closest(".scrolling-table-wrapper"),ignoreToggleMouseDown:!0}),this.lastTargetElement=i[0],this.children.fieldValueDrilldown.render().appendTo(e("body")).show(i,{$toggle:t.$target}),this.listenToOnce(this.children.fieldValueDrilldown,"hidden",(function(){i.removeClass("selected-segment")})))},openTimeInfoDrilldown:function(i){var s=i.$anchor.data().timeIso;if(this.children.timeInfoDrilldown&&this.children.timeInfoDrilldown.shown)return this.children.timeInfoDrilldown.hide(),this.children.timeInfoDrilldown.remove(),void delete this.children.timeInfoDrilldown;i.stateModel.set("modalizedRow",i.idx),this.children.timeInfoDrilldown=new a({model:{report:this.model.report},header:t("_time").t(),time:s,onHiddenRemove:!0,scrollContainer:i.$anchor.closest(".scrolling-table-wrapper"),ignoreToggleMouseDown:!0}),this.children.timeInfoDrilldown.render().appendTo(e("body")).show(i.$anchor,{$toggle:i.$target})},drilldownHandler:function(t){var i,s,r,o;switch(t.type){case"tag":return void this.openTagDrilldown(t);case"segmentation":return void this.openSegmentationDrilldown(t);case"fieldvalue":return void this.openFieldDrilldown(t);case"time":return void this.openTimeInfoDrilldown(t);default:s=t.event,o=(r=this.getDrilldownCallback(t.data,t.noFetch))(),t.noFetch||((s.ctrlKey||s.metaKey||t.newTab)&&(i=window.open()),e.when(o).then(function(){var e=this.model.intentions.fullSearch(),t=d.search(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{q:e,earliest:this.model.report.entry.content.get("dispatch.earliest_time"),latest:this.model.report.entry.content.get("dispatch.latest_time")}});i?(this.model.intentions.clear({silent:!0}),i.location=t):(this.model.state.trigger("unmodalize"),this.options.setLocation?window.location=t:this.model.report.entry.content.set("search",e))}.bind(this))),this.trigger("drilldown",t,r)}}})}.apply(t,s))||(e.exports=r)},"views/shared/eventsviewerdrilldown/SegmentationDrilldown":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/shared/PopTart")],void 0===(r=function(e,t,i,s){return s.extend({moduleId:i.i,className:"dropdown-menu",initialize:function(e){s.prototype.initialize.apply(this,arguments)},events:{"click .curr_inc_val":function(e){this.segmentationDrilldown(e)},"click .curr_inc_val_secondary":function(e){this.segmentationDrilldown(e,{newTab:!0})},"click .curr_exc_val":function(e){this.segmentationDrilldown(e,{negate:!0})},"click .curr_exc_val_secondary":function(e){this.segmentationDrilldown(e,{negate:!0,newTab:!0})},"click .remove_val":function(e){this.segmentationDrilldown(e,{removing:!0})},"click .remove_val_secondary":function(e){this.segmentationDrilldown(e,{removing:!0,newTab:!0})},"click .only_val":function(e){this.options.action="addterm",this.segmentationDrilldown(e,{search:"*"})},"click .only_val_secondary":function(e){this.options.action="addterm",this.segmentationDrilldown(e,{search:"*",newTab:!0})}},segmentationDrilldown:function(e,t){e.preventDefault();var i=(t=t||{}).search?t.search:this.model.report.entry.content.get("search");this.model.state.trigger("drilldown",{data:{q:i,stripReportsSearch:!1,negate:t.negate,action:this.options.action,value:this.options.value,app:this.model.application.get("app"),owner:this.model.application.get("owner")},event:e,idx:this.options.idx,newTab:t.newTab}),this.hide()},render:function(){var t=this.compiledTemplate({_:e,removable:"removeterm"===this.options.action});return this.$el.html(s.prototype.template_menu),this.$el.append(t),this},template:'                <ul>                    <% if (!removable) { %>                        <li>                            <a class="curr_inc_val primary-link" href="#"><%- _("Add to search").t() %></a>                            <a class="curr_inc_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                        <li>                            <a class="curr_exc_val primary-link" href="#"><%- _("Exclude from search").t() %></a>                            <a class="curr_exc_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                    <% } else { %>                        <li>                            <a class="remove_val primary-link" href="#"><%- _("Remove from search").t() %></a>                            <a class="remove_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                    <% } %>                    <li>                        <a class="only_val primary-link" href="#"><%- _("New search").t() %></a>                        <a class="only_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                    </li>                </ul>            '})}.apply(t,s))||(e.exports=r)},"views/shared/eventsviewerdrilldown/TagDrilldown":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/shared/PopTart"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r){return s.extend({moduleId:i.i,className:"dropdown-menu",initialize:function(e){s.prototype.initialize.apply(this,arguments)},events:{"click .curr_inc_val":function(e){this.tagDrilldown(e)},"click .curr_inc_val_secondary":function(e){this.tagDrilldown(e,{newTab:!0})},"click .curr_exc_val":function(e){this.tagDrilldown(e,{negate:!0})},"click .curr_exc_val_secondary":function(e){this.tagDrilldown(e,{negate:!0,newTab:!0})},"click .remove_val":function(e){this.tagDrilldown(e)},"click .remove_val_secondary":function(e){this.tagDrilldown(e,{newTab:!0})},"click .only_val":function(e){this.tagDrilldown(e,{search:"*"})},"click .only_val_secondary":function(e){this.tagDrilldown(e,{search:"*",newTab:!0})}},tagDrilldown:function(e,t){e.preventDefault();var i=(t=t||{}).search?t.search:this.model.searchJob.getStrippedEventSearch();this.model.state.trigger("drilldown",{data:{q:i,stripReportsSearch:!0,negate:t.negate,action:this.options.action,field:this.options.taggedFieldName,value:this.options.value,app:this.model.application.get("app"),owner:this.model.application.get("owner"),usespath:this.options.usespath},event:e,idx:this.options.idx,newTab:t.newTab}),this.hide()},render:function(){var t=this.compiledTemplate({_:e,removable:"removefieldvalue"===this.options.action});return this.$el.html(s.prototype.template_menu),this.$el.append(t),this},template:'                <ul>                    <% if (!removable) { %>                        <li>                            <a class="curr_inc_val primary-link" href="#"><%- _("Add to search").t() %></a>                            <a class="curr_inc_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                        <li>                            <a class="curr_exc_val primary-link" href="#"><%- _("Exclude from search").t() %></a>                            <a class="curr_exc_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                     <% } else { %>                        <li>                            <a class="remove_val primary-link" href="#"><%- _("Remove from search").t() %></a>                            <a class="remove_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                        </li>                    <% } %>                    <li>                        <a class="only_val primary-link" href="#"><%- _("New search").t() %></a>                        <a class="only_val_secondary secondary-link" href="#"><i class="icon-external"></i></a>                    </li>                </ul>            '})}.apply(t,s))||(e.exports=r)}});