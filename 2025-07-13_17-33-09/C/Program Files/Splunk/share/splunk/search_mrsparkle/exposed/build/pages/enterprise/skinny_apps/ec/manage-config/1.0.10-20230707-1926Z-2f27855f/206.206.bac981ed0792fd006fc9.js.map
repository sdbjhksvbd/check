{"version":3,"file":"206.206.bac981ed0792fd006fc9.js","mappings":"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","sources":["webpack://remote-manage-config-page/./src/config-page/win-perfmon/WinPerfmon.errors.ts","webpack://remote-manage-config-page/./src/config-page/win-perfmon/WinPerfmon.messages.ts","webpack://remote-manage-config-page/./src/config-page/win-perfmon/WinPerfmon.testids.ts","webpack://remote-manage-config-page/./src/config-page/win-perfmon/WinPerfmon.styles.ts","webpack://remote-manage-config-page/./src/config-page/win-perfmon/WinPerfmon.apiservice.ts","webpack://remote-manage-config-page/./src/config-page/win-perfmon/WinPerfmon.component.tsx","webpack://remote-manage-config-page/./src/config-page/win-perfmon/data/jsonforms/schema/index.ts","webpack://remote-manage-config-page/./src/config-page/win-perfmon/data/jsonforms/uischema/index.ts","webpack://remote-manage-config-page/./src/shared/components/FilterHOCs/filterHOCs.tsx","webpack://remote-manage-config-page/./src/shared/components/LoadingMessage/LoadingMessage.testids.ts","webpack://remote-manage-config-page/./src/shared/components/LoadingMessage/LoadingMessage.styles.ts","webpack://remote-manage-config-page/./src/shared/components/LoadingMessage/LoadingMessage.component.tsx"],"sourcesContent":["const ERROR_CODES = {\n    FETCH_AVAILABLE_COUNTERS_NOT_FOUND: 'FETCH_AVAILABLE_COUNTERS_NOT_FOUND',\n    FETCH_AVAILABLE_INSTANCES_NOT_FOUND: 'FETCH_AVAILABLE_INSTANCES_NOT_FOUND',\n};\n\nexport default ERROR_CODES;\n","import { localizeMessages } from '@splunk/sui-forms-shared-utils';\nimport ERROR_CODES from './WinPerfmon.errors';\n\nexport const MESSAGES = {\n    LOOKUP_HOST: {\n        LABEL: 'Select target host *',\n        DESCRIPTION: 'Enter a host name then click \"Query\" to find available classes.',\n        BUTTON_LABEL: 'Query...',\n    },\n    AVAILABLE_OBJECTS: {\n        LABEL: 'Available objects *',\n        DESCRIPTION: 'Select an object to view and add available counters.',\n    },\n    COUNTERS: {\n        LABEL: 'Counters',\n        SOURCE_LABEL: 'Available counters',\n        TARGET_LABEL: 'Selected counters',\n    },\n    INSTANCES: {\n        LABEL: 'Instances',\n        SOURCE_LABEL: 'Available instances',\n        TARGET_LABEL: 'Selected instances',\n    },\n    ADDITIONAL_HOSTS: {\n        LABEL: 'Collect the same set of metrics from additional hosts',\n        DESCRIPTION: 'Comma separated list',\n    },\n    POLLING_INTERVAL: {\n        LABEL: 'Polling interval *',\n        DESCRIPTION: 'Seconds',\n    },\n    INDEX: {\n        LABEL: 'Index',\n        SELECT_LABEL: 'Set the destination index for this source.',\n    },\n    ERRORS: {\n        [ERROR_CODES.FETCH_AVAILABLE_COUNTERS_NOT_FOUND]: (value: string): string =>\n            `Failed to fetch data: Unable to get the available counters for class '${value}'. WMI error.`,\n        [ERROR_CODES.FETCH_AVAILABLE_INSTANCES_NOT_FOUND]: (value: string): string =>\n            `Failed to fetch data: Unable to get the available instances for class '${value}'. WMI error`,\n    },\n};\n// Localize messages\nlocalizeMessages(MESSAGES);\n","import { normalizeDataTestIds } from '@splunk/sui-forms-shared-utils';\nimport { remoteAppName } from '../../constants';\n\nconst TEST_IDS = {\n    CONTAINER: 'Container',\n    WAITSPINNER: 'WaitSpinner',\n    ERROR_MSG: 'ErrorMessage',\n};\n\nnormalizeDataTestIds({ remoteAppName, compName: 'WinPerfmon', testIds: TEST_IDS });\nexport default TEST_IDS;\n","import styled from 'styled-components';\nimport { pick, variables } from '@splunk/themes';\n\nexport const WrapperDiv = styled.div`\n    max-width: 960px;\n    padding: 30px 20px 20px 20px;\n    background-color: ${pick({\n        enterprise: variables.backgroundColor,\n        prisma: variables.backgroundColorPopup,\n    })};\n    box-shadow: ${variables.overlayShadow};\n    margin: 0 auto 20px;\n    display: flex;\n    flex-direction: column;\n`;\n\nexport const ActionAreaWrapper = styled.div`\n    display: flex;\n    justify-content: flex-end;\n    border-top: 1px solid #ccc;\n    padding: 20px;\n`;\n\nexport const WaitSpinnerWrapper = styled.div`\n    display: flex;\n    justify-content: center;\n    margin-top: 40px;\n    margin-bottom: 40px;\n`;\n","import { get } from 'lodash';\nimport { stringify } from 'query-string';\nimport { createRESTURL } from '@splunk/splunk-utils/url';\nimport { defaultFetchInit } from '@splunk/splunk-utils/fetch';\nimport {\n    IFetchAvailableObjectsFn,\n    IFetchCountersInstancesFn,\n    IFetchDefaultSettingsFn,\n    IFetchIndexesFn,\n    ISplunkDACL,\n    IWinPerfmonFormData,\n} from './WinPerfmon.interfaces';\nimport { defaultIndex, fetchIndexesParams, formatSplunkDError } from '../../shared/utils/helper';\nimport { $any } from '../../app.interfaces';\n\nexport const defaultSettingsPath = 'data/inputs/win-perfmon';\nexport const fetchWinPerfmonCollectionUrl = createRESTURL('admin/win-perfmon-find-collection');\nexport const fetchIndexesUrl = createRESTURL('data/indexes');\n\nconst entityAcl: ISplunkDACL = {\n    app: '',\n    owner: '',\n};\n\nexport const fetchDefaultSettings: IFetchDefaultSettingsFn = async (entity) => {\n    const defaultSettingsUrl = createRESTURL(defaultSettingsPath);\n    const url = `${defaultSettingsUrl}/${entity}?${stringify({ output_mode: 'json' })}`;\n    const response = await fetch(url, { ...defaultFetchInit });\n    const json = await response.json();\n\n    if (response.status === 200) {\n        const {\n            object = '',\n            counters = [],\n            index = '',\n            instances = [],\n            interval = null,\n        } = get(json, 'entry[0].content', {});\n\n        const { app = '', owner = '' } = get(json, 'entry[0].acl', {});\n\n        entityAcl.app = app;\n        entityAcl.owner = owner;\n\n        return {\n            name: get(json, `entry[0].name`, ''),\n            availableObjects: { label: object, value: object },\n            counters: {\n                targetItemsList: counters,\n            },\n            instances: {\n                targetItemsList: instances,\n            },\n            pollingInterval: interval,\n            index: { label: index, value: index },\n        };\n    }\n    throw new Error(formatSplunkDError(json));\n};\n\nexport const fetchAvailableObjects: IFetchAvailableObjectsFn = async () => {\n    const url = `${fetchWinPerfmonCollectionUrl}?${stringify({ output_mode: 'json' })}`;\n    const response = await fetch(url, { ...defaultFetchInit });\n    const json = await response.json();\n\n    if (response.status === 200) {\n        return get(json, 'entry[0].content.objects', []).map((obj) => ({ label: obj, value: obj }));\n    }\n    throw new Error(formatSplunkDError(json));\n};\n\nexport const fetchCountersInstances: IFetchCountersInstancesFn = async (availObj) => {\n    const params = { object: availObj.value, output_mode: 'json' };\n    const url = `${fetchWinPerfmonCollectionUrl}?${stringify(params)}`;\n    const response = await fetch(url, { ...defaultFetchInit });\n    const json = await response.json();\n\n    if (response.status === 200) {\n        return {\n            counters: get(json, 'entry[0].content.counters', []),\n            instances: get(json, 'entry[0].content.instances', []),\n        };\n    }\n    throw new Error(formatSplunkDError(json));\n};\n\nexport const fetchIndexes: IFetchIndexesFn = async () => {\n    const url = `${fetchIndexesUrl}?${stringify(fetchIndexesParams)}`;\n    const response = await fetch(url, { ...defaultFetchInit });\n    const json = await response.json();\n    if (response.status === 200) {\n        return [\n            defaultIndex,\n            ...(json.entry || []).map((index) => ({ label: index.name, value: index.name })),\n        ];\n    }\n    throw new Error(formatSplunkDError(json));\n};\n\nexport const fetchWinPerfmonSettings = async (entity: string): Promise<$any> => {\n    return Promise.all([fetchDefaultSettings(entity), fetchAvailableObjects(), fetchIndexes()]);\n};\n\nexport const updateWinPerfmonSettings = async (\n    entity: string,\n    formData: IWinPerfmonFormData\n): Promise<void> => {\n    const { app, owner } = entityAcl;\n    const url = createRESTURL(defaultSettingsPath, {\n        owner,\n        app,\n    });\n    const body = stringify({\n        counters: formData.counters.targetItemsList.join(';'),\n        index: formData.index?.value || '',\n        instances: formData.instances.targetItemsList.join(';'),\n        object: formData.availableObjects?.value || '',\n        output_mode: 'json',\n        interval: formData.pollingInterval,\n    });\n    const fetchConfig = { ...defaultFetchInit, method: 'POST', body };\n    const response = await fetch(`${url}/${entity}`, { ...fetchConfig });\n    const json = await response.json();\n\n    if (response.status !== 200) {\n        throw new Error(formatSplunkDError(json));\n    }\n};\n","import React, { FC, useEffect, useState } from 'react';\nimport { flowRight as compose, isEmpty } from 'lodash';\nimport { ISubmitHandler, SUIFormRendererCompound, Errors } from '@splunk/sui-form-renderer';\nimport WaitSpinner from '@splunk/react-ui/WaitSpinner';\nimport { UISchemaElement } from '@jsonforms/core';\nimport {\n    withOSFilter,\n    withRBACFilter,\n    withSplunkEnvFilter,\n} from '../../shared/components/FilterHOCs/filterHOCs';\nimport { generateSchema } from './data/jsonforms/schema';\nimport { generateUISchema } from './data/jsonforms/uischema';\nimport TEST_IDS from './WinPerfmon.testids';\nimport { ActionAreaWrapper, WaitSpinnerWrapper, WrapperDiv } from './WinPerfmon.styles';\nimport {\n    fetchCountersInstances,\n    fetchWinPerfmonSettings,\n    updateWinPerfmonSettings,\n} from './WinPerfmon.apiservice';\nimport {\n    FetchCountersInstancesFnResponse,\n    IWinPerfmonFormData,\n    WinPerfmonProps,\n} from './WinPerfmon.interfaces';\nimport { LISTING_PAGE_URL } from '../../constants';\nimport { $any, Pages } from '../../app.interfaces';\nimport LoadingMessage from '../../shared/components/LoadingMessage/LoadingMessage.component';\n\nconst WinPerfmon: FC<WinPerfmonProps> = ({ entity }) => {\n    const [isBootstrapping, setIsBootstrapping] = useState(true);\n    const [isFetchingData, setIsFetchingData] = useState(false);\n    const [formData, setFormData] = useState<IWinPerfmonFormData>(undefined);\n    const [schema, setSchema] = useState({});\n    const [uiSchema, setUISchema] = useState({});\n    const [errorMessages, setErrorMessages] = useState<string[]>([]);\n\n    const handleAvailableObjectsSelectChange = async (\n        availObjString: string,\n        { refreshDataSources }\n    ): Promise<void> => {\n        const availObj = {\n            value: availObjString,\n            label: availObjString,\n        };\n\n        setErrorMessages([]);\n        setIsFetchingData(true);\n\n        let dataSourcesToBeRefreshed = [\n            ['counters', []],\n            ['instances', []],\n        ];\n\n        try {\n            const { counters, instances } = await fetchCountersInstances(availObj);\n            dataSourcesToBeRefreshed = [\n                ['counters', counters],\n                ['instances', instances],\n            ];\n        } catch (error) {\n            setErrorMessages([error.message]);\n        } finally {\n            refreshDataSources(dataSourcesToBeRefreshed);\n            setIsFetchingData(false);\n        }\n    };\n\n    useEffect(() => {\n        if (!entity) {\n            window.location.href = LISTING_PAGE_URL[Pages.WinPerfmon];\n            return;\n        }\n\n        (async (): Promise<void> => {\n            let defaultSettings: IWinPerfmonFormData | $any = {};\n            let availableObjects = [];\n            let indexes = [];\n            let countersInstances: FetchCountersInstancesFnResponse;\n\n            try {\n                [defaultSettings, availableObjects, indexes] = await fetchWinPerfmonSettings(entity);\n                countersInstances = await fetchCountersInstances(defaultSettings.availableObjects);\n            } catch (error) {\n                setErrorMessages([error.message]);\n            } finally {\n                setFormData({ name: entity, ...defaultSettings });\n                setSchema(generateSchema({ availableObjects, indexes }));\n                setUISchema(\n                    generateUISchema({\n                        countersDataSource: countersInstances?.counters || [],\n                        instancesDataSource: countersInstances?.instances || [],\n                        handleAvailableObjectsSelectChange,\n                    })\n                );\n                setIsBootstrapping(false);\n            }\n        })();\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    const dismissErrorMessage = (): void => setErrorMessages([]);\n\n    const handleSubmit: ISubmitHandler<$any> = async ({ data, successCb, failureCb }) => {\n        setErrorMessages([]);\n        setIsFetchingData(true);\n\n        try {\n            await updateWinPerfmonSettings(entity, data);\n            successCb();\n        } catch (error) {\n            failureCb([error.message]);\n        } finally {\n            setIsFetchingData(false);\n        }\n    };\n\n    const renderForm = !isEmpty(schema) && !isEmpty(uiSchema);\n\n    return (\n        <>\n            {!isBootstrapping && (\n                <WrapperDiv data-test-name={TEST_IDS.CONTAINER}>\n                    {errorMessages.length > 0 && (\n                        <Errors errorMessages={errorMessages} onRequestRemove={dismissErrorMessage} />\n                    )}\n                    {renderForm && (\n                        <SUIFormRendererCompound>\n                            <div style={{ width: '100%', position: 'relative' }}>\n                                {isFetchingData && <LoadingMessage />}\n                                <main>\n                                    <SUIFormRendererCompound.ErrorView />\n                                    <SUIFormRendererCompound.Form\n                                        data={formData}\n                                        schema={schema}\n                                        uischema={uiSchema as UISchemaElement}\n                                    />\n                                </main>\n                                <footer>\n                                    <ActionAreaWrapper>\n                                        <SUIFormRendererCompound.ActionButtons onSubmit={handleSubmit} />\n                                    </ActionAreaWrapper>\n                                </footer>\n                            </div>\n                        </SUIFormRendererCompound>\n                    )}\n                </WrapperDiv>\n            )}\n            {isBootstrapping && (\n                <WaitSpinnerWrapper data-test-name={TEST_IDS.WAITSPINNER}>\n                    <WaitSpinner size=\"medium\" />\n                </WaitSpinnerWrapper>\n            )}\n        </>\n    );\n};\n\nconst WinPerfmonFiltered = compose([\n    withOSFilter(['Windows']),\n    withSplunkEnvFilter(['cmp']),\n    withRBACFilter(['edit_modinput_perfmon']),\n])(WinPerfmon);\n\nexport default WinPerfmonFiltered;\n","import { JsonSchema4 } from '@jsonforms/core';\nimport { MESSAGES } from '../../../WinPerfmon.messages';\n\ninterface IGenerateSchemaFnParams {\n    availableObjects: Array<{ label: string; value: string }>;\n    indexes: Array<{ label: string; value: string }>;\n}\n\ninterface IGenerateSchemaFn {\n    (param: IGenerateSchemaFnParams): JsonSchema4;\n}\n\nexport const generateSchema: IGenerateSchemaFn = ({ availableObjects = [], indexes = [] }) => {\n    return {\n        type: 'object',\n        properties: {\n            name: {\n                type: 'string',\n            },\n            availableObjects: availableObjects.length\n                ? {\n                      type: 'object',\n                      enum: availableObjects,\n                      description: MESSAGES.AVAILABLE_OBJECTS.DESCRIPTION,\n                  }\n                : {},\n            counters: {\n                type: 'object',\n            },\n            instances: {\n                type: 'object',\n            },\n            pollingInterval: {\n                type: 'number',\n                description: MESSAGES.POLLING_INTERVAL.DESCRIPTION,\n            },\n            index: indexes.length\n                ? {\n                      type: 'object',\n                      enum: indexes,\n                  }\n                : {},\n        },\n        required: ['availableObjects', 'pollingInterval'],\n    };\n};\n","import { UISchemaElement } from '@jsonforms/core';\nimport {\n    getAlwaysDisableElementRule,\n    getControlGroupLabelWidthProps,\n} from '../../../../../shared/utils/helper';\nimport { MESSAGES } from '../../../WinPerfmon.messages';\n\ninterface IGenerateUISchemaFnParam {\n    countersDataSource: string[];\n    instancesDataSource: string[];\n    handleAvailableObjectsSelectChange: (value: string, { refreshDataSources }) => Promise<void>;\n}\n\ninterface IGenerateUISchemaFn {\n    (param: IGenerateUISchemaFnParam): UISchemaElement;\n}\n\nexport const generateUISchema: IGenerateUISchemaFn = ({\n    countersDataSource,\n    instancesDataSource,\n    handleAvailableObjectsSelectChange,\n}) => {\n    return {\n        type: 'VerticalLayout',\n        elements: [\n            {\n                type: 'Control',\n                scope: '#/properties/name',\n                label: 'Name',\n                rule: { ...getAlwaysDisableElementRule() },\n                options: {\n                    suiControlGroupProps: { ...getControlGroupLabelWidthProps() },\n                },\n            },\n            {\n                type: 'Select',\n                scope: '#/properties/availableObjects',\n                label: MESSAGES.AVAILABLE_OBJECTS.LABEL,\n                options: {\n                    suiControlGroupProps: { ...getControlGroupLabelWidthProps() },\n                    suiComponentProps: {\n                        filter: false,\n                    },\n                    customComponentProps: {\n                        onSelectValueChange: handleAvailableObjectsSelectChange,\n                    },\n                },\n            },\n            {\n                type: 'TransferList',\n                scope: '#/properties/counters',\n                label: MESSAGES.COUNTERS.LABEL,\n                options: {\n                    suiControlGroupProps: { ...getControlGroupLabelWidthProps() },\n                    customComponentProps: {\n                        source: {\n                            label: MESSAGES.COUNTERS.SOURCE_LABEL,\n                        },\n                        target: {\n                            label: MESSAGES.COUNTERS.TARGET_LABEL,\n                        },\n                        dataSource: countersDataSource,\n                    },\n                },\n            },\n            {\n                type: 'TransferList',\n                scope: '#/properties/instances',\n                label: MESSAGES.INSTANCES.LABEL,\n                options: {\n                    suiControlGroupProps: { ...getControlGroupLabelWidthProps() },\n                    customComponentProps: {\n                        source: {\n                            label: MESSAGES.INSTANCES.SOURCE_LABEL,\n                        },\n                        target: {\n                            label: MESSAGES.INSTANCES.TARGET_LABEL,\n                        },\n                        dataSource: instancesDataSource,\n                    },\n                },\n            },\n            {\n                type: 'Control',\n                label: MESSAGES.POLLING_INTERVAL.LABEL,\n                scope: '#/properties/pollingInterval',\n                options: {\n                    suiControlGroupProps: { ...getControlGroupLabelWidthProps() },\n                },\n            },\n            {\n                type: 'Label',\n                text: MESSAGES.INDEX.LABEL,\n            },\n            {\n                type: 'Select',\n                scope: '#/properties/index',\n                label: MESSAGES.INDEX.SELECT_LABEL,\n                options: {\n                    suiControlGroupProps: { ...getControlGroupLabelWidthProps() },\n                    suiComponentProps: {\n                        filter: false,\n                    },\n                },\n            },\n        ],\n    };\n};\n","import React, { FC } from 'react';\nimport styled from 'styled-components';\nimport { $any, SplunkInstanceTypes, SplunkExperienceTypes } from '../../../app.interfaces';\nimport { ServerInfoService } from '../../services/ServerInfoService';\nimport { UserContextService } from '../../services/UserContextService';\nimport { ExperienceService } from '../../services/ExperienceService';\nimport { IFilterHOCReturnType, OS, OSList } from './filterHOCs.interfaces';\nimport { MESSAGES } from '../../../messages';\n\nconst ErrorWrapper = styled.div`\n    margin: 25px;\n`;\n\nconst ErrorView: FC<{ msg: string }> = ({ msg = 'Error loading page' }) => {\n    return <h2>{msg}</h2>;\n};\n\nexport const withRBACFilter =\n    (permissionsNeeded = []): IFilterHOCReturnType<$any> =>\n    (Comp: React.ComponentType): FC<$any> => {\n        const hasPermission = UserContextService.canReadPage(permissionsNeeded);\n        const RBACFilterComp: FC<$any> = (props) => {\n            return !hasPermission ? (\n                <ErrorWrapper>\n                    <ErrorView msg={MESSAGES.FILTER_HOC.ERRORS.RBAC_FILTER} />\n                </ErrorWrapper>\n            ) : (\n                <Comp {...props} />\n            );\n        };\n        return RBACFilterComp;\n    };\n\nexport const withSplunkEnvFilter =\n    (supportedEnvs: SplunkInstanceTypes[] = []): IFilterHOCReturnType<$any> =>\n    (Comp: React.ComponentType): FC<$any> => {\n        const supportsEnv = supportedEnvs.includes(ServerInfoService.getSplunkInstanceType());\n        const SplunkEnvFilterComp: FC<$any> = (props) => {\n            return !supportsEnv ? (\n                <ErrorWrapper>\n                    <ErrorView msg={MESSAGES.FILTER_HOC.ERRORS.SPLUNK_ENV_FILTER} />\n                </ErrorWrapper>\n            ) : (\n                <Comp {...props} />\n            );\n        };\n        return SplunkEnvFilterComp;\n    };\n\nexport const withOSFilter =\n    (supportedOS: OSList = []): IFilterHOCReturnType<$any> =>\n    (Comp: React.ComponentType): FC<$any> => {\n        const supportsOS = supportedOS.includes(ServerInfoService.getOS() as OS);\n        const OSFilterComp: FC<$any> = (props) => {\n            return !supportsOS ? (\n                <ErrorWrapper>\n                    <ErrorView msg={MESSAGES.FILTER_HOC.ERRORS.OS_FILTER} />\n                </ErrorWrapper>\n            ) : (\n                <Comp {...props} />\n            );\n        };\n        return OSFilterComp;\n    };\n\nexport const withExperienceFilter =\n    (supportedExperiences: SplunkExperienceTypes[] = []): IFilterHOCReturnType<$any> =>\n    (Comp: React.ComponentType): FC<$any> => {\n        const supportsExperience = supportedExperiences.includes(ExperienceService.getExperienceType());\n        const ExperienceFilterComp: FC<$any> = (props) => {\n            return !supportsExperience ? (\n                <ErrorWrapper>\n                    <ErrorView msg={MESSAGES.FILTER_HOC.ERRORS.SPLUNK_EXPERIENCE_FILTER} />\n                </ErrorWrapper>\n            ) : (\n                <Comp {...props} />\n            );\n        };\n        return ExperienceFilterComp;\n    };\n","import { normalizeDataTestIds } from '@splunk/sui-forms-shared-utils';\nimport { remoteAppName } from '../../../constants';\n\nconst TEST_IDS = {\n    LOADING_MSG: 'LoadingMessage',\n};\n\nnormalizeDataTestIds({ remoteAppName, compName: 'LoadingMessage', testIds: TEST_IDS });\nexport default TEST_IDS;\n","import styled from 'styled-components';\nimport P from '@splunk/react-ui/Paragraph';\n\nexport const LoadingMessageWrapper = styled.div`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    background-color: rgba(255, 255, 255, 0.5);\n    z-index: 500;\n`;\n\nexport const LoadingMessageContainer = styled.div`\n    margin: auto;\n    display: flex;\n`;\n\nexport const Message = styled(P)`\n    margin: auto;\n    font-size: 16px;\n    margin-bottom: 4px;\n    margin-left: 2px;\n`;\n","import React, { FC } from 'react';\nimport WaitSpinner from '@splunk/react-ui/WaitSpinner';\nimport TEST_IDS from './LoadingMessage.testids';\nimport { MESSAGES } from '../../../messages';\nimport { LoadingMessageWrapper, LoadingMessageContainer, Message } from './LoadingMessage.styles';\n\nconst LoadingMessage: FC = () => {\n    return (\n        <LoadingMessageWrapper data-test-name={TEST_IDS.LOADING_MSG}>\n            <LoadingMessageContainer>\n                <WaitSpinner size=\"medium\" />\n                <Message>{MESSAGES.COMMON.LOADING_MSG}</Message>\n            </LoadingMessageContainer>\n        </LoadingMessageWrapper>\n    );\n};\n\nexport default LoadingMessage;\n"],"names":["MESSAGES","LOOKUP_HOST","LABEL","DESCRIPTION","BUTTON_LABEL","AVAILABLE_OBJECTS","COUNTERS","SOURCE_LABEL","TARGET_LABEL","INSTANCES","ADDITIONAL_HOSTS","POLLING_INTERVAL","INDEX","SELECT_LABEL","ERRORS","value","localizeMessages","TEST_IDS","CONTAINER","WAITSPINNER","ERROR_MSG","normalizeDataTestIds","remoteAppName","compName","testIds","WrapperDiv","styled","pick","enterprise","variables","prisma","ActionAreaWrapper","WaitSpinnerWrapper","defaultSettingsPath","fetchWinPerfmonCollectionUrl","createRESTURL","fetchIndexesUrl","entityAcl","app","owner","fetchDefaultSettings","async","url","entity","stringify","output_mode","response","fetch","defaultFetchInit","json","status","object","counters","index","instances","interval","get","name","availableObjects","label","targetItemsList","pollingInterval","Error","formatSplunkDError","fetchAvailableObjects","map","obj","fetchCountersInstances","params","availObj","fetchIndexes","fetchIndexesParams","defaultIndex","entry","compose","withOSFilter","withSplunkEnvFilter","withRBACFilter","isBootstrapping","setIsBootstrapping","useState","isFetchingData","setIsFetchingData","formData","setFormData","undefined","schema","setSchema","uiSchema","setUISchema","errorMessages","setErrorMessages","handleAvailableObjectsSelectChange","availObjString","refreshDataSources","dataSourcesToBeRefreshed","error","message","useEffect","countersInstances","defaultSettings","indexes","Promise","all","fetchWinPerfmonSettings","type","properties","length","enum","description","required","generateSchema","countersDataSource","instancesDataSource","elements","scope","rule","getAlwaysDisableElementRule","options","suiControlGroupProps","getControlGroupLabelWidthProps","suiComponentProps","filter","customComponentProps","onSelectValueChange","source","target","dataSource","text","generateUISchema","window","location","href","LISTING_PAGE_URL","Pages","renderForm","isEmpty","Errors","onRequestRemove","SUIFormRendererCompound","style","width","position","data","uischema","onSubmit","successCb","failureCb","body","join","fetchConfig","method","updateWinPerfmonSettings","size","ErrorWrapper","ErrorView","msg","permissionsNeeded","Comp","hasPermission","UserContextService","props","supportedEnvs","supportsEnv","includes","ServerInfoService","supportedOS","supportsOS","withExperienceFilter","supportedExperiences","supportsExperience","ExperienceService","LOADING_MSG","LoadingMessageWrapper","LoadingMessageContainer","Message","P"],"sourceRoot":""}