!function(e){function t(t){for(var n,r,a=t[0],l=t[1],c=t[2],u=0,p=[];u<a.length;u++)r=a[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);p.length;)p.shift()();return o.push.apply(o,c||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(n=!1)}n&&(o.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={21:0},o=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=s[e]=[t,n]}));t.push(i[2]=n);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(e){return r.p+""+({}[e]||e)+".js"}(e);var l=new Error;o=function(t){a.onerror=a.onload=null,clearTimeout(c);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+n+": "+o+")",l.name="ChunkLoadError",l.type=n,l.request=o,i[1](l)}s[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:a})}),12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var d=l;o.push([2059,0]),i()}({2059:function(e,t,i){var n,s;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,n="",s=0,o=arguments.length;s<o;s++)(i=(t=arguments[s].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?n+="/"+t:n+=t;if("/"!=n){var r=n.split("/"),a=r[1];if("static"==a||"modules"==a){var l=n.substring(a.length+2,n.length);n="/"+a,window.$C.BUILD_NUMBER&&(n+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(n+="."+window.$C.BUILD_PUSH_NUMBER),"app"==r[2]&&(n+=":"+e("APP_BUILD",0)),n+="/"+l}}var c=e("MRSPARKLE_ROOT_PATH","/"),d=e("LOCALE","en-US"),u="/"+d+n;return""==c||"/"==c?u:c+u}("/static/build/pages/dark")+"/"}(),n=[i("routers/ClusteringBucketDetails"),i("util/router_utils")],void 0===(s=function(e,t){new e;t.start_backbone_history()}.apply(t,n))||(e.exports=s)},2060:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".peers{display:inline-block;margin-left:10px}.peers .controls{height:15px}",""])},2061:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".peers{display:inline-block;margin-left:10px}.peers .controls{height:30px}",""])},2062:function(e,t){e.exports='<div class="section-padded">\n  <p>\n    <%= _(\'Here is a list of buckets waiting to be fixed.\').t() %>\n  </p>\n  <span class="fixup-level-select">\n    <%= _(\'Select Fix-up Category: \').t() %>\n  </span>\n  <span class="fixup-time-select">\n    <%= _(\'Time in Fixup More Than: \').t() %>\n  </span>\n</div>\n<div class="control-section"></div>\n<table class="table table-chrome table-striped table-row-expanding table-listing">\n  \x3c!--<thead></thead>--\x3e\n  <tbody></tbody>\n</table>'},2063:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".fixup-time-select{margin-left:20px}",""])},2064:function(e,t){e.exports="<div>\n  <%= _('Excess buckets from ').t() %>\n  <span style=\"font-weight: bold;\"><%= indexName %></span>\n  <%= _(' will be removed.').t() %>\n</div>\n<div>&nbsp;</div>\n<div>\n  <%= _('This is an asynchronous operation. Refresh the page to get the update on bucket removing activities. Do you want to continue?').t() %>\n</div>"},2065:function(e,t){e.exports='<div class="excess-bucket-info">\n    <div class="remove-excess-buckets section-padded">\n      <p>\n        <%= _(\'Here is a list of indexes with buckets exceeding the replication or search factor.\').t() %>\n      </p>\n        <div style="display: flex">\n            <div>\n                <a class="btn btn-primary remove-all-excess-buckets-button" aria-label="Remove All Excess Buckets">\n                    <%= _(\'Remove All Excess Buckets\').t() %>\n                </a>\n            </div>\n            <div>\n                <p class="input-group-text" id="inputGroup-sizing-default" style="padding: 0.5em  0 0 2em">\n                    <%= _(\'Total Excess Bucket Count\').t() %><span>:</span>\n                    <span class="excess-bucket-count-text" aria-label="Default"> </span>\n                </p> \n            </div>\n        </div>\n    </div>\n  </div>\n  <span class="message"></span>\n\n\x3c!--<div class="divider">--\x3e\n<div class="list-excess-buckets">\n  <div class="section-controls" style="overflow: auto">\x3c!-- style overflow auto is a workaround for current version of Firefox --\x3e</div>\n  <table class="table table-chrome table-striped table-excess-buckets">\n    <tbody></tbody>\n  </table>\n</div>\n\n'},2066:function(e,t){e.exports='<div class="section-padded">\n  <%= _(\'Here is a list of buckets being fixed.\').t() %>\n</div>\n<div class="section-controls"></div>\n<table class="table table-chrome table-striped">\n  <tbody></tbody>\n</table>'},2067:function(e,t){e.exports='<div class="bucket-details section-padded section-header">\n  <h2 class="section-title">\n    <i class="icon-data"></i>\n    <%= _("Bucket Status").t() %>\n  </h2>\n  <p class="section-description">\n    <%= _("Buckets in fix-up status and excess buckets are listed here.").t() %>\n    <a href=\'<%=learnMoreLink%>\' class=\'external\' target=\'_blank\' rel=\'noopener noreferrer\'><%= _(\'Learn More\').t() %></a>\n  </p>\n  <a href="./clustering?tab=indexes">\n    <i class="icon-chevron-left icon-no-underline"></i><span><%- _("Back to Manager Node").t() %></span>\n  </a>\n</div>\n\x3c!--<div class="divider">--\x3e\n<div class="index-dropdown section-controls"><span class="index-dropdown-label">Select Index: </span></div>\n<div class="bucket-details-tabbed-view-stack"></div>'},2068:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,"table{word-wrap:break-word}.tab-content{overflow:visible}.section-controls{padding-left:20px;padding-right:20px}.shared-tablecaption-input{display:inline-block}.message{padding-left:10px}.index-dropdown{padding-bottom:10px;padding-top:10px}.index-dropdown-label{font-weight:700}.section-header{padding-bottom:10px}.clustering-master-bucketdetails-allbuckets,.clustering-master-bucketdetails-excessbuckets,.clustering-master-bucketdetails-fixupbuckets{background-color:#171d21}",""])},600:function(e,t){e.exports='<%= _(\'You must restart Splunk for the\').t() %> <%-mode%>  <%= _(\'node to become active.\').t() %>\n<% if(mode=="peer") { %>\n<p><%= _(\'Optional next steps after restart:\').t() %></p>\n<ol>\n    <li><%= _(\'Configure the indexes for the peers.\').t() %><br>\n        <div style="color:#999; margin-top:5px; margin-bottom:10px;">\n            <%= _(\'The index file determines the peers set of indexes and the size and attributes of its buckets. This file must be identical across all peer nodes. Peer index files are edited and distributed from the Manager Node. \').t() %>\n            <a href="<%=learnmoreIndexesLink%>" class="external" target="_blank" rel="noopener noreferrer"><%= _(\'Learn More\').t() %></a>\n        </div>\n    </li>\n    <li><%= _(\'Use forwarders to get data to this peer.\').t() %><br>\n        <div style="color:#999; margin-top:5px; margin-bottom:10px;">\n            <%= _(\'There are two reasons for using forwarders to send data to your cluster. 1. To ensure that all incoming data gets indexed. 2. To handle potential node failure. \').t() %>\n            <a href="<%=learnmoreForwardersLink%>" class="external" target="_blank" rel="noopener noreferrer"><%= _(\'Learn More\').t() %></a>\n        </div>\n    </li>\n</ol>\n<% } %>\n'},601:function(e,t){e.exports='<div class="start" style="display: none;">\n    <form action="" method="get" class="form" id="node_type">\n        <label class="radio" for="master-radio">\n            <input type="radio" name="node-type" value="master" id="master-radio" checked> <span class="radio-label"><%= _(\'Manager node\').t() %></span>\n        </label>\n        <span class="help-block"><%= _(\'The manager node coordinates the activities of the peer nodes. It does not store or replicate data (aside from its own internal data).\').t() %></span>\n\n        <label class="radio" for="peer-radio">\n            <input type="radio" name="node-type" value="peer" id="peer-radio"> <span class="radio-label"><%= _(\'Peer node\').t() %></span>\n        </label>\n        <span class="help-block"><%= _(\'Peer nodes receive and index incoming data. They also replicate data from other nodes in the cluster.\').t() %></span>\n\n        <label class="radio" for="search-radio">\n            <input type="radio" name="node-type" value="search" id="search-radio"> <span class="radio-label"><%= _(\'Search head node\').t() %></span>\n        </label>\n        <span class="help-block"><%= _(\'The search head manages searches across one or more clusters.\').t() %></span>\n    </form>\n</div>\n'},602:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.clustering-config-nodetype .radio{padding-left:0}.clustering-config-nodetype .radio>input[type=radio]{font-size:16px;height:12px;margin:4px;opacity:.01}.clustering-config-nodetype .radio>input[type=radio]+.radio-label,.clustering-config-nodetype .radio>input[type=radio]+label{position:relative}.clustering-config-nodetype .radio>input[type=radio]+.radio-label:after,.clustering-config-nodetype .radio>input[type=radio]+.radio-label:before,.clustering-config-nodetype .radio>input[type=radio]+label:after,.clustering-config-nodetype .radio>input[type=radio]+label:before{border-radius:100%;content:"";display:inline-block;position:absolute}.clustering-config-nodetype .radio>input[type=radio]+.radio-label:before,.clustering-config-nodetype .radio>input[type=radio]+label:before{background-color:#5c6773;border:1px solid #32414c;-webkit-box-shadow:inset 0 -1px 0 #3c444d;box-shadow:inset 0 -1px 0 #3c444d;color:#fff;-webkit-filter:none;filter:none;height:16px;left:-24px;text-decoration:none;text-shadow:none;top:-2px;-webkit-transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;vertical-align:bottom;width:16px}.clustering-config-nodetype .radio>input[type=radio]+.radio-label:after,.clustering-config-nodetype .radio>input[type=radio]+label:after{background:transparent;height:8px;left:-20px;top:2px;vertical-align:bottom;width:8px}.clustering-config-nodetype .radio>input[type=radio]+.radio-label:hover:before,.clustering-config-nodetype .radio>input[type=radio]+label:hover:before{background-color:#3c444d;border-color:#32414c;-webkit-box-shadow:inset 0 -1px 0 #3c444d;box-shadow:inset 0 -1px 0 #3c444d;color:#fff;-webkit-filter:none;filter:none;text-decoration:none;text-shadow:none;-webkit-transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s}.clustering-config-nodetype .radio>input[type=radio]+.radio-label:active:before,.clustering-config-nodetype .radio>input[type=radio]+label:active:before{background-color:#2b3033;border-color:#32414c;-webkit-box-shadow:none;box-shadow:none;color:#fff;-webkit-filter:none;filter:none;text-decoration:none;text-shadow:none;-webkit-transition:none;transition:none}.clustering-config-nodetype .radio>input[type=radio]+.radio-label+input[type=radio],.clustering-config-nodetype .radio>input[type=radio]+label+input[type=radio]{margin-left:20px}.clustering-config-nodetype .radio>input[type=radio]:checked+.radio-label:after,.clustering-config-nodetype .radio>input[type=radio]:checked+label:after{background:#fff}.clustering-config-nodetype .radio>input[type=radio]:focus,.clustering-config-nodetype .radio>input[type=radio]:focus:hover{-webkit-box-shadow:none;box-shadow:none}.clustering-config-nodetype .radio>input[type=radio]:focus+.radio-label:before,.clustering-config-nodetype .radio>input[type=radio]:focus+.radio-label:hover:before,.clustering-config-nodetype .radio>input[type=radio]:focus+label:before,.clustering-config-nodetype .radio>input[type=radio]:focus+label:hover:before,.clustering-config-nodetype .radio>input[type=radio]:focus:hover+.radio-label:before,.clustering-config-nodetype .radio>input[type=radio]:focus:hover+.radio-label:hover:before,.clustering-config-nodetype .radio>input[type=radio]:focus:hover+label:before,.clustering-config-nodetype .radio>input[type=radio]:focus:hover+label:hover:before{border-collapse:separate;-webkit-box-shadow:0 0 1px 2px #006eaa;box-shadow:0 0 1px 2px #006eaa;outline:0;text-decoration:none}.clustering-config-nodetype .radio>input[type=radio]:focus+.radio-label:before:active:not([disabled]),.clustering-config-nodetype .radio>input[type=radio]:focus+.radio-label:hover:before:active:not([disabled]),.clustering-config-nodetype .radio>input[type=radio]:focus+label:before:active:not([disabled]),.clustering-config-nodetype .radio>input[type=radio]:focus+label:hover:before:active:not([disabled]),.clustering-config-nodetype .radio>input[type=radio]:focus:hover+.radio-label:before:active:not([disabled]),.clustering-config-nodetype .radio>input[type=radio]:focus:hover+.radio-label:hover:before:active:not([disabled]),.clustering-config-nodetype .radio>input[type=radio]:focus:hover+label:before:active:not([disabled]),.clustering-config-nodetype .radio>input[type=radio]:focus:hover+label:hover:before:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.clustering-config-nodetype .radio>input[type=radio][disabled]+.radio-label:before,.clustering-config-nodetype .radio>input[type=radio][disabled]+label:before{background-color:#3c444d;border-color:transparent;-webkit-box-shadow:inset 0 -1px 0 transparent;box-shadow:inset 0 -1px 0 transparent;color:#5c6773;cursor:not-allowed;-webkit-filter:none;filter:none;text-decoration:none;text-shadow:none;-webkit-transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s}.clustering-config-nodetype .radio>input[type=radio][disabled]+.radio-label:after,.clustering-config-nodetype .radio>input[type=radio][disabled]+label:after{cursor:not-allowed}.clustering-config-nodetype .radio>input[type=radio]{margin-right:6px}.clustering-config-nodetype .help-block{margin-left:24px}',""])},603:function(e,t){e.exports='\n<div class="section-header section-padded">\n    <h1 class="section-title"><%= _(\'Indexer Clustering\').t() %></h1>\n    <p class="section-subtitle">\n        <%= _(\'Indexer Clusters are groups of Splunk indexers configured to keep multiple copies of data. This increases data <br> availability, data fidelity, data redundancy, and search performance. Indexer clustering is a complex feature, we recommend reading the<br> documentation before enabling indexer clustering.\').t() %>\n        <a href="<%= learnmoreLink %>" title="<%=_(\'Learn More\').t() %>" class="external" target="_blank" rel="noopener noreferrer"><%= _(\'Learn More\').t() %></a>\n    </p>\n    <button id="enable_clustering" class="btn btn-primary"><%= _(\'Enable indexer clustering\').t() %></button>\n</div>\n'},"collections/services/cluster/master/Buckets":function(e,t,i){var n,s;n=[i("require/underscore"),i("models/Base"),i("models/services/cluster/master/Bucket"),i("collections/SplunkDsBase")],void 0===(s=function(e,t,i,n){var s=t.extend({defaults:{filter:{}},toJSON:function(i){var n=t.prototype.toJSON.apply(this,arguments);if(n.sortKey&&(n.sort_key=n.sortKey,n.sort_dir=n.sortDirection),delete n.sortKey,delete n.sortDirection,e(n.filter).size()>0){var s=[];e(n.filter).each((function(e,t){s.push(t+"="+e)})),n.filter=s.join(",")}return n}});return n.extend({url:"cluster/master/buckets",model:i,initialize:function(){var e={};e.fetchData=new s,n.prototype.initialize.call(this,null,e)},getModel:function(e){return this.get("/services/cluster/master/buckets/"+e)}})}.apply(t,n))||(e.exports=s)},"collections/services/cluster/master/Fixups":function(e,t,i){var n,s;n=[i("models/services/cluster/master/Fixup"),i("collections/SplunkDsBase")],void 0===(s=function(e,t){return t.extend({url:"cluster/master/fixup",model:e,initialize:function(){t.prototype.initialize.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"collections/services/cluster/master/Indexes":function(e,t,i){var n,s;n=[i("models/services/cluster/master/Index"),i("collections/SplunkDsBase")],void 0===(s=function(e,t){return t.extend({url:"cluster/master/indexes/",model:e,initialize:function(){t.prototype.initialize.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"models/services/cluster/Config":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("models/StaticIdSplunkDBase")],void 0===(s=function(e,t,i){return i.extend({url:"cluster/config",initialize:function(){i.prototype.initialize.apply(this,arguments)},defaults:function(){var e=i.prototype.defaults.apply(this,arguments);return t.extend({},e,{"ui.master_uri":"","ui.secret":""})},transposeToRest:function(){this.entry.content.set("master_uri",this.get("ui.master_uri")),this.entry.content.set("secret",this.get("ui.secret")),this.entry.content.set("replication_factor",this.get("ui.replication_factor")),this.entry.content.set("search_factor",this.get("ui.search_factor")),this.entry.content.set("replication_port",this.get("ui.replication_port")),this.entry.content.set("mode",this.get("ui.mode")),this.entry.content.set("cluster_label",this.get("ui.cluster_label"))},transposeFromRest:function(){var e=this.entry.content.get("master_uri");"?"!=e||(e="https://");var t={"ui.master_uri":e,"ui.secret":this.entry.content.get("secret"),"ui.replication_factor":this.entry.content.get("replication_factor"),"ui.search_factor":this.entry.content.get("search_factor"),"ui.replication_port":this.entry.content.get("replication_port"),"ui.cluster_label":this.entry.content.get("cluster_label")};this.set(t)}},{id:"cluster/config/config"})}.apply(t,n))||(e.exports=s)},"models/services/cluster/master/Bucket":function(e,t,i){var n,s;n=[i("models/StaticIdSplunkDBase")],void 0===(s=function(e){return e.extend({initialize:function(){e.prototype.initialize.apply(this,arguments)}},{id:"cluster/master/buckets"})}.apply(t,n))||(e.exports=s)},"models/services/cluster/master/Fixup":function(e,t,i){var n,s;n=[i("models/StaticIdSplunkDBase")],void 0===(s=function(e){return e.extend({initialize:function(){e.prototype.initialize.apply(this,arguments)}},{id:"cluster/master/fixup"})}.apply(t,n))||(e.exports=s)},"models/services/cluster/master/Index":function(e,t,i){var n,s;n=[i("models/StaticIdSplunkDBase")],void 0===(s=function(e){return e.extend({initialize:function(){e.prototype.initialize.apply(this,arguments)}},{id:"cluster/master/indexes"})}.apply(t,n))||(e.exports=s)},"routers/ClusteringBucketDetails":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("routers/Base"),i("models/Base"),i("models/classicurl"),i("models/services/cluster/Config"),i("collections/services/cluster/master/Fixups"),i("collections/services/cluster/master/Indexes"),i("collections/services/cluster/master/Buckets"),i("views/clustering/EnableClustering"),i("views/clustering/master/bucketdetails/Master")],void 0===(s=function(e,t,i,n,s,o,r,a,l,c,d,u){return n.extend({initialize:function(){n.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.setPageTitle(t("Bucket Status").t()),this.clusterConfig=new r;var i=new s,d=new s,p=new s,h=new l,f=new l,b=new c,m=new a(null,{fetchData:i}),g=new a(null,{fetchData:d}),v=new a(null,{fetchData:p});this.classicurlDfd=e.Deferred(),this.tabDfd=e.Deferred(),this.clusterConfigDfd=e.Deferred(),this.clusterConfig.fetch().done(function(){this.clusterConfigDfd.resolve()}.bind(this)),h.fetchData.set("count",-1),f.fetchData.set("count",20),b.fetchData.set({count:20,filter:{search_state:"PendingSearchable"}}),m.fetchData.set({level:"search_factor",count:20}),g.fetchData.set({level:"replication_factor",count:20}),v.fetchData.set({level:"generation",count:20}),this.bucketDetailsMaster=new u({classicurlDfd:this.classicurlDfd,tabDfd:this.tabDfd,model:{application:this.model.application},collection:{indexCollectionForMainDropdown:h,indexCollection:f,bucketCollection:b,fixupSearchFactorCollection:m,fixupReplicationFactorCollection:g,fixupGenerationCollection:v}}),this.bucketDetailsMaster.listenTo(o,"change",this.bucketDetailsMaster.updateParamsFromClassicUrl)},page:function(i,s,r){n.prototype.page.apply(this,arguments),o.fetch().done(function(){this.classicurlDfd.resolve()}.bind(this)),e.when(this.clusterConfigDfd,this.deferreds.pageViewRendered).done(function(){var i=this.clusterConfig.entry.content.get("mode");"disabled"==i?(this.mainView=new d({model:{clusterConfig:this.clusterConfig,application:this.model.application}}),this.pageView.$(".main-section-body").append(this.mainView.render().el)):"master"==i?(this.addPageViewEl(this.pageView.el),e(".main-section-body").append(this.bucketDetailsMaster.render().$el)):e(".main-section-body").text(t("This view is only available on Cluster Manager.").t()),this.tabDfd.resolve()}.bind(this))},fetchLooper:function(e){for(var t=this,i=0,n=e.length;i<n;i++)e[i].safeFetch();window.setTimeout((function(){t.fetchLooper(e)}),5e3)}})}.apply(t,n))||(e.exports=s)},"views/clustering/EnableClustering":function(e,t,i){var n,s;n=[i("shim/jquery"),e,i("require/backbone"),i("views/Base"),i("views/clustering/config/Master"),i("uri/route"),i(603)],void 0===(s=function(e,t,i,n,s,o,r){return n.extend({moduleId:t.i,template:r,initialize:function(e){n.prototype.initialize.call(this,e)},events:{"click #enable_clustering":function(e){this.children.configDialog=new s({model:this.model,onHiddenRemove:!0}),this.$el.append(this.children.configDialog.render().el),this.children.configDialog.show(),e.preventDefault()}},render:function(){var e=this.model.application.get("root"),t=this.model.application.get("locale"),i=o.docHelp(e,t,"manager.clustering.configureClustering"),n=this.compiledTemplate({learnmoreLink:i});this.$el.html(n)}})}.apply(t,n))||(e.exports=s)},"views/clustering/SuccessContents":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("uri/route"),i(600)],void 0===(s=function(e,t,i,n,s,o){return n.extend({moduleId:i.i,template:o,render:function(){var e=this.model.application.get("root"),t=this.model.application.get("locale"),i=s.docHelp(e,t,"learnmore.peers.index"),n=s.docHelp(e,t,"learnmore.peers.forwarders"),o=this.compiledTemplate({mode:this.model.wizard.get("mode")||"",learnmoreIndexesLink:i,learnmoreForwardersLink:n});return this.$el.html(o),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/config/Master":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("collections/services/Messages"),i("views/shared/Modal"),i("views/shared/RestartRequired"),i("views/shared/Restart"),i("views/clustering/SuccessContents"),i("views/clustering/config/NodeType"),i("views/clustering/config/MasterSetup"),i("views/clustering/config/PeerSetup"),i("views/clustering/config/SearchHeadSetup"),i("uri/route"),i("util/console")],void 0===(s=function(e,t,i,n,s,o,r,a,l,c,d,u,p,h,f){return o.extend({moduleId:n.i,className:o.CLASS_NAME,initialize:function(i){o.prototype.initialize.apply(this,arguments),this.messages=new s,this.model=e.extend({},this.model,{wizard:this.model.wizard}),this.model.wizard.on("success",(function(){this.hide();var t=h.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"clustering"),i=new r({model:{serverInfo:this.model.serverInfo},bodyView:new l({model:this.model}),restartCallback:function(){i.hide();var t=new a({model:{serverInfo:this.model.serverInfo}});e("body").append(t.render().el),t.show()}.bind(this),return_to:t});e("body").append(i.render().el),i.show()}),this),this.children.start=new c({model:this.model}),this.children.master=new d({model:this.model}),this.children.peer=new u({model:this.model}),this.children.search=new p({model:this.model}),this.options&&this.options.startView?this.model.wizard.set("startPage",this.options.startView):this.model.wizard.set("startPage","start"),this.model.wizard.set("currentPage",this.model.wizard.get("startPage")),this.model.wizard.on("next",(function(){var e=this.model.wizard.get("currentPage"),i=this.children.hasOwnProperty(e)?this.children[e]:null;if("start"===e){var n=this.model.wizard.get("mode"),s=this.children.hasOwnProperty(n)?this.children[n]:null;s?(i.$el.hide(),s.$el.show(),this.model.wizard.set("currentPage",n)):f.error("Cannot navigate to "+n)}else t.contains(["master","peer","search"],e)&&this.messages.fetch().done(function(){this.messages.find((function(e){return"restart_required"==e.entry.get("name")}))?(this.model.wizard.set("currentPage","restart"),this.model.wizard.trigger("success")):this.hide()}.bind(this))}),this),this.model.wizard.on("back",(function(){this.refreshConfig();var e=this.model.wizard.get("currentPage"),t=this.children.hasOwnProperty(e)?this.children[e]:null;this.model.wizard.set("currentPage","start"),t.$el.hide(),this.children.start.$el.show()}),this)},refreshConfig:function(){this.model.clusterConfig.fetch().done(function(){this.model.clusterConfig.transposeFromRest()}.bind(this))},render:function(){var e;for(e in this.refreshConfig(),this.$el.append(this.children.start.render().el),this.$el.append(this.children.master.render().el),this.$el.append(this.children.peer.render().el),this.$el.append(this.children.search.render().el),this.children)this.children.hasOwnProperty(e)&&(e===this.model.wizard.get("startPage")?this.children[e].$el.show():this.children[e].$el.hide());return this}})}.apply(t,n))||(e.exports=s)},"views/clustering/config/MasterSetup":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("views/shared/FlashMessages"),i("views/shared/controls/ControlGroup")],void 0===(s=function(e,t,i,n,s,o,r){return n.extend({moduleId:i.i,initialize:function(e){n.prototype.initialize.call(this,e),this.children.flashMessages=new o({model:this.model.clusterConfig}),this.model.clusterConfig.transposeFromRest(),this.children.repFactor=new r({className:"cluster-rep-factor control-group",controlType:"Text",controlOptions:{modelAttribute:"ui.replication_factor",model:this.model.clusterConfig,save:!1},label:t("Replication Factor").t(),help:t("The number of copies of raw data that you want the cluster to maintain. A higher replication factor protects against loss of data if peer nodes fail.").t(),helpClass:"hint"}),this.children.searchFactor=new r({className:"cluster-search-factor control-group",controlType:"Text",controlOptions:{modelAttribute:"ui.search_factor",model:this.model.clusterConfig,save:!1},label:t("Search Factor").t(),help:t("The number of searchable copies of data the cluster maintains. A higher search factor speeds up the time to recover lost data at the cost of disk space. Must be less than or equal to Replication Factor.").t(),helpClass:"hint"}),this.children.secret=new r({className:"cluster-secret control-group",controlType:"Text",controlOptions:{placeholder:"Optional",modelAttribute:"ui.secret",model:this.model.clusterConfig,save:!1,password:!0},label:t("Security Key").t(),help:t("This key authenticates communication between the manager and the peers and search heads.").t(),helpClass:"hint"}),this.children.clusterLabel=new r({className:"cluster-label control-group",controlType:"Text",controlOptions:{placeholder:"Optional",modelAttribute:"ui.cluster_label",model:this.model.clusterConfig,save:!1},label:t("Cluster Label").t(),help:t("Name your cluster using this field.  This label is also used to identify this cluster in the Monitoring Console.").t(),helpClass:"hint"})},events:{"click .back":function(e){this.model.wizard.trigger("back"),e.preventDefault()},"click .btn-primary":function(e){var t=this;e.preventDefault(),this.model.clusterConfig.set("ui.mode","master"),this.model.clusterConfig.transposeToRest(),this.model.clusterConfig.save({wait:!0,mode:this.model.clusterConfig.entry.content.get("mode"),replication_factor:this.model.clusterConfig.entry.content.get("replication_factor"),search_factor:this.model.clusterConfig.entry.content.get("search_factor"),secret:this.model.clusterConfig.entry.content.get("secret"),cluster_label:this.model.clusterConfig.entry.content.get("cluster_label")},{patch:!0}).done((function(){t.model.wizard.trigger("next")})).fail((function(){t.model.wizard.trigger("submitFail")}))}},render:function(){this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Manager Node Configuration").t()),this.$(s.BODY_SELECTOR).append(s.FORM_HORIZONTAL),this.$(s.BODY_FORM_SELECTOR).append(this.children.flashMessages.render().el),this.$(s.BODY_FORM_SELECTOR).append(this.children.repFactor.render().$el),this.$(s.BODY_FORM_SELECTOR).append(this.children.searchFactor.render().$el),this.$(s.BODY_FORM_SELECTOR).append(this.children.secret.render().$el),this.$(s.BODY_FORM_SELECTOR).append(this.children.clusterLabel.render().$el);var i=e(s.BUTTON_SAVE);return"master"==this.model.wizard.get("startPage")?(this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CANCEL),i.text(t("Save changes").t())):(this.$(s.FOOTER_SELECTOR).append(s.BUTTON_BACK),this.$(s.FOOTER_SELECTOR).find(".modal-btn-back").addClass("pull-left"),i.text(t("Enable Manager Node").t())),this.$(s.FOOTER_SELECTOR).append(i),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/config/NodeType":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/Modal"),i(601),i("views/clustering/config/NodeType.pcss")],void 0===(s=function(e,t,i,n,s,o,r,a){return s.extend({moduleId:n.i,template:r,initialize:function(e){s.prototype.initialize.call(this,e)},events:{"click .btn-primary":function(t){var i=e("input[name=node-type]:checked","#node_type").val();this.model.wizard.set("mode",i),this.model.wizard.trigger("next"),t.preventDefault()},"click a.cancel":function(e){this.model.wizard.trigger("cancel"),e.preventDefault()}},render:function(){this.$el.html(o.TEMPLATE);var i="disabled"==this.model.clusterConfig.entry.content.get("mode")?t("Enable Clustering").t():t("Edit Node Type").t();this.$(o.HEADER_TITLE_SELECTOR).html(i),this.$(o.BODY_SELECTOR).append(o.FORM_HORIZONTAL);var n=this.compiledTemplate();return this.$(".form-horizontal").append(e(n)),this.$(".start").show(),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_NEXT),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CANCEL),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/config/NodeType.pcss":function(e,t,i){var n=i(602);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(n,s);n.locals&&(e.exports=n.locals)},"views/clustering/config/PeerSetup":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("views/shared/FlashMessages"),i("views/shared/controls/ControlGroup")],void 0===(s=function(e,t,i,n,s,o,r){return n.extend({moduleId:i.i,initialize:function(e){n.prototype.initialize.call(this,e),this.children.flashMessages=new o({model:this.model.clusterConfig}),this.model.clusterConfig.transposeFromRest(),this.children.masteruri=new r({className:"cluster-managerip control-group",controlType:"Text",helpClass:"hint",controlOptions:{modelAttribute:"ui.master_uri",model:this.model.clusterConfig,save:!1},label:t("Manager URI").t(),help:t("E.g. https://10.152.31.202:8089").t()}),this.children.repPort=new r({className:"cluster-port control-group",controlType:"Text",helpClass:"hint",controlOptions:{modelAttribute:"ui.replication_port",model:this.model.clusterConfig,save:!1},label:t("Peer replication port").t(),help:t("The port peer nodes use to stream data to each other (Eg: 8080).").t()}),this.children.secret=new r({className:"cluster-secret control-group",controlType:"Text",helpClass:"hint",controlOptions:{placeholder:"Optional",modelAttribute:"ui.secret",model:this.model.clusterConfig,save:!1,password:!0},label:t("Security key").t(),help:t("This key authenticates communication between the manager and the peers and search heads.").t()})},events:{"click .back":function(e){this.model.wizard.trigger("back"),e.preventDefault()},"click .btn-primary":function(e){var t=this;e.preventDefault(),this.model.clusterConfig.set("ui.mode","slave"),this.model.clusterConfig.transposeToRest(),this.model.clusterConfig.save({wait:!0,mode:this.model.clusterConfig.entry.content.get("mode"),master_uri:this.model.clusterConfig.entry.content.get("master_uri"),replication_port:this.model.clusterConfig.entry.content.get("replication_port"),secret:this.model.clusterConfig.entry.content.get("secret")},{patch:!0}).done((function(){t.model.wizard.trigger("next")})).fail((function(){t.model.wizard.trigger("submitFail")}))}},render:function(){return this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Peer node configuration").t()),this.$(s.BODY_SELECTOR).append(s.FORM_HORIZONTAL),this.$(s.BODY_FORM_SELECTOR).append(this.children.flashMessages.render().el),this.$(s.BODY_FORM_SELECTOR).append(this.children.masteruri.render().$el),this.$(s.BODY_FORM_SELECTOR).append(this.children.repPort.render().$el),this.$(s.BODY_FORM_SELECTOR).append(this.children.secret.render().$el),"peer"!==this.model.wizard.get("startPage")&&(this.$(s.FOOTER_SELECTOR).append(s.BUTTON_BACK),this.$(s.FOOTER_SELECTOR).find(".modal-btn-back").addClass("pull-left")),this.$(s.FOOTER_SELECTOR).append('<a href="#" class="btn next btn-primary modal-btn-primary">'+t("Enable peer node").t()+"</a>"),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/config/SearchHeadSetup":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("views/shared/FlashMessages"),i("views/shared/controls/ControlGroup")],void 0===(s=function(e,t,i,n,s,o,r){return n.extend({moduleId:i.i,initialize:function(e){n.prototype.initialize.call(this,e),this.children.flashMessages=new o({model:this.model.clusterConfig}),this.model.clusterConfig.transposeFromRest(),this.children.masteruri=new r({className:"cluster-managerip control-group",controlType:"Text",helpClass:"hint",controlOptions:{modelAttribute:"ui.master_uri",model:this.model.clusterConfig,save:!1},label:t("Manager URI").t(),help:t("E.g. https://10.152.31.202:8089 This can be found in the Manager Node dashboard.").t()}),this.children.secret=new r({className:"cluster-secret control-group",controlType:"Text",helpClass:"hint",controlOptions:{modelAttribute:"ui.secret",model:this.model.clusterConfig,save:!1,password:!0},label:t("Security key").t(),help:t("This key authenticates communication between the manager and search head.").t()})},events:{"click .back":function(e){this.model.wizard.trigger("back"),e.preventDefault()},"click .btn-primary":function(e){var t=this;e.preventDefault(),this.model.clusterConfig.set("ui.mode","searchhead"),this.model.clusterConfig.transposeToRest(),this.model.clusterConfig.save({wait:!0}).done((function(){t.model.wizard.trigger("next")})).fail((function(){t.model.wizard.trigger("submitFail")}))}},render:function(){return this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Search head node configuration").t()),this.$(s.BODY_SELECTOR).append(s.FORM_HORIZONTAL),this.$(s.BODY_FORM_SELECTOR).append(this.children.flashMessages.render().el),this.$(s.BODY_FORM_SELECTOR).append(this.children.masteruri.render().$el),this.$(s.BODY_FORM_SELECTOR).append(this.children.secret.render().$el),"searchhead"!==this.model.wizard.get("startPage")&&(this.$(s.FOOTER_SELECTOR).append(s.BUTTON_BACK),this.$(s.FOOTER_SELECTOR).find(".modal-btn-back").addClass("pull-left")),this.$(s.FOOTER_SELECTOR).append('<a href="#" class="btn next btn-primary modal-btn-primary">'+t("Enable search head node").t()+"</a>"),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/AllBuckets":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/CollectionPaginator"),i("views/shared/delegates/ColumnSort"),i("views/shared/TableHead"),i("views/clustering/master/bucketdetails/components/TableRow"),i("mixins/ViewPane"),i(2066)],void 0===(s=function(e,t,i,n,s,o,r,a,l,c){var d=n.extend({moduleId:i.i,template:c,initialize:function(e){n.prototype.initialize.apply(this,arguments),this.viewPaneInitialize(e),this._initializeRender(),this.listenTo(this.collection,"change reset",this.render)},_initializeRender:function(){this.$el.html(this.compiledTemplate()),this.$table=this.$el.find("table"),this.$tbody=this.$el.find("tbody"),this.$controlSection=this.$el.find(".section-controls"),this.children.paginator=new s({collection:this.collection}),this.children.paginator.render().$el.appendTo(this.$controlSection),this.children.thead=new r({model:this.collection.fetchData,columns:[{label:t("Bucket Name").t(),sortKey:"name"},{label:t("Index Name").t(),sortKey:"index"},{label:t("Peers").t()}]}),this.children.thead.render().$el.prependTo(this.$table)},_flattenAttributes:function(i){var n=[];if(!i.entry||!i.entry.content)return n;var s=i.entry.get("name"),o=i.entry.content.get("index"),r=t(i.entry.content.get("peers")).pairs(),a=e("<div>");return r.forEach((function(t){var i=e("<div>").html(t[1].server_name);a.append(i)}),this),n.push(s),n.push(o),n.push(a),n},updateTabCount:function(t){var i=t?t.find(".all-buckets-tab"):e(".all-buckets-tab"),n=i.html(),s=this.collection.length>0?this.collection.models[0].paging.get("total"):0;n&&(n=n.replace(/\(\d+\)/,"("+s+")"),i.html(n))},render:function(){return this.$tbody.empty(),this.collection.forEach((function(e){var t=this._flattenAttributes(e);new a({rowData:t}).render().$el.appendTo(this.$tbody)}),this),this.updateTabCount(),this}});return t.extend(d.prototype,l),d}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/ExcessBuckets":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("util/splunkd_utils"),i("require/backbone"),i("views/Base"),i("views/shared/CollectionPaginator"),i("views/shared/delegates/ColumnSort"),i("views/shared/TableHead"),i("views/clustering/master/bucketdetails/components/TableRow"),i("views/clustering/master/bucketdetails/components/ConfirmDialog"),i("mixins/ViewPane"),i(2065),i("util/console")],void 0===(s=function(e,t,i,n,s,o,r,a,l,c,d,u,p,h){var f=o.extend({moduleId:i.i,template:p,initialize:function(e){o.prototype.initialize.apply(this,arguments),this.viewPaneInitialize(e),this._initializeRender(),this.listenTo(this.collection,"change reset",this.render),this._confirmDialogModel=new s.Model,this.listenTo(this._confirmDialogModel,"confirmed",(function(e,t){this.removeExcessBuckets(e,t)}))},events:{"click .remove-all-excess-buckets-button":function(t){this._showConfirmDialog(e(t.target))},"click .remove-excess-buckets-by-index":function(t){var i=e(t.target).data("index-name");this._showConfirmDialog(e(t.target),i)}},_flattenAttributes:function(i){var n=[];if(!i.entry||!i.entry.content)return n;n.push(i.entry.get("name")),n.push(i.entry.content.get("buckets_with_excess_copies")),n.push(i.entry.content.get("buckets_with_excess_searchable_copies")),n.push(i.entry.content.get("total_excess_bucket_copies")),n.push(i.entry.content.get("total_excess_searchable_copies"));var s=e("<div>").append(e("<a>").html(t("Remove").t()).addClass("btn btn-mini remove-excess-buckets-by-index").attr("data-index-name",i.entry.get("name"))).append(e("<span>").addClass("message"));return n.push(s),n},_showConfirmDialog:function(e,t){this.children.confirmDialog=new d({model:this._confirmDialogModel,$target:e,indexName:t}),this.$el.append(this.children.confirmDialog.render().$el),this.children.confirmDialog.show()},removeExcessBuckets:function(i,s){var o="/services/cluster/master/control/control/prune_index?output_mode=json";s&&(o+="&index="+s),e.post(n.fullpath(o)).done(function(){this.children.confirmDialog.hide()}.bind(this)).fail(function(e){var i=e.responseJSON.messages[0].text||t("Server Error").t();this._confirmDialogModel.trigger("error",i)}.bind(this))},_initializeRender:function(){this.$el.html(this.compiledTemplate()),this.$table=this.$el.find(".table-excess-buckets"),this.$tbody=this.$el.find("tbody"),this.$controlSection=this.$el.find(".section-controls"),this.children.paginator=new r({collection:this.collection}),this.children.paginator.render().$el.appendTo(this.$controlSection),this.children.thead=new l({model:this.collection.fetchData,columns:[{label:t("Index Name").t(),sortKey:"name"},{label:t("Buckets with Excess Copies").t(),sortKey:"buckets_with_excess_copies",className:"col-buckets_with_excess_copies"},{label:t("Buckets with Excess Searchable Copies").t(),sortKey:"buckets_with_excess_searchable_copies",className:"col-buckets_with_excess_searchable_copies"},{label:t("Total Excess Copies").t(),sortKey:"total_excess_bucket_copies",className:"col-total_excess_bucket_copies"},{label:t("Total Excess Searchable Copies").t(),sortKey:"total_excess_searchable_copies",className:"col-total_excess_searchable_copies"},{label:t("Action").t(),className:"col-remove-button"}]}),this.children.thead.render().$el.prependTo(this.$table)},updateTabCount:function(t){var i=0;this.collection.forEach((function(e){var t=this._flattenAttributes(e);(t[1]>0||t[2]>0||t[3]>0||t[4]>0)&&(i+=1)}),this);var n=t?t.find(".excess-buckets-tab"):e(".excess-buckets-tab"),s=n.html();s&&(s=s.replace(/\(\d+\)/,"("+i+")"),n.html(s))},getExcessBucketCount:function(i){try{var n=i?i.find(".excess-bucket-count-text"):e(".excess-bucket-count-text");if(t.isEmpty(n))throw"Could not find excess bucket count element on UI";n[0].textContent=this.collection.reduce((function(e,t){if(t.entry&&t.entry.content){var i=t.entry.content.get("buckets_with_excess_copies")||0;return e+parseInt(i)}}),0)}catch(e){h.error(e)}},render:function(){return this.$tbody.empty(),this.collection.forEach((function(e){var t=this._flattenAttributes(e);new c({rowData:t}).render().$el.appendTo(this.$tbody)}),this),this.updateTabCount(),this.getExcessBucketCount(),this}});return t.extend(f.prototype,u),f}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/FixupBuckets":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("require/backbone"),i("models/classicurl"),i("views/Base"),i("views/shared/controls/SyntheticRadioControl"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/CollectionPaginator"),i("views/shared/TableHead"),i("views/clustering/master/bucketdetails/components/TableRow"),i("mixins/ViewPane"),i(2062),i("views/clustering/master/bucketdetails/FixupBuckets.pcss"),i("util/time"),i("stubs/i18n")],void 0===(s=function(e,t,i,n,s,o,r,a,l,c,d,u,p,h,f,b){var m={search_factor:"fixupSearchFactorCollection",replication_factor:"fixupReplicationFactorCollection",generation:"fixupGenerationCollection"},g=o.extend({moduleId:i.i,template:p,initialize:function(i){o.prototype.initialize.apply(this,arguments),this.viewPaneInitialize(i),this.$el.html(this.compiledTemplate()),this.$thead||(this.$table=this.$el.find("table")),this.$tbody||(this.$tbody=this.$el.find("tbody")),this.fixupLevelsModel=new n.Model({level:"search_factor"}),e.when(this.options.classicurlDfd).done(function(){var e=s.get("level");e&&this.fixupLevelsModel.set("level",e)}.bind(this)),this.children.fixupLevels=new r({model:this.fixupLevelsModel,modelAttribute:"level",items:[{label:t("Search Factor (0)").t(),value:"search_factor"},{label:t("Replication Factor (0)").t(),value:"replication_factor"},{label:t("Generation (0)").t(),value:"generation"}]}),this.children.fixupTime=new a({model:this.fixupLevelsModel,modelAttribute:"filter",items:[{label:t("Unconstrained").t(),value:"minutes_in_fixup>0"},{label:t("1 hour").t(),value:"minutes_in_fixup>60"},{label:t("4 hours").t(),value:"minutes_in_fixup>240"},{label:t("24 hours").t(),value:"minutes_in_fixup>1440"},{label:t("7 days").t(),value:"minutes_in_fixup>10080"}],popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"},toggleClassName:"btn"}),this.children.fixupLevels.render().$el.appendTo(this.$el.find(".fixup-level-select")),this.children.fixupTime.render().$el.appendTo(this.$el.find(".fixup-time-select")),this.listenTo(this.collection.fixupSearchFactorCollection,"change reset",this.render),this.listenTo(this.collection.fixupReplicationFactorCollection,"change reset",this.render),this.listenTo(this.collection.fixupGenerationCollection,"change reset",this.render),this.listenTo(this.fixupLevelsModel,"change",(function(){this.collection.fixupSearchFactorCollection.fetchData.set("filter",this.fixupLevelsModel.get("filter")),this.collection.fixupReplicationFactorCollection.fetchData.set("filter",this.fixupLevelsModel.get("filter")),this.collection.fixupGenerationCollection.fetchData.set("filter",this.fixupLevelsModel.get("filter")),this.updateClassicUrlFromParams(),this.render()}))},_renderThead:function(e){this.$table.find("thead").remove(),this.children.thead=new c({model:e.fetchData,columns:[{label:t("Bucket Name").t(),className:"col-name"},{label:t("Action").t(),className:"col-action"},{label:t("Index").t(),className:"col-index"},{label:t("Fixup Reason").t(),className:"col-initial-reason"},{label:t("Time in Fixup").t(),className:"col-initial-timestamp"},{label:t("Current Status").t(),className:"col-latest-reason"}]}),this.children.thead.render().$el.prependTo(this.$table)},_renderTbody:function(e){this.$tbody.empty();var t=this._reduceAttributes(e);t&&t.forEach((function(t,i){new d({rowData:t,model:e.at(i)}).render().$el.appendTo(this.$tbody)}),this)},_reduceAttributes:function(e){var i=[];return e.forEach((function(e){var n=[];n.push(e.entry.get("name")),n.push('<a class="action-menu">'+t("Action").t()+'<span class="caret" aria-hidden="true"></span></a>'),n.push(e.entry.content.get("index")||""),n.push(e.entry.content.get("initial").reason),n.push(this._formatTime(e.entry.content.get("initial").timestamp)),n.push(e.entry.content.get("latest").reason),i.push(n)}),this),i},_formatTime:function(e){var i=[],n=new Date/1e3-e,s=Math.floor(n/60)%60,o=Math.floor(n/3600)%24,r=Math.floor(n/86400);return r>0&&i.push(r,t("day(s)").t()),o>0&&i.push(o,t("hour(s)").t()),(s>0||0===r&&0===o)&&i.push(s,t("minute(s)").t()),n>=0?i.join(" "):t("Invalid timestamp.").t()},updateClassicUrlFromParams:function(){t.debounce(function(){s.save(this.fixupLevelsModel.attributes)}.bind(this),0)()},getFixupCounts:function(){var e=this.collection.fixupSearchFactorCollection.length>0?this.collection.fixupSearchFactorCollection.models[0].paging.get("total"):0,t=this.collection.fixupReplicationFactorCollection.length>0?this.collection.fixupReplicationFactorCollection.models[0].paging.get("total"):0,i=this.collection.fixupGenerationCollection.length>0?this.collection.fixupGenerationCollection.models[0].paging.get("total"):0;return{searchFactor:e,replicationFactor:t,generation:i,total:e+t+i}},updateTabCount:function(t){var i=t?t.find(".fixup-buckets-tab"):e(".fixup-buckets-tab"),n=i.html(),s=this.getFixupCounts();n&&(n=n.replace(/\(\d+\)/,"("+s.total+")"),i.html(n));var o=this.$el.find("button[data-value='replication_factor']"),r=this.$el.find("button[data-value='search_factor']"),a=this.$el.find("button[data-value='generation']"),l=o.html(),c=r.html(),d=a.html();l=l.replace(/\(\d+\)/,"("+s.replicationFactor+")"),c=c.replace(/\(\d+\)/,"("+s.searchFactor+")"),d=d.replace(/\(\d+\)/,"("+s.generation+")"),o.html(l),r.html(c),a.html(d)},_renderPaginator:function(e){var t=this.$el.find(".control-section");t.empty(),this.children.paginator=new l({collection:e}),this.children.paginator.render().$el.appendTo(t)},render:function(){var e=this.collection[m[this.fixupLevelsModel.get("level")]];return this._renderThead(e),this._renderTbody(e),this._renderPaginator(e),this.updateTabCount(),this}});return t.extend(g.prototype,u),g}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/FixupBuckets.pcss":function(e,t,i){var n=i(2063);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(n,s);n.locals&&(e.exports=n.locals)},"views/clustering/master/bucketdetails/Master":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/classicurl"),i("views/Base"),i("views/clustering/master/bucketdetails/FixupBuckets"),i("views/clustering/master/bucketdetails/ExcessBuckets"),i("views/clustering/master/bucketdetails/AllBuckets"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/tabcontrols/TabbedViewStack"),i("uri/route"),i(2067),i("views/clustering/master/bucketdetails/Master.pcss")],void 0===(s=function(e,t,i,n,s,o,r,a,l,c,d,u,p,h){var f={"all-buckets-tab":0,"fixup-buckets-tab":1,"excess-buckets-tab":2};return o.extend({moduleId:n.i,template:p,initialize:function(){o.prototype.initialize.apply(this,arguments),this.bucketDetailsMediator=new i.Model,this.indexCollectionDfd=e.Deferred(),this.children.fixupTab=new r({label:t("Fixup Tasks - Pending (0)").t(),tabClassName:"fixup-buckets-tab",classicurlDfd:this.options.classicurlDfd,collection:{fixupSearchFactorCollection:this.collection.fixupSearchFactorCollection,fixupReplicationFactorCollection:this.collection.fixupReplicationFactorCollection,fixupGenerationCollection:this.collection.fixupGenerationCollection}}),this.children.excessTab=new a({label:t("Indexes With Excess Buckets (0)").t(),tabClassName:"excess-buckets-tab",collection:this.collection.indexCollection}),this.children.allbucketsTab=new l({label:t("Fixup Tasks - In Progress (0)").t(),tabClassName:"all-buckets-tab",collection:this.collection.bucketCollection}),this.tabbedViewStack=new d({panes:[this.children.allbucketsTab,this.children.fixupTab,this.children.excessTab],selectedIndex:0}),e.when(this.options.tabDfd,this.options.classicurlDfd).done(function(){var e=this.bucketDetailsMediator.get("tab");e&&this.tabbedViewStack.setTabSelectedIndex(f[e])}.bind(this)),this.listenTo(this.tabbedViewStack.children.tabBar,"tabClick",this.updateMediatorTab),this.listenTo(this.bucketDetailsMediator,"change",this._mediatorChangeHandler),this.listenTo(this.collection.indexCollectionForMainDropdown,"change reset",this._renderIndexDropdown)},events:{"click .fixup-buckets-tab":"updateMediatorTabFixup","click .excess-buckets-tab":"updateMediatorTabExcess","click .all-buckets-tab":"updateMediatorTabAllBuckets"},updateMediatorTabFixup:function(){this.bucketDetailsMediator.set("tab","fixup-buckets-tab")},updateMediatorTabExcess:function(){this.bucketDetailsMediator.set("tab","excess-buckets-tab")},updateMediatorTabAllBuckets:function(){this.bucketDetailsMediator.set("tab","all-buckets-tab")},_renderIndexDropdown:function(){var e=[{label:"all",value:"*"}].concat(this.collection.indexCollectionForMainDropdown.map((function(e){var t=e.entry.get("name");return{label:t,value:t}})));this.children.indexDropdown=new c({toggleClassName:"btn-group btn-pill",menuWidth:"narrow",model:this.bucketDetailsMediator,modelAttribute:"index",items:e}),this.indexCollectionDfd.resolve()},_mediatorChangeHandler:function(e){this.updateClassicUrlFromParams();var i=this.collection.indexCollection.fetchData.get("search"),n=e.get("index")||"*";i=i?i.replace(/name=[^\s]*/,"name="+n):"name="+n,this.collection.indexCollection.fetchData.set({search:i,offset:0});var s=e.get("index");if(s){var o=t.clone(this.collection.bucketCollection.fetchData.get("filter"));"*"==s?(delete o.index,this.collection.fixupReplicationFactorCollection.fetchData.unset("index"),this.collection.fixupSearchFactorCollection.fetchData.unset("index"),this.collection.fixupGenerationCollection.fetchData.unset("index")):(o.index=s,this.collection.fixupReplicationFactorCollection.fetchData.set("index",s),this.collection.fixupSearchFactorCollection.fetchData.set("index",s),this.collection.fixupGenerationCollection.fetchData.set("index",s)),this.collection.bucketCollection.fetchData.set("filter",o)}},updateClassicUrlFromParams:function(){t.debounce(function(){s.save(this.bucketDetailsMediator.attributes)}.bind(this),0)()},updateParamsFromClassicUrl:function(){var e=t(s.attributes).defaults(this.bucketDetailsMediator.attributes);this.bucketDetailsMediator.set(e)},render:function(){var t=this.model.application.get("root"),i=this.model.application.get("locale"),n=u.docHelp(t,i,"learnmore.clustering.bucketDetails");return this.$el.html(this.compiledTemplate({learnMoreLink:n,countFixingBuckets:0,countFixup:0,countIndex:0})),this.tabbedViewStack.render().$el.appendTo(this.$el.find(".bucket-details-tabbed-view-stack")),this.children.allbucketsTab.updateTabCount(this.tabbedViewStack.$el),this.children.fixupTab.updateTabCount(this.tabbedViewStack.$el),this.children.excessTab.updateTabCount(this.tabbedViewStack.$el),e.when(this.indexCollectionDfd).done(function(){this.$el.find(".index-dropdown").append(this.children.indexDropdown.render().$el)}.bind(this)),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/Master.pcss":function(e,t,i){var n=i(2068);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(n,s);n.locals&&(e.exports=n.locals)},"views/clustering/master/bucketdetails/components/ActionMenu":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/PopTart"),i("views/clustering/master/bucketdetails/components/BucketDetailsModal"),i("views/clustering/master/bucketdetails/components/ResyncBucketModal"),i("views/clustering/master/bucketdetails/components/DeleteBucketModal"),i("views/clustering/master/bucketdetails/components/SuccessDialog"),i("util/splunkd_utils")],void 0===(s=function(e,t,i,n,s,o,r,a,l){return n.extend({moduleId:i.i,className:"dropdown-menu",events:{"click .action-details":function(t){t.preventDefault();var i=new s({bucketId:this.bucketId,onHiddenRemove:!0});e("body").append(i.render().$el),i.show()},"click .action-roll":function(i){i.preventDefault();var n={bucket_id:this.bucketId};e.ajax({url:l.fullpath("cluster/master/control/control/roll-hot-buckets"),type:"POST",contentType:"application/json",data:n}).done(function(i){var n=new a({title:t("Roll Operation Scheduled").t(),message:t("Roll operation has been scheduled.").t(),bucketId:this.bucketId,peer:t("All").t(),onHiddenRemove:!0});e("body").append(n.render().$el),n.show()}.bind(this))},"click .action-resync":function(t){t.preventDefault();var i=new o({bucketId:this.bucketId,peers:this.peers,onHiddenRemove:!0});e("body").append(i.render().$el),i.show()},"click .action-delete":function(t){t.preventDefault();var i=new r({bucketId:this.bucketId,peers:this.peers,onHiddenRemove:!0});e("body").append(i.render().$el),i.show()}},initialize:function(i){i=t.defaults(i,{mode:"menu"}),n.prototype.initialize.call(this,i),this.bucketId=this.model.entry.get("name"),this.peers=null;e.ajax({url:l.fullpath("cluster/master/buckets/"+this.bucketId),type:"GET",contentType:"application/json",data:{output_mode:"json"}}).done(function(e){var t=e.entry[0].content.peers,i=Object.keys(t);this.peers=i.map((function(e){return{label:t[e].server_name,value:e}}),this)}.bind(this))},render:function(){return this.el.innerHTML=n.prototype.template_menu,this.$el.append(this.compiledTemplate({_:t})),this},template:'                <ul class="first-group">                    <li>                        <a href="#" class="action-details"><%- _("View Bucket Details").t() %></a>                    </li>                    <li>                        <a href="#" class="action-roll"><%- _("Roll").t() %></a>                    </li>                    <li>                        <a href="#" class="action-resync"><%- _("Resync").t() %></a>                    </li>                    <li>                        <a href="#" class="action-delete"><%- _("Delete Copy").t() %></a>                    </li>                </ul>            '})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/components/BucketDetailsModal":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/backbone"),i("require/underscore"),e,i("views/shared/Modal"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,o,r){return s.extend({moduleId:n.i,className:s.CLASS_NAME,initialize:function(t){s.prototype.initialize.apply(this,arguments),this.bucketId=this.options.bucketId;var n={output_mode:"json"};e.ajax({url:o.fullpath("cluster/master/buckets/"+this.bucketId),type:"GET",contentType:"application/json",data:n}).done(function(e){var t=e.entry[0].content,n=t.peers?i.map(t.peers,(function(e){return{instanceName:e.server_name?e.server_name:i("N/A").t(),bucketFlags:e.bucket_flags?e.bucket_flags:i("N/A").t(),bucketSizeVote:e.bucket_size_vote?e.bucket_size_vote:i("N/A").t(),status:e.status?e.status:i("N/A").t(),searchState:e.search_state?e.search_state:i("N/A").t()}})):[],o={bucketSize:t.bucket_size?t.bucket_size:i("Unreported. Bucket might be hot.").t(),forceRoll:t.force_roll?t.force_roll:i("N/A").t(),frozen:t.frozen?1===t.frozen:i("N/A").t(),index:t.index?t.index:i("N/A").t(),originSite:t.origin_site?t.origin_site:i("N/A").t(),standalone:t.standalone?1===t.standalone:i("N/A").t(),peers:n,repCountBySite:t.rep_count_by_site?t.rep_count_by_site:[],searchCountBySite:t.search_count_by_site?t.search_count_by_site:[]};this.$(s.BODY_SELECTOR).append(i.template(this.detailsTemplate,o))}.bind(this))},render:function(){return this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(i("Bucket:  ").t()+this.bucketId),this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CLOSE),this},detailsTemplate:'                <div>                    <h4> <%= _("Bucket Details").t() %> </h4>                    <div> <%= _("Bucket Size: ").t() %> <%= bucketSize %> </div>                    <div> <%= _("Force Roll: ").t() %> <%= forceRoll %> </div>                    <div> <%= _("Frozen: ").t() %> <%= frozen %> </div>                    <div> <%= _("Index: ").t() %> <%= index %> </div>                    <div> <%= _("Origin Site: ").t() %> <%= originSite %> </div>                    <div> <%= _("Standalone: ").t() %> <%= standalone %> </div>                    <h4> <%= _("Peers").t() %> </h4>                    <% _.each(peers, function(peer) { %>                             <div>                                <div> <%= _("Instance Name: ").t() %> <%= peer.instanceName %> </div>                                <div> <%= _("Bucket Flags: ").t() %> <%= peer.bucketFlags %> </div>                                <div> <%= _("Bucket Size Vote: ").t() %> <%= peer.bucketSizeVote %> </div>                                <div> <%= _("Status: ").t() %> <%= peer.status %> </div>                                <div> <%= _("Search State: ").t() %> <%= peer.searchState %> </div>                                <br/>                            </div>                    <% }) %>                    <h4> <%= _("Replication Count by Site").t() %> </h4>                    <% _.each(repCountBySite, function(value, key) { %>                         <div> <%= key + ": " + value %> </div>                    <% }) %>                    <h4> <%= _("Search Count by Site").t() %> </h4>                    <% _.each(searchCountBySite, function(value, key) { %>                         <div> <%= key + ": " + value %> </div>                    <% }) %>                </div>            '})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/components/ConfirmDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/Modal"),i("views/shared/FlashMessages"),i(2064)],void 0===(s=function(e,t,i,n,s,o){return n.extend({moduleId:i.i,className:n.CLASS_NAME,initialize:function(e){n.prototype.initialize.apply(this,arguments),this.children.flashMessagesView=new s,this.listenTo(this.model,"error",(function(e){this.children.flashMessagesView.flashMsgHelper.addGeneralMessage("remove_excess_buckets",{type:"error",html:e}),this.render()}))},events:e.extend({},n.prototype.events,{"click .btn-primary":function(e){e.preventDefault(),this.model.trigger("confirmed",this.options.$target,this.options.indexName)}}),render:function(){this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(t("Remove Excess Buckets").t());var e=this.options.indexName?this.options.indexName+" index":"all indexes",i=this.compiledTemplate({indexName:e});return this.$(n.BODY_SELECTOR).append(this.children.flashMessagesView.render().$el),this.$(n.BODY_SELECTOR).append(i).show(),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_CANCEL),this.$(n.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+t("Confirm").t()+"</a>"),this},template:o})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/components/DeleteBucketModal":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/backbone"),i("require/underscore"),e,i("collections/shared/FlashMessages"),i("views/shared/FlashMessagesLegacy"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/clustering/master/bucketdetails/components/SuccessDialog"),i("views/clustering/master/bucketdetails/components/WarningDialog"),i("util/splunkd_utils"),i("views/clustering/master/bucketdetails/components/DeleteBucketModal.pcss")],void 0===(s=function(e,t,i,n,s,o,r,a,l,c,d,u){return r.extend({moduleId:n.i,className:r.CLASS_NAME,initialize:function(e){r.prototype.initialize.apply(this,arguments),e.peers.unshift({label:i("All Peers").t(),value:null}),this.stateModel=new t.Model,this.children.peers=new a({controlType:"SyntheticSelect",className:"peers control-group",controlOptions:{modelAttribute:"peer",model:this.stateModel,items:e.peers,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},controlClass:"btn"}),this.flashMessages=new s,this.children.flashMessagesLegacy=new o({collection:this.flashMessages})},events:e.extend({},r.prototype.events,{"click .btn-primary":function(t){t.preventDefault();var n=this.options.bucketId,s=this.stateModel.get("peer");if(s)e.ajax({url:d.fullpath("cluster/master/buckets/"+n+"/remove_from_peer"),type:"POST",contentType:"application/json",data:{peer:s}}).done(function(t){this.hide();var o=new l({title:i("Delete Operation Scheduled").t(),message:i("Operation delete has been scheduled.").t(),bucketId:n,peer:s,onHiddenRemove:!0});e("body").append(o.render().$el),o.show()}.bind(this)).fail(function(t){var i=e(e.parseXML(t.responseText)).find("msg").text();this.flashMessages.reset([{type:"error",html:i}])}.bind(this));else{this.hide();var o=new c({bucketId:n,onHiddenRemove:!0});e("body").append(o.render().$el),o.show()}}}),render:function(){return this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(i("Delete Bucket:  ").t()+this.options.bucketId),this.$(r.BODY_SELECTOR).append(this.children.flashMessagesLegacy.render().el),this.$(r.BODY_SELECTOR).append(i("Delete the copy of this bucket on peer: ").t()),this.$(r.BODY_SELECTOR).append(this.children.peers.render().el),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_CANCEL),this.$(r.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+i("Delete").t()+"</a>"),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/components/DeleteBucketModal.pcss":function(e,t,i){var n=i(2061);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(n,s);n.locals&&(e.exports=n.locals)},"views/clustering/master/bucketdetails/components/ResyncBucketModal":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/backbone"),i("require/underscore"),e,i("collections/shared/FlashMessages"),i("views/shared/FlashMessagesLegacy"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/clustering/master/bucketdetails/components/SuccessDialog"),i("util/splunkd_utils"),i("views/clustering/master/bucketdetails/components/ResyncBucketModal.pcss")],void 0===(s=function(e,t,i,n,s,o,r,a,l,c,d){return r.extend({moduleId:n.i,className:r.CLASS_NAME,initialize:function(e){r.prototype.initialize.apply(this,arguments),this.stateModel=new t.Model,this.children.peers=new a({controlType:"SyntheticSelect",className:"peers control-group",controlOptions:{modelAttribute:"peer",model:this.stateModel,items:e.peers,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}},controlClass:"btn"}),this.flashMessages=new s,this.children.flashMessagesLegacy=new o({collection:this.flashMessages})},events:e.extend({},r.prototype.events,{"click .btn-primary":function(t){t.preventDefault();var n=this.options.bucketId,s=this.stateModel.get("peer")||this.options.peers[0].value,o={peer:s,bucket_id:n};e.ajax({url:c.fullpath("cluster/master/control/control/resync_bucket_from_peer"),type:"POST",contentType:"application/json",data:o}).done(function(t){this.hide();var o=new l({title:i("Resync Operation Scheduled").t(),message:i("Operation resync has been scheduled.").t(),bucketId:n,peer:s,onHiddenRemove:!0});e("body").append(o.render().$el),o.show()}.bind(this)).fail(function(t){var i=e(e.parseXML(t.responseText)).find("msg").text();this.flashMessages.reset([{type:"error",html:i}])}.bind(this))}}),render:function(){return this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(i("Bucket:  ").t()+this.options.bucketId),this.$(r.BODY_SELECTOR).append(this.children.flashMessagesLegacy.render().el),this.$(r.BODY_SELECTOR).append(i("Resync the copy of this bucket on peer: ").t()),this.$(r.BODY_SELECTOR).append(this.children.peers.render().el),this.$(r.FOOTER_SELECTOR).append(r.BUTTON_CANCEL),this.$(r.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+i("Resync").t()+"</a>"),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/components/ResyncBucketModal.pcss":function(e,t,i){var n=i(2060);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(n,s);n.locals&&(e.exports=n.locals)},"views/clustering/master/bucketdetails/components/SuccessDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("require/backbone"),i("views/shared/Modal")],void 0===(s=function(e,t,i,n,s){return s.extend({moduleId:i.i,render:function(){return this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(this.options.title),this.$(s.BODY_SELECTOR).append(this.options.message),this.$(s.BODY_SELECTOR).append("<br/><br/>"),this.$(s.BODY_SELECTOR).append(t("Bucket: ").t()+this.options.bucketId),this.$(s.BODY_SELECTOR).append("<br/><br/>"),this.$(s.BODY_SELECTOR).append(t("Peer: ").t()+this.options.peer),this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CLOSE),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/components/TableRow":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),e,i("views/clustering/master/bucketdetails/components/ActionMenu")],void 0===(s=function(e,t,i,n,s,o){return n.extend({moduleId:s.i,tagName:"tr",className:"table-row",events:{"click .action-menu":function(t){if(this.children.actionMenu&&this.children.actionMenu.shown)return this.children.actionMenu.hide(),void t.preventDefault();this.children.actionMenu=new o({model:this.model,onHiddenRemove:!0}),e("body").append(this.children.actionMenu.render().el),this.children.actionMenu.show(e(t.currentTarget))}},initialize:function(){n.prototype.initialize.apply(this,arguments),this.$el=e("<tr>")},render:function(){return t.each(this.options.rowData,function(t,i,n){var s=null;s="head"==this.options.rowType?e("<th>").append(t):e("<td>").append(t),this.$el.append(s)}.bind(this)),this}})}.apply(t,n))||(e.exports=s)},"views/clustering/master/bucketdetails/components/WarningDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("require/backbone"),i("views/shared/Modal"),i("views/clustering/master/bucketdetails/components/SuccessDialog"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,o,r,a){return s.extend({moduleId:i.i,events:e.extend({},s.prototype.events,{"click .btn-primary":function(i){i.preventDefault(),e.ajax({url:r.fullpath("cluster/master/buckets/"+this.options.bucketId+"/remove_all"),type:"POST",contentType:"application/json"}).done(function(i){this.hide();var n=new o({title:t("Delete All Copies Operation Scheduled").t(),message:t("Operation to delete all copies has been scheduled.").t(),bucketId:this.options.bucketId,peer:t("All Peers").t(),onHiddenRemove:!0});e("body").append(n.render().$el),n.show()}.bind(this))}}),render:function(){var e=a.sprintf(t("Are you sure you want to delete all copies of bucket %s? This will permanently delete all data contained in this bucket.").t(),this.options.bucketId);return this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Delete All Bucket Copies").t()),this.$(s.BODY_SELECTOR).append(e),this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CANCEL),this.$(s.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+t("Delete All Copies").t()+"</a>"),this}})}.apply(t,n))||(e.exports=s)}});