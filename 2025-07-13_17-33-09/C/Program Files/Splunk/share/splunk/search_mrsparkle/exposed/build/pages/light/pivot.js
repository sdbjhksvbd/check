!function(e){function t(t){for(var o,a,r=t[0],l=t[1],d=t[2],c=0,h=[];c<r.length;c++)a=r[c],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&h.push(s[a][0]),s[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(p&&p(t);h.length;)h.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],o=!0,r=1;r<i.length;r++){var l=i[r];0!==s[l]&&(o=!1)}o&&(n.splice(t--,1),e=a(a.s=i[0]))}return e}var o={},s={62:0},n=[];function a(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,o){i=s[e]=[t,o]}));t.push(i[2]=o);var n,r=document.createElement("script");r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.src=function(e){return a.p+""+({}[e]||e)+".js"}(e);var l=new Error;n=function(t){r.onerror=r.onload=null,clearTimeout(d);var i=s[e];if(0!==i){if(i){var o=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+n+")",l.name="ChunkLoadError",l.type=o,l.request=n,i[1](l)}s[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:r})}),12e4);r.onerror=r.onload=n,document.head.appendChild(r)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(i,o,function(t){return e[t]}.bind(null,o));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a.oe=function(e){throw console.error(e),e};var r=window.webpackJsonp=window.webpackJsonp||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var p=l;n.push([2562,0]),i()}({2562:function(e,t,i){var o,s;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,o="",s=0,n=arguments.length;s<n;s++)(i=(t=arguments[s].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?o+="/"+t:o+=t;if("/"!=o){var a=o.split("/"),r=a[1];if("static"==r||"modules"==r){var l=o.substring(r.length+2,o.length);o="/"+r,window.$C.BUILD_NUMBER&&(o+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(o+="."+window.$C.BUILD_PUSH_NUMBER),"app"==a[2]&&(o+=":"+e("APP_BUILD",0)),o+="/"+l}}var d=e("MRSPARKLE_ROOT_PATH","/"),p=e("LOCALE","en-US"),c="/"+p+o;return""==d||"/"==d?c:d+c}("/static/build/pages/light")+"/"}(),o=[i("routers/PivotRouter"),i("util/router_utils"),i("pages/pivot.pcss")],void 0===(s=function(e,t){new e;t.start_backbone_history()}.apply(t,o))||(e.exports=s)},2563:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".shared-responsiveheaderpage header{left:0;position:absolute;right:0}.shared-responsiveheaderpage header .expand-collapse-control i.icon-menu{color:hsla(0,0%,100%,.8);position:relative;top:2px}.shared-responsiveheaderpage .expand-collapse-control{background-color:rgba(60,68,77,.5);bottom:0;height:3px;left:0;position:absolute;right:0}.shared-responsiveheaderpage .expand-collapse-control:hover{cursor:pointer}.shared-responsiveheaderpage .expand-collapse-control .tab{background-color:#3c444d;border-radius:0 0 3px 3px;font-size:20px;height:25px;line-height:25px;position:absolute;right:10px;text-align:center;top:0;width:30px}.shared-responsiveheaderpage .expand-collapse-control .tab:focus>i{color:#fff}.expanded-nav-screen{background:#000;bottom:0;filter:alpha(opacity=30)!important;left:0;opacity:.3;position:absolute;right:0;top:0;z-index:406}.shared-responsiveheaderpage header{bottom:calc(100% - 3px);top:auto}.shared-responsiveheaderpage header .expand-collapse-control{display:block}@media only screen and (min-height:800px){.shared-responsiveheaderpage header{bottom:auto;top:0}.shared-responsiveheaderpage header .expand-collapse-control{display:none}}",""])},2564:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".pivot-datatablefieldlist table.field-list>tbody>tr{background-color:transparent}.pivot-datatablefieldlist table.field-list td,.pivot-datatablefieldlist table.field-list th{border:none;padding-left:0}.pivot-datatablefieldlist table.field-list td.group-name{color:#6b7785;width:80px}.pivot-datatablefieldlist .type-icon{color:#6b7785;display:inline-block;width:10px}",""])},2565:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".nested-0{padding-left:12px!important}.nested-1{padding-left:52px!important}.nested-2{padding-left:92px!important}.nested-3{padding-left:132px!important}.nested-4{padding-left:172px!important}.nested-5{padding-left:212px!important}.nested-6{padding-left:252px!important}.nested-7{padding-left:292px!important}.nested-8{padding-left:332px!important}.datamodelexplorer-objectgrid .shared-datamodel-objectfieldlist{margin-top:15px}.datamodelexplorer-objectgrid .unselectable-object{color:#c3cbd4;font-size:14px;height:20px}.datamodelexplorer-objectgrid .no-objects-message{margin:50px 20px}",""])},2566:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".pivot-pivotelementsdisplay{position:relative}.pivot-pivotelementsdisplay .add-button{font-size:20px}.pivot-pivotelementsdisplay .config-table{border-color:#fff;border-bottom:none;border-radius:0;margin-bottom:0;table-layout:fixed}.pivot-pivotelementsdisplay .config-table td,.pivot-pivotelementsdisplay .config-table th{border-color:currentcolor #fff #fff;border-top:#fff}.pivot-pivotelementsdisplay .config-table td:first-child,.pivot-pivotelementsdisplay .config-table th:first-child{border-left:0;padding-left:20px}.pivot-pivotelementsdisplay .config-table tr:last-child td{padding-bottom:5px}.pivot-pivotelementsdisplay .config-table tr+tr td h6{margin-top:0}.pivot-pivotelementsdisplay .element-list{min-height:50px;min-width:200px}.pivot-pivotelementsdisplay .element-list.ui-sortable-drop-acceptor .list-header{color:#53a051}.pivot-pivotelementsdisplay .element{float:left;margin:0 5px 5px 0;width:170px}.pivot-pivotelementsdisplay .element .element-label{-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:130px}.pivot-pivotelementsdisplay .list-header{font-size:14px;font-weight:400;margin:5px 0}.pivot-pivotelementsdisplay .timerange-picker-wrapper{display:inline-block}.pivot-pivotelementsdisplay .timerange-picker-wrapper a:hover{text-decoration:none}.pivot-pivotelementsdisplay .table-help-link{position:absolute;right:20px;top:5px}.draggable-element{float:left;margin:0 5px 5px 0;width:170px}.draggable-element .element-label{-webkit-box-sizing:border-box;box-sizing:border-box;cursor:move;overflow:hidden;text-align:left;text-indent:5px;text-overflow:ellipsis;white-space:nowrap;width:130px}.draggable-element.ui-sortable-drop-to-remove>.btn{background-color:#f1b9b3}.draggable-element.ui-sortable-drop-to-remove>.btn,.draggable-element.ui-sortable-drop-to-remove>.btn:hover{border-color:#dc4e41;-webkit-box-shadow:inset 0 -1px 0 rgba(0,0,0,.1);box-shadow:inset 0 -1px 0 rgba(0,0,0,.1);color:#dc4e41;-webkit-filter:none;filter:none;text-decoration:none;text-shadow:none;-webkit-transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s;transition:background .2s,border .2s,box-shadow .2s,text-decoration .2s,-webkit-box-shadow .2s,-webkit-text-decoration .2s}.draggable-element.ui-sortable-drop-to-remove>.btn:hover{background-color:#ea958d}",""])},2567:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.body{overflow:hidden}.pivot-pivotview *>a.btn-pill,.pivot-pivotview>a.btn-pill{margin-left:2px}.pivot-pivotview .pivot-visualizationtypemenu{background-color:#3c444d;border-top:4px solid #f2f4f5;bottom:0;left:0;margin:0;overflow-y:auto;padding-top:15px;position:absolute;top:0;width:80px}.pivot-pivotview .pivot-visualizationtypemenu li{font-size:30px;line-height:50px;list-style:none;margin:2px 0;text-align:center}.pivot-pivotview .pivot-visualizationtypemenu li [class*=" icon-"]{display:inline-block;text-align:center;width:1.25em}.pivot-pivotview .pivot-visualizationtypemenu li a{color:#818d99;display:block;text-decoration:none}.pivot-pivotview .pivot-visualizationtypemenu li a:hover:not(.disabled){background-color:#5c6773;color:#fff}.pivot-pivotview .pivot-visualizationtypemenu li a:focus{border-collapse:separate;-webkit-box-shadow:none;box-shadow:none;outline:0;text-decoration:none}.pivot-pivotview .pivot-visualizationtypemenu li a:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.pivot-pivotview .pivot-visualizationtypemenu li a:focus{-webkit-box-shadow:inset 0 0 2px 1px #fff,inset 0 0 0 2px #00a4fd;box-shadow:inset 0 0 2px 1px #fff,inset 0 0 0 2px #00a4fd}.pivot-pivotview .pivot-visualizationtypemenu li a.disabled{color:#5c6773;cursor:default}.pivot-pivotview .pivot-visualizationtypemenu li.active a{background-color:transparent;color:#fff}.pivot-pivotview .pivot-documentactionbar{height:48px;left:80px;min-width:860px;padding-left:20px;position:absolute;right:0;top:10px}.pivot-pivotview .pivot-documentactionbar .report-name{display:inline;font-size:24px;font-weight:600;line-height:48px;margin:0}.pivot-pivotview .pivot-documentactionbar .report-name i{margin-right:10px}.pivot-pivotview .pivot-documentactionbar .action-bar{bottom:10px;position:absolute}.pivot-pivotview .pivot-documentactionbar .action-bar .data-source-button,.pivot-pivotview .pivot-documentactionbar .action-bar .report-action-buttons{margin-left:15px}.pivot-pivotview .pivot-documentactionbar .action-bar .create-drop-down{display:inline}.pivot-pivotview .pivot-jobactionbar{height:33px;left:80px;min-width:880px;padding:5px 0 0;position:absolute;right:0;top:48px}.pivot-pivotview .pivot-jobactionbar .jobstatus-wrapper{margin-right:161px}.pivot-pivotview .pivot-jobactionbar .jobstatus-wrapper.with-inspect-button{margin-right:186px}.pivot-pivotview .pivot-jobactionbar .jobstatus-wrapper .alert{top:-5px}.pivot-pivotview .pivot-jobactionbar .action-bar{margin-bottom:2px;padding-right:20px}.pivot-pivotview .pivot-jobactionbar .shared-jobstatus{clear:none;margin-top:0;position:static}.pivot-pivotview .pivot-jobactionbar .initializing-message{float:left;line-height:26px;padding-left:20px}.pivot-pivotview .pivot-jobactionbar .shared-jobstatus-count{padding-top:5px}.pivot-pivotview .pivot-jobactionbar .icon-export,.pivot-pivotview .pivot-jobactionbar .icon-print,.pivot-pivotview .pivot-jobactionbar .icon-search,.pivot-pivotview .pivot-jobactionbar .icon-share{font-size:15px}.pivot-pivotview .alert{background-color:transparent;margin-bottom:0}.pivot-pivotview .viz-content-full-width>.alerts>.alert,.pivot-pivotview .viz-content-with-menu>.alerts>.alert{border-left:none;border-radius:0;border-right:none;border-top:none}.pivot-pivotview .data-display-alert,.pivot-pivotview .lazy-results-table.loading .alert,.pivot-pivotview .viz-container .loading .alert,.pivot-pivotview .viz-container .visualization-message .alert{margin-left:20px;margin-right:20px;margin-top:10px}.pivot-pivotview .viz-builder-wrapper{bottom:0;left:80px;overflow:hidden;position:absolute;right:0;top:87px}.pivot-pivotview .concertina-group-body{padding-left:10px;padding-right:30px}.pivot-pivotview .pivot-pivotcontent.viz-content-with-menu{background-color:#f2f4f5}.pivot-pivotview .pivot-pivotcontent .alerts{padding:0 20px}.pivot-pivotview .pivot-pivotcontent .viz-container{left:0;position:absolute;right:0}.pivot-pivotview .pivot-visualizationconfigmenu{background-color:#f2f4f5}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal{margin-bottom:10px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal .alert-viz-control{border-bottom:none;margin-bottom:0;margin-left:12px;margin-top:-10px;padding-right:0}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group{margin-bottom:10px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group .control-label{overflow:hidden;text-overflow:ellipsis;width:110px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group .controls,.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group .help-block{margin-left:120px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.control-group .controls{margin-bottom:0}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal>.form-actions{padding-left:120px}.pivot-pivotview .pivot-visualizationconfigmenu .panel-body>.form-horizontal .divider{border-color:#e1e6eb;padding-bottom:15px;width:420px}.pivot-pivotview .pivot-visualizationconfigmenu{border-right:1px solid #e1e6eb;border-top:1px solid #c3cbd4;bottom:0;left:0;overflow:hidden;position:absolute;top:0;width:419px}.pivot-pivotview .pivot-customcontrols-axislabelcontrolgroup .controls{display:-webkit-box;display:-ms-flexbox;display:flex}.pivot-pivotview .input-pivot-label{width:191px}.pivot-pivotview .controls .input-number-small{-webkit-box-flex:0;-ms-flex:0 0 60px;flex:0 0 60px}.pivot-pivotview .pivot-addsubpaneldropdownmenu{margin-bottom:16px;padding-left:120px}.pivot-pivotview .pivot-visualizationconfigpanel .alert{background:none;border:none;border-bottom:1px solid #e1e6eb;border-radius:0;margin:0 20px;padding-left:27px}.pivot-pivotview .pivot-visualizationconfigpanel .alert:first-child{margin-top:-5px}.pivot-pivotview .pivot-visualizationconfigpanel .alert:last-child{margin-bottom:10px}.pivot-pivotview .pivot-visualizationconfigpanel .alert .icon-alert{left:0}.pivot-pivotview .pivot-visualizationconfigpanel .panel-section-divider{border-top:1px solid #e1e6eb;font-size:12px;font-weight:700;margin:10px 0 10px 20px}.pivot-pivotview .pivot-visualizationconfigpanel .remove-button{padding-left:2px;padding-right:0;position:absolute;right:-25px;width:20px}.pivot-pivotview .pivot-visualizationconfigpanel .input-append .dropdown-toggle:first-child{border-bottom-right-radius:3px;border-top-right-radius:3px}.pivot-pivotview .viz-content-full-width,.pivot-pivotview .viz-content-with-menu{bottom:0;overflow:hidden;position:absolute;right:0;top:0}.pivot-pivotview .viz-content-full-width{left:0;min-width:880px}.pivot-pivotview .viz-content-with-menu{left:420px;min-width:460px}.pivot-pivotview .shared-jschart{background-color:#f2f4f5}.pivot-pivotview .header-table-wrapper{border-bottom:none}.pivot-pivotview .shared-singlevalue{width:100%}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups{background-color:inherit}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .tab-pane{background-color:transparent}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups input[type=text]{width:50px}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .swatch-hex input{width:44px}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .shared-vizcontrols-components-color-ranges label{margin-left:-120px;width:170px!important}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .shared-vizcontrols-components-color-ranges .controls{margin-left:55px!important}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .add-color-range{float:left}.pivot-pivotview .shared-vizcontrols-customcontrols-gaugecolorrangescontrolgroups .remove-range{font-size:16px;left:5px;line-height:16px;position:relative;top:2px}.pivot-field-picker-dropdown .link-label{white-space:pre}.pivot-datasourcemenu dl,.pivot-datasourcemenu h4{font-size:14px;margin:0;padding:5px 10px}.pivot-datasourcemenu dl{padding-top:0}.pivot-datasourcemenu dt{width:60px}.pivot-datasourcemenu dd{margin-left:65px}.pivot-datasourcemenu .property-label{display:inline-block;width:75px}.pivot-datasourcemenu .property-value{display:inline-block}@media print{body .pivot-pivotelementsdisplay,body .pivot-visualizationconfigmenu,body .pivot-visualizationtypemenu{display:none!important}body .pivot-documentactionbar,body .pivot-jobactionbar{border:none!important}body .pivot-documentactionbar,body .pivot-jobactionbar,body .pivot-pivotcontent{background:none!important;bottom:auto!important;left:auto!important;position:static!important;right:auto!important;top:auto!important}}body.print .pivot-pivotelementsdisplay,body.print .pivot-visualizationconfigmenu,body.print .pivot-visualizationtypemenu{display:none!important}body.print .pivot-documentactionbar,body.print .pivot-jobactionbar{border:none!important}body.print .pivot-documentactionbar,body.print .pivot-jobactionbar,body.print .pivot-pivotcontent{background:none!important;bottom:auto!important;left:auto!important;position:static!important;right:auto!important;top:auto!important}',""])},2568:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".pivot-configpopups-timerangeinspector h4{font-size:14px;margin-top:0}.pivot-configpopups-timerangeinspector .pivot-config-content{background-color:#f2f4f5;border-left:1px solid #c3cbd4;border-top-right-radius:1px;overflow:auto;padding:10px 20px}.pivot-configpopups-timerangeinspector .field-picker-wrapper .pivot-config-content{background-color:#f2f4f5;border:none;border-radius:1px}.pivot-configpopups-timerangeinspector .shared-datamodel-objectfieldlist{border-bottom-right-radius:1px;border-top-right-radius:1px;margin:-10px;padding:10px}.pivot-configpopups-timerangeinspector .pivot-configpopups-addelementpane .buttons-wrapper,.pivot-configpopups-timerangeinspector .pivot-configpopups-inspectelementpane .buttons-wrapper{padding-top:5px;text-align:right}.pivot-configpopups-timerangeinspector .pivot-configpopups-addelementpane .popdown-dialog-footer,.pivot-configpopups-timerangeinspector .pivot-configpopups-inspectelementpane .popdown-dialog-footer{padding-left:0}.pivot-configpopups-timerangeinspector .pivot-configpopups-addelementpane .cancel-button,.pivot-configpopups-timerangeinspector .pivot-configpopups-inspectelementpane .cancel-button{float:left}.pivot-configpopups-timerangeinspector .field-list{margin-bottom:2px}.pivot-configpopups-timerangeinspector .type-icon{margin-right:3px;text-align:center}.pivot-configpopups-timerangeinspector{width:650px}.pivot-configpopups-pivotconfigwizard h4{font-size:14px;margin-top:0}.pivot-configpopups-pivotconfigwizard .pivot-config-content{background-color:#f2f4f5;border-left:1px solid #c3cbd4;border-top-right-radius:1px;overflow:auto;padding:10px 20px}.pivot-configpopups-pivotconfigwizard .field-picker-wrapper .pivot-config-content{background-color:#f2f4f5;border:none;border-radius:1px}.pivot-configpopups-pivotconfigwizard .shared-datamodel-objectfieldlist{border-bottom-right-radius:1px;border-top-right-radius:1px;margin:-10px;padding:10px}.pivot-configpopups-pivotconfigwizard .pivot-configpopups-addelementpane .buttons-wrapper,.pivot-configpopups-pivotconfigwizard .pivot-configpopups-inspectelementpane .buttons-wrapper{padding-top:5px;text-align:right}.pivot-configpopups-pivotconfigwizard .pivot-configpopups-addelementpane .popdown-dialog-footer,.pivot-configpopups-pivotconfigwizard .pivot-configpopups-inspectelementpane .popdown-dialog-footer{padding-left:0}.pivot-configpopups-pivotconfigwizard .pivot-configpopups-addelementpane .cancel-button,.pivot-configpopups-pivotconfigwizard .pivot-configpopups-inspectelementpane .cancel-button{float:left}.pivot-configpopups-pivotconfigwizard .field-list{margin-bottom:2px}.pivot-configpopups-pivotconfigwizard .type-icon{margin-right:3px;text-align:center}.pivot-configpopups-pivotconfigwizard{overflow:hidden;width:440px}.pivot-configpopups-pivotconfigwizard .field-picker-wrapper{float:left;margin-right:20px;width:440px}.pivot-configpopups-pivotconfigwizard .field-picker-wrapper .pivot-config-content{max-height:300px}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper{float:left;margin-right:-460px;width:440px}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .back-button-column{float:left;position:relative}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .back-button-column .back-button{left:3px;padding-left:8px;padding-right:16px;position:absolute;text-align:center;top:3px;width:0}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .preview-pane-wrapper{float:left;margin-left:33px;width:407px}.pivot-configpopups-pivotconfigwizard .element-editor-wrapper .sub-pane-divider{border-top:1px solid #e1e6eb;margin-bottom:10px;margin-top:5px}.pivot-configpopups-pivotconfigwizard .remove-button{float:left;margin-right:5px}.pivot-configforms-allsplitsform.form-horizontal,.pivot-element-form.form-horizontal{margin:0}.pivot-configforms-allsplitsform h5,.pivot-element-form h5{margin-bottom:5px;margin-top:5px}.pivot-configforms-allsplitsform .control-label,.pivot-element-form .control-label{overflow:hidden;text-align:left;text-overflow:ellipsis;width:85px}.pivot-configforms-allsplitsform .controls,.pivot-element-form .controls{margin-left:95px}.pivot-configforms-allsplitsform .inline-control,.pivot-element-form .inline-control{display:inline}.pivot-configforms-allsplitsform .inline-control input[type=text],.pivot-element-form .inline-control input[type=text]{margin-bottom:5px;width:100px}.pivot-configforms-allsplitsform .pivot-inspector-help-text,.pivot-element-form .pivot-inspector-help-text{margin-left:95px}.pivot-configforms-allsplitsform .pivot-inspector-help-text .help-tooltip,.pivot-element-form .pivot-inspector-help-text .help-tooltip{color:#006297;cursor:default;font-size:9px;line-height:0;padding:2px;position:relative;top:-.5em;vertical-align:baseline}.pivot-configforms-filters-numberfilterform .control-label,.pivot-configforms-filters-stringfilterform .control-label{width:95px}.pivot-configforms-filters-numberfilterform input[type=text].limit-amount-input,.pivot-configforms-filters-stringfilterform input[type=text].limit-amount-input{margin-left:10px;width:30px}.pivot-configforms-filters-numberfilterform .limit-by-select>ul,.pivot-configforms-filters-stringfilterform .limit-by-select>ul{max-height:250px}.pivot-configforms-allsplitsform.number-split .control-label,.pivot-configforms-columns-numbercolumnform .control-label,.pivot-configforms-rows-numberrowform .control-label{width:85px}.sample-values-menu ul{max-height:275px}.sample-value-limit{border-top:1px solid #c3cbd4;color:#6b7785;display:block;font-size:12px;padding:5px 10px;position:relative;text-decoration:none;white-space:normal}",""])},2570:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.disabled-screen{background-color:#f2f4f5;bottom:0;left:0;opacity:.4;position:absolute;right:0;top:0;z-index:4}header{z-index:407}.main-section-body{bottom:0;left:0;position:absolute;right:0;top:0}.datamodelexplorer-datamodelexplorer,.datamodels-datamodels{margin-top:6px;position:relative}.edit-objects-button,.manage-models-button{position:absolute;right:50px;top:10px}.datamodels-datamodelgrid .expanded-info{margin-top:15px}.datamodels-datamodelgrid .edit-objects-link{margin-left:10px}.datamodels-datamodelgrid .no-models-message{margin:50px 20px}.datamodels-datamodelgrid .manage-models-link{margin-left:10px}.datamodelexplorer-objectgrid .field-button:hover{text-decoration:none}.datamodelexplorer-objectgrid .non-link{color:#000;cursor:default}.datamodelexplorer-objectgrid .edit-objects-link{margin-left:10px}.datamodelexplorer-objectgrid .field-list{background-color:transparent}.load-failure-messages{left:0;padding:25px 15px;position:absolute;right:0}.load-failure-messages .links-holder a{margin-left:15px}.shared-statscontrols-statscontrolsmaster .btn-group+.btn-pill{margin-left:5px}.modal-body .save-data-model-message{color:#6b7785;font-size:12px;margin:0 10px 10px}.tooltip-full-width .tooltip-inner{max-width:none}#statistics .scroll-table-wrapper>table.table>tbody{font-family:Splunk Platform Mono,Inconsolata,Consolas,Droid Sans Mono,Monaco,Courier New,Courier,monospace}.preview-pane-wrapper .input-append .dropdown-toggle:first-child{border-bottom-right-radius:3px;border-top-right-radius:3px}.pivot-pivotview .pivot-visualizationtypemenu li{font-size:30px;line-height:50px}@media only screen and (max-height:700px){.pivot-pivotview .pivot-visualizationtypemenu li{font-size:28px;line-height:40px}}.main-section-body{top:3px}.pivot-pivotview .pivot-documentactionbar .action-bar{right:50px}@media only screen and (min-height:800px){.main-section-body{top:65px}.pivot-pivotview .pivot-documentactionbar .action-bar{right:20px}}.non-responsive .main-section-body{top:65px}.creator-dialog:after,.inspector-dialog:after{content:"";display:inline;font-size:0;overflow:hidden}.lazy-results-table{background-color:#f2f4f5;bottom:0;left:0;overflow-y:auto;position:absolute;right:0;top:0}.lazy-results-table table,.results-table{border-top:none}.results-table{bottom:0;left:0;position:absolute;right:0;top:0}.results-table td.with-overlay{padding-right:20px}.pivot-pivotview .shared-resultstable-resultstablemaster{bottom:0;left:0;position:absolute;right:0;top:0}.shared-statscontrols-statscontrolsmaster{background-color:#f2f4f5;border-top:1px solid #c3cbd4;bottom:0;height:30px;left:0;padding:5px 20px;position:absolute;right:0}@media print{body .action-bar,body .shared-jobcontrols,body .shared-statscontrols-statscontrolsmaster,body .tooltip,body header{display:none!important}body .shared-responsiveheaderpage{position:relative}body .jobstatus-wrapper,body .results-table,body .viz-builder-wrapper{background:none!important;bottom:auto!important;left:auto!important;position:static!important;right:auto!important;top:auto!important}body .viz-builder-wrapper,body .viz-content-with-menu{left:0}body .lazy-results-table,body .viz-container{position:static!important}body .main-section-body{bottom:auto}}body.print .action-bar,body.print .shared-jobcontrols,body.print .shared-statscontrols-statscontrolsmaster,body.print .tooltip,body.print header{display:none!important}body.print .shared-responsiveheaderpage{position:relative}body.print .jobstatus-wrapper,body.print .results-table,body.print .viz-builder-wrapper{background:none!important;bottom:auto!important;left:auto!important;position:static!important;right:auto!important;top:auto!important}body.print .viz-builder-wrapper,body.print .viz-content-with-menu{left:0}body.print .lazy-results-table,body.print .viz-container{position:static!important}body.print .main-section-body{bottom:auto}',""])},653:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".shared-reportcontrols-dialogs-createreport-create .search-input .search-label{float:left;padding-bottom:5px;padding-top:5px;text-align:right;width:160px}.shared-reportcontrols-dialogs-createreport-create .search-input .shared-searchbarinput{margin-left:180px;margin-right:0;padding-bottom:10px}.shared-reportcontrols-dialogs-createreport-create .control.shared-controls-textcontrol input{padding-right:15px}",""])},"collections/pivot/elements/CellElements":function(e,t,i){var o,s;o=[i("collections/pivot/elements/ElementsBase"),i("helpers/pivot/CellElementModelFactory")],void 0===(s=function(e,t){return e.extend({model:t})}.apply(t,o))||(e.exports=s)},"collections/pivot/elements/ColumnElements":function(e,t,i){var o,s;o=[i("collections/pivot/elements/ElementsBase"),i("helpers/pivot/ColumnElementModelFactory")],void 0===(s=function(e,t){return e.extend({model:t})}.apply(t,o))||(e.exports=s)},"collections/pivot/elements/ElementsBase":function(e,t,i){var o,s;o=[i("collections/Base")],void 0===(s=function(e){return e.extend({toReportJSON:function(){return this.invoke("toReportJSON")}})}.apply(t,o))||(e.exports=s)},"collections/pivot/elements/FilterElements":function(e,t,i){var o,s;o=[i("collections/pivot/elements/ElementsBase"),i("helpers/pivot/FilterElementModelFactory")],void 0===(s=function(e,t){return e.extend({model:t})}.apply(t,o))||(e.exports=s)},"collections/pivot/elements/RowElements":function(e,t,i){var o,s;o=[i("collections/pivot/elements/ElementsBase"),i("helpers/pivot/RowElementModelFactory")],void 0===(s=function(e,t){return e.extend({model:t})}.apply(t,o))||(e.exports=s)},"helpers/ApiDependencyAggregator":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("util/backbone"),i("util/console")],void 0===(s=function(e,t,i,o){var s=function(){this._handlers=[],this._isFetching=!1,this._previousDepList=[]};return t.extend(s.prototype,{addHandler:function(e,i,o){if(this._isFetching)throw new Error("addHandler cannot be called while a fetch is in progress");o||(o=i,i=null);var s={_resourceType:e,callback:o};t.isArray(i)&&i.length>0&&(s.flags=i),this._handlers.unshift(s)},fetchAll:function(t,i){if(this._isFetching)throw new Error("fetchAll cannot be called while another fetch is in progress");return t=this._normalizeConfig(t,i),this._activeDepList=this._convertToDependencyList(t),this._isFetching=!0,this._applyHandlersToDependencyList(this._activeDepList,i),this._waitForBlockingDependencies(this._activeDepList).then(function(){return this._updatePreviousDependencies(e.extend(!0,[],this._activeDepList)),this._convertDependenciesToResourceTree(this._activeDepList,t)}.bind(this)).always(function(){this._isFetching=!1}.bind(this))},isFetchingResource:function(e,t){if(!this._isFetching)throw new Error("isFetchingResource can only be called while a fetch is in progress");var i={_resourceType:e};return t&&(i.flags=t),!!this._findMatchingDependency(i,this._activeDepList)},waitFor:function(e,i){if(!this._isFetching)throw new Error("waitFor can only be called while a fetch is in progress");var o={_resourceType:e};i&&(o.flags=i);var s=this._findMatchingDependency(o,this._activeDepList);return s||(s=t.extend({blocking:!1},o)),s.deferred||(this._applyHandlersToDependency(s),this._addToDependencyList(s,this._activeDepList)),s.deferred.then((function(){return s.resource}))},_normalizeConfig:function(e,o){var s={};return e.hasOwnProperty("apiDependencies")&&(e=t(e.apiDependencies).isFunction()?e.apiDependencies(o):e.apiDependencies),t.isFunction(e)&&(e=e(o)),t(e).each((function(e,n){if(e.hasOwnProperty("apiDependencies")){var a=t(e.apiDependencies).isFunction()?e.apiDependencies(o):e.apiDependencies;s[n]=this._normalizeConfig(a,o)}else(i.isModelConstructor(e)||i.isCollectionConstructor(e))&&(e={resourceType:e}),(e=t.extend({blocking:!0},e))._resourceType=e.resourceType,delete e.resourceType,t.isArray(e.flags)&&0!==e.flags.length||delete e.flags,s[n]=e}),this),s},_convertToDependencyList:function(e){var i=[];return t(e).each((function(e){e._resourceType?this._addToDependencyList(e,i):t(this._convertToDependencyList(e)).each((function(e){this._addToDependencyList(e,i)}),this)}),this),i},_addToDependencyList:function(e,t){var i=this._findMatchingDependency(e,t);return i?i.blocking=i.blocking||e.blocking:t.push(e),i},_applyHandlersToDependencyList:function(e){t(e).each((function(e){e.deferred||this._applyHandlersToDependency(e)}),this)},_applyHandlersToDependency:function(t){var i=this._findMatchingDependency(t,this._handlers);if(!i)throw o.error("Unable to find a handler for resource type",t._resourceType,"with flags",t.flags||[]),new Error("No handler found for at least one dependency");var s=this._findMatchingDependency(t,this._previousDepList)||null,n=i.callback(s?s.resource:null,this);n.deferred||(n={deferred:e.when(n)}),t.resource=n.resource,t.deferred=n.deferred,t.resource||(t.deferred=t.deferred.then((function(e){t.resource=e})))},_updatePreviousDependencies:function(e){var i=this._previousDepList;this._previousDepList=e,t(i).each((function(e){this._addToDependencyList(e,this._previousDepList)}),this)},_waitForBlockingDependencies:function(i){var o=t(i).chain().where({blocking:!0}).pluck("deferred").value();return e.when.apply(e,o)},_convertDependenciesToResourceTree:function(e,i){var o={deferreds:{}};return t(i).each((function(t,i){if(t.hasOwnProperty("_resourceType")){var s=this._findMatchingDependency(t,e);if(!s)throw new Error("Unable to find a handled dependency for a config entry.  This should not happen.");o[i]=s.resource,o.deferreds[i]=s.deferred}else o[i]=this._convertDependenciesToResourceTree(e,t)}),this),o},_findMatchingDependency:function(e,i){return t(i).find((function(i){return e._resourceType===i._resourceType&&t.isEqual(e.flags,i.flags)}))}}),s}.apply(t,o))||(e.exports=s)},"helpers/pivot/CellElementModelFactory":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/pivot/elements/BaseElement"),i("models/pivot/elements/cells/StringCell"),i("models/pivot/elements/cells/NumberCell"),i("models/pivot/elements/cells/TimestampCell"),i("models/pivot/elements/cells/ObjectCountCell"),i("models/pivot/elements/cells/ChildCountCell")],void 0===(s=function(e,t,i,o,s,n,a){var r=function(e,t){switch(e.type){case"string":case"ipv4":return new i(e,t);case"number":return new o(e,t);case"timestamp":return new s(e,t);case"objectCount":return new n(e,t);case"childCount":return new a(e,t);default:throw"Model type "+e.type+" not supported for Cell Elements"}};return e.extend(r.prototype,{idAttribute:t.prototype.idAttribute}),r}.apply(t,o))||(e.exports=s)},"helpers/pivot/ColumnElementModelFactory":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/pivot/elements/BaseElement"),i("models/pivot/elements/columns/StringColumn"),i("models/pivot/elements/columns/NumberColumn"),i("models/pivot/elements/columns/BooleanColumn"),i("models/pivot/elements/columns/TimestampColumn")],void 0===(s=function(e,t,i,o,s,n){var a=function(e,t){switch(e.type){case"string":case"ipv4":return new i(e,t);case"number":return new o(e,t);case"boolean":return new s(e,t);case"timestamp":return new n(e,t);default:throw"Model type "+e.type+" not supported for Column Elements"}};return e.extend(a.prototype,{idAttribute:t.prototype.idAttribute}),a}.apply(t,o))||(e.exports=s)},"helpers/pivot/FilterElementModelFactory":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/pivot/elements/BaseElement"),i("models/pivot/elements/filters/StringFilter"),i("models/pivot/elements/filters/NumberFilter"),i("models/pivot/elements/filters/BooleanFilter"),i("models/pivot/elements/filters/TimestampFilter")],void 0===(s=function(e,t,i,o,s,n){var a=function(e,t){switch(e.type){case"string":case"ipv4":return new i(e,t);case"number":return new o(e,t);case"boolean":return new s(e,t);case"timestamp":return new n(e,t);default:throw"Model type "+e.type+" not supported for Filter Elements"}};return e.extend(a.prototype,{idAttribute:t.prototype.idAttribute}),a}.apply(t,o))||(e.exports=s)},"helpers/pivot/PivotVisualizationManager":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("views/pivot/custom_controls/TimeRangeControlGroup"),i("views/pivot/custom_controls/FilterTypeControlGroup"),i("views/pivot/custom_controls/FilterMatchControlGroup"),i("views/pivot/custom_controls/FilterLimitByControlGroup"),i("views/pivot/custom_controls/FilterLimitControlGroup"),i("views/pivot/custom_controls/LabelControlGroup"),i("views/pivot/custom_controls/AxisLabelControlGroup"),i("views/pivot/custom_controls/TimePeriodControlGroup"),i("views/pivot/custom_controls/CreateRangesControlGroup"),i("views/pivot/custom_controls/SplitSortControlGroup"),i("views/pivot/custom_controls/SplitLimitControlGroup"),i("views/pivot/custom_controls/MaxRangesControlGroup"),i("views/pivot/custom_controls/RangeSizeControlGroup"),i("views/pivot/custom_controls/RangeStartControlGroup"),i("views/pivot/custom_controls/RangeEndControlGroup"),i("views/pivot/custom_controls/TrueLabelControlGroup"),i("views/pivot/custom_controls/FalseLabelControlGroup"),i("views/pivot/custom_controls/CellValueControlGroup"),i("constants/pivot"),i("helpers/VisualizationRegistry"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v,f,g,b,y,w,T,C){var S=function(e){var i=t(e).pick("id","icon","label"),o=e.pivotSchema,s=e.editorSchema;return s=t(s).reject((function(e){return t(V).contains(e.id)})),"statistics"!==e.matchConfig["display.general.type"]&&(i.reportLevelAttributes=t.extend({showRowSummary:"false",showColSummary:"false"},o?o.reportLevelAttributes:{})),o&&(i.configMenuPanels=x(o,s),i.requiresIndexTime=t(o.panels).any((function(e){return e.required&&t.isEqual(e.dataTypes,[w.TIMESTAMP])}))),i},x=function(e,i){var o=t(e.panels).map((function(e){var o=t(e).pick("title","description","required","dataTypes","excludeFromEditor","labelElement","limitLabel","maxLength");return e.elementType===w.ROW_SPLIT?o=t.extend({},L,o):e.elementType===w.SECONDARY_ROW_SPLIT?o=t.extend({},P,o):e.elementType===w.NUMERIC_CELL_VALUE?o=t.extend({},k,o):e.elementType===w.CELL_VALUE?o=t.extend({},B,o):e.elementType===w.COLUMN_SPLIT&&(o=t.extend({},I,o)),e.importFromEditor&&(o.formElements=t(i).findWhere({id:e.importFromEditor}).formElements,(o=E(o)).formElements=o.formElements.concat(e.appendToEditor||[])),o})),s=t(o).where({elementType:w.ROW_SPLIT});s.length>1&&t(s).each((function(e,i){e.elementsSelector=function(e){return e.length>i?[e[i]]:[]},e.newElementHandler=function(){return{at:i}},i>0&&(e.isEnabledForAdd=function(o){if(o.length<i)return C.sprintf(t("Select %s before adding %s.").t(),s[i-1].title,e.title)})}));var n=t(o).where({elementType:w.CELL_VALUE});n.length>1&&t(n).each((function(e,i){e.elementsSelector=function(e){return e.length>i?[e[i]]:[]},e.newElementHandler=function(){return{at:i}},i>0&&(e.isEnabledForAdd=function(o){if(o.length<i)return C.sprintf(t("Select %s before adding %s.").t(),n[i-1].title,e.title)})}));var a=t(i).reject((function(i){return!!t(e.panels).findWhere({importFromEditor:i.id})||t(e.excludeFromEditor||[]).contains(i.id)}));return a=t(a).map(E),[M,N].concat(o,a)},E=function(e){var i=t.extend({},e,{formElements:t(e.formElements).reject((function(i){return t(e.excludeFromEditor||[]).contains(i.name)}))});return e.hasOwnProperty("labelElement")&&(i=t.extend({},i,{pivotFormElements:t(i.pivotFormElements).map((function(t){return t.group===r?e.labelElement:t}))})),i.pivotFormElements=t(i.pivotFormElements).compact(),e.limitLabel&&(i=t.extend({},i,{pivotFormElements:t(i.pivotFormElements).map((function(i){return i.group===h?t.extend({},i,{groupOptions:t.extend({},i.groupOptions,{label:e.limitLabel})}):i}))})),i},D={STATISTICS_TABLE:"statistics",BAR_CHART:"bar",COLUMN_CHART:"column",AREA_CHART:"area",LINE_CHART:"line",PIE_CHART:"pie",SCATTER_CHART:"scatter",BUBBLE_CHART:"bubble",SINGLE_VALUE:"singlevalue",RADIAL_GAUGE:"radialGauge",MARKER_GAUGE:"markerGauge",FILLER_GAUGE:"fillerGauge"};D.SIMPLE_CARTESIAN_TYPES=[D.BAR_CHART,D.COLUMN_CHART,D.LINE_CHART,D.AREA_CHART],D.BAR_COLUMN_TYPES=[D.BAR_CHART,D.COLUMN_CHART],D.LINE_AREA_TYPES=[D.LINE_CHART,D.AREA_CHART],D.GAUGE_TYPES=[D.RADIAL_GAUGE,D.MARKER_GAUGE,D.FILLER_GAUGE];var _={REPORT_CONTROL:"reportControl",VISUALIZATION_CONTROL:"vizControl"},R={METRIC:"metric",DIMENSION:"dimension"},M={title:t("Time Range").t(),elementType:w.FILTER,dataTypes:[w.TIMESTAMP],maxLength:1,required:!0,pivotFormElements:[{group:i}]},A=[{id:"filter-type",group:o,visibleWhen:{type:[w.STRING,w.IPV4,w.NUMBER]}},{id:"filter-match",group:s,visibleWhen:{filterType:"match"}},{id:"filter-limit-by",group:n,visibleWhen:{filterType:"limit"}},{id:"filter-limit",group:a,visibleWhen:{filterType:"limit"}}],N={title:t("Filter").t(),elementType:w.FILTER,dataTypes:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN],pivotFormElements:A},O=[{id:"split-label",group:r,visibleWhen:{type:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN]}},{id:"split-sort",type:_.REPORT_CONTROL,group:c,visibleWhen:{type:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN]}},{id:"split-limit-string",splitLimitGroup:!0,type:_.REPORT_CONTROL,group:h,groupOptions:{elementType:"row"},visibleWhen:{type:[w.STRING,w.IPV4]}},{id:"create-ranges",group:p,visibleWhen:{type:w.NUMBER}},{id:"split-limit-number",type:_.REPORT_CONTROL,group:h,groupOptions:{elementType:"row"},visibleWhen:{type:w.NUMBER,display:"all"}},{id:"max-ranges",group:u,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"range-size",group:m,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"range-start",group:v,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"range-end",group:f,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"true-label",group:g,visibleWhen:{type:w.BOOLEAN}},{id:"false-label",group:b,visibleWhen:{type:w.BOOLEAN}},{id:"time-period",group:d,groupOptions:{menuWidth:"narrow"},visibleWhen:{type:w.TIMESTAMP}}],L={elementType:w.ROW_SPLIT,dataTypes:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN,w.TIMESTAMP],maxLength:1,pivotFormElements:O},P={elementType:w.ROW_SPLIT,dataTypes:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN,w.TIMESTAMP],maxLength:1,pivotFormElements:t(O).reject((function(e){return"split-sort"===e.id||"split-limit-number"===e.id||"split-limit-string"===e.id}))},z=[{id:"split-limit-string",type:_.REPORT_CONTROL,group:h,groupOptions:{elementType:"column"},visibleWhen:{type:[w.STRING,w.IPV4]}},{id:"create-ranges",group:p,visibleWhen:{type:w.NUMBER}},{id:"split-limit-number",type:_.REPORT_CONTROL,group:h,groupOptions:{elementType:"column"},visibleWhen:{type:w.NUMBER,display:"all"}},{id:"max-ranges",group:u,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"range-size",group:m,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"range-start",group:v,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"range-end",group:f,visibleWhen:{type:w.NUMBER,display:"ranges"}},{id:"true-label",group:g,visibleWhen:{type:w.BOOLEAN}},{id:"false-label",group:b,visibleWhen:{type:w.BOOLEAN}},{id:"time-period",group:d,groupOptions:{menuWidth:"narrow"},visibleWhen:{type:w.TIMESTAMP}}],I={elementType:w.COLUMN_SPLIT,dataTypes:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN,w.TIMESTAMP],maxLength:1,pivotFormElements:z},F=[{id:"cell-label",group:r,visibleWhen:{type:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN,w.OBJECT_COUNT,w.CHILD_COUNT]}},{id:"cell-stats-fn",group:y,visibleWhen:{type:[w.STRING,w.IPV4,w.NUMBER,w.BOOLEAN,w.TIMESTAMP]}}],k={elementType:w.CELL_VALUE,dataTypes:[w.STRING,w.IPV4,w.NUMBER,w.OBJECT_COUNT,w.CHILD_COUNT],outputType:R.METRIC,maxLength:1,pivotFormElements:[{id:"cell-label",group:r},{id:"cell-stats-fn",group:y,groupOptions:{outputType:R.METRIC},visibleWhen:{type:[w.STRING,w.IPV4,w.NUMBER]}}]},B={elementType:w.CELL_VALUE,dataTypes:[w.STRING,w.IPV4,w.NUMBER,w.OBJECT_COUNT,w.CHILD_COUNT],maxLength:1,pivotFormElements:F},V=["layout"],$=function(){e.extend(this,D,_,w,R,{FILTER_FORM_ELEMENTS:A,ROW_SPLIT_FORM_ELEMENTS:O,COLUMN_SPLIT_FORM_ELEMENTS:z,CELL_VALUE_FORM_ELEMENTS:F})};return e.extend($.prototype,{generateSchema:function(){this.schema=t(T.getAllVisualizations()).chain().filter((function(e){return"statistics"===e.matchConfig["display.general.type"]||!!e.pivotSchema})).sortBy((function(e){return"statistics"===e.matchConfig["display.general.type"]?0:1})).map(S).value()},getSchema:function(){return this.schema||this.generateSchema(),this.schema},getConfigByVizType:function(e){return t(this.getSchema()).find((function(t){return t.id===e}))}}),new $}.apply(t,o))||(e.exports=s)},"helpers/pivot/ReportHistoryManager":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("helpers/pivot/PivotVisualizationManager"),i("models/pivot/PivotReport"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o,s){var n=function(){this.reportConfigHistory={},this.vizDefaults={shared:{"display.visualizations.charting.chart.stackMode":"default","display.visualizations.charting.legend.placement":"right","display.visualizations.charting.axisTitleY.text":""},area:{"display.visualizations.charting.chart.stackMode":"stacked"},overrides:{}},this.lastAppliedVizUpdates={}};return e.extend(n.prototype,{register:function(i){var o=i.entry.content,s=e.extend(!0,{},this.getVizSpecificReportDefaults(i),this.lastAppliedVizUpdates);t(s).each((function(e,t){var i=o.get(t);i!==e&&(this.vizDefaults.overrides[t]=i)}),this),i.on("reportConfigChange",(function(){this.reportChangeListenersUnbound||this.clearHistory()}),this),o.on("change",(function(){if(!this.reportChangeListenersUnbound){var e=i.entry.content.filterChangedByWildcards(["^display.visualizations..*"]);delete e["display.visualizations.show"],delete e["display.visualizations.type"],delete e["display.visualizations.charting.chart"],'["0","30","70","100"]'!==e["display.visualizations.charting.chart.rangeValues"]||o.previous("display.visualizations.charting.chart.rangeValues")||delete e["display.visualizations.charting.chart.rangeValues"],"[0x53A051,0xF8BE34,0xDC4E41]"!==e["display.visualizations.charting.gaugeColors"]||o.previous("display.visualizations.charting.gaugeColors")||delete e["display.visualizations.charting.gaugeColors"],t(e).isEmpty()||this.clearHistory(),this.handleReportChange(i)}}),this),i.on("visualizationTypeChange",this.handleVizTypeChange,this)},unregister:function(e){e.off(null,null,this),e.entry.content.off(null,null,this),this.vizDefaults.overrides={}},clearHistory:function(){this.reportConfigHistory={}},applyVisualizationUpdates:function(e,i){this.unbindReportChangeListeners();var o=this.getVizSpecificReportDefaults(e);t(o).each((function(t,i){e.entry.content.preValidate(i,t)&&delete o[i]})),this.lastAppliedVizUpdates=o,e.entry.content.set(o,i),this.bindReportChangeListeners()},applyConfigUpdates:function(e,t,i){this.unbindReportChangeListeners();var o=e.entry.content,s=this.getNewReportConfig(e,t);o.cells.reset(s.cells.toArray(),i),o.rows.reset(s.rows.toArray(),i),o.columns.reset(s.columns.toArray(),i),o.set(s.reportLevelAttributes,i),this.bindReportChangeListeners()},getNewReportConfig:function(e,t){t=t||[];var i=e.getVisualizationType();return this.hasConfigHistoryForType(i)?this.getConfigHistoryByType(i):this.getCoercedReportConfig(e,i,t)},handleVizTypeChange:function(e,s,n){var a=this.convertVizTypeToConfigHistoryKey(s),r=this.convertVizTypeToConfigHistoryKey(e)!==a,l=n.entry.content,d={reportLevelAttributes:l.filterByWildcards(o.PIVOT_CONTENT_FILTER,{allowEmpty:!0}),cells:l.cells.clone(),rows:l.rows.clone(),columns:l.columns.clone()};this.previousVizType=s,e===i.SCATTER_CHART&&(this.preScatterRowSort=n.entry.content.get("rowLimitType")),t(this.reportConfigHistory).isEmpty()&&(this.originalConfig=d),!r&&this.hasConfigHistoryForType(a)||(this.reportConfigHistory[a]=d)},handleReportChange:function(e){var i=e.entry.content.changedAttributes(),o=t.intersection(t(i).keys(),t(this.vizDefaults.shared).keys());t(o).each((function(e){this.vizDefaults.overrides[e]=i[e]}),this)},hasConfigHistoryForType:function(e){return this.reportConfigHistory.hasOwnProperty(this.convertVizTypeToConfigHistoryKey(e))},getConfigHistoryByType:function(e){return this.reportConfigHistory[this.convertVizTypeToConfigHistoryKey(e)]},getVizSpecificReportDefaults:function(o){var s=o.getVisualizationType(),n=o.entry.content,a=n.columns,r=n.cells,l=t(i.SIMPLE_CARTESIAN_TYPES).contains(s),d=e.extend({},this.vizDefaults.shared,this.vizDefaults[s],this.vizDefaults.overrides);return l&&0===a.length?e.extend(d,{"display.visualizations.charting.chart.stackMode":"default","display.visualizations.charting.legend.placement":"none"}):l&&1===a.length&&r.length>0&&e.extend(d,{"display.visualizations.charting.axisTitleY.text":r.at(0).getComputedLabel()}),d},getCoercedReportConfig:function(o,n,a){var r,l=o.entry.content,d={cells:new l.cells.constructor,rows:new l.rows.constructor,columns:new l.columns.constructor};if(r=this.originalConfig?{cells:this.originalConfig.cells.deepClone(),rows:this.originalConfig.rows.deepClone(),columns:this.originalConfig.columns.deepClone()}:{cells:l.cells.deepClone(),rows:l.rows.deepClone(),columns:l.columns.deepClone()},n===i.STATISTICS_TABLE)return r;var p=i.getConfigByVizType(n);d.reportLevelAttributes=e.extend({},p.reportLevelAttributes),this.previousVizType!==i.SCATTER_CHART||d.reportLevelAttributes.rowLimitType||(d.reportLevelAttributes.rowLimitType=this.preScatterRowSort||"default");var c=function(e,i){var o=function(e,i){return i?e.filter((function(e){return t(i).contains(e.get("type"))}),this):e.toArray()}(e,i.dataTypes);return i.hasOwnProperty("outputType")&&(o=t(o).filter((function(e){return s.cellValueToOutputType(e.get("value"),e.get("type"))===i.outputType}),this)),o},h={cells:i.CELL_VALUE,rows:i.ROW_SPLIT,columns:i.COLUMN_SPLIT};return t(h).each((function(e,i){var o=this.findReceiversByElementType(p,e);if(o.length>0)if(1===o.length){var s=o[0],n=c(r[i],s);s.setAttributes&&t(n).invoke("set",s.setAttributes,{silent:!0}),d[i].reset(n.slice(0,s.maxLength))}else{if(!t(o).all((function(e){return t(e.elementsSelector).isFunction()})))throw new Error("If multiple receivers are defined each must have its own elementSelector");t(o).each((function(e){var o=e.elementsSelector(c(r[i],e));t(o).each((function(t){e.setAttributes&&t.set(e.setAttributes,{silent:!0});var o=e.newElementHandler?e.newElementHandler(t,!0):{};d[i].add(t,o)}))}))}}),this),this.autoPopulatePanels(d,p,a),1===d.rows.length&&d.rows.at(0).get("type")===i.TIMESTAMP&&(d.reportLevelAttributes.rowLimitType="default"),d},autoPopulatePanels:function(e,o,s){t([i.ROW_SPLIT,i.COLUMN_SPLIT,i.CELL_VALUE]).each((function(n){var a,r=(a=n)===i.ROW_SPLIT?e.rows:a===i.COLUMN_SPLIT?e.columns:e.cells;if(!(r.length>0)){var l=this.findReceiversByElementType(o,n);if(1===l.length&&1===l[0].maxLength&&l[0].required){var d=t(s).filter((function(e){return t(l[0].dataTypes).contains(e.type)}));1===d.length&&(r.add(d[0]),s=t(s).without(d[0]))}}}),this)},findReceiversByElementType:function(e,i){return t(e.configMenuPanels).filter((function(e){return e.elementType===i}))},convertVizTypeToConfigHistoryKey:function(e){return t(i.BAR_COLUMN_TYPES).contains(e)?"barColumn":t(i.LINE_AREA_TYPES).contains(e)?"lineArea":t(i.GAUGE_TYPES).contains(e)?"gauge":e},unbindReportChangeListeners:function(){this.reportChangeListenersUnbound=!0},bindReportChangeListeners:function(){this.reportChangeListenersUnbound=!1}}),n}.apply(t,o))||(e.exports=s)},"helpers/pivot/RowElementModelFactory":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/pivot/elements/BaseElement"),i("models/pivot/elements/rows/StringRow"),i("models/pivot/elements/rows/NumberRow"),i("models/pivot/elements/rows/BooleanRow"),i("models/pivot/elements/rows/TimestampRow")],void 0===(s=function(e,t,i,o,s,n){var a=function(e,t){switch(e.type){case"string":case"ipv4":return new i(e,t);case"number":return new o(e,t);case"boolean":return new s(e,t);case"timestamp":return new n(e,t);default:throw"Model type "+e.type+" not supported for Row Elements"}};return e.extend(a.prototype,{idAttribute:t.prototype.idAttribute}),a}.apply(t,o))||(e.exports=s)},"models/pivot/PivotJob":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("models/search/Job"),i("shim/splunk.util"),i("util/splunkd_utils"),i("util/time")],void 0===(s=function(e,t,i,o,s,n){var a=function(t,o){var s=(o=e.extend(!0,{data:{status_buckets:0,preview:!0}},o)).data;return s.search=s.tsidxNamespace?s.tstatsSearch:s.search,delete s.tsidxNamespace,delete s.tstatsSearch,i.prototype.sync.call(t,"create",t,o)},r=function(t,o){var s=t.reportJob,n=e.extend(!0,{},o,{data:{status_buckets:0}});return t.reportJob=new i,t.reportJob.save({},n).always((function(){t.isDeleted||s.destroy()}))},l=i.extend({initialize:function(){i.prototype.initialize.apply(this,arguments),this.isPaused=!1,this.isFinalized=!1,this.isDeleted=!1,this.on("error",(function(){this.entry.content.set({isFailed:!0})}),this)},_onerror:function(e,o,n){if(this.getAccelerationType()===l.ADHOC_ACCELERATION){e.error.clear();var a=t.union(e.collectJob.error.get("messages")||[],e.reportJob.error.get("messages")||[]);s.messagesContainsOneOfTypes(a,[s.RISKY_COMMAND])&&(e.collectJob.error.set("messages",a),this.trigger("showRiskyWarningDialog",e)),this.trigger("serverValidated",!1,this,a),e.error.set("messages",a)}else i.prototype._onerror.apply(this,arguments)},sync:function(o,s,d){var p=(d=d||{}).data||{};switch(o){case"create":return!p.tsidxNamespace&&!p.sid||n.isRealtime(p.earliest_time)?(delete p.tsidxNamespace,delete p.sid,a(s,d)):p.sid?(this.collectJob=new i,this.collectJob.set(this.collectJob.idAttribute,d.data.sid),this.reportJob=new i,function(i,o){var s=(o=e.extend(!0,{},o)).data;s.search=s.tstatsSearch,delete s.tstatsSearch,delete s.sid;var n={data:e.extend({preview:!0},s)};i.dispatchData=t(s).pick("search","earliest_time","latest_time","provenance");var a={data:t(s).pick("app","owner","sharing")},l=e.when(i.collectJob.fetch(a),r(i,n)).then((function(){if(i.set(i.idAttribute,i.reportJob.get(i.reportJob.idAttribute)),i.collectJob.entry.content.get("isFailed"))return o.error({}),e.Deferred().reject();if(i.reportJob.entry.content.get("isFailed"))return o.error({}),e.Deferred().reject();var t=i.parseReportJob(i.reportJob);return o.success(t),e.Deferred().resolve()}),(function(){return i.set(i.idAttribute,i.reportJob.get(i.reportJob.idAttribute)),o.error({}),this}));return i.trigger("request",i,l,o),l}(this,d)):(this.tsidxNamespace=p.tsidxNamespace,a(s,d));case"read":return this.getAccelerationType()===l.ADHOC_ACCELERATION?this.isPaused||this.isFinalized?(this.isPaused&&this.collectJob.touch(),this.simulateSyncSuccess(d,[this.parseReportJob(this.reportJob)])):function(i,o){var s,n=(o=o||{}).data,a=i.collectJob.isDone(),l={data:t(n||{}).pick("app","owner","sharing")};if(i.reportJob.isNew()||i.reportJob.isDone()){var d={data:e.extend({preview:!1,exec_mode:"blocking"},i.dispatchData,n)};s=e.when(a||i.collectJob.fetch(l),r(i,d))}else{var p={data:e.extend({},n)};s=e.when(a||i.collectJob.fetch(l),i.reportJob.fetch(p))}var c=s.then((function(){if(i.set(i.idAttribute,i.reportJob.get(i.reportJob.idAttribute)),i.collectJob.entry.content.get("isFailed"))return o.error({}),e.Deferred().reject();if(i.reportJob.entry.content.get("isFailed"))return o.error({}),e.Deferred().reject();var t=i.parseReportJob(i.reportJob);return o.success(t),e.Deferred().resolve()}),(function(){return i.set(i.idAttribute,i.reportJob.get(i.reportJob.idAttribute)),o.error({}),this}));return i.trigger("request",i,c,o),c}(this,d):i.prototype.sync.call(this,o,s,d);case"delete":return s.isDeleted=!0,i.prototype.sync.call(this,o,s,d);default:throw new Error("invalid method: "+o)}},clear:function(){return this.collectJob&&(this.collectJob.fetchAbort(),delete this.collectJob),this.reportJob&&(this.reportJob.fetchAbort(),delete this.reportJob),i.prototype.clear.apply(this,arguments)},pause:function(e){return this.shouldFakeControlActions()?(this.isPaused=!0,this.trigger("fakeControlAction","pause"),this.simulateSyncSuccess(e,[{}])):i.prototype.pause.call(this,e)},unpause:function(e){return this.shouldFakeControlActions()?(this.isPaused=!1,this.trigger("fakeControlAction","unpause"),this.simulateSyncSuccess(e,[{}])):i.prototype.unpause.call(this,e)},finalize:function(e){return this.shouldFakeControlActions()?(this.isFinalized=!0,this.isPaused=!1,this.trigger("fakeControlAction","finalize"),this.simulateSyncSuccess(e,[{}])):i.prototype.finalize.call(this,e)},shouldFakeControlActions:function(){return this.getAccelerationType()===l.ADHOC_ACCELERATION},simulateSyncSuccess:function(i,o){var s=e.Deferred().resolve().promise();return this.trigger("request",this,s,i),i&&t(i.success).isFunction()&&i.success.apply(null,o),s},parseReportJob:function(t){var o=t.toSplunkD(),s=o.entry[0].content,n=this.collectJob.toSplunkD().entry[0].content,a=this.determineDispatchState(t),r=this.calculateDoneProgress(t),l=!!this.collectJob.entry.content.get("isTimeCursored")&&1===r&&!!s.isDone,d=n.isDone||l,p=d&&!this.collectWasDone;return d&&(this.collectWasDone=!0),p||a!==i.DONE&&!l?a===i.DONE&&(a=i.RUNNING):a=i.DONE,e.extend(s,{isPreviewEnabled:!0,dispatchState:a,doneProgress:r,isDone:!this.isPaused&&a===i.DONE,isFailed:a===i.FAILED,isPaused:this.isPaused,isFinalized:this.isFinalized,scanCount:s.scanCount||n.scanCount,eventCount:s.eventCount||n.eventCount}),o},determineDispatchState:function(e){if(this.isFinalized)return i.DONE;var t=this.collectJob.entry.content.get("dispatchState");return t===i.FAILED||e.entry.content.get("isFailed")?i.FAILED:this.collectJob.isPreparing()?t:t===i.DONE&&e.isDone()?i.DONE:i.RUNNING},calculateDoneProgress:function(e){var t=this.collectJob.entry.content;if(e.isOverAllTime())return t.get("doneProgress");var i=e.entry.content.get("earliestTime"),s=i?parseFloat(o.getEpochTimeFromISO(i)):0,n=e.latestTimeSafe(),a=n?parseFloat(o.getEpochTimeFromISO(n)):0,r=t.get("cursorTime"),l=(a-(r?parseFloat(o.getEpochTimeFromISO(r)):0))/(a-s);return Math.max(Math.min(l,1),0)},getAccelerationType:function(){return this.collectJob?l.ADHOC_ACCELERATION:this.tsidxNamespace?l.MANAGED_ACCELERATION:l.NO_ACCELERATION},isAccelerated:function(){return this.getAccelerationType()!==l.NO_ACCELERATION},getCollectId:function(){return this.collectJob.get(this.collectJob.idAttribute)},getTsidxNamespace:function(){return this.tsidxNamespace}},{NO_ACCELERATION:"no-acceleration",ADHOC_ACCELERATION:"adhoc-acceleration",MANAGED_ACCELERATION:"managed-acceleration"});return l}.apply(t,o))||(e.exports=s)},"models/pivot/PivotReport":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("collections/pivot/elements/FilterElements"),i("collections/pivot/elements/CellElements"),i("collections/pivot/elements/ColumnElements"),i("collections/pivot/elements/RowElements"),i("models/search/Report"),i("models/shared/Visualization"),i("helpers/pivot/PivotVisualizationManager"),i("util/model_utils"),i("shim/splunk.util"),i("helpers/VisualizationRegistry")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h){var u={showRowSummary:"false",rowLimitType:"default",rowLimitAmount:100,showColSummary:"false",colLimitAmount:100,showOtherCol:"true"},m=r.extend({initialize:function(e){r.prototype.initialize.call(this,e),t(["filters","cells","rows","columns"]).each((function(e){this.entry.content[e].on("change",(function(){this.trigger("reportConfigChange")}),this)}),this),this.entry.content.on("change",(function(){var e=this.entry.content.filterChangedByWildcards(m.PIVOT_CONTENT_FILTER,{allowEmpty:!0});t.isEmpty(e)||this.trigger("reportConfigChange")}),this)},getElementCollectionByType:function(e){var t={filter:"filters",cell:"cells",row:"rows",column:"columns"}[e];return this.entry.content[t]},getElementDescription:function(e){return{id:e.cid,label:e.getComputedLabel(),type:e.get("type")}},getFilterList:function(){return this.getElementCollectionByType("filter").map(this.getElementDescription,this)},getCellList:function(){return this.getElementCollectionByType("cell").map(this.getElementDescription,this)},getColumnList:function(){return this.getElementCollectionByType("column").map(this.getElementDescription,this)},getRowList:function(){return this.getElementCollectionByType("row").map(this.getElementDescription,this)},getNumFilters:function(e){return(e=!1!==e)?this.getElementCollectionByType("filter").length:this.getElementCollectionByType("filter").filter((function(e){return"_time"!==e.get("fieldName")})).length},getNumCells:function(){return this.getElementCollectionByType("cell").length},getNumRows:function(){return this.getElementCollectionByType("row").length},getNumColumns:function(){return this.getElementCollectionByType("column").length},isComplete:function(){var e=d.getConfigByVizType(this.getVisualizationType()),i=function(i){var o=0,s=t(e.configMenuPanels).filter((function(e){return e.elementType===i}));return t(s).each((function(e){e.required&&(o+=e.maxLength)})),o};return this.getNumColumns()>=i(d.COLUMN_SPLIT)&&this.getNumRows()>=i(d.ROW_SPLIT)&&this.getNumCells()>=i(d.CELL_VALUE)},validateLimitAmountEnabled:function(e,i,o){var s=this.getElementCollectionByType(e).toArray();if(i&&(o>=s.length?s.push(i):s[o]=i),1!==s.length)return!1;var n=s[0].get("type");return"timestamp"===n?t("Not applied to a single time split.").t():"boolean"===n?t("Not applied to a single boolean split").t():"number"===n&&"ranges"===s[0].get("display")&&t("Not applied to a single range-based split.").t()},isValid:function(e){var t=this.entry.content;return r.prototype.isValid.call(this,e)&&t.isValid(e)&&t.filters.isValid(e)&&t.columns.isValid(e)&&t.rows.isValid(e)&&t.cells.isValid(e)},addElement:function(t,o,s){var n=this.getElementCollectionByType(t);if(o instanceof i.Model)o.has("owner")||o.set({owner:this.getPivotObjectName()}),n.add(o,s);else{var a={owner:this.getPivotObjectName()};n.add(e.extend(a,o),s)}this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")},hotSwapElement:function(e,t,i){if(t.get("type")===i.type)t.restoreDefaults({silent:!0}),t.set(i);else{var o=this.getElementCollectionByType(e),s=this.createNewElement(e,i),n=o.indexOf(t);o.remove(t),o.add(s,{at:n}),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")}},transferElement:function(i,o,s,n){n=n||{};var a,r=this.getElementCollectionByType(i),l=this.getElementCollectionByType(o),d=r.get(s),p=!1!==n.removeOriginal;"row"===i&&"column"===o?(delete(a=e.extend({},d.attributes)).label,delete a.limitAmount,delete a.elementType):"column"===i&&"row"===o?delete(a=e.extend({},d.attributes)).elementType:a={fieldName:d.get("fieldName"),type:d.get("type"),owner:d.get("owner"),displayName:d.get("displayName")},l.add(a,t(n).pick("at")),p&&r.remove(s),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")},createNewElement:function(t,i){var o={owner:this.getPivotObjectName()};switch(e.extend(o,i),t){case"filter":return new(this.getElementCollectionByType("filter").model)(i);case"row":return new(this.getElementCollectionByType("row").model)(i);case"column":return new(this.getElementCollectionByType("column").model)(i);case"cell":return new(this.getElementCollectionByType("cell").model)(i);default:throw"Can only create elements of type filter, row, column or cell"}},removeElement:function(e,t,i){this.getElementCollectionByType(e).remove(t,i),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")},reSortElements:function(e,i,o){var s=this.getElementCollectionByType(e),n=s.map((function(e){return e.cid}));if(!t.isEqual(i,n)){var a=s.sortBy((function(e){return t(i).indexOf(e.cid)}));s.reset(a,o),this.trigger("reportConfigUpdate"),this.trigger("reportConfigChange")}},getElement:function(e,t){return this.getElementCollectionByType(e).get(t)},setVisualizationType:function(e,t){var i=this.getVisualizationType();if(e!==i){var o=h.getVisualizationById(e);this.vizTypeChanging=!0,this.entry.content.set(o?o.matchConfig:{},t),t&&t.silent||this.trigger("visualizationTypeChange",e,i,this),this.vizTypeChanging=!1}},getVisualizationType:function(){var e=h.findVisualizationForConfig(this.entry.content.toJSON());return e?e.id:null},initializeAssociated:function(){r.prototype.initializeAssociated.call(this);var e=this.constructor.Entry.Content,t=this.entry.content;t.filters=t.associated.filters=t.filters||new e.Filters,t.cells=t.associated.cells=t.cells||new e.Cells,t.columns=t.associated.columns=t.columns||new e.Columns,t.rows=t.associated.rows=t.rows||new e.Rows},clone:function(){var e=this.entry.content,t=new this.constructor,i=t.entry.content,o=this.toSplunkD();return t.setFromSplunkD(o),i.filters.reset(e.filters.deepClone().toArray()),i.columns.reset(e.columns.deepClone().toArray()),i.rows.reset(e.rows.deepClone().toArray()),i.cells.reset(e.cells.deepClone().toArray()),t},setFromPivotJSON:function(i,o){"string"==typeof i&&(i=JSON.parse(i));var s=this.entry.content,n=t(i).pick("baseClass","baseClassLineage"),a=i.rowFormat,r=i.colFormat;a&&(n.showRowSummary=a.hasOwnProperty("showSummary")?a.showSummary.toString():u.showRowSummary,n.rowLimitType=a.limitType||u.rowLimitType,a.hasOwnProperty("limitAmount")&&(n.rowLimitAmount=a.limitAmount)),r&&(n.showColSummary=r.hasOwnProperty("showSummary")?r.showSummary.toString():u.showColSummary,n.showOtherCol=r.hasOwnProperty("showOther")?r.showOther.toString():u.showOtherCol,r.hasOwnProperty("limitAmount")&&(n.colLimitAmount=r.limitAmount)),p.safeResetCollection(s.filters,i.filters,e.extend({parse:!0},o)),p.safeResetCollection(s.cells,i.cells,e.extend({parse:!0},o)),p.safeResetCollection(s.columns,i.columns,e.extend({parse:!0},o)),p.safeResetCollection(s.rows,i.rows,e.extend({parse:!0},o)),this.validateLimitAmountEnabled("row")&&(n.rowLimitAmount=u.rowLimitAmount),this.validateLimitAmountEnabled("column")&&(n.colLimitAmount=u.colLimitAmount),s.set(n,o)},getPivotJSON:function(){var i=this.entry.content,o=this.getPivotObjectName(),s=i.get("baseClassLineage"),n=this.getElementCollectionByType("row").toJSON(),a=this.getElementCollectionByType("column").toJSON(),r=this.getElementCollectionByType("cell").toJSON(),l=i.get("rowLimitType"),d={baseClass:o,baseClassLineage:s,filters:this.getElementCollectionByType("filter").toJSON(),cells:r,rows:n,columns:a};if(i.get("search")&&(d.dataModel=m.parseModelAndObjectFromSearch(i.get("search"))[1]),n.length>0&&(d.rowFormat={limitType:l,showSummary:c.normalizeBoolean(i.get("showRowSummary")),limitFieldName:n[0].fieldName,limitFieldOwner:n[0].owner},this.validateLimitAmountEnabled("row")||(d.rowFormat.limitAmount=i.get("rowLimitAmount")),"default"!==l)){var p=t(r).find((function(e){return e.value in{count:!0,dc:!0,sum:!0,avg:!0}||e.type in{objectCount:!0,childCount:!0}}));p=p||{fieldName:o,owner:s,value:"count"},e.extend(d.rowFormat,{limitByAttributeName:p.fieldName,limitByAttributeOwner:p.owner,limitStatsFn:p.value||"count"})}return a.length>0&&(d.colFormat={showSummary:c.normalizeBoolean(i.get("showColSummary")),showOther:c.normalizeBoolean(i.get("showOtherCol"))},this.validateLimitAmountEnabled("column")?d.colFormat.limitAmount=1e3:d.colFormat.limitAmount=i.get("colLimitAmount")),d},getPivotObjectName:function(){return this.entry.content.get("baseClass")},getIndexTimeFilter:function(){return this.entry.content.filters.find((function(e){return"_time"===e.get("fieldName")}))}},{REPORT_FORMAT_FILTER:["^display.statistics..*","^display.prefs.statistics.count$","^display.visualizations..*","^display.general.type$"],PIVOT_CONTENT_FILTER:["^showRowSummary$","^rowLimitType$","^rowLimitAmount$","^showColSummary$","^colLimitAmount$","^showOtherCol$"],CONTENT_DEFAULTS:u,parseModelAndObjectFromSearch:function(e){return/^\s*\|\s*pivot\s+(\w+:"[^"]+")\s+(\w+)/.exec(e)||/^\s*\|\s*pivot\s+([\w.:-]+)\s+(\w+)/.exec(e)}});return m.Entry=r.Entry.extend({}),m.Entry.Content=l.extend({defaults:e.extend({},l.prototype.defaults,u),validation:e.extend({},l.prototype.validation,{rowLimitAmount:{pattern:"number",min:0,max:1e6,msg:t("Limit must be a number between 0 and 1,000,000.").t(),required:!0},colLimitAmount:{pattern:"number",min:0,max:1e3,msg:t("Limit must be a number between 0 and 1,000.").t(),required:!0}})},{Filters:o,Cells:s,Columns:n,Rows:a}),m}.apply(t,o))||(e.exports=s)},"models/pivot/PivotSearch":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/Base"),i("util/splunkd_utils"),i("util/general_utils")],void 0===(s=function(e,t,i,o){var s={};return t.extend({parse:function(t,i){var s=e.extend({},t.entry[0].content);return o.transferKey(s,"pivot_search","pivotSearch"),o.transferKey(s,"pivot_json","pivotJson"),o.transferKey(s,"tstats_search","tstatsSearch"),o.transferKey(s,"open_in_search","openInSearch"),o.transferKey(s,"drilldown_search","drilldownSearch"),this.memoizeContent(s,i),s},sync:function(o,s,n){if("read"!==o)throw new Error("Unsupported method: "+o);var a=n.data||{};if(!a.dataModel&&!a.modelJson)throw new Error("The dataModel parameter or the modelJson parameter is required when fetching");a.dataModel?(n.url=i.fullpath(a.dataModel.replace(/datamodel\/(model|generate)/,"datamodel/pivot")),delete a.dataModel,delete a.app,delete a.owner,a.output_mode="json"):((n=i.prepareSyncOptions(n,"datamodel/pivot")).data.model_json=n.data.modelJson,delete n.data.modelJson,n.data.name="pivot_from_model_json",n.type="POST");var r=s.toJSON();if(!r.pivotSearch&&!r.pivotJson)throw new Error("Either pivotSearch or pivotJson must be populated before fetching");e.extend(n.data,{pivot_search:r.pivotSearch,pivot_json:r.pivotJson});var l=this.getMemoizedContent(n);return l?this.generateResponse(l,n):t.prototype.sync.call(this,o,s,n)},memoizeContent:function(e,t){var i=this.getMemoizationPrefix(t);s[i+e.pivotSearch]=e,s[i+e.pivotJson]=e},getMemoizedContent:function(e){var t=this.getMemoizationPrefix(e),i=e.data;return i.pivot_search?s[t+i.pivot_search]:s[t+i.pivot_json]},generateResponse:function(t,i){var o={entry:[{content:{pivot_search:t.pivotSearch,pivot_json:t.pivotJson,tstats_search:t.tstatsSearch,search:t.search,open_in_search:t.openInSearch,drilldown_search:t.drilldownSearch}}]},s=e.Deferred().resolve().promise();return this.trigger("request",this,s,i),i.success(o),s},getMemoizationPrefix:function(e){var t=e.data||{},i=t.modelJson||t.model_json;if(i){var o="";try{o=JSON.parse(i).modelName||""}catch(e){}return o+"-"+(t.namespace||"")+"-"}return e.url+"-"+(t.namespace||"")+"-"}},{clearCache:function(){s={}}})}.apply(t,o))||(e.exports=s)},"models/pivot/datatable/PivotableDataTable":function(e,t,i){var o,s;o=[i("require/underscore"),i("collections/Base"),i("constants/pivot"),i("models/Base")],void 0===(s=function(e,t,i,o){var s=o.extend({idAttribute:"fieldName",defaults:{type:i.STRING}}),n=t.extend({model:s,comparator:function(e){var t=(e.get("displayName")||"").toLowerCase();return e.type===i.OBJECT_COUNT?"a"+t:e.type===i.CHILD_COUNT?"b"+t:"c"+t}}),a=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments),this.fields=this.associated.fields=new n},getFieldList:function(){return this.fields.invoke("toJSON")},getGroupedFieldList:function(){var t=e(this.getFieldList()).groupBy((function(e){return e.type===i.TIMESTAMP?"timestamp":e.type===i.OBJECT_COUNT||e.type===i.CHILD_COUNT?"objectCount":"other"}));return t.objectCount=t.objectCount||[],t.timestamp=t.timestamp||[],t.other=t.other||[],t},getIndexTimeField:function(){return this.fields.findWhere({fieldName:"_time",type:i.TIMESTAMP})},hasIndexTimeField:function(){return!!this.getIndexTimeField()},getFieldByName:function(e){var t=this.fields.get(e);return t?t.toJSON():null},isAccelerated:function(){return!!this.get("accelerationNamespace")},convertToFullyQualifiedName:function(e){return this.getFieldByName(e).fullyQualifiedName},getSampleValuesModel:function(e,t){throw new Error("Implementation required!")},hasParentDataModel:function(){return!1},getDataModelName:function(){throw new Error("This data table is not associated with a data model.")},getDataModelId:function(){throw new Error("This data table is not associated with a data model.")}},{createFromDataModelObject:function(e,t){return r.create(e,t)},createFromDataset:function(e,t){return l.create(e,t)}}),r=a.extend({initialize:function(e,t){if(a.prototype.initialize.apply(this,arguments),t=t||{},this.dataModelObject=t.dataModelObject,!this.dataModelObject)throw new Error("dataModelObject is a required option");this.dataModel=t.dataModel||null},getSampleValuesModel:function(e,t){var i=this.dataModelObject.getFieldByName(e);return this.dataModelObject.getSampleValuesModel(i.fieldName,i.owner,t)},hasParentDataModel:function(){return!!this.dataModel||a.prototype.hasParentDataModel.apply(this,arguments)},getDataModelName:function(){return this.dataModel?this.dataModel.entry.content.get("displayName"):a.prototype.getDataModelName.apply(this,arguments)},getDataModelId:function(){return this.dataModel?this.dataModel.id:a.prototype.getDataModelId.apply(this,arguments)}},{create:function(t,i){var o=new r({accelerationNamespace:t.get("tsidxNamespace"),displayName:t.get("displayName"),baseSearch:t.get("objectSearch"),id:t.get("objectName")},{dataModelObject:t,dataModel:i}),s=e(t.getReportFields()).map((function(i){var o=e(i).pick("fieldName","displayName","type","owner");return o.fullyQualifiedName=t.addLineagePrefix(i.fieldName,i.owner),o}));return i&&o.set({fullyQualifiedId:i.id}),o.fields.set(s),o}}),l=r.extend({},{create:function(e,t){var i=r.create(e);return i.set({fullyQualifiedId:t.fullyQualifiedId,displayName:t.displayName}),i}});return a}.apply(t,o))||(e.exports=s)},"models/pivot/elements/BaseElement":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/Base")],void 0===(s=function(e,t){return t.extend({defaults:{label:""},getDefaultLabel:function(){return this.computeDefaultLabel(this.attributes)},computeDefaultLabel:function(e){return e.displayName||e.fieldName},getComputedLabel:function(){return this.get("label")||this.getDefaultLabel()},refreshLabel:function(e){this.get("label")===this.getDefaultLabel()&&this.set({label:""},e)},parse:function(e){return this.parseLabel(e)},parseLabel:function(t){return t.label===this.computeDefaultLabel(t)?e.extend({},t,{label:""}):t},toJSON:function(){return{fieldName:this.get("fieldName")||"",type:this.get("type"),owner:this.get("owner")}}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/cells/ChildCountCell":function(e,t,i){var o,s;o=[i("shim/jquery"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"cell",sparkline:"false"}),computeDefaultLabel:function(e){return o.getCellValueLabel(e.displayName,"count")},parse:function(t){return(t=e.extend(!0,{},t)).sparkline=t.sparkline?t.sparkline.toString():"false",delete t.value,this.parseLabel(t)},toJSON:function(){var o=i.prototype.toJSON.call(this);return e.extend(o,{label:this.getComputedLabel(),value:"count",sparkline:t.normalizeBoolean(this.get("sparkline"))})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/cells/NumberCell":function(e,t,i){var o,s;o=[i("shim/jquery"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"cell",value:"sum",sparkline:"false"}),computeDefaultLabel:function(e){return o.getCellValueLabel(e.displayName,e.value)},parse:function(t){return(t=e.extend(!0,{},t)).sparkline=t.sparkline?t.sparkline.toString():"false",this.parseLabel(t)},toJSON:function(){var o=i.prototype.toJSON.call(this);return e.extend(o,{label:this.getComputedLabel(),value:this.get("value"),sparkline:t.normalizeBoolean(this.get("sparkline"))})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/cells/ObjectCountCell":function(e,t,i){var o,s;o=[i("shim/jquery"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"cell",sparkline:"false"}),computeDefaultLabel:function(e){return e.displayName},parse:function(t){return(t=e.extend(!0,{},t)).sparkline=t.sparkline?t.sparkline.toString():"false",delete t.value,this.parseLabel(t)},toJSON:function(){var o=i.prototype.toJSON.call(this);return e.extend(o,{label:this.getComputedLabel(),value:"count",sparkline:t.normalizeBoolean(this.get("sparkline"))})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/cells/StringCell":function(e,t,i){var o,s;o=[i("shim/jquery"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"cell",value:"dc",sparkline:"false"}),computeDefaultLabel:function(e){return o.getCellValueLabel(e.displayName,e.value)},parse:function(t){return(t=e.extend(!0,{},t)).sparkline=t.sparkline?t.sparkline.toString():"false",this.parseLabel(t)},toJSON:function(){var o=i.prototype.toJSON.call(this);return e.extend(o,{label:this.getComputedLabel(),value:this.get("value"),sparkline:t.normalizeBoolean(this.get("sparkline"))})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/cells/TimestampCell":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i){return t.extend({defaults:e.extend({},t.prototype.defaults,{elementType:"cell",value:"duration"}),computeDefaultLabel:function(e){return"earliest"===e.value?"earliest_time":"latest"===e.value?"latest_time":i.getCellValueLabel(e.displayName,e.value)},toJSON:function(){var i=t.prototype.toJSON.call(this);return e.extend(i,{label:this.getComputedLabel(),value:this.get("value")})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/columns/BooleanColumn":function(e,t,i){var o,s;o=[i("shim/jquery"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"column",trueLabel:"",falseLabel:""}),computeDefaultTrueLabel:function(e){return o.booleanFieldNameLabel(e.displayName||e.fieldName,!0)},computeDefaultFalseLabel:function(e){return o.booleanFieldNameLabel(e.displayName||e.fieldName,!1)},refreshLabel:function(e){i.prototype.refreshLabel.apply(this,arguments);var t={};this.get("trueLabel")===this.computeDefaultTrueLabel(this.attributes)&&(t.trueLabel=""),this.get("falseLabel")===this.computeDefaultFalseLabel(this.attributes)&&(t.falseLabel=""),this.set(t,e)},parse:function(t){return(t=e.extend(!0,{},t)).trueLabel===this.computeDefaultTrueLabel(t)&&(t.trueLabel=""),t.falseLabel===this.computeDefaultFalseLabel(t)&&(t.falseLabel=""),t},toJSON:function(){var t=i.prototype.toJSON.call(this);return e.extend(t,{trueLabel:this.get("trueLabel")||this.computeDefaultTrueLabel(this.attributes),falseLabel:this.get("falseLabel")||this.computeDefaultFalseLabel(this.attributes)})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/columns/NumberColumn":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement")],void 0===(s=function(e,t,i,o){return o.extend({defaults:e.extend({},o.prototype.defaults,{elementType:"column",display:"ranges"}),validation:{maxNumRanges:{pattern:"digits",min:2,required:!1,msg:t("Max # of Ranges must be an integer greater than 1.").t()},rangeSize:{pattern:"number",min:Number.MIN_VALUE,required:!1,msg:t("Range Size must be a positive number.").t()},rangeStart:{pattern:"number",required:!1,msg:t("Range Start must be a number.").t()},rangeEnd:{pattern:"number",required:!1,msg:t("Range End must be a number.").t()}},parse:function(t){var i=(t=e.extend(!0,{},t)).ranges;return t.ranges&&(t.maxNumRanges=i.hasOwnProperty("maxNumberOf")?i.maxNumberOf.toString():void 0,t.rangeSize=i.hasOwnProperty("size")?i.size.toString():void 0,t.rangeStart=i.hasOwnProperty("start")?i.start.toString():void 0,t.rangeEnd=i.hasOwnProperty("end")?i.end.toString():void 0,delete t.ranges),t},toJSON:function(){var e=o.prototype.toJSON.call(this);return e.display=this.get("display"),"ranges"===e.display&&(e.ranges={maxNumberOf:this.has("maxNumRanges")&&""!==this.get("maxNumRanges")?this.get("maxNumRanges"):void 0,size:this.has("rangeSize")&&""!==this.get("rangeSize")?this.get("rangeSize"):void 0,start:this.has("rangeStart")&&""!==this.get("rangeStart")?this.get("rangeStart"):void 0,end:this.has("rangeEnd")&&""!==this.get("rangeEnd")?this.get("rangeEnd"):void 0}),e}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/columns/StringColumn":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement")],void 0===(s=function(e,t,i,o){return o.extend({defaults:e.extend({},o.prototype.defaults,{elementType:"column"})})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/columns/TimestampColumn":function(e,t,i){var o,s;o=[i("shim/jquery"),i("shim/splunk.util"),i("models/pivot/elements/BaseElement")],void 0===(s=function(e,t,i){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"column",period:"auto",showSummary:"false"}),toJSON:function(){var t=i.prototype.toJSON.call(this);return e.extend(t,{period:this.get("period")})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/filters/BooleanFilter":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i){return t.extend({defaults:e.extend({},t.prototype.defaults,{elementType:"filter",ruleCompareTo:"true",filterType:"match"}),computeDefaultLabel:function(e){return i.getMatchFilterLabel(e.displayName,e.ruleCompareTo)},parse:function(t){return(t=e.extend(!0,{},t)).rule&&(t.ruleCompareTo=t.rule.compareTo||t.rule.comparator,delete t.rule),t},toJSON:function(){var i=t.prototype.toJSON.call(this),o=this.get("ruleCompareTo");return o in{isNull:!0,isNotNull:!0}?e.extend(i,{rule:{comparator:o}}):e.extend(i,{rule:{comparator:"=",compareTo:o}})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/filters/NumberFilter":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"filter",filterType:"match",ruleComparator:"=",ruleCompareTo:"*",limitType:"highest",limitAmount:10,limitStatsFn:"count"}),validation:{limitAmount:{pattern:"digits",min:1,required:!0,msg:t("Limit Amount must be an integer greater than 1.").t()},ruleCompareTo:[{required:!0,msg:t("Match is a required field.").t()},{fn:"validateRuleCompareTo"}]},initialize:function(){i.prototype.initialize.call(this),this.has("limitBy")||this.set({limitBy:this.get("fieldName"),limitByDataType:this.get("type")})},computeDefaultLabel:function(e){return"match"===e.filterType?o.getMatchFilterLabel(e.displayName,e.ruleComparator,e.ruleCompareTo):e.limitBy!==e.fieldName?o.getLimitFilterLabel(e.displayName,e.limitType,e.limitAmount,e.limitByDisplayName):o.getLimitFilterLabel(e.displayName,e.limitType,e.limitAmount)},parse:function(t){return(t=e.extend(!0,{},t)).rule?(t.filterType="match",t.ruleComparator=t.rule.comparator,t.rule.compareTo&&(t.ruleCompareTo=t.rule.compareTo),delete t.rule):t.limit&&(t.filterType="limit",t.limitBy=t.limit.attributeName,t.limitByOwner=t.limit.attributeOwner,t.limitType=t.limit.limitType,t.limitAmount=t.limit.limitAmount,t.limitStatsFn=t.limit.statsFn),t},toJSON:function(){var t=i.prototype.toJSON.call(this);if("match"===this.get("filterType")){var o=this.get("ruleComparator");return o in{isNull:!0,isNotNull:!0}?e.extend(t,{rule:{comparator:o}}):e.extend(t,{rule:{comparator:o,compareTo:this.get("ruleCompareTo")}})}return e.extend(t,{limit:{attributeName:this.get("limitBy"),attributeOwner:this.get("limitByOwner"),limitType:this.get("limitType"),limitAmount:this.get("limitAmount"),statsFn:this.get("limitStatsFn")}})},validateRuleCompareTo:function(e,i,o){if(o.ruleComparator in{"<":!0,">":!0,"<=":!0,">=":!0}&&t.isNaN(parseFloat(e)))return"Match must be a valid number."}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/filters/StringFilter":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("models/pivot/elements/BaseElement"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({defaults:e.extend({},i.prototype.defaults,{elementType:"filter",filterType:"match",ruleComparator:"is",ruleCompareTo:"*",limitType:"highest",limitAmount:10,limitStatsFn:"count"}),validation:{limitAmount:{pattern:"digits",min:1,required:!0,msg:t("Limit Amount must be an integer greater than 1.").t()},ruleCompareTo:{required:!0,msg:t("Match is a required field.").t()}},initialize:function(){i.prototype.initialize.call(this),this.has("limitBy")&&this.get("limitBy")!==this.get("fieldName")||this.set({limitBy:this.get("fieldName"),limitByDataType:this.get("type")})},computeDefaultLabel:function(e){return"match"===e.filterType?o.getMatchFilterLabel(e.displayName,e.ruleComparator,e.ruleCompareTo):e.limitBy!==e.fieldName?o.getLimitFilterLabel(e.displayName,e.limitType,e.limitAmount,e.limitByDisplayName):o.getLimitFilterLabel(e.displayName,e.limitType,e.limitAmount)},parse:function(t){return(t=e.extend(!0,{},t)).rule?(t.filterType="match",t.ruleComparator=t.rule.comparator,t.rule.compareTo&&(t.ruleCompareTo=t.rule.compareTo),delete t.rule):t.limit&&(t.filterType="limit",t.limitBy=t.limit.attributeName,t.limitByOwner=t.limit.attributeOwner,t.limitType=t.limit.limitType,t.limitAmount=t.limit.limitAmount,t.limitStatsFn=t.limit.statsFn),t},toJSON:function(){var t=i.prototype.toJSON.call(this);if("match"===this.get("filterType")){var o=this.get("ruleComparator");return o in{isNull:!0,isNotNull:!0}?e.extend(t,{rule:{comparator:o}}):e.extend(t,{rule:{comparator:o,compareTo:this.get("ruleCompareTo")}})}return e.extend(t,{limit:{attributeName:this.get("limitBy"),attributeOwner:this.get("limitByOwner"),limitType:this.get("limitType"),limitAmount:this.get("limitAmount"),statsFn:this.get("limitStatsFn")}})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/filters/TimestampFilter":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/pivot/elements/BaseElement")],void 0===(s=function(e,t){return t.extend({defaults:e.extend({},t.prototype.defaults,{elementType:"filter",label:"All time"}),toJSON:function(){var i=t.prototype.toJSON.call(this);return e.extend(i,{label:this.getComputedLabel(),earliestTime:this.get("earliestTime"),latestTime:this.get("latestTime")})},setTimeRange:function(e,t){this.timePresets=t,this.timeRange=e.clone(),this.populateFromTimeRange(),this.timeRange.on("change:earliest change:latest",this.populateFromTimeRange,this)},clone:function(){var e=t.prototype.clone.apply(this,arguments);return this.timeRange&&e.setTimeRange(this.timeRange,this.timePresets),e},populateFromTimeRange:function(){this.set({earliestTime:this.timeRange.get("earliest"),latestTime:this.timeRange.get("latest")||"",label:this.timeRange.generateLabel(this.timePresets)})}})}.apply(t,o))||(e.exports=s)},"models/pivot/elements/rows/BooleanRow":function(e,t,i){var o,s;o=[i("models/pivot/elements/rows/column_to_row_converter"),i("models/pivot/elements/columns/BooleanColumn")],void 0===(s=function(e,t){return e.convert(t)}.apply(t,o))||(e.exports=s)},"models/pivot/elements/rows/NumberRow":function(e,t,i){var o,s;o=[i("models/pivot/elements/rows/column_to_row_converter"),i("models/pivot/elements/columns/NumberColumn")],void 0===(s=function(e,t){return e.convert(t)}.apply(t,o))||(e.exports=s)},"models/pivot/elements/rows/StringRow":function(e,t,i){var o,s;o=[i("models/pivot/elements/rows/column_to_row_converter"),i("models/pivot/elements/columns/StringColumn")],void 0===(s=function(e,t){return e.convert(t)}.apply(t,o))||(e.exports=s)},"models/pivot/elements/rows/TimestampRow":function(e,t,i){var o,s;o=[i("models/pivot/elements/rows/column_to_row_converter"),i("models/pivot/elements/columns/TimestampColumn")],void 0===(s=function(e,t){return e.convert(t)}.apply(t,o))||(e.exports=s)},"models/pivot/elements/rows/column_to_row_converter":function(e,t,i){var o,s;o=[i("shim/jquery")],void 0===(s=function(e){return{convert:function(t){return t.extend({defaults:e.extend({},t.prototype.defaults,{elementType:"row"}),parse:function(e){return e=t.prototype.parse.call(this,e),this.parseLabel(e)},toJSON:function(){var i=t.prototype.toJSON.call(this);return e.extend(i,{label:this.getComputedLabel()})}})}}}.apply(t,o))||(e.exports=s)},"models/services/summarization/TStatsSummarization":function(e,t,i){var o,s;o=[i("shim/jquery"),i("models/SplunkDBase")],void 0===(s=function(e,t){return t.extend({url:"admin/summarization",fetch:function(i){return i=e.extend(!0,{data:{time_format:"iso8601"}},i),t.prototype.fetch.call(this,i)}})}.apply(t,o))||(e.exports=s)},"pages/pivot.pcss":function(e,t,i){var o=i(2570);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"routers/DependencyAggregationBase":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("routers/Base"),i("helpers/ApiDependencyAggregator"),i("models/shared/Application"),i("models/config"),i("models/classicurl"),i("models/services/server/ServerInfo"),i("models/services/data/ui/Nav"),i("models/services/data/UserPrefGeneral"),i("models/shared/User"),i("models/shared/ClassicURL"),i("models/services/data/ui/Tour"),i("models/services/AppLocal"),i("collections/services/data/ui/Tours"),i("collections/services/AppLocals"),i("collections/services/data/ui/Managers"),i("collections/services/configs/Visualizations")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v,f,g){return i.extend({initialize:function(){i.prototype.initialize.apply(this,arguments),this.aggregator=new o,this._addDependencyHandlers(this.aggregator),this.fetchUser=!0,this.fetchAppLocals=!0,this.fetchAppLocal=!0,this.fetchUserPref=!0,this.fetchServerInfo=!0,this.fetchManagers=!0},page:function(e,t,i){this.shouldRender=!this.history[window.location.pathname],this.model.application.set({locale:e,app:t,page:i.split("?")[0]}),this.deferreds.application.resolve()},_addDependencyHandlers:function(i){i.addHandler(s,t.once(function(){return this.deferreds.application.then(function(){return this.model.application}.bind(this))}.bind(this))),i.addHandler(n.constructor,t.once(function(){return this.model.config}.bind(this))),i.addHandler(c,t.once(function(){return a.fetch().then((function(){return a}))}.bind(this))),i.addHandler(l,t.once(function(){return this.bootstrapAppNav(),this.deferreds.appNav.then(function(){return this.model.appNav}.bind(this))}.bind(this))),i.addHandler(r,t.once(function(){return this.bootstrapServerInfo(),this.deferreds.serverInfo.then(function(){return this.model.serverInfo}.bind(this))}.bind(this))),i.addHandler(d,t.once(function(){return this.bootstrapUserPref(),this.deferreds.userPref.then(function(){return this.model.userPref}.bind(this))}.bind(this))),i.addHandler(h,t.once(function(t,i){return e.when(i.waitFor(m),this.deferreds.tour).then(function(){return this.model.tour}.bind(this))}.bind(this))),i.addHandler(u,t.once(function(){return this.bootstrapAppLocal(),this.deferreds.appLocal.then(function(){return this.model.appLocal}.bind(this))}.bind(this))),i.addHandler(v,t.once(function(){return this.bootstrapAppLocals(),this.deferreds.appLocals.then(function(){return this.collection.appLocals}.bind(this))}.bind(this))),i.addHandler(p,t.once(function(t,i){return this.bootstrapUser(),e.when(this.deferreds.user,i.waitFor(r),i.waitFor(v)).then(function(){return this.model.user}.bind(this))}.bind(this))),i.addHandler(f,t.once(function(){return this.bootstrapManagers(),this.deferreds.managers.then(function(){return this.collection.managers}.bind(this))}.bind(this))),i.addHandler(m,t.once(function(){return this.bootstrapTour(),this.deferreds.tour.then(function(){return this.collection.tours}.bind(this))}.bind(this))),i.addHandler(g,t.once(function(){return this.bootstrapVisualizations(),this.deferreds.visualizations.then(function(){return this.collection.visualizations}.bind(this))}.bind(this)))}})}.apply(t,o))||(e.exports=s)},"routers/PivotRouter":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("collections/services/datamodel/DataModels"),i("models/Base"),i("models/classicurl"),i("models/config"),i("models/services/datamodel/DataModel"),i("models/search/Job"),i("routers/DependencyAggregationBase"),i("models/pivot/PivotReport"),i("models/pivot/PivotSearch"),i("models/pivot/PivotJob"),i("models/pivot/datatable/PivotableDataTable"),i("models/services/AppLocal"),i("models/shared/User"),i("models/services/server/ServerInfo"),i("models/shared/TimeRange"),i("models/shared/Application"),i("collections/services/data/ui/Times"),i("collections/services/configs/Visualizations"),i("views/extensions/DeclarativeDependencies"),i("views/shared/ResponsiveHeaderPage"),i("views/data_model_explorer/DataModelExplorer"),i("views/pivot/PivotView"),i("views/pivot/dialogs/PermissionMismatchDialog"),i("views/pivot/dialogs/CreateReportDialog"),i("views/pivot/dialogs/CreateDashboardPanelDialog"),i("views/pivot/dialogs/SaveDataModelDialog"),i("views/shared/reportcontrols/dialogs/savereport/Master"),i("views/shared/jobstatus/buttons/ExportResultsDialog"),i("views/pivot/dialogs/SharePivotDialog"),i("views/pivot/errors/ErrorDisplay"),i("views/pivot/errors/ErrorPayload"),i("views/shared/FlashMessages"),i("views/shared/dialogs/RiskyCommand"),i("helpers/pivot/ReportHistoryManager"),i("helpers/pivot/PivotVisualizationManager"),i("helpers/Printer"),i("uri/route"),i("util/splunkd_utils"),i("util/general_utils"),i("util/drilldown"),i("util/time"),i("util/console"),i("util/url_parser"),i("shim/splunk.util"),i("shim/splunk.window"),i("stubs/splunk.config"),i("services/WebFeatures")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v,f,g,b,y,w,T,C,S,x,E,D,_,R,M,A,N,O,L,P,z,I,F,k,B,V,$,j,J,H,q,W,U,G){R=w(R).extend({},{apiDependencies:{report:d,reportPristine:{resourceType:d,flags:["pristine"]},application:g,user:m,searchJob:r}}),M=w(M).extend({},{apiDependencies:{searchJob:r,application:g}});var Y=o.extend({}),K=[B.FATAL,B.ERROR,B.WARNING],Q=l.extend({initialize:function(){l.prototype.initialize.apply(this,arguments),this.elasticMode=Q.ADHOC_ACCELERATION_MODE===Q.ELASTIC_ADHOC_ACCELERATION,this.noAccelerationMode=Q.ADHOC_ACCELERATION_MODE===Q.NO_ADHOC_ACCELERATION,this.classicurl=s,this.reportHistoryManager=new z,this.flashMessages=new L,this.flashMessagesHelper=this.flashMessages.flashMsgHelper,this.application=this.model.application,this.fetchVisualizations=!0,this.fetchVisualizationFormatters=!1,this.check_risky_command=U.ENABLE_RISKY_COMMAND_CHECK,this._bodyView=null,this._createPageView=t.once(this._createPageView),this.dataModel=new a,this.report=new d,this.timeRange=new f,this.collectJob=new r,this.pivotJob=new c({},{delay:500,processKeepAlive:!0}),q.trackEvent({type:"pivot.load",data:this.formatEventData({eventCategory:"PivotEditor",eventAction:"init",eventLabel:"Pivot - Page"})})},page:function(t,i,o){this.enablePageView=!1,this.pageViewCount++,l.prototype.page.apply(this,arguments),this._tearDownEventBindings(),this._getWebFeaturesConf().then(this._generateDependencyContext().done(function(t){if(t){this.handlerContext=t;var i={pageView:T,bodyView:t.bodyViewConstructor,router:Q};this.aggregator.fetchAll(i,t).then(function(i){this._readRouterResources(i.router,t),this._pageView=this._createPageView(i.pageView),this.addPageViewEl(this._pageView.el),this._bodyView&&this._bodyView.remove(),this._bodyView=new t.bodyViewConstructor({apiResources:i.bodyView,flashMessages:this.flashMessages}),this._bodyView.render().appendTo(e(".main-section-body")),this.setPageTitle(t.pageTitle),q.trackEvent({type:"pivot.load",data:this.formatEventData({eventCategory:"PivotEditor",eventAction:"load",eventLabel:"Pivot - Page"})})}.bind(this)).catch(this._onDependencyLoadError.bind(this))}else{var o=q.normalizeBoolean(this.model.classicurl.get("hideChrome"));k.redirectTo(k.datasets(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),o?{data:{hideChrome:!0}}:void 0))}}.bind(this)))},_readRouterResources:function(e,i){this.seedJob=e.seedJob,this.dataModelObject=e.dataModelObject,this.pivotSearch=e.pivotSearch,this.dataTable=e.dataTable,this.datasetInfo=e.datasetInfo,this.dialogResources=t(e).pick("saveNewDialog","dashboardDialog","saveDataModelDialog","saveDialog","exportDialog","shareDialog","permissionMismatchDialog"),"pivot-step"===i.flowStep&&this._setupEventBindings()},_setupEventBindings:function(){if(this.report){var e=this.report.entry.content;this.listenTo(this.report,"change:id",(function(){this._populateUrlFromReport(this.report,{trigger:!0})})),this.listenTo(this.report,"reportConfigChange",(function(e,t){this._bodyView.clearData(),this._bodyView.renderContainer({disabled:!0}),this._decorateReportElements(this.report,this.dataTable,{silent:!0}),this._bodyView.showInitializingMessage(),this._redispatchReport().then(function(){q.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorReportConfig",eventAction:"change",eventLabel:"Pivot - Report Config",eventValue:t})})}.bind(this))})),this.listenTo(this.report,"visualizationTypeChange",this._handleVizTypeChange.bind(this)),this.listenTo(e,"change",function(i,o){if(!this.report.hasChanged("id")&&!this.report.vizTypeChanging){var s=e.filterChangedByWildcards(d.REPORT_FORMAT_FILTER,{allowEmpty:!0});delete s["display.visualizations.show"],delete s["display.statistics.show"],delete s["display.visualizations.type"],delete s["display.visualizations.charting.chart"],t.isEmpty(s)||this._populateUrlFromReport(this.report,{replaceState:!0}),q.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorReportContent",eventAction:"change",eventLabel:"Pivot - Report Content",eventValue:o})})}}.bind(this)),this.listenTo(this.report,"clear",this._clearReport),this.listenTo(this.report,"drilldown",this._handleDrilldown),this.listenTo(this.report,"saveAsReport",this._saveNewReport),this.listenTo(this.report,"saveAsDashboardPanel",this._saveNewDashboardPanel),this.listenTo(this.report,"save",this._saveReport)}this.pivotJob&&(this.listenTo(this.pivotJob,"rebuildAcceleration",(function(){this.classicurl.unset("accSid"),this.classicurl.unset("windowedEarliest"),this.classicurl.unset("windowedLatest"),this.classicurl.save({},{trigger:!0})})),this.listenTo(this.pivotJob,"showRiskyWarningDialog",(function(e){this.showRiskyWarning(e.collectJob)})),this.listenTo(this.pivotJob,"inspectAcceleration",(function(){this._inspectJob(this.collectJob)})),this.listenTo(this.pivotJob,"inspect",(function(){this._inspectJob(this.pivotJob)})),this.listenTo(this.pivotJob,"print",(function(){F.printPage()})),this.listenTo(this.pivotJob,"export",this._exportJob),this.listenTo(this.pivotJob,"share",this._shareJob),this.listenTo(this.pivotJob,"reload",(function(){this._populateUrlFromReport(this.report,{trigger:!0,reload:!0})})),this.flashMessagesHelper.register(this.pivotJob,K),this.elasticMode&&!this.dataTable.isAccelerated()&&(this.collectJob.entry.content.get("isTimeCursored")&&this.listenTo(this.pivotJob.entry.content,"change:isDone",(function(){this.pivotJob.isDone()&&this.collectJob.pause()})),this.listenTo(this.pivotJob,"fakeControlAction",(function(e){e in{pause:!0,finalize:!0}?this.collectJob.pause():"unpause"===e&&this.collectJob.unpause()})))),this.dataModel&&this.listenTo(this.dataModel,"save",this._saveDataModel),this.collectJob&&this.flashMessagesHelper.register(this.collectJob,K),this.seedJob&&this.flashMessagesHelper.register(this.seedJob,K),this.pivotSearch&&this.flashMessagesHelper.register(this.pivotSearch,K)},shouldCheckRiskyCommand:function(){return this.pageViewCount<=1},showRiskyWarning:function(t){this.riskyWarningShown=!0,this.riskyWarningDialog=new P({model:{searchJob:t,application:this.model.application},onHiddenRemove:!0,hideInvestigateBtn:!0,showActionableText:!1}),this.listenToOnce(this.riskyWarningDialog,"runSearch",function(){this.check_risky_command=!1,this.page(this.model.application.get("locale"),this.model.application.get("app"),this.model.application.get("page"))}.bind(this)),this.listenToOnce(this.riskyWarningDialog,"cancel",function(){this.close({replaceState:!0})}.bind(this)),this.riskyWarningDialog.render().appendTo(e("body")),this.riskyWarningDialog.show()},handleCollectJobError:function(e,{responseJSON:t}){const i=B.messagesContainsOneOfTypes(t.messages,[B.RISKY_COMMAND]);if(!this.riskyWarningShown&&i){const t=e.getRiskyCommands();if(t&&1===t.length&&t.includes("tscollect"))this.check_risky_command=!1,this.page(this.model.application.get("locale"),this.model.application.get("app"),this.model.application.get("page")),e.entry.content.set("retry",!0);else{if(t.includes("tscollect")){const{error:t}=e;if(t){const e=t.get("messages"),[i]=Array.isArray(e)&&e;if(i){const{text:e}=i;i.text=e&&e.replace("tscollect","")}}}this.showRiskyWarning(e)}}return e},close:function(e){e=e||{},t.defaults(e,{replaceState:!1}),this.model.classicUrl.clear(),this.model.classicUrl.save({},{replaceState:e.replaceState}),this.page(this.model.application.get("locale"),this.model.application.get("app"),this.model.application.get("page"))},_tearDownEventBindings:function(){this.stopListening(),this.report&&this.reportHistoryManager.unregister(this.report),this.collectJob&&this.flashMessagesHelper.unregister(this.collectJob),this.seedJob&&this.flashMessagesHelper.unregister(this.seedJob),this.pivotSearch&&this.flashMessagesHelper.unregister(this.pivotSearch),this.pivotJob&&this.flashMessagesHelper.unregister(this.pivotJob)},_handleVizTypeChange:function(e,i){var o=function(e){return{reportLevelAttributes:e.filterByWildcards(d.PIVOT_CONTENT_FILTER),cells:e.cells.toJSON(),rows:e.rows.toJSON(),columns:e.columns.toJSON()}},s=this.report.entry.content,n=o(s);this._bodyView.clearData(),this.reportHistoryManager.applyConfigUpdates(this.report,this.dataTable.getFieldList(),{silent:!0}),this.reportHistoryManager.applyVisualizationUpdates(this.report),t.isEqual(o(s),n)?(this._bodyView.renderContainer(),this._bodyView.renderData(),this._populateUrlFromReport(this.report,{replaceState:!0}),q.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorVizType",eventAction:"change",eventLabel:"Pivot - Visualizations",eventValue:i})})):(this._bodyView.renderContainer({disabled:!0}),this.pivotJob.stopPolling(),this._bodyView.showInitializingMessage(),this._redispatchReport().then(function(){q.trackEvent({type:"pivot.interact",data:this.formatEventData({eventCategory:"PivotEditorVizType",eventAction:"change",eventLabel:"Pivot - Visualizations",eventValue:i})})}.bind(this)))},_redispatchReport:function(){this.pivotSearch.clear();var i=this.report.entry.content,o=this.report.getPivotJSON(),s=t(o.filters).findWhere({fieldName:"_time",type:"timestamp"});if(s){var n=i.pick("dispatch.earliest_time","dispatch.latest_time");i.set({"dispatch.earliest_time":s.earliestTime},{silent:!0}),s.latestTime?i.set({"dispatch.latest_time":s.latestTime},{silent:!0}):i.unset("dispatch.latest_time",{silent:!0}),o.filters=t(o.filters).without(s);var a=i.pick("dispatch.earliest_time","dispatch.latest_time");!t.isEqual(n,a)&&this.classicurl.has("windowedEarliest")&&(this.classicurl.unset("windowedEarliest"),this.classicurl.unset("windowedLatest"),this.classicurl.unset("accSid"))}var r=e.Deferred();return this.pivotSearch.set({pivotJson:JSON.stringify(o)}),this.pivotSearch.fetch({data:this._generatePivotSearchFetchData(this.dataModel)}).done(function(){i.set({search:this.pivotSearch.get("pivotSearch")},{silent:!0}),this._populateUrlFromReport(this.report,{trigger:!0,reload:!0}),r.resolve()}.bind(this)).fail(function(){this._bodyView.renderErrors(),this._bodyView.renderContainer({disabled:!1}),r.reject()}.bind(this)),r},_clearReport:function(){this.reportHistoryManager.clearHistory();var e=this.classicurl.pick("accSid","windowedEarliest","windowedLatest");this.dataModel.isTemporary()?t.extend(e,this.classicurl.pick("seedSid","fields","field_coverage")):this.datasetInfo.has("dataset")?(e.dataset=q.searchUnescape(this.datasetInfo.get("dataset")),e.type=this.datasetInfo.get("type")):(e.model=this.dataModel.id,e.object=this.dataModelObject.get("objectName")),this.classicurl.clear(),this.classicurl.save(e,{trigger:!0})},_saveNewReport:function(){this._prepareReportForSave(),this.saveNewDialog=new E({apiResources:this.dialogResources.saveNewDialog,onHiddenRemove:!0,preventSidReuse:!0}),this.saveNewDialog.render().appendTo(e("body")),this.saveNewDialog.show(),this.listenToOnce(this.saveNewDialog,"action:flowExited",this._onDialogFlowExited)},_saveNewDashboardPanel:function(){this.dashboardDialog=new D({apiResources:this.dialogResources.dashboardDialog,onHiddenRemove:!0}),this.dashboardDialog.render().appendTo(e("body")),this.dashboardDialog.show(),this.listenToOnce(this.dashboardDialog,"action:flowExited",this._onDialogFlowExited)},_saveReport:function(){var t=this.report.entry.acl.get("sharing");"user"===this.dataModel.entry.acl.get("sharing")&&"user"!==t?(this.permissionMismatchDialog=new x({apiResources:this.dialogResources.permissionMismatchDialog,onHiddenRemove:!0}),this.permissionMismatchDialog.render().appendTo(e("body")),this.permissionMismatchDialog.show()):(this._prepareReportForSave(),this.saveDialog=new R({apiResources:this.dialogResources.saveDialog,onHiddenRemove:!0,chooseVisualizationType:!1,preventSidReuse:!0}),this.saveDialog.render().appendTo(e("body")),this.saveDialog.show())},_prepareReportForSave:function(){var e=this.report.entry.content,t=e.get("display.general.type");"visualizations"===t?e.set({"display.visualizations.show":"1","display.statistics.show":"0"}):"statistics"===t&&e.set({"display.visualizations.show":"0","display.statistics.show":"1"})},_saveDataModel:function(){this.saveDataModelDialog=new _({apiResources:this.dialogResources.saveDataModelDialog,onHiddenRemove:!0}),this.saveDataModelDialog.render().appendTo(e("body")).show(),this.listenToOnce(this.saveDataModelDialog,"action:flowExited",this._onDialogFlowExited)},_onDialogFlowExited:function(e,t){this.report.entry.content.set({search:t}),e&&(this.classicurl.set({q:t}),this._clearTemporaryDataModelFromUrl(),this.classicurl.save({},{trigger:!0}))},_inspectJob:function(e){var t=this.application.get("root"),i=this.application.get("locale"),o=this.application.get("app");W.open(k.jobInspector(t,i,o,e.id),"splunk_job_inspector",{width:870,height:560,menubar:!1})},_exportJob:function(){this.exportDialog=new M({apiResources:this.dialogResources.exportDialog}),this.exportDialog.render().appendTo(e("body")),this.exportDialog.show()},_shareJob:function(){var t=k.pivot(this.application.get("root"),this.application.get("locale"),this.application.get("app"),{data:this.classicurl.toJSON(),absolute:!0});this.shareDialog=new A({apiResources:this.dialogResources.shareDialog,shareLink:t}),this.shareDialog.render().appendTo(e("body")),this.shareDialog.show()},_handleDrilldown:function(i,o){var s=this.report.entry.content,n=[],a=[],r=[],l=[],d=i.rowContext||{},p=s.rows.toArray(),c=i.type,h=this.application;"row"===c&&0===p.length?(n=[null],a=[null]):"column"!==c&&(n=t(p).chain().invoke("getComputedLabel").filter((function(e){return"_time"!==e&&d.hasOwnProperty("row."+e)})).value(),a=t(n).map((function(e){return d["row."+e]})));var u=d["row."+i.name2];if("cell"===c&&t.isArray(u)&&u.length>1){var m=t(i.name2.split(":::")).last(),v=s.cells,f=1===v.length?v.at(0):v.find((function(e){return e.getComputedLabel()===m}));f&&(r.push(this.dataTable.convertToFullyQualifiedName(f.get("fieldName"))),l.push(i.value2))}if(("cell"===c||"column"===c)&&i.hasOwnProperty("name2")){var g="column"===c?s.columns.slice(0,1):s.columns.toArray(),b=g.length>1||s.cells.length>1?t(i.name2.split(":::")).map(e.trim):[e.trim(i.name2)],y="ALL"===b[0];"OTHER"===b[0]?"cell"===c&&(n.push("OTHER"),a.push(i.value2)):t(g).each((function(e,t){y?(n.push(this.dataTable.convertToFullyQualifiedName(e.get("fieldName"))),a.push("ALL")):b.length>t&&(n.push(this.dataTable.convertToFullyQualifiedName(e.get("fieldName"))),a.push(b[t]))}),this)}a=t(a).map((function(e){return"ALL"===e?"*":e}));var w=this.pivotJob.entry.content.get("fieldMetadataResults"),T={search:this.pivotSearch.get("drilldownSearch"),earliest:s.get("dispatch.earliest_time"),latest:s.get("dispatch.latest_time")};o=t.extend({fields:n,values:a},o),k.redirectTo($.applyDrilldownIntention(i,T,w,h,o).then((function(e){return r.length>0&&(e.q+=" | search",t(r).each((function(t,i){e.q+=' "'+t.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'" = "'+l[i].replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'}))),k.search(h.get("root"),h.get("locale"),h.get("app"),{data:e})})),$.shouldDrilldownInNewTab(i,o))},_generateDependencyContext:function(){return this.classicurl.fetch({silentClear:!0}).then(function(){var e,i,o;if(this.classicurl.get("q")||this.classicurl.get("s")||this.classicurl.get("seedSid")||this.classicurl.get("model")&&this.classicurl.get("object")||this.classicurl.get("dataset"))e="pivot-step",i=S,o=t("Pivot").t();else{if(!this.classicurl.get("model"))return null;e="select-object-step",i=C,o=t("Select a Dataset").t()}var s=null;return this.classicurl.has("windowedEarliest")&&this.classicurl.has("windowedLatest")&&(s={earliest_time:this.classicurl.get("windowedEarliest"),latest_time:this.classicurl.get("windowedLatest")}),{urlArgs:this.classicurl.toJSON(),flowStep:e,bodyViewConstructor:i,pageTitle:o,appOwner:this.application.pick("app","owner"),elasticMode:this.elasticMode,noAccelerationMode:this.noAccelerationMode,timeWindow:s}}.bind(this))},_getWebFeaturesConf:function(){return G.default.getFeatureSettings("search_v2_endpoint")},_createPageView:function(t){var i=e.Deferred(),o=new T({splunkBar:this.enableSplunkBar,showAppsList:this.showAppsList,showAppNav:this.enableAppBar,footer:!1,section:"pivot",apiResources:t,deferreds:{pageViewRendered:i}});return o.render(),i.resolve(),o},_onDependencyLoadError:function(i){i||(i=t("An error occurred loading the page.").t()),t.isString(i)?i=O.fromString(i):i instanceof O||(i=O.fromRawResponse(i));var o=new N({model:{application:this.application},errorPayload:i});this.aggregator.fetchAll({pageView:T}).done(function(t){var i=this._createPageView(t.pageView);this.addPageViewEl(i.el),o.render().appendTo(e(".main-section-body"))}.bind(this)).fail(function(){this.addPageViewEl(o.el)}.bind(this)).always(function(){this._generateDependencyContext().done(function(e){this.setPageTitle(e.pageTitle)}.bind(this))}.bind(this))},_addDependencyHandlers:function(o){l.prototype._addDependencyHandlers.apply(this,arguments),o.addHandler(i,t.once(function(){var t=new i;t.fetchData.set({sortKey:"displayName",sortDirection:"asc",count:20,concise:!0},{silent:!0});var o=t.fetch({data:this.handlerContext.appOwner}).then(function(){if(1===t.length&&"select-data-model-step"===this.handlerContext.flowStep&&!t.models[0].isEmpty()&&!this.classicurl.get("noredirect")){var i=t.models[0];return e.Deferred().reject("skip-data-model-selection",{modelId:i.get("id")})}}.bind(this));return{resource:t,deferred:o}}.bind(this))),o.addHandler(b,t.once(function(){var e=new b;return{resource:e,deferred:e.fetch({data:t.extend({count:-1},this.handlerContext.appOwner)})}}.bind(this))),o.addHandler(d,["pristine"],(function(){return new d})),o.addHandler(d,["raw"],function(t){var i=this.handlerContext.urlArgs.s;if(i&&!H.validateUrl(decodeURIComponent(i)))return e.Deferred().reject(new O(O.TYPES.STRING,{messageText:i}));if(t&&t.get("id")===i)return t;var o=new d;if(i&&o.set({id:i}),t){var s=t.entry.content.filterByWildcards(d.PIVOT_CONTENT_FILTER,{allowEmpty:!0});o.entry.content.set(s)}return o.fetch({data:this.handlerContext.appOwner}).then((function(){return o}),(function(){return new O(O.TYPES.REPORT,{report:o})}))}.bind(this)),o.addHandler(d,["preliminary"],function(t,i){var o=e.when(i.waitFor(d,["raw"]),i.waitFor(y)).then(function(e){this.report.clear({silent:!0}),this.report.setFromSplunkD(e.toSplunkD(),{silent:!0}),this.report.isNew()&&(this.report.entry.content.set({"display.prefs.statistics.count":"20"},{silent:!0}),this.report.setVisualizationType(I.STATISTICS_TABLE,{silent:!0})),this._populateReportFromUrl(this.report,{silent:!0})}.bind(this));return{resource:this.report,deferred:o}}.bind(this)),o.addHandler(f,function(t,i){var o=this.timeRange,s=function(){return this.handlerContext.urlArgs.earliest?{earliest:this.handlerContext.urlArgs.earliest,latest:this.handlerContext.urlArgs.latest}:i.waitFor(d,["preliminary"]).then((function(e){var t=e.entry.content;return{earliest:t.get("dispatch.earliest_time"),latest:t.get("dispatch.latest_time")}}))}.bind(this);return e.when(s()).then(function(e){return o.set(e,{silent:!0}),o.save().then((function(){return o}),(function(){return o.restoreDefaults(),o.set({earliest:0}),o.unset("latest"),o.save().then((function(){return o}))}))}.bind(this))}.bind(this)),o.addHandler(Y,function(i,o){var s=function(t){var i=d.parseModelAndObjectFromSearch(t);if(!i||i.length<3)return o.waitFor(d,["preliminary"]).then((function(t){return e.Deferred().reject(new O(O.TYPES.PIVOT_SEARCH,{report:t}))}));var s=i[1];if(s.indexOf(":")>-1){var a=s.split(":");return n(a[1],a[0])}return new Y({model:this._constructFullyQualifiedModelName(encodeURIComponent(i[1])),object:i[2]})}.bind(this),n=function(e,t){if("datamodel"===t){var i=e.split(".");return new Y({model:this._constructFullyQualifiedModelName(i[0]),object:i[1]})}var o=t+":"+e;return new Y({dataset:e,type:t,model:this._constructFullyQualifiedModelName(encodeURIComponent(o))})}.bind(this),a=this.handlerContext.urlArgs;if(a.model)return new Y({model:this._constructFullyQualifiedModelName(a.model),object:a.object});if(a.dataset){var r=q.searchEscape(a.dataset);return n(r,a.type)}return a.seedSid?new Y(t(a).pick("seedSid","fields","field_coverage")):a.q?s(a.q):a.s?o.waitFor(d,["raw"]).then((function(e){return s(e.entry.content.get("search"))})):e.Deferred().reject(t('Missing required URL arguments: one of "q", "model", "seedSid", "s", "dataset"').t())}.bind(this)),o.addHandler(a,function(e,t){return t.waitFor(Y).then(function(i){if("pivot-step"===this.handlerContext.flowStep&&i.has("seedSid"))return t.waitFor(a,["from sid"]);if("pivot-step"===this.handlerContext.flowStep&&i.has("dataset"))return t.waitFor(a,["from dataset"]);var o=i.get("model");if(e&&e.get("id")===o)return e;var s=this.dataModel;return s.clear({silent:!0}),s.set({id:o},{silent:!0}),s.fetch({data:this.handlerContext.appOwner}).then((function(){return s})).catch((function(){return Promise.reject(new O(O.TYPES.DATA_MODEL,{dataModel:s}))}))}.bind(this))}.bind(this)),o.addHandler(a,["from sid"],function(e){if(e&&e.get("sid")===this.handlerContext.urlArgs.seedSid)return e;var i=this.dataModel,o=t.extend({sid:this.handlerContext.urlArgs.seedSid},this.handlerContext.appOwner,t(this.handlerContext.urlArgs).pick("fields","field_coverage"));return i.fetch({data:o}).then((function(){return i})).catch(function(){return Promise.reject(new O(O.TYPES.SEED_SID,{seedSid:this.handlerContext.urlArgs.seedSid}))}.bind(this))}.bind(this)),o.addHandler(a,["from dataset"],function(e){if(e&&e.get("dataset")===this.handlerContext.urlArgs.dataset)return e;var i=this.dataModel;return o.waitFor(Y).then(function(e){var o=t.extend(e.pick("dataset","type"),this.handlerContext.appOwner);return i.fetch({data:o}).then((function(){return i})).catch((function(){return Promise.reject(new O(O.TYPES.DATASET,{datasetName:e.get("dataset")}))}))}.bind(this))}.bind(this)),o.addHandler(a.Object,function(i,o){return e.when(o.waitFor(a),o.waitFor(Y)).then(function(i,o){if(o.has("seedSid"))return 0===i.entry.content.objects.length?e.Deferred().reject(new O(O.TYPES.SEED_SID,{seedSid:o.get("seedSid")})):i.entry.content.objects.at(0);if(o.has("dataset"))return 0===i.entry.content.objects.length?(J.error("The dataset generated an empty data model."),e.Deferred().reject(new O(O.TYPES.DATASET,{datasetName:o.get("dataset")}))):i.entry.content.objects.at(0);if(0===i.entry.content.objects.length)return e.Deferred().reject(t("The data model does not contain any objects.").t());var s=o.get("object"),n=s?i.objectByName(s):i.entry.content.objects.at(0);return n||e.Deferred().reject(new O(O.TYPES.OBJECT,{objectName:s,dataModel:i}))}.bind(this))}.bind(this)),o.addHandler(h,function(t,i){return e.when(i.waitFor(a),i.waitFor(a.Object),i.waitFor(Y)).then(function(e,t,i){return i.has("dataset")?h.createFromDataset(t,{fullyQualifiedId:null,displayName:i.get("dataset")}):e.entry.content.get("dataset.type")===a.DOCUMENT_TYPES.TABLE?h.createFromDataset(t,{fullyQualifiedId:e.id,displayName:e.entry.content.get("displayName")}):h.createFromDataModelObject(t,e)}.bind(this))}.bind(this)),o.addHandler(d,["query guaranteed"],function(t,i){return this.handlerContext.urlArgs.q||this.handlerContext.urlArgs.s?this.handlerContext.urlArgs.s&&!H.validateUrl(decodeURIComponent(this.handlerContext.urlArgs.s))?e.Deferred().reject(new O(O.TYPES.STRING,{messageText:this.handlerContext.urlArgs.s})):i.waitFor(d,["preliminary"]):e.when(i.waitFor(d,["preliminary"]),i.waitFor(h)).then(function(e,t){return e.entry.content.set({baseClass:t.get("id")},{silent:!0}),this.handlerContext.urlArgs.cells?e.addElement("cell",t.getFieldByName(this.handlerContext.urlArgs.cells),{silent:!0}):e.addElement("cell",t.getFieldByName(t.get("id")),{silent:!0}),this.handlerContext.urlArgs.rows&&("_time"!==this.handlerContext.urlArgs.rows&&e.entry.content.set({rowLimitType:"descending"},{silent:!0}),e.addElement("row",t.getFieldByName(this.handlerContext.urlArgs.rows),{silent:!0})),this.handlerContext.urlArgs.columns&&e.addElement("column",t.getFieldByName(this.handlerContext.urlArgs.columns),{silent:!0}),e}.bind(this))}.bind(this)),o.addHandler(p,function(i,o){var s=o.waitFor(a),n=o.waitFor(d,["query guaranteed"]),r=o.waitFor(Y).then(function(e){return e.has("seedSid")?s.then(this._generatePivotSearchFetchData.bind(this)):this._generatePivotSearchFetchDataFromModelId(e.get("model"))}.bind(this)),l=new p,c=function(t){return l.fetch({data:t}).then((function(){return l})).catch((function(){return e.when(o.waitFor(d,["preliminary"]),o.waitFor(Y)).then((function(t,i){return e.Deferred().reject(new O(O.TYPES.PIVOT_SEARCH,{report:t,dataModelId:i.get("model")}))}))}))};return e.when(r,o.waitFor(d,["preliminary"]),o.waitFor(Y)).then(function(e,i,o){var a=i.entry.content.get("search");return a?(l.set({pivotSearch:a}),c(e)):n.then(function(i){var n=i.getPivotJSON();return n.dataModel||o.has("model")?(n.dataModel=n.dataModel||t(o.get("model").split("/")).last(),l.set({pivotJson:JSON.stringify(n)}),c(e)):s.then((function(i){return n.dataModel=t(i.get("id").split("/")).last(),l.set({pivotJson:JSON.stringify(n)}),c(e)}))}.bind(this))}.bind(this))}.bind(this)),o.addHandler(d,function(t,i){var o=i.waitFor(b),s=e.when(i.waitFor(d,["query guaranteed"]),i.waitFor(h),i.waitFor(p),i.waitFor(f));return s=(s=s.then(function(e,t,i,s){var n=e.entry.content;n.set({search:i.get("pivotSearch"),"dispatch.earliest_time":s.get("earliest")},{silent:!0}),s.has("latest")?n.set({"dispatch.latest_time":s.get("latest")},{silent:!0}):n.unset("dispatch.latest_time",{silent:!0}),e.setFromPivotJSON(i.get("pivotJson"),{silent:!0}),this._decorateReportElements(e,t,{silent:!0});var a=t.getIndexTimeField();return a?o.then((function(t){return e.addElement("filter",a.toJSON(),{at:0,silent:!0}),n.filters.at(0).setTimeRange(s,t),e})):e}.bind(this))).done(function(e){this.reportHistoryManager.register(e),this.reportHistoryManager.applyVisualizationUpdates(e),this._populateUrlFromReport(e,{replaceState:!0})}.bind(this))}.bind(this)),o.addHandler(r,["seed job"],function(){var e=new r({},{delay:r.DEFAULT_LONG_POLLING_INTERVAL,processKeepAlive:!0});return this.handlerContext.urlArgs.seedSid&&(e.set({id:this.handlerContext.urlArgs.seedSid}),e.fetch({data:this.handlerContext.appOwner}).done((function(){e.isDone()||(e.startPolling(),e.stopKeepAlive())}))),e}.bind(this)),o.addHandler(r,["collect job"],function(i,o){var s,n=this.collectJob;if(this.handlerContext.noAccelerationMode)return this._disposeOfCollectJob(n);this.handlerContext.urlArgs.accSid?(n.set({id:this.handlerContext.urlArgs.accSid},{silent:!0}),s=n.fetch({data:this.handlerContext.appOwner})):s=e.Deferred().reject();var a=o.waitFor(f);return e.when(o.waitFor(h),o.waitFor(d,["preliminary"])).then(function(i,o){if(i.isAccelerated())return this._disposeOfCollectJob(n);var r=o.entry.content,l=i.get("baseSearch"),d=this._constructCollectSearch(l);return s.then(function(){var e=n.entry.content.request.get("search");if(this.handlerContext.timeWindow){var i=this.handlerContext.timeWindow;return d!==e?this._dispatchNewCollectJob(n,l,t.extend({destroyExisting:!0},i)):n}return this.handlerContext.elasticMode?j.isRealtime(r.get("dispatch.earliest_time"))?this._disposeOfCollectJob(n,{destroy:!0}):a.then(function(t){return d!==e||this._shouldHandleCollectTimeRangeMismatch(n,t)?this._dispatchNewElasticCollectJob(n,l,t,{destroyExisting:!0}).then(function(){return this._waitForRunningCollect(n,t,l).then(function(){return this._ensureCollectRunningState(n,t)}.bind(this))}.bind(this)):this._waitForRunningCollect(n,t,l).then(function(){return this._ensureCollectRunningState(n,t)}.bind(this))}.bind(this)):d!==e?this._dispatchNewCollectJob(n,l,{destroyExisting:!0}):n}.bind(this),function(){return this._disposeOfCollectJob(n),this.handlerContext.timeWindow?this._dispatchNewCollectJob(n,l,this.handlerContext.timeWindow):this.handlerContext.elasticMode?j.isRealtime(r.get("dispatch.earliest_time"))?e.Deferred().resolve(n):a.then(function(e){return this._dispatchNewElasticCollectJob(n,l,e).then(function(){return this._waitForRunningCollect(n,e,l).then(function(){return this._ensureCollectRunningState(n,e)}.bind(this))}.bind(this))}.bind(this)):this._dispatchNewCollectJob(n,l)}.bind(this))}.bind(this))}.bind(this)),o.addHandler(c,function(i,o){var s=this.pivotJob,n=this.pivotJob.clone(),a=this.check_risky_command,l=o.waitFor(h),c=o.waitFor(r,["collect job"]),u=e.when(o.waitFor(p),o.waitFor(d,["preliminary"]));return(u=u.then(function(e,i){var o=i.entry.content,s=t.extend(this.handlerContext.appOwner,{search:e.get("search"),earliest_time:o.get("dispatch.earliest_time")||0});return o.get("dispatch.latest_time")&&(s.latest_time=o.get("dispatch.latest_time")),this.handlerContext.timeWindow&&t.extend(s,this.handlerContext.timeWindow),this.handlerContext.noAccelerationMode?s:l.then(function(t){return t.isAccelerated()?(s.tsidxNamespace=t.get("accelerationNamespace"),s.tstatsSearch=e.get("tstatsSearch").replace(new RegExp(Q.TSIDX_NAMESPACE_TOKEN,"g"),t.get("accelerationNamespace")),s):this.handlerContext.elasticMode&&j.isRealtime(s.earliest_time)?s:c.then((function(t){return s.sid=t.get("id"),s.tstatsSearch=e.get("tstatsSearch").replace(new RegExp(Q.TSIDX_NAMESPACE_TOKEN,"g"),"sid="+t.get("id")),s}))}.bind(this))}.bind(this))).done((function(e){n.destroy(),e.check_risky_command=a,e.provenance="UI:Pivot",s.stopPolling(),s.clear(),s.save({},{data:e}).done((function(){s.startPolling()}))})),s}.bind(this)),o.addHandler(r,(function(e,t){return t.waitFor(c)}))},_populateReportFromUrl:function(e){var i=e.entry.content,o=t(this.classicurl.toJSON()).omit("model");o.q&&V.transferKey(o,"q","search"),o.hasOwnProperty("earliest")?V.transferKey(o,"earliest","dispatch.earliest_time"):i.get("dispatch.earliest_time")||(o["dispatch.earliest_time"]=0),V.transferKey(o,"latest","dispatch.latest_time"),e.entry.content.set(o)},_decorateReportElements:function(e,i,o){var s=e.entry.content,n=[s.filters,s.columns,s.rows,s.cells];t(n).each((function(e){e.each((function(t){var n={displayName:i.getFieldByName(t.get("fieldName")).displayName};if(e===s.filters&&"limit"===t.get("filterType")){var a=i.getFieldByName(t.get("limitBy"));n.limitByDisplayName=a.displayName,n.limitByDataType=a.type}t.set(n,o)}),this)}),this),t(n).each((function(e){e.invoke("refreshLabel",o)}))},_populateUrlFromReport:function(i,o){o=o||{};var s=i.entry.content,n={},a=s.filterChangedByWildcards(d.REPORT_FORMAT_FILTER,{allowEmpty:!0}),r=i.getVisualizationType()!==I.STATISTICS_TABLE||this.classicurl.has("display.visualizations.show");delete a["display.statistics.sortColumn"],delete a["display.statistics.sortDirection"],r&&(a["display.general.type"]=s.get("display.general.type"),a["display.visualizations.show"]=s.get("display.visualizations.show"),a["display.statistics.show"]=s.get("display.statistics.show"),a["display.visualizations.type"]=s.get("display.visualizations.type"),a["display.visualizations.charting.chart"]=s.get("display.visualizations.charting.chart")),t(["model","object","type","dataset","cells","rows","columns","reload"]).each((function(e){this.classicurl.unset(e)}),this),o.reload&&(n.reload=!0),a.q=s.get("search"),i.isNew()?this.classicurl.unset("s"):(this._clearTemporaryDataModelFromUrl(),n.s=i.get("id")),n.earliest=s.get("dispatch.earliest_time"),s.get("dispatch.latest_time")?n.latest=s.get("dispatch.latest_time"):this.classicurl.unset("latest"),this.classicurl.save(e.extend(n,a),o)},_clearTemporaryDataModelFromUrl:function(){this.classicurl.unset("seedSid"),this.classicurl.unset("fields"),this.classicurl.unset("field_coverage")},_constructFullyQualifiedModelName:function(e){if(!e)return null;var i=this.application.get("app"),o=this.application.get("owner"),s=e.indexOf("/")>-1?t(e.split("/")).last():e;return"/servicesNS/"+encodeURIComponent(o)+"/"+encodeURIComponent(i)+"/"+a.prototype.url+"/"+s},_constructCollectSearch:function(e){return/\| tscollect \| stats count$/.test(e)?e:e+" | tscollect | stats count"},_disposeOfCollectJob:function(e,t){return t=t||{},this.classicurl.unset("accSid"),this.classicurl.save({},{replaceState:!0}),t.destroy&&e.destroy(),e.clear({silent:!0}),e},_dispatchNewCollectJob:function(e,i,o){o=o||{};const s=this.check_risky_command&&this.shouldCheckRiskyCommand();var n=t.extend(this.application.pick("app","owner"),t(o).pick("earliest_time","latest_time"),{search:this._constructCollectSearch(i),status_buckets:0,auto_cancel:100,provenance:"UI:Pivot",check_risky_command:s});return this._disposeOfCollectJob(e,{destroy:!!o.destroyExisting}),e.save({},{data:n}).then(function(){return this.classicurl.save({accSid:e.get("id")},{replaceState:!0}),e}.bind(this)).catch(this.handleCollectJobError.bind(this,e))},_dispatchNewElasticCollectJob:function(e,i,o,s){s=t.extend({},s);var n=o.get("latest");this.elasticMode&&n&&"now"!==n&&(s.latest_time=n);var a=e.isNew()||e.entry.content.get("isTimeCursored");return this.elasticMode&&!a&&(s.earliest_time=o.get("earliest")||0),this._dispatchNewCollectJob(e,i,s)},_shouldHandleCollectTimeRangeMismatch:function(e,t){var i=t.get("latest")||"now",o=e.entry.content.request;if(i!==(o.get("latest_time")||"now"))return!0;var s=e.entry.content.get("isTimeCursored"),n=t.get("earliest")||0,a=o.get("earliest_time")||0;return!s&&n!==a},_ensureCollectRunningState:function(t,i){var o=t.entry.content;if(o.get("isDone"))return t;var s=o.get("cursorTime"),n=s?parseFloat(q.getEpochTimeFromISO(s)):0;return 0===n&&(n=1/0),n<i.get("earliest_epoch")?e.when(o.get("isPaused")||t.pause()).then((function(){return t})):e.when(!o.get("isPaused")||t.unpause()).then((function(){return t}))},_waitForRunningCollect:function(t,i,o){if(!t.isPreparing()){const s=t.entry&&t.entry.content&&t.entry.content.get("retry");return this._shouldHandleCollectTimeRangeMismatch(t,i)||s?this._dispatchNewElasticCollectJob(t,o,i,{destroyExisting:!0}):e.Deferred().resolve(t)}var s=e.Deferred();return t.startPolling(),this.listenToOnce(t,"prepared",(function(){t.stopPolling(),this._shouldHandleCollectTimeRangeMismatch(t,i)?this._dispatchNewElasticCollectJob(t,o,i,{destroyExisting:!0}).done((function(){s.resolve(t)})):s.resolve(t)}),this),s},_generatePivotSearchFetchData:function(e){if(!e.isTemporary())return this._generatePivotSearchFetchDataFromModelId(this._constructFullyQualifiedModelName(e.get("id")));var t=this._generatePivotSearchFetchDataFromModelId(null);return t.modelJson=e.toSplunkD().entry[0].content.description,t},_generatePivotSearchFetchDataFromModelId:function(e){var i=t.extend({namespace:Q.TSIDX_NAMESPACE_TOKEN},this.application.pick("app","owner"));return e&&(i.dataModel=e),i},formatEventData:function(i){i=i||{};var o={};if(o.eventCategory=t.has(i,"eventCategory")?i.eventCategory:void 0,o.eventAction=t.has(i,"eventAction")?i.eventAction:void 0,o.eventLabel=t.has(i,"eventLabel")?i.eventLabel:void 0,o.eventValue=t.has(i,"eventValue")?i.eventValue:void 0,o.context="pivot",this.report&&(o.numAggregations=this.report.getNumCells(),o.numColumnSplits=this.report.getNumColumns(),o.numCustomFilters=this.report.getNumFilters(!1),o.numRowSplits=this.report.getNumRows(),this.model&&this.model.classicUrl)){var s=this.model.classicUrl.toJSON(),n=t.pick(this.report.entry.content.toJSON(),t.keys(s));n=e.extend(n,t.pick(s,["earliest","latest"])),n=t.omit(n,"accSid","seedSid"),n=e.extend(n,i.props),o.reportProps=n}return o}},{apiDependencies:function(e){return"pivot-step"!==e.flowStep?{}:{report:d,pivotJob:r,collectJob:{resourceType:r,flags:["collect job"]},seedJob:{resourceType:r,flags:["seed job"]},dataModel:a,dataModelObject:a.Object,dataTable:h,pivotSearch:p,datasetInfo:Y,saveNewDialog:E,dashboardDialog:D,saveDataModelDialog:_,saveDialog:R,exportDialog:M,shareDialog:A,permissionMismatchDialog:x}},TSIDX_NAMESPACE_TOKEN:"__NAMESPACE_TOKEN__",ALL_TIME_ADHOC_ACCELERATION:"all-time-adhoc-acceleration",ELASTIC_ADHOC_ACCELERATION:"elastic-adhoc-acceleration",NO_ADHOC_ACCELERATION:"no-adhoc-acceleration",ADHOC_ACCELERATION_MODE:function(){if(!q.normalizeBoolean(n.get("ENABLE_PIVOT_ADHOC_ACCELERATION")))return"no-adhoc-acceleration";switch((n.get("PIVOT_ADHOC_ACCELERATION_MODE")||"").toLowerCase()){case"alltime":return"all-time-adhoc-acceleration";case"none":return"no-adhoc-acceleration";default:return"elastic-adhoc-acceleration"}}()});return Q}.apply(t,o))||(e.exports=s)},"util/backbone":function(e,t,i){var o,s;o=[i("require/backbone")],void 0===(s=function(e){var t=function(e,t){return e===t||e.prototype instanceof t};return{isViewConstructor:function(i){return t(i,e.View)},isModelConstructor:function(i){return t(i,e.Model)},isCollectionConstructor:function(i){return t(i,e.Collection)}}}.apply(t,o))||(e.exports=s)},"util/datamodel/acceleration_utils":function(e,t,i){var o,s;o=[i("require/underscore"),i("util/moment"),i("util/time"),i("stubs/i18n"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s){return{formatTimestamp:function(t){if(!t)return"";if("0"===s.getEpochTimeFromISO(t))return e("None").t();var n=i.isoToDateObject(t);return o.format_datetime(n,"YYYY MM dd,","medium")},formatProgressMessage:function(n,a){if(!n&&0!==n)return"";if(e.isString(n)&&(n=parseFloat(n)),n<1)return s.sprintf(e("%s Complete").t(),o.format_percent(n));if(!a)return e("Completed").t();var r=t(i.isoToDateObject(a)).fromNow();return s.sprintf(e("Completed (Updated %s)").t(),r)},formatRange:function(i){return i||0===i?(e.isString(i)&&(i=parseInt(i,10)),t.duration(i,"seconds").humanize()):""}}}.apply(t,o))||(e.exports=s)},"util/datamodel/field_icon_utils":function(e,t,i){var o,s;o=[i("require/underscore")],void 0===(s=function(e){var t=function(e){switch(e){case"string":case"ipv4":return"string";case"number":case"objectCount":case"childCount":return"number";case"boolean":return"boolean";case"timestamp":return"clock";default:return!1}};return{fieldIconByType:function(e){var i=t(e);return i?'<i class="icon-'+i+'"></i>':"<i>&nbsp;</i>"},fieldIconClassByType:t,fieldHiddenIcon:function(t){return t?'<i class="icon-hidden" title="'+e("Hidden").t()+'"></i>':'<i class="icon-visible" title="'+e("Visible").t()+'"></i>'},fieldRequiredIcon:function(t){return t?'<i class="icon-alert-circle" title="'+e("Required").t()+'"></i>':'<i class="icon-circle" title="'+e("Optional").t()+'"></i>'}}}.apply(t,o))||(e.exports=s)},"util/pivot/pivot_dialog_utils":function(e,t,i){var o,s;o=[i("require/underscore")],void 0===(s=function(e){return{prepareInmemDataModel:function(e){e.unset(e.idAttribute);var t=e.entry.content;t.unset("displayName"),t.unset("modelName")},saveDataModel:function(t,i,o,s,n){var a=i.entry.content;return a.set({name:a.get("modelName")}),i.save({},{data:n}).then((function(){t.setFromSplunkD(i.toSplunkD()),t.unset("sid");var a=s.entry.content,r=i.id,l=s.getPivotJSON();l.dataModel=e(r.split("/")).last();var d=e(l.filters).findWhere({fieldName:"_time",type:"timestamp"});d&&(l.filters=e(l.filters).without(d)),o.clear(),o.set({pivotJson:JSON.stringify(l)});var p=e.extend({dataModel:r},n);return o.fetch({data:p}).then((function(){a.set({search:o.get("pivotSearch")})}))}))}}}.apply(t,o))||(e.exports=s)},"views/data_model_explorer/DataModelExplorer":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("collections/shared/FlashMessages"),i("models/services/datamodel/DataModel"),i("models/shared/Application"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/shared/FlashMessages"),i("views/data_model_explorer/ObjectGrid"),i("uri/route"),i("models/classicurl")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p){return n(a.extend({moduleId:t.i,initialize:function(e){a.prototype.initialize.call(this,e),this.children.flashMessages=new r({model:{dataModel:this.model.dataModel}}),this.children.objectList=new l({apiResources:this.apiResources.objectList}),this.deferreds.dataModel.done(function(){var e=this.$(".edit-objects-button");this.model.dataModel.entry.acl.canWrite()?e.show():e.hide()}.bind(this))},render:function(){var t=d.getContextualPageRouter(this.model.application).data_model_editor({data:{model:this.model.dataModel.id}}),i=e(this.template).template({editObjectsHref:t});return this.$el.html(i),this.$(".flash-messages-placeholder").replaceWith(this.children.flashMessages.render().el),this.$(".object-list-placeholder").replaceWith(this.children.objectList.render().el),this.model.dataModel.entry.acl.canWrite()||this.$(".edit-objects-button").hide(),this},template:'            <div class="section-padded section-header">                <h1 class="section-title">                    <%- _("Select a Dataset").t() %>                </h1>                <a href="<%- editObjectsHref %>" class="edit-objects-button btn">                    <%- _("Edit Datasets").t() %>                </a>                <div class="flash-messages-placeholder"></div>            </div>            <div class="object-list-placeholder"></div>        '},{apiDependencies:{dataModel:o,application:s,objectList:l}}))}.apply(t,o))||(e.exports=s)},"views/data_model_explorer/ObjectGrid":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/services/datamodel/DataModel"),i("models/shared/Application"),i("models/pivot/datatable/PivotableDataTable"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/shared/delegates/RowExpandCollapse"),i("helpers/grid/RowIterator"),i("views/pivot/DataTableFieldList"),i("views/shared/delegates/Popdown"),i("uri/route"),i("shim/splunk.util"),i("stubs/i18n"),i("models/classicurl"),i("views/data_model_explorer/ObjectGrid.pcss")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v,f){return a(r.extend({moduleId:i.i,initialize:function(e){r.prototype.initialize.call(this,e),this.children.rowExpandCollapse=new l({el:this.el,autoUpdate:!0}),this.children.fieldActionPopdown=new c({el:this.el,toggle:".field-action-button",dialog:".field-action-menu"}),this.dataModelHasSynced="pending"!==this.deferreds.dataModel.state(),this.dataModelHasSynced||this.deferreds.dataModel.done(function(){this.dataModelHasSynced=!0,this.debouncedRender()}.bind(this)),this.children.rowExpandCollapse.on(l.ROW_EXPAND,this.handleRowExpand,this),this.children.rowExpandCollapse.on(l.ROW_COLLAPSE,this.handleRowCollapse,this),this.children.fieldActionPopdown.on("show",(function(e){var t=this.resolveObjectName(e[0]),i=e.attr("data-field-name"),o=e.attr("data-field-owner"),s=this.model.dataModel.objectByName(t),n=s.getFieldByName(i,o);this.onFieldActionMenuShow(n,s)}),this)},render:function(){var i,o=this.model.dataModel.getPivotableHierarchy()||[],s=new d;i=this.dataModelHasSynced?u.sprintf(m.ungettext("1 Object in %(modelName)s","%(count)s Objects in %(modelName)s",o.length),{count:o.length,modelName:this.model.dataModel.entry.content.get("displayName")}):t("Loading Datasets...").t();var n=this.compiledTemplate({hierarchy:o,application:this.model.application,dataModel:this.model.dataModel,eachRow:s.eachRow,headerCellClass:l.HEADER_CELL_CLASS,toggleCellClass:l.TOGGLE_CELL_CLASS,rowIdAttribute:l.ROW_ID_ATTR,headerMessage:i,dataModelHasSynced:this.dataModelHasSynced,route:h,modelId:this.model.dataModel.get("id")}),a=e(n);this.children.rowExpandCollapse.update(a),this.$el.html(a),this.$("a.select-object-button").click((function(t){t.preventDefault(),v.save({object:e(this).data("object-name")},{trigger:!0})}))},template:'            <table class="table table-chrome table-striped table-bordered-lite table-row-expanding">                <thead>                    <tr>                        <th class="<%- headerCellClass %>"></th>                        <th>                            <%- headerMessage %>                        </th>                    </tr>                </thead>                <tbody>                    <% eachRow(hierarchy, function(object, index) { %>                                            <% if(object.isPivotable) { %>                            <tr class="list-item <%- index%2 == 0 ? "even" : "odd" %>" <%- rowIdAttribute %>="<%- object.objectName %>">                                <td class="<%- toggleCellClass %>"></td>                                <td class="title description object-description nested-<%- object.depth %>">                                    <a href="<%- route.pivot(application.get("root"), application.get("locale"), application.get("app"), { data: { model: modelId, object: object.objectName }}) %>" data-object-name="<%- object.objectName %>" class="select-object-button"><%- object.displayName %></a>                                </td>                            </tr>                        <% } else { %>                            <tr class="list-item <%- index%2 == 0 ? "even" : "odd" %>" <%- rowIdAttribute %>="<%- object.objectName %>">                                <td class="<%- toggleCellClass %>"></td>                                <td class="title description object-description nested-<%- object.depth %>">                                    <span class="unselectable-object"><%- object.displayName %></span>                                </td>                            </tr>                        <% } %>                                        <% }) %>                </tbody>            </table>            <% if(dataModelHasSynced && hierarchy.length === 0) { %>                <% var href = route.data_model_editor(application.get("root"), application.get("locale"), application.get("app"), { data: { model: dataModel.id } }) %>                <div class="no-objects-message">                    <div class="alert alert-info">                        <i class="icon-alert"></i>                        <%- _("You have no Datasets available for Pivot.").t() %>                        <a class="edit-objects-link" href="<%- href %>" >                            <%- _("Edit Datasets").t() %>                        </a>                    </div>                </div>            <% } %>            <div class="dropdown-menu dropdown-menu-selectable field-action-menu">                <div class="arrow"></div>                <ul></ul>            </div>        ',handleRowExpand:function(i){var o=this.getRowById(i),s=this.model.dataModel.objectByName(i),a="objectFieldList_"+i;if(s.isPivotable()){var r=this.children[a]=new p({model:n.createFromDataModelObject(s),eventButtonClass:"field-action-button",timestampButtonClass:"non-link",otherButtonClass:"field-action-button"});r.render().appendTo(o.find(".object-description")),r.$(".field-action-button").append('<span class="caret" aria-hidden="true"></span>'),o.find(".col-info").html('<i class="icon-triangle-down-small"></i>')}else{(this.children[a]=e("<div>"+t("This dataset is not pivotable.").t()+"</div>")).appendTo(o.find(".object-description"))}},handleRowCollapse:function(e){var t="objectFieldList_"+e,i=this.getRowById(e);this.children[t]&&(this.children[t].off(null,null,this),this.children[t].remove(),delete this.children[t]),i.find(".col-info").html('<i class="icon-triangle-right-small"></i>')},getRowById:function(e){return this.$("tr["+l.ROW_ID_ATTR+'="'+e+'"]')},resolveObjectName:function(t){return e(t).closest(".list-item").attr(l.ROW_ID_ATTR)},onFieldActionMenuShow:function(i,o){var s=i.type,n=this.model.application.get("root"),a=this.model.application.get("locale"),r=this.model.application.get("app"),l=this.model.dataModel.id,d=o.get("objectName"),p=!!o.getFieldByName("_time"),c=this.$(".field-action-menu ul"),m=function(t,i){var o=e("<li></li>").appendTo(c);e("<a></a>").text(t).attr("href",i).appendTo(o)};c.empty(),"objectCount"===s||"childCount"===s?(m(u.sprintf(t("Count of %s").t(),i.displayName),h.pivot(n,a,r,{data:{model:l,object:d,cells:i.fieldName}})),p&&m(u.sprintf(t("Count of %s by Time").t(),i.displayName),h.pivot(n,a,r,{data:{model:l,object:d,cells:i.fieldName,rows:"_time"}}))):(m(t("Top Values").t(),h.pivot(n,a,r,{data:{model:l,object:d,rows:i.fieldName}})),p&&m(t("Top Values by Time").t(),h.pivot(n,a,r,{data:{model:l,object:d,columns:i.fieldName,rows:"_time"}})))}},{apiDependencies:{dataModel:o,application:s}}))}.apply(t,o))||(e.exports=s)},"views/data_model_explorer/ObjectGrid.pcss":function(e,t,i){var o=i(2565);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"views/extensions/DeclarativeDependencies":function(e,t,i){var o,s;o=[i("require/underscore"),i("require/backbone")],void 0===(s=function(e,t){return function(i){return i.extend({initialize:function(){if(this.options.apiResources){if(this.model instanceof t.Model)throw new Error("Declarative Dependency views only accept dictionaries as their `model` constructor option");if(this.collection instanceof t.Collection)throw new Error("Declarative Dependency views only accept dictionaries as their `collection` constructor option");this.apiResources=this.options.apiResources,this.deferreds=this.options.apiResources.deferreds,this.model=this.model||{},this.collection=this.collection||{},e(this.apiResources).each((function(e,i){if(e instanceof t.Model){if(this.model[i])throw new Error("Api Resource "+i+" collides with a model constructor option");this.model[i]=e}if(e instanceof t.Collection){if(this.collection[i])throw new Error("Api Resource "+i+" collides with a collection constructor option");this.collection[i]=e}}),this)}i.prototype.initialize.call(this,this.options)}},{apiDependencies:i.apiDependencies||{}})}}.apply(t,o))||(e.exports=s)},"views/pivot/AddSubpanelDropDownMenu":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/DropDownMenu"),i("util/datamodel/field_icon_utils")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.labelIcon="plus icon-no-underline",this.options.className="dropdown",this.options.anchorClassName="btn-pill",this.options.largeIcons=!1,this.options.popdownOptions={detachDialog:!0},e(this.options.items).each((function(e){e.icon=o.fieldIconClassByType(e.type),e.label=e.displayName}),this),i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/DataSourceMenu":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/shared/Application"),i("models/search/Job"),i("models/services/datamodel/DataModel"),i("models/pivot/PivotReport"),i("models/pivot/datatable/PivotableDataTable"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("uri/route"),i("util/datamodel/acceleration_utils"),i("models/classicurl")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c){var h=e("Loading").t();return r(l.extend({moduleId:t.i,className:"data-source-menu dropdown-menu",events:{"click .rebuild-button":function(e){this.model.searchJob.trigger("rebuildAcceleration"),e.preventDefault()},"click .inspect-acceleration-button":function(e){this.model.searchJob.trigger("inspectAcceleration"),e.preventDefault()}},initialize:function(){l.prototype.initialize.apply(this,arguments),this.model.user.canAccelerateReport()&&(this.model.collectJob?this.model.collectJob.on("sync",this.updateAdhocAcceleration,this):this.model.tstatsSummarization&&this.model.tstatsSummarization.on("sync",this.updateManagedAcceleration,this))},render:function(){var e=this.model.application.get("root"),t=this.model.application.get("app"),i=this.model.application.get("locale"),o=this.model.dataTable.hasParentDataModel(),s=o?this.model.dataTable.getDataModelId():null,n=o?this.model.dataTable.getDataModelName():null,a=this.model.dataTable.get("displayName"),r=this.model.dataModel.isTemporary(),l=o?d.pivot(e,i,t,{data:{model:s}}):null,p=d.datasets(e,i,t),h=this.model.user.canAccelerateReport();return this.$el.html(this.compiledTemplate({tableHasRealDataModel:o,dataModelName:n,tableName:a,tableIsTemporary:r,viewDataModelHref:l,selectNewDatasetHref:p})),this.model.collectJob&&h?this.updateAdhocAcceleration():this.model.tstatsSummarization&&h?this.updateManagedAcceleration():this.$(".acceleration-status-container").remove(),this.$("a.view-data-model-button").click((function(e){e.preventDefault(),c.clear().save({model:s},{trigger:!0})})),this},updateAdhocAcceleration:function(){var t=this.model.collectJob.entry,i=t.content,o=this.model.collectJob.latestTimeSafe();this.$(".acceleration-status-container").html(e(this.adhocAccelerationTemplate).template({progressMessage:p.formatProgressMessage(i.get("doneProgress"),o)||h,startedTimestamp:p.formatTimestamp(t.get("published"))||h,earliestTimestamp:p.formatTimestamp(i.get("earliestTime"))||h}))},updateManagedAcceleration:function(){var t=this.model.tstatsSummarization.entry.content;this.$(".acceleration-status-container").html(e(this.managedAccelerationTemplate).template({statusMessage:p.formatProgressMessage(t.get("summary.complete"))||h,range:p.formatRange(t.get("summary.time_range"))||h,earliestTimestamp:p.formatTimestamp(t.get("summary.earliest_time"))||h}))},template:'            <div class="arrow"></div>            <% if (!tableIsTemporary) { %>                <% if (tableHasRealDataModel) { %>                    <ul>                        <li>                            <h4><%- dataModelName %></h4>                        </li>                        <li>                            <a class="view-data-model-button" href="<%- viewDataModelHref %>"><%- _("View Data Model").t() %></a>                        </li>                    </ul>                <% } %>                <ul>                    <li>                        <h4><%- tableName %></h4>                    </li>                    <li>                        <a href="<%- selectNewDatasetHref %>"><%- _("Select another Dataset").t() %></a>                    </li>                </ul>            <% } %>            <ul class="acceleration-status-container"></ul>        ',adhocAccelerationTemplate:'            <li>                <h4><%- _("Acceleration").t() %></h4>                <dl class="list-dotted">                    <dt><%- _("Progress").t() %></dt>                    <dd class="status-value"><%- progressMessage %></dd>                    <dt><%- _("Started").t() %></dt>                    <dd class="started-timestamp"><%- startedTimestamp %></dd>                    <dt><%- _("Earliest").t() %></dt>                    <dd class="latest-timestamp"><%- earliestTimestamp %></dd>                </dl>            </li>            <li><a href="#" class="rebuild-button"><%- _("Rebuild Acceleration").t() %></a></li>            <li><a href="#" class="inspect-acceleration-button"><%- _("Inspect Acceleration Job").t() %></a></li>        ',managedAccelerationTemplate:'            <li>                <h4><%- _("Acceleration").t() %></h4>                <dl class="list-dotted">                    <dt><%- _("Status").t() %></dt>                    <dd class="progress-value"><%- statusMessage %></dd>                    <dt><%- _("Range").t() %></dt>                    <dd class="range-value"><%- range %></dd>                    <dt><%- _("Earliest").t() %></dt>                    <dd class="latest-timestamp"><%- earliestTimestamp %></dd>                </dl>            </li>        '},{apiDependencies:{report:n,dataModel:s,dataTable:a,application:i,searchJob:o}}))}.apply(t,o))||(e.exports=s)},"views/pivot/DataTableFieldList":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("util/datamodel/field_icon_utils"),i("shim/splunk.util"),i("views/pivot/DataTableFieldList.pcss")],void 0===(s=function(e,t,i,o,s,n,a){return o.extend({showEventFields:!0,showTimestampFields:!0,moduleId:i.i,events:{"click .field-button":function(t){t.preventDefault();var i=e(t.currentTarget),o=i.attr("data-field-name"),s=i.attr("data-field-owner");this.trigger("action:selectField",o,s)},"click .save-data-model-button":function(e){e.preventDefault(),this.trigger("action:saveDataModel")}},initialize:function(e){o.prototype.initialize.call(this,e),(e=e||{}).hasOwnProperty("showEventFields")&&(this.showEventFields=!!e.showEventFields),e.hasOwnProperty("showTimestampFields")&&(this.showTimestampFields=!!e.showTimestampFields),t.isArray(e.hiddenFieldList)&&(this.hiddenFieldList=e.hiddenFieldList),t.isArray(e.dataTypeBlacklist)&&(this.dataTypeBlacklist=e.dataTypeBlacklist)},render:function(){var e=this.model.getGroupedFieldList();this.showEventFields||(e.objectCount=[]),this.showTimestampFields||(e.timestamp=[]);var i=this;if(this.hiddenFieldList){var o=function(e){return!t(i.hiddenFieldList).contains(e.fieldName)};t(e).each((function(i,s){e[s]=t(i).filter(o)}),this)}if(this.dataTypeBlacklist){var a=function(e){return!t(i.dataTypeBlacklist).contains(e.type)};t(e).each((function(i,o){e[o]=t(i).filter(a)}),this)}var r=t(this.template).template({dataModelIsTemporary:this.options.dataModelIsTemporary,fieldGroups:e,getIcon:s.fieldIconByType,eventButtonClass:this.options.eventButtonClass||"",timestampButtonClass:this.options.timestampButtonClass||"",otherButtonClass:this.options.otherButtonClass||"",changeDataTypeMessage:n.sprintf(t("To change a fields's data type, %s the data model.").t(),'<a href="#" class="save-data-model-button">'+t("save and edit").t()+"</a>")});return this.$el.html(r),this},template:'            <% if(fieldGroups["objectCount"].length || fieldGroups["timestamp"].length || fieldGroups["other"].length) { %>                <table class="table field-list">                    <% if(fieldGroups["objectCount"] && fieldGroups["objectCount"].length > 0) { %>                        <tr class="event-group">                            <td class="group-name"><%- _("Event").t() %></td>                            <td>                                <% _(fieldGroups["objectCount"]).each(function(field) { %>                                    <div data-group-name="event">                                        <a href="#" class="field-button <%- eventButtonClass %>"                                                 data-field-name="<%- field.fieldName %>" data-field-owner="<%- field.owner %>">                                            <span class="type-icon"><%= getIcon(field.type) %></span><%- field.displayName %>                                        </a>                                    </div>                                <% }); %>                            </td>                        </tr>                    <% } %>                    <% if(fieldGroups["timestamp"] && fieldGroups["timestamp"].length > 0) { %>                        <tr class="time-group">                            <td class="group-name"><%- _("Time").t() %></td>                            <td>                                <% _(fieldGroups["timestamp"]).each(function(field) { %>                                    <div data-group-name="time">                                        <a href="#" class="field-button  <%- timestampButtonClass %>"                                                 data-field-name="<%- field.fieldName %>" data-field-owner="<%- field.owner %>">                                            <span class="type-icon"><%= getIcon(field.type) %></span><%- field.displayName %>                                        </a>                                    </div>                                <% }); %>                            </td>                        </tr>                    <% } %>                    <% if(fieldGroups["other"] && fieldGroups["other"].length > 0) { %>                        <tr class="attribute-group">                            <td class="group-name"><%- _("Field").t() %></td>                            <td>                                <% _(fieldGroups["other"]).each(function(field) { %>                                    <div data-group-name="attribute">                                        <a href="#" class="field-button  <%- otherButtonClass %>"                                                 data-field-name="<%- field.fieldName %>" data-field-owner="<%- field.owner %>">                                            <span class="type-icon"><%= getIcon(field.type) %></span><%- field.displayName %>                                        </a>                                    </div>                                <% }); %>                            </td>                        </tr>                    <% } %>                </table>                <% if(dataModelIsTemporary) { %>                    <hr>                    <%= changeDataTypeMessage %>                <% } %>            <% } else {%>            No more fields available.            <% } %>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/DataTableFieldList.pcss":function(e,t,i){var o=i(2564);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"views/pivot/DocumentActionBar":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/shared/Application"),i("models/shared/User"),i("models/search/Job"),i("models/services/datamodel/DataModel"),i("models/pivot/PivotReport"),i("models/pivot/PivotJob"),i("models/pivot/datatable/PivotableDataTable"),i("models/services/summarization/TStatsSummarization"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/pivot/DataSourceMenu"),i("views/shared/DropDownMenu"),i("views/shared/delegates/Popdown"),i("uri/route")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v,f){return c(h.extend({moduleId:i.i,events:{"click .clear-button":function(e){e.preventDefault(),this.model.report.trigger("clear")},"click .save-button":function(t){t.preventDefault(),e(t.target).hasClass("disabled")||this.model.report.trigger("save")}},initialize:function(){h.prototype.initialize.apply(this,arguments),this.children.createDropDown=new m({label:t("Save As...").t(),className:"create-drop-down",anchorClassName:"btn-pill",dropdownClassName:"dropdown-menu-narrow",popdownOptions:{attachDialogTo:"body"},items:[{label:t("Report").t(),value:"report"},{label:t("Dashboard Panel").t(),value:"panel"}]}),this.children.createDropDown.on("itemClicked",(function(e){"report"===e?this.model.report.trigger("saveAsReport"):"panel"===e&&this.model.report.trigger("saveAsDashboardPanel")}),this),this.children.popdown=new v({el:this.el,toggle:".data-source-button",dialog:".data-source-menu",attachDialogTo:"body"}),this.children.popdown.on("show",this.onDataSourceShow,this),this.children.popdown.on("shown",this.onDataSourceShown,this),this.children.popdown.on("hidden",this.onDataSourceHidden,this),this.initDataSourceMenu(),this.model.searchJob.isNew()&&this.listenToOnce(this.model.searchJob,"change:id",(function(){this.initDataSourceMenu(),this.children.dataSourceMenu.render().appendTo(this.$(".action-bar"))})),this.model.report.entry.on("change:name",this.updateReportName,this),this.model.report.on("change:id",(function(){this.model.report.isNew()?this.$(".save-button").hide():this.$(".save-button").show()}),this)},render:function(){var e=this.computeIsEditable(),t=e?this.computeEditDatasetHref():null;return this.$el.html(this.compiledTemplate({dataTableName:this.model.dataTable.get("displayName"),tempDataModel:this.model.dataModel.isTemporary(),canSave:this.model.report.canWrite(this.model.user.canScheduleSearch(),this.model.user.canRTSearch()),tableIsEditable:e,editDatasetHref:t})),this.model.report.isNew()&&this.$(".save-button").hide(),this.updateReportName(),this.children.createDropDown.render().replaceAll(this.$(".save-as-dropdown-placeholder")),this.children.dataSourceMenu.render().appendTo(this.$(".action-bar")),this},remove:function(){return this.onDataSourceHidden(),h.prototype.remove.apply(this,arguments)},computeIsEditable:function(){return this.model.dataTable.hasParentDataModel()?this.model.dataModel.entry.acl.canWrite():!!this.model.dataTable.get("fullyQualifiedId")},computeEditDatasetHref:function(){var e=this.model.application.get("root"),t=this.model.application.get("app"),i=this.model.application.get("locale");return this.model.dataTable.hasParentDataModel()?f.data_model_editor(e,i,t,{data:{model:this.model.dataTable.getDataModelId()}}):f.table(e,i,t,{data:{t:this.model.dataTable.get("fullyQualifiedId")}})},initDataSourceMenu:function(){var e=this.model.searchJob.getAccelerationType();if(e===l.ADHOC_ACCELERATION)this.model.collectJob=new n({id:this.model.searchJob.getCollectId()},{delay:2e3});else if(e===l.MANAGED_ACCELERATION){var t="tstats:DM_"+this.model.dataModel.entry.acl.get("app")+"_"+this.model.dataModel.entry.content.get("modelName"),i=this.model.dataModel.id.replace("datamodel/model","admin/summarization").replace(this.model.dataModel.entry.content.get("modelName"),t);this.model.tstatsSummarization=new p({id:i})}this.children.dataSourceMenu&&this.children.dataSourceMenu.remove(),this.children.dataSourceMenu=new u({apiResources:this.apiResources.dataSourceMenu,model:{collectJob:this.model.collectJob,tstatsSummarization:this.model.tstatsSummarization,user:this.model.user}})},updateReportName:function(){var e=this.$(".report-name"),i=this.model.report.isNew()?t("New Pivot").t():this.model.report.entry.get("name");e.empty().text(i)},onDataSourceShow:function(){this.model.collectJob?this.model.collectJob.startPolling():this.model.tstatsSummarization&&this.model.tstatsSummarization.startPolling({delay:2e3,condition:function(e){var t=e.entry.content.get("summary.complete");return!t||t<1}})},onDataSourceShown:function(){this.children.dataSourceMenu.$("a").first().focus()},onDataSourceHidden:function(){this.model.collectJob?this.model.collectJob.stopPolling():this.model.tstatsSummarization&&this.model.tstatsSummarization.stopPolling()},template:'            <h1 class="report-name section-title"></h1>            <div class="action-bar pull-right">                <a href="#" class="save-button btn-pill <%- canSave ? "" : "disabled" %>">                    <%- _("Save").t() %>                </a>                <div class="report-action-buttons btn-group">                    <span class="save-as-dropdown-placeholder"></span>                    <a href="#" class="clear-button btn-pill"><%- _("Clear").t() %></a>                </div>                <% if (tableIsEditable && !tempDataModel) { %>                    <a href="<%- editDatasetHref %>" class="edit-dataset-button btn-pill">                        <%- _("Edit Dataset").t() %>                    </a>                <% } %>                <a href="#" class="data-source-button btn-pill">                    <%- tempDataModel ? _("Acceleration").t() : dataTableName %>                    <span class="caret" aria-hidden="true"></span>                </a>            </div>        '},{apiDependencies:{report:r,dataModel:a,dataTable:d,searchJob:l,user:s,application:o,dataSourceMenu:u}}))}.apply(t,o))||(e.exports=s)},"views/pivot/JobActionBar":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/classicurl"),i("models/shared/Application"),i("models/shared/User"),i("models/pivot/PivotJob"),i("models/pivot/PivotReport"),i("models/pivot/PivotSearch"),i("models/services/AppLocal"),i("models/services/datamodel/DataModel"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/shared/jobstatus/Master"),i("uri/route"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u){return p(c.extend({moduleId:t.i,events:{"click a.disabled":function(e){e.preventDefault()},"click .export-button:not(.disabled)":function(e){e.preventDefault(),this.model.searchJob.trigger("export")},"click .print-button:not(.disabled)":function(e){e.preventDefault(),this.model.searchJob.trigger("print")},"click .share-button:not(.disabled)":function(e){e.preventDefault(),this.model.searchJob.trigger("share")},"click .inspect-button:not(.disabled)":function(e){this.model.searchJob.trigger("inspect"),e.preventDefault()}},initialize:function(){c.prototype.initialize.apply(this,arguments),this.showExportResultsButton=this.model.user.canExportResults(),this.children.jobstatus=new h({enableSearchMode:!1,enableSamplingMode:!1,enableReload:this.model.searchJob.getAccelerationType()===n.MANAGED_ACCELERATION,showJobButtons:!1,showJobMenu:!1,model:{application:this.model.application,state:this.model.report.entry.content,searchJob:this.model.searchJob,appLocal:this.model.appLocal}}),this.model.report.entry.content.on("change",e.debounce(this.updateOpenInSearch,0),this),this.model.searchJob.entry.content.on("change",(function(e){(e.get("isDone")||e.get("isPaused"))&&this.children.jobstatus.children.progress.$el.hide(),e.get("isDone")&&this.$(".export-button").removeClass("disabled")}),this)},render:function(){return this.$el.html(this.compiledTemplate({showInspectButton:this.model.searchJob.getAccelerationType()===n.MANAGED_ACCELERATION,enableExport:this.model.searchJob.isDone(),showExportResultsButton:this.showExportResultsButton})),this.children.jobstatus.render().appendTo(this.$(".jobstatus-wrapper")),this.$("> .action-bar > a").tooltip({animation:!1,container:"body"}),this.updateOpenInSearch(),this},remove:function(){return this.$("> .action-bar > a").tooltip({animation:!1,container:"body"}),c.prototype.remove.apply(this,arguments)},updateOpenInSearch:function(){if(this.model.report.entry.content.has("search")){var e=this.$(".open-in-search-button"),t=this.model.application.get("root"),o=this.model.application.get("locale"),s=this.model.application.get("app"),n=["^(q|earliest|latest)$"].concat(a.REPORT_FORMAT_FILTER),r=i.filterByWildcards(n);this.model.dataModel.isTemporary()&&(r.q=this.model.pivotSearch.get("openInSearch")),e.attr("href",u.search(t,o,s,{data:r})).removeClass("disabled")}},template:'            <div class="action-bar pull-right">                <% if(showInspectButton) { %>                    <a href="#" class="inspect-button btn-pill btn-square" title="<%- _(\'Inspect\').t() %>">                        <i class="icon-info"></i><span class="hide-text"><%- _("Inspect").t() %></span>                    </a>                <% } %>                <a href="#" class="share-button btn-pill btn-square" title="<%- _(\'Share\').t() %>">                    <i class="icon-share"></i><span class="hide-text"><%- _("Share").t() %></span>                </a>                <% if (showExportResultsButton) { %>                    <a href="#" class="export-button btn-pill btn-square <%= enableExport ? \'\' : \'disabled\' %>" title="<%- _(\'Export\').t() %>">                        <i class="icon-export"></i><span class="hide-text"><%- _("Export").t() %></span>                    </a>                <% } %>                <a href="#" class="print-button btn-pill btn-square" title="<%- _(\'Print\').t() %>">                    <i class="icon-print"></i><span class="hide-text"><%- _("Print").t() %></span>                </a>                <a href="#" class="open-in-search-button btn-pill btn-square disabled" title="<%- _(\'Open in Search\').t() %>">                    <i class="icon-search"></i><span class="hide-text"><%- _("Open in Search").t() %></span>                </a>            </div>            <div class="jobstatus-wrapper <%- showInspectButton ? \'with-inspect-button\' : \'\' %>"></div>        '},{apiDependencies:{searchJob:n,report:a,application:o,appLocal:l,dataModel:d,pivotSearch:r,user:s}}))}.apply(t,o))||(e.exports=s)},"views/pivot/PivotContent":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/shared/Application"),i("models/search/Job"),i("models/pivot/PivotReport"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/shared/ReportVisualizer"),i("views/shared/statscontrols/StatsControlsMaster"),i("views/pivot/PivotElementsDisplay"),i("util/splunkd_utils"),i("helpers/Printer"),i("shim/jquery.resize")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u){return a(r.extend({moduleId:i.i,initialize:function(){r.prototype.initialize.apply(this,arguments),this.flashMessages=this.options.flashMessages,this.$el.on("elementResize",function(e){this.invalidateReflow()}.bind(this)),this.flashMessages.$el.on("elementResize",function(e){this.invalidateReflow()}.bind(this)),this.listenTo(h,h.PRINT_START,this.invalidateReflow),this.listenTo(h,h.PRINT_END,this.invalidateReflow),this.model.job.entry.content.on("change",this.updateData,this),this.flashMessagesHelper=this.flashMessages.flashMsgHelper,this.model.report.entry.content.get("display.general.type")===l.GENERAL_TYPES.STATISTICS&&(this.children.tableFormatBar=new d({model:{report:this.model.report,job:this.model.job,application:this.model.application,user:this.model.user}}),this.children.elementsDisplay=new p({apiResources:this.apiResources.elementsDisplay})),this.children.reportVisualizer=new l({model:{config:this.model.report.entry.content,application:this.model.application},allowResize:!1,ignoreConfigHeight:!0,enableTableDock:!1,enableStaticHeader:!0,enableEditing:!0,numRowSplits:this.model.report.getNumRows()}),this.$visualizerContainer=e('<div class="viz-container"/>');var i=this._computeVizMaxHeight();t.isFinite(i)&&this.$visualizerContainer.css({"max-height":i}),this.model.report.isComplete()&&(this.primaryDataSource=this.children.reportVisualizer.getPrimaryDataSource(),this.model.searchData=this.primaryDataSource.searchResults,this.model.searchDataParams=this.primaryDataSource.fetchParams,this.model.searchData.fetchData.set(this.model.searchDataParams.attributes,{silent:!0}),s.registerArtifactModel(this.model.searchData,this.model.job,s.RESULTS_PREVIEW),this.flashMessagesHelper.register(this.model.searchData,[c.FATAL,c.ERROR,c.WARNING]),this.listenTo(this.model.searchDataParams,"change",(function(){this.model.searchData.fetchData.set(this.model.searchDataParams.attributes)})),this.listenTo(this.model.searchData,"change",(function(){this.model.searchData.set({meta:{done:this.model.job.isDone()}},{silent:!0})}))),this.listenTo(this.children.reportVisualizer,"drilldown",(function(e,t){this.model.report.trigger("drilldown",e,t)}))},render:function(){return this.$el.empty(),this.renderContainer(),this.renderData(),this.updateData(),this},renderContainer:function(){this.flashMessages&&this.flashMessages.render().prependTo(this.$el),this.children.elementsDisplay&&this.children.elementsDisplay.render().appendTo(this.$el),this.$visualizerContainer.appendTo(this.$el),this.children.tableFormatBar&&this.children.tableFormatBar.render().appendTo(this.$el)},updateData:function(){this.$(".data-display-alert").remove();var e=!this.model.job.isPreparing()&&this.model.job.resultCountSafe()>0,i=this.model.job.entry.content;if(e)this.showDataDisplay();else if(i.get("isFailed")||i.get("isDone"))this.hideDataDisplay(),this.renderMessage("error",t("Your search returned no results.").t());else{if(this.hideDataDisplay(),t.isEmpty(i.toJSON()))return;this.model.job.isQueued()?this.renderMessage("info",t("Waiting for queued job to start.").t()):this.model.job.isParsing()?this.renderMessage("info",t("Parsing search.").t()):this.model.job.isFinalizing()?this.renderMessage("info",t("Finalizing results.").t()):this.model.job.isRealtime()?this.renderMessage("info",t("No results yet found.").t()):this.renderMessage("info",t("Waiting for results...").t())}this.trigger("updateData")},renderData:function(){this.children.reportVisualizer.load().activate().render(),this.children.reportVisualizer.appendTo(this.$visualizerContainer),this.invalidateReflow()},clearData:function(){this.children.reportVisualizer.remove()},showDataDisplay:function(){this.children.reportVisualizer.wake().$el.show()},hideDataDisplay:function(){this.children.reportVisualizer.sleep().$el.hide()},renderMessage:function(i,o){var s=t(this.messageTemplate).template({type:i,text:o});this.children.elementsDisplay?this.children.elementsDisplay.$el.after(s):e(s).appendTo(this.$el)},disable:function(){this.children.elementsDisplay&&this.children.elementsDisplay.disable()},reflow:function(){var e=this.flashMessages?this.flashMessages.$el.outerHeight():0,t=0;this.children.elementsDisplay&&(e+=this.children.elementsDisplay.$el.outerHeight()),this.children.tableFormatBar&&(t+=this.children.tableFormatBar.$el.outerHeight()),this.$visualizerContainer.css({bottom:t,top:e})},_computeVizMaxHeight:function(){var e=this.model.report.getVisualizationType();return"radialGauge"===e||"markerGauge"===e||"fillerGauge"===e?500:"singlevalue"===e?200:1/0},remove:function(){return this.model.searchData&&(s.unregisterArtifactModel(this.model.searchData,this.model.job),this.flashMessagesHelper.unregister(this.model.searchData)),e(this.$el).off("elementResize"),this.flashMessages.$el.off("elementResize"),r.prototype.remove.apply(this,arguments)},messageTemplate:'            <div class="alert alert-<%- type %> data-display-alert">                <i class="icon-alert"></i>                <%- text %>            </div>        '},{apiDependencies:{report:n,job:s,application:o,elementsDisplay:p}}))}.apply(t,o))||(e.exports=s)},"views/pivot/PivotEditorForms.pcss":function(e,t,i){var o=i(2568);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"views/pivot/PivotElementsDisplay":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/shared/Application"),i("models/pivot/PivotReport"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/pivot/config_popups/PivotConfigWizard"),i("views/pivot/config_popups/TimeRangeInspector"),i("views/shared/delegates/Popdown"),i("uri/route"),i("helpers/user_agent"),i("views/pivot/PivotElementsDisplay.pcss"),i("shim/jquery.ui.sortable"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h){var u=!c.isIE7(),m=["^showRowSummary$","^rowLimitType$","^rowLimitAmount$","^showColSummary$","^colLimitAmount$","^showOtherCol$"];return n(a.extend({DROP_TO_REMOVE_CLASS:"ui-sortable-drop-to-remove",ACCEPT_DROP_CLASS:"ui-sortable-drop-acceptor",ELEMENT_WIDTH:170,ELEMENT_OFFSET:100,moduleId:i.i,initialize:function(e){a.prototype.initialize.call(this,e),this.inspectorPopdown=new d({el:this.el,toggle:".inspect-button, .clickable-label",dialog:".inspector-dialog",mode:"dialog",attachDialogTo:"body",ignoreClasses:["dropdown-menu","ui-datepicker"]}),this.inspectorPopdown.on("show",(function(e){var t=this.resolveElementId(e[0]),i=this.resolveElementType(e[0]);this.onInspectorShow(i,t)}),this),this.inspectorPopdown.on("shown",(function(){this.children.inspectorView.onShown()}),this),this.creatorPopdown=new d({el:this.el,toggle:".add-button",dialog:".creator-dialog",mode:"dialog",attachDialogTo:"body",scrollContainer:!1,ignoreClasses:["dropdown-menu","ui-datepicker"]}),this.creatorPopdown.on("show",(function(e){var t=this.resolveElementType(e[0]);this.onCreatorShow(t)}),this),this.creatorPopdown.on("shown",(function(){this.children.creatorView.onShown()}),this)},remove:function(){var e=this.$('.element-list[data-elem-type="filter"]'),t=this.$('.element-list[data-elem-type="row"]'),i=this.$('.element-list[data-elem-type="column"]'),o=this.$('.element-list[data-elem-type="cell"]');return e.sortable("destroy"),o.sortable("destroy"),t.sortable("destroy"),i.sortable("destroy"),this.removeTooltips(this.$el),this.inspectorPopdown.off(null,null,this),this.creatorPopdown.off(null,null,this),a.prototype.remove.call(this)},disable:function(){this.$disabledScreen=e('<div class="disabled-screen"></div>'),this.$el.append(this.$disabledScreen)},render:function(){var e=t(this.rootTemplate).template({model:this.model.report,tableHelpHref:p.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.pivot.about")});return this.$el.html(e),this.$creatorDialogEl=this.$(".creator-dialog"),this.$inspectorDialogEl=this.$(".inspector-dialog"),this.renderFilters(),this.renderCells(),this.renderRows(),this.renderColumns(),this.configureSortable(),this},renderFilters:function(){if(this.awake){var e=this.$('.element-list[data-elem-type="filter"]'),i=this.model.report.getFilterList(),o=t(i).findWhere({type:"timestamp"});if(o){var s=t(this.nonDraggableElementTemplate).template({element:o});e.find(".list-header").after(s)}this.updateElementList(e,t(i).without(o))}},renderCells:function(){if(this.awake){var e=this.$('.element-list[data-elem-type="cell"]');this.updateElementList(e,this.model.report.getCellList())}},renderRows:function(){if(this.awake){var e=this.model.report.getRowList(),t=this.$('.element-list[data-elem-type="row"]');this.updateElementList(t,e)}},renderColumns:function(){if(this.awake){var e=this.model.report.getColumnList(),t=this.$('.element-list[data-elem-type="column"]');this.updateElementList(t,e)}},onInspectorShow:function(e,i){var o=this.model.report.getElement(e,i),s=o.clone(),n=this.cloneReportLevelAttributes(this.model.report);this.children.inspectorView&&(this.children.inspectorView.off(),this.children.inspectorView.remove()),"filter"===e&&"timestamp"===o.get("type")?(this.children.inspectorView=new l({apiResources:this.apiResources.timeRangeInspector,model:{element:s}}),this.listenToOnce(s.timeRange,"applied",(function(){this.inspectorPopdown.hide()}))):this.children.inspectorView=new r({apiResources:this.apiResources.configWizard,model:{existingElement:s,report:n},elementType:e,elementIndex:this.model.report.getElementCollectionByType(e).indexOf(o)}),this.children.inspectorView.render().$el.appendTo(this.$inspectorDialogEl),this.children.inspectorView.on("action:update",(function(e,i){i.isValid(!0)&&n.isValid(!0)&&this.elementIsCompatible(i)?(t.isEqual(o.attributes,i.attributes)?this.updateReportLevelAttributes(n):(this.updateReportLevelAttributes(n,{silent:!0}),this.model.report.hotSwapElement(e,o,i.attributes)),this.inspectorPopdown.hide()):this.inspectorPopdown.adjustPosition()}),this),this.children.inspectorView.on("action:removeElement",(function(){this.model.report.removeElement(e,o),this.inspectorPopdown.hide()}),this),this.children.inspectorView.on("changeContents",(function(){this.inspectorPopdown.adjustPosition()}),this),this.children.inspectorView.on("hide",(function(){this.inspectorPopdown.hide()}),this)},onCreatorShow:function(e){var t=this.cloneReportLevelAttributes(this.model.report);this.children.creatorView&&(this.children.creatorView.off(),this.children.creatorView.remove()),this.children.creatorView=new r({apiResources:this.apiResources.configWizard,model:{report:t},elementType:e,elementIndex:this.model.report.getElementCollectionByType(e).length}),this.children.creatorView.render().$el.appendTo(this.$creatorDialogEl),this.children.creatorView.on("action:addElement",(function(e,i){i.isValid(!0)&&t.isValid(!0)&&this.elementIsCompatible(i)?(this.updateReportLevelAttributes(t,{silent:!0}),this.model.report.addElement(e,i),this.creatorPopdown.hide()):this.creatorPopdown.adjustPosition()}),this),this.children.creatorView.on("hide",(function(){this.creatorPopdown.hide()}),this)},cloneReportLevelAttributes:function(e){var t=new e.constructor;return t.setFromPivotJSON(e.getPivotJSON()),t.entry.content.set(e.entry.content.filterByWildcards(m,{allowEmpty:!0})),t},updateReportLevelAttributes:function(e,t){var i=e.entry.content.filterByWildcards(m,{allowEmpty:!0});this.model.report.entry.content.set(i,t)},elementIsCompatible:function(e){var i=function(e,t){return e.any((function(e){return!(e.get("fieldName")===t.get("fieldName")&&e.get("elementType")===t.get("elementType"))&&e.getComputedLabel()===t.getComputedLabel()}))};if(e.get("elementType")in{row:!0,cell:!0}&&(i(this.model.report.getElementCollectionByType("row"),e)||i(this.model.report.getElementCollectionByType("cell"),e))){var o=t("Each Row Split and Column Value label must be unique.").t();return t.defer((function(){e.trigger("validated",!1,e,{label:o})})),!1}return!0},updateElementList:function(i,o){var s,n,a={},r=i.find(".add-button");this.removeTooltips(i),t(i.find(".draggable-element")).each((function(t){var i=this.resolveElementId(t);e(t).detach(),a[i]=t}),this),t(o).each((function(i){if(a[i.id])s=a[i.id],n=e(s),r.before(s),n.find(".element-label").text(i.label).attr("title",i.label),a[i.id]=null;else{var o=t(this.elementTemplate).template({element:i});r.before(e(o))}}),this),t(a).each((function(i){t(i).isElement()&&e(i).remove()})),u&&i.find(".element-label").tooltip({animation:!1,container:"body",placement:function(t){return e(t).addClass("tooltip-full-width"),"top"}})},removeTooltips:function(t){u&&t.find(".element-label").each((function(){e(this).tooltip("destroy")}))},configureSortable:function(){var t,i,o=this,s=this.$('.element-list[data-elem-type="filter"]'),n=this.$('.element-list[data-elem-type="row"]'),a=this.$('.element-list[data-elem-type="column"]'),r=this.$('.element-list[data-elem-type="cell"]'),l=this.$(".config-table"),d={tolerance:"pointer",items:".draggable-element",scroll:!1,delay:5,helper:"clone",appendTo:"body",start:function(e,s){t=l.offset().top,i=t+l.height(),o.onSortStart(s.placeholder[0])},sort:function(e,s){var n=s.helper[0],a=s.item[0],r=s.helper.offset(),l={top:t,bottom:i};o.onSortDrag(n,r,l,a)},stop:function(e,t){var i=t.item[0];o.onSortStop(i,this)}},p=e.extend({},d,{connectWith:".connected-list",receive:function(e,t){var i=t.item[0],s=t.sender[0],n=!e.altKey;o.onSortTransferReceive(i,s,this,n)},activate:function(e,t){var i=t.item[0];o.onSortReceiverActivate(this,i)},deactivate:function(e,t){o.onSortReceiverDeactivate(this)}});s.sortable(d),r.sortable(p),n.sortable(p),a.sortable(p)},onSortStart:function(t){e(t).text("&nbsp;")},onSortDrag:function(t,i,o,s){var n=e(t),a=e(s),r=i.top;r+n.height()<o.top||r>o.bottom?(n.addClass(this.DROP_TO_REMOVE_CLASS),a.addClass(this.DROP_TO_REMOVE_CLASS)):(n.removeClass(this.DROP_TO_REMOVE_CLASS),a.removeClass(this.DROP_TO_REMOVE_CLASS))},onSortStop:function(i,o){var s;if(e(i).hasClass(this.DROP_TO_REMOVE_CLASS)){s=this.resolveElementType(i);var n=this.resolveElementId(i);this.model.report.removeElement(s,n)}else{s=this.resolveElementType(o);var a=t(e(".element",e(o))).map((function(e){return this.resolveElementId(e)}),this);this.model.report.reSortElements(s,a)}},onSortTransferReceive:function(i,o,s,n){var a=e(i),r=e(o),l=this.resolveElementType(o),d=this.resolveElementId(i);if(a.hasClass(this.DROP_TO_REMOVE_CLASS))return this.model.report.removeElement(l,d),a.removeClass(this.DROP_TO_REMOVE_CLASS),void r.sortable("cancel");var p=this.resolveElementType(s);if(this.resolveFieldType(i)in{objectCount:!0,childCount:!0}&&p in{row:!0,column:!0})r.sortable("cancel");else{var c=t(e(s).find(".element")).chain().map((function(e){return this.resolveElementId(e)}),this).indexOf(d).value();r.sortable("cancel"),this.model.report.transferElement(l,p,d,{at:c,removeOriginal:!!n})}},onSortReceiverActivate:function(t,i){var o=this.resolveElementType(t);"objectCount"===this.resolveFieldType(i)&&o in{row:!0,column:!0}||e(t).addClass(this.ACCEPT_DROP_CLASS)},onSortReceiverDeactivate:function(t){e(t).removeClass(this.ACCEPT_DROP_CLASS)},resolveElementType:function(t){return e(t).closest(".element-list").attr("data-elem-type")},resolveFieldType:function(t){return e(t).closest(".element").attr("data-field-type")},resolveElementId:function(t){return e(t).closest(".element").attr("data-elem-id")},rootTemplate:'                        <a class="table-help-link" href="<%- tableHelpHref %>" target="_blank" rel="noopener noreferrer"><span><%- _("Documentation").t() %></span><i class="icon-external icon-no-underline"></i></a>            <table class="table table-bordered config-table">                <thead>                    <tr>                        <td>                            <div class="element-list" data-elem-type="filter">                                <h6 class="list-header"><%- _("Filters").t() %></h6>                                <a href="#" class="btn add-button square-button">+</a>                            </div>                        </td>                        <td>                            <div class="element-list connected-list" data-elem-type="column">                                <h6 class="list-header"><%- _("Split Columns").t() %></h6>                                <a href="#" class="btn add-button square-button">+</a>                            </div>                        </td>                    </tr>                    <tr>                        <td>                            <div class="element-list connected-list" data-elem-type="row">                                <h6 class="list-header"><%- _("Split Rows").t() %></h6>                                <a href="#" class="btn add-button square-button">+</a>                            </div>                        </td>                        <td>                            <div class="element-list connected-list" data-elem-type="cell">                                <h6 class="list-header"><%- _("Column Values").t() %></h6>                                <a href="#" class="btn add-button square-button">+</a>                            </div>                        </td>                    </tr>                </thead>            </table>            <div class="popdown-dialog inspector-dialog">                <div class="arrow"></div>            </div>            <div class="popdown-dialog creator-dialog">                <div class="arrow"></div>            </div>        ',elementTemplate:'            <div class="btn-combo element draggable-element"             data-elem-id="<%= element.id %>" data-field-type="<%= element.type %>">                <div class="btn btn-draggable element-label" title="<%- element.label %>"><%- element.label %></div>                <a href="#" class="btn inspect-button"><i class="icon-pencil"></i></a>            </div>        ',nonDraggableElementTemplate:'            <div class="btn-combo element"             data-elem-id="<%= element.id %>" data-field-type="<%= element.type %>">                <div class="btn element-label clickable-label" title="<%- element.label %>"><%- element.label %></div>                <a href="#" class="btn inspect-button"><i class="icon-pencil"></i></a>            </div>        '},{apiDependencies:{report:s,application:o,configWizard:r,timeRangeInspector:l}}))}.apply(t,o))||(e.exports=s)},"views/pivot/PivotElementsDisplay.pcss":function(e,t,i){var o=i(2566);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"views/pivot/PivotView":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/Base"),i("models/search/Job"),i("models/pivot/PivotReport"),i("models/pivot/datatable/PivotableDataTable"),i("collections/shared/FlashMessages"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/pivot/VisualizationTypeMenu"),i("views/pivot/DocumentActionBar"),i("views/pivot/VisualizationConfigMenu"),i("views/pivot/PivotContent"),i("views/pivot/JobActionBar"),i("views/shared/FlashMessages"),i("helpers/FlashMessagesHelper"),i("helpers/pivot/PivotVisualizationManager"),i("views/pivot/PivotView.pcss"),i("views/pivot/PivotEditorForms.pcss")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v,f,g,b,y,w){return d(p.extend({moduleId:o.i,initialize:function(e){p.prototype.initialize.call(this,e),this.vizConfigMenuOffset=0;var i=this.model.dataTable.hasIndexTimeField(),o=t(b.getSchema()).map((function(e){var o=t(e).pick("id","icon","label");return!i&&e.requiresIndexTime&&(o.disabled=!0),o}));this.children.vizTypeMenu=new c({apiResources:this.apiResources.vizTypeMenu,items:o}),this.children.docStatusBar=new h({apiResources:this.apiResources.docStatusBar}),this.children.jobStatusBar=new v({apiResources:this.apiResources.jobStatusBar});var s=t.bind(t.debounce(this.updateInitializingMessage,100),this);this.model.searchJob.on("change:id",(function(){this.model.searchJob.isNew()||this.hideInitializingMessage(),s()}),this)},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.vizTypeMenu.render().replaceAll(this.$(".viz-type-menu-placeholder")),this.children.docStatusBar.render().replaceAll(this.$(".doc-status-bar-placeholder")),this.children.jobStatusBar.render().replaceAll(this.$(".job-status-bar-placeholder")),this.showVizConfigMenu="statistics"!==this.model.report.entry.content.get("display.general.type"),this.showVizConfigMenu&&(this.initVizConfigMenu(),this.children.vizConfigMenu.render().appendTo(this.$(".viz-builder-wrapper"))),this.initVizContent(),this.children.vizContent.render().appendTo(this.$(".viz-builder-wrapper")),this.updateInitializingMessage(),this},renderContainer:function(e){e=e||{},this.showVizConfigMenu="statistics"!==this.model.report.entry.content.get("display.general.type"),this.showVizConfigMenu?(this.initVizConfigMenu(),this.children.vizConfigMenu.render().appendTo(this.$(".viz-builder-wrapper")),e.disabled&&this.children.vizConfigMenu.disable()):this.removeVizConfigMenu(),this.initVizContent(),this.children.vizContent.appendTo(this.$(".viz-builder-wrapper")),this.children.vizContent.renderContainer(),e.disabled&&this.children.vizContent.disable()},renderData:function(){this.children.vizContent&&(this.children.vizContent.renderData(),this.children.vizContent.updateData()),this.children.jobStatusBar.render()},clearData:function(){t(this.children.jobStatusBar.children).invoke("detach"),this.children.jobStatusBar.$el.empty(),this.children.vizContent&&this.children.vizContent.clearData()},renderErrors:function(e){this.clearData(),e&&e.appendTo(this.children.jobStatusBar.el)},updateInitializingMessage:function(){this.model.searchJob.isNew()?this.showInitializingMessage():this.hideInitializingMessage()},showInitializingMessage:function(){this.$initializingMessage=e('<div class="initializing-message">'+t("Starting job...").t()+"</div>").prependTo(this.children.jobStatusBar.el),this.children.vizContent&&this.children.vizContent.renderMessage("info",t("Starting job...").t())},hideInitializingMessage:function(){this.$initializingMessage&&this.$initializingMessage.remove()},initVizConfigMenu:function(){this.removeVizConfigMenu(),this.children.vizConfigMenu=new u({apiResources:this.apiResources.vizConfigMenu,panels:this.getCurrentVizConfig().configMenuPanels,scrollOffset:this.vizConfigMenuOffset})},removeVizConfigMenu:function(){this.children.vizConfigMenu&&(this.vizConfigMenuOffset=this.children.vizConfigMenu.getScrollOffset(),this.children.vizConfigMenu.remove(),delete this.children.vizConfigMenu)},initVizContent:function(){this.children.vizContent&&(this.children.vizContent.remove(),this.children.vizContent.off(null,null,this),delete this.children.vizContent),this.children.vizContent=new m({apiResources:this.apiResources.vizContent,flashMessages:this.options.flashMessages}),this.children.vizContent.$el.addClass(this.showVizConfigMenu?"viz-content-with-menu":"viz-content-full-width")},getCurrentVizConfig:function(){return b.getConfigByVizType(this.model.report.getVisualizationType())},template:'            <div class="doc-status-bar-placeholder"></div>            <div class="viz-type-menu-placeholder"></div>            <div class="job-status-bar-placeholder"></div>            <div class="viz-builder-wrapper"></div>        '},{apiDependencies:{report:a,dataTable:r,searchJob:n,vizTypeMenu:c,docStatusBar:h,jobStatusBar:v,vizConfigMenu:u,vizContent:m}}))}.apply(t,o))||(e.exports=s)},"views/pivot/PivotView.pcss":function(e,t,i){var o=i(2567);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"views/pivot/VisualizationConfigMenu":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/shared/Visualization"),i("models/pivot/PivotReport"),i("models/pivot/datatable/PivotableDataTable"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/pivot/VisualizationConfigPanel"),i("views/shared/delegates/Concertina"),i("helpers/VisualizationRegistry")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p){return a(r.extend({moduleId:i.i,className:"concertina",initialize:function(){r.prototype.initialize.apply(this,arguments),this.model.reportWorking=this.model.report.clone(),this.model.reportWorking.on("reportConfigChange",(function(){if(this.model.reportWorking.isValid(!0)&&(e=this.model.reportWorking,i=this.model.report,o=e.entry.content,n=i.entry.content,!(t.isEqual(o.filterByWildcards(s.PIVOT_CONTENT_FILTER,{allowEmpty:!0}),n.filterByWildcards(s.PIVOT_CONTENT_FILTER,{allowEmpty:!0}))&&t.isEqual(o.filters.toJSON(),n.filters.toJSON())&&t.isEqual(o.columns.toJSON(),n.columns.toJSON())&&t.isEqual(o.rows.toJSON(),n.rows.toJSON())&&t.isEqual(o.cells.toJSON(),n.cells.toJSON())))){var e,i,o,n;this.model.report.setFromPivotJSON(this.model.reportWorking.getPivotJSON(),{silent:!0});var a=this.model.reportWorking.getIndexTimeFilter(),r=this.model.report.getIndexTimeFilter();a&&r&&r.setTimeRange(a.timeRange,a.timePresets),this.model.report.trigger("reportConfigChange")}}),this);var e=p.findVisualizationForConfig(this.model.report.entry.content.toJSON());this.model.visualization=o.fromReportContentAndSchema(this.model.reportWorking.entry.content,e.editorSchema),this.model.visualization.on("change",(function(){var e=this.model.visualization.filterChangedByWildcards(s.REPORT_FORMAT_FILTER,{allowEmpty:!0});!t.isEmpty(e)&&this.model.visualization.isValid(!0)&&this.model.report.entry.content.set(this.model.visualization.filterByWildcards(s.REPORT_FORMAT_FILTER,{allowEmpty:!0}))}),this),this.listenTo(this.model.report.entry.content,"change:is_timeseries",(function(){this.model.visualization.set("is_timeseries",this.model.report.entry.content.get("is_timeseries"))}),this)},render:function(){return this.el.innerHTML||(this.$el.html(this.template),this.children.concertina=new d({el:this.el})),t(this.children).chain().omit("concertina").invoke("remove"),this.children={concertina:this.children.concertina},t(this.options.panels||[]).each((function(e,i){var o=this.getAvailableFieldsForPanel(e);if(0!==o.length||!e.hasOwnProperty("elementType")){var s=this.constructPanelViewOptions(e,o);(this.children["panel_"+i]=new l(t.extend({apiResources:this.apiResources.panel,model:{report:this.model.reportWorking,visualization:this.model.visualization}},s))).render().appendTo(this.$(".concertina-body"))}}),this),this.model.reportWorking.entry.content.validate(),this},disable:function(){this.$disabledScreen=e('<div class="disabled-screen"></div>'),this.$el.append(this.$disabledScreen)},getScrollOffset:function(){return this.$(".concertina-body").scrollTop()},getAvailableFieldsForPanel:function(e){var i=this.model.dataTable.getFieldList();return e.hasOwnProperty("dataTypes")&&(i=t(i).filter((function(i){return t(e.dataTypes).contains(i.type)}),this)),i},constructPanelViewOptions:function(e,i){var o={panel:e};if(e.hasOwnProperty("elementType")){var s=this.model.reportWorking.getElementCollectionByType(e.elementType).toArray();e.hasOwnProperty("dataTypes")&&(s=t(s).filter((function(i){return t(e.dataTypes).contains(i.get("type"))}))),t.isFunction(e.isEnabledForAdd)&&(o.prerequisiteToAdd=e.isEnabledForAdd(s)),s=t.isFunction(e.elementsSelector)?e.elementsSelector(s):e.hasOwnProperty("maxLength")?s.slice(0,e.maxLength):s,o.elements=s,o.hideFieldPicker=e.required&&1===i.length}return o},onAddedToDocument:function(){this.children.concertina.reset(),this.options.scrollOffset&&this.$(".concertina-body").scrollTop(this.options.scrollOffset),r.prototype.onAddedToDocument.call(this)},template:'            <div class="concertina-dock-top"></div>            <div class="concertina-body popdown-dialog-scroll-parent"></div>            <div class="concertina-dock-bottom"></div>        '},{apiDependencies:{report:s,dataTable:n,panel:l}}))}.apply(t,o))||(e.exports=s)},"views/pivot/VisualizationConfigPanel":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("models/Base"),i("models/pivot/PivotReport"),i("models/pivot/datatable/PivotableDataTable"),i("views/pivot/VisualizationConfigSubpanel"),i("views/pivot/AddSubpanelDropDownMenu"),i("views/shared/FlashMessages"),i("helpers/pivot/PivotVisualizationManager"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h){return o(s.extend({moduleId:i.i,className:"config-panel-group concertina-group",initialize:function(){s.prototype.initialize.apply(this,arguments),this.chartingAttributeWhitelist=t(this.options.panel.formElements||[]).pluck("name"),this.model.chartMessageMediator=new n,this.chartingAttributeWhitelist.length>0&&this.model.visualization.on("validated",(function(e,i,o){if(e)this.model.chartMessageMediator.trigger("validated",e,i,o);else{var s=t(o).pick(this.chartingAttributeWhitelist);t(s).isEmpty()?this.model.chartMessageMediator.trigger("validated",!0,i,s):this.model.chartMessageMediator.trigger("validated",!1,i,s)}}),this);var e=this.options.panel.elementType;this.reportAttributeWhitelist=[],e===c.ROW_SPLIT?this.reportAttributeWhitelist.push("rowLimitAmount"):e===c.COLUMN_SPLIT&&this.reportAttributeWhitelist.push("colLimitAmount"),this.model.reportMessageMediator=new n,this.model.report.entry.content.on("validated",(function(e,i,o){if(e)this.model.reportMessageMediator.trigger("validated",e,i,o);else{var s=t(o).pick(this.reportAttributeWhitelist);t(s).isEmpty()?this.model.reportMessageMediator.trigger("validated",!0,i,s):this.model.reportMessageMediator.trigger("validated",!1,i,s)}}),this),this.children.flashMessages=new p({model:{chartMessageMediator:this.model.chartMessageMediator,reportMessageMediator:this.model.reportMessageMediator},helperOptions:{removeDuplicates:!0}}),t(this.options.elements||[]).each((function(e){e.on("removeField",(function(){this.model.report.removeElement(e.get("elementType"),e)}),this),e.on("hotSwap",(function(t){this.model.report.hotSwapElement(e.get("elementType"),e,t)}),this),this.children.flashMessages.flashMsgHelper.register(e)}),this),this.children.flashMessages.flashMsgCollection.on("add remove reset",(function(){this.handleValidation(0===this.children.flashMessages.flashMsgCollection.length)}),this)},stopListening:function(){t(this.options.elements||[]).each((function(e){e.off(null,null,this)}),this),this.children.flashMessages.flashMsgCollection.off(null,null,this),s.prototype.stopListening.apply(this,arguments)},render:function(){t(this.children).each((function(e,t){e!==this.children.flashMessages&&(e.remove(),delete this.children[t])}),this);var e=this.options.panel,i={panelOptions:e,headingMessage:null,headingClassName:null},o=this.options.hasOwnProperty("elements");if(o&&e.required&&0===this.options.elements.length){i.headingClassName="warning";var s=t("Required").t();i.headingMessage=s}this.$el.html(this.compiledTemplate(i)),this.$el.attr("data-group-name",e.title.replace(/\W/g,"").toLowerCase()),this.children.flashMessages.replaceAll(this.$(".flash-messages-placeholder"));var n=this.$(".panel-body");return o?(this.insertMultiElementSubpanel(n,e,this.options.elements),n.children().not(this.children.flashMessages.el).slice(0,-1).after(this.sectionDividerTemplate)):this.insertSimpleSubpanel(n,e),this},insertMultiElementSubpanel:function(e,i,o){t(o).each((function(t){this.insertSimpleSubpanel(e,i,t)}),this),this.options.prerequisiteToAdd?this.insertMessage(e,this.options.prerequisiteToAdd):(!i.hasOwnProperty("maxLength")||o.length<i.maxLength)&&this.insertAddNewButton(e,i.title)},insertMessage:function(e,t){e.append("<div class='concertina-message'>"+t+"</div>")},insertSimpleSubpanel:function(e,i,o){(this.children["subpanel_"+t(this.children).size()]=new l({apiResources:this.apiResources.subpanel,panel:i,hideFieldPicker:this.options.hideFieldPicker,model:{element:o,visualization:this.model.visualization}})).render().appendTo(e)},insertAddNewButton:function(e,i){var o=this.model.dataTable.getFieldList(),s=this.options.panel,n=s.elementType;if(s.hasOwnProperty("dataTypes")&&(o=t(o).filter((function(e){return t(s.dataTypes).contains(e.type)}),this)),n in{row:!0,column:!0}){var a=this.model.report.getElementCollectionByType(n).pluck("fieldName");o=t(o).filter((function(e){return!t(a).contains(e.fieldName)}),this)}this.children.addSubpanelMenu&&this.children.addSubpanelMenu.remove(),this.children.addSubpanelMenu=new d({items:o,label:h.sprintf(t("Add %s").t(),i)}),this.children.addSubpanelMenu.render().appendTo(e),this.children.addSubpanelMenu.on("itemClicked",(function(e,t){this.addSubpanel(e,t,this.model.dataTable)}),this)},addSubpanel:function(t,i,o){var s=this.options.panel,n=s.elementType,a=o.getFieldByName(i.fieldName);if(e.extend(a,s.setAttributes),s.hasOwnProperty("newElementHandler")){var r=this.model.report.createNewElement(n,a),l=s.newElementHandler(r);this.model.report.addElement(n,r,l)}else this.model.report.addElement(n,a)},handleValidation:function(e){var i=this.$(".heading-message");e?(this.$(".concertina-heading").removeClass("error"),i.text(i.attr("data-valid-text")||"")):(this.$(".concertina-heading").addClass("error"),i.text(t("Error").t()))},template:'            <div class="concertina-heading <%- headingClassName || \'\' %>">                <a href="#" class="concertina-toggle">                    \x3c!--i class="icon-circle"></i--\x3e                    <%- panelOptions.description || panelOptions.title %>                    <span class="heading-message" data-valid-text="<%- headingMessage %>"><%- headingMessage || \'\' %></span>                </a>            </div>            <div class="concertina-group-body panel-body">                <div class="flash-messages-placeholder"></div>            </div>        ',sectionDividerTemplate:'<div class="panel-section-divider"></div>'},{apiDependencies:{dataTable:r,subpanel:l}}))}.apply(t,o))||(e.exports=s)},"views/pivot/VisualizationConfigSubpanel":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/Base"),i("collections/services/data/ui/Times"),i("models/shared/Application"),i("models/shared/User"),i("models/pivot/PivotReport"),i("models/services/AppLocal"),i("models/pivot/datatable/PivotableDataTable"),i("views/extensions/DeclarativeDependencies"),i("views/pivot/custom_controls/FieldPickerControlGroup"),i("views/shared/vizcontrols/components/Form"),i("views/shared/controls/ControlGroup"),i("helpers/pivot/PivotVisualizationManager")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m){return p(h.extend({moduleId:i.i,className:"form form-horizontal",initialize:function(){this.model.visualization=this.model.visualization||new o,this.model.element&&!this.options.hideFieldPicker&&(this.children.fieldPicker=new c({model:this.model.element,report:this.model.report,dataTable:this.model.dataTable,dataTypes:this.options.panel.dataTypes,showRemoveButton:!this.options.panel.required})),t(this.options.panel.pivotFormElements).each((function(t){this.children[t.id]=new t.group(e.extend({},t.groupOptions,{model:t.type===m.REPORT_CONTROL?this.model.report.entry.content:this.model.element,report:this.model.report,dataTable:this.model.dataTable,collection:this.collection?this.collection.timePresets:void 0,application:this.model.application,appLocal:this.model.appLocal,user:this.model.user,visualization:this.model.visualization}))}),this),this.dynamicallyVisiblePivotElements=t(this.options.panel.pivotFormElements).filter(t.property("visibleWhen")),this.dynamicallyVisiblePivotElements.length>0&&this.listenTo(this.model.element,"change",this._refreshPivotGroupsVisibleState),this.options.formElements=this.options.panel.formElements,h.prototype.initialize.call(this,this.options)},render:function(){return this.children.fieldPicker&&this.children.fieldPicker.render().appendTo(this.el),t(this.options.panel.pivotFormElements).each((function(e){this.children[e.id].render().appendTo(this.el)}),this),h.prototype.render.call(this),this._refreshPivotGroupsVisibleState(),this},_refreshPivotGroupsVisibleState:function(){t(this.dynamicallyVisiblePivotElements).each((function(e){this._modelPassesPredicate(this.model.element,e.visibleWhen)?this.children[e.id].$el.show():this.children[e.id].$el.hide()}),this)}},{apiDependencies:{report:r,dataTable:d,application:n,appLocal:l,user:a,timePresets:s}}))}.apply(t,o))||(e.exports=s)},"views/pivot/VisualizationTypeMenu":function(e,t,i){var o,s;o=[i("shim/jquery"),e,i("models/pivot/PivotReport"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,o,s){return o(s.extend({tagName:"ul",moduleId:t.i,events:{"click li > a":function(t){t.preventDefault();var i=e(t.currentTarget);i.is(".disabled")||this.model.report.setVisualizationType(i.attr("data-viz-type"))}},initialize:function(){s.prototype.initialize.apply(this,arguments),this.model.report.on("visualizationTypeChange",this.debouncedRender,this)},render:function(){return this.removeTooltips(),this.$el.html(this.compiledTemplate({items:this.options.items,activeType:this.model.report.getVisualizationType()})),this.$("li > a:not(.disabled)").tooltip({animation:!1,placement:"right",container:"body",delay:{show:500,hide:0}}),this},remove:function(){return this.removeTooltips(),s.prototype.remove.apply(this,arguments)},removeTooltips:function(){this.$("li > a:not(.disabled)").each((function(){e(this).trigger("mouseleave").tooltip("destroy")}))},template:'            <% _(items).each(function(item) { %>                <li class="<%- item.id === activeType ? "active" : "" %>">                    <a href="#" class="<%- item.disabled ? \'disabled\' : \'\' %>"                                 title="<%- item.disabled ? \'\' : item.label || \'\' %>"                                 data-viz-type="<%- item.id %>">                        <% if (item.icon) { %>                            <span class="icon-<%- item.icon %>"></span>                        <% } else { %>                            <span class="icon"><%- item.label.slice(0, 2) %></span>                        <% } %>                    </a>                </li>             <% }); %>        '},{apiDependencies:{report:i}}))}.apply(t,o))||(e.exports=s)},"views/pivot/config_forms/AllSplitsForm":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/Base"),i("views/pivot/custom_controls/SplitSortControlGroup"),i("views/pivot/custom_controls/SplitLimitControlGroup"),i("views/pivot/custom_controls/SplitTotalsControlGroup")],void 0===(s=function(e,t,i,o,s,n){return i.extend({moduleId:t.i,tagName:"form",className:"form-horizontal",events:{submit:function(e){e.preventDefault()}},initialize:function(t){i.prototype.initialize.call(this,t),t=t||{},this.elementType=t.elementType,this.elementIndex=t.elementIndex;var a=this.model.element.get("type");"number"===a&&(this.$el.addClass("number-split"),this.model.element.on("change:display",this.updateLimitEnabled,this)),"row"===this.elementType&&(this.children.sortControlGroup=new o({model:this.model.report.entry.content,report:this.model.report,showHelpText:!0})),this.children.limitControlGroup=new s({model:this.model.report.entry.content,elementType:this.elementType,dataType:a,label:"row"===this.elementType?e("Max Rows").t():e("Max Columns").t()}),"column"===this.elementType&&(this.children.totalsControlGroup=new n({model:this.model.report.entry.content,elementType:this.elementType}))},render:function(){return this.children.sortControlGroup&&this.children.sortControlGroup.render().appendTo(this.el),this.children.limitControlGroup.render().appendTo(this.el),this.children.totalsControlGroup&&this.children.totalsControlGroup.render().appendTo(this.el),this.updateLimitEnabled(),this},updateLimitEnabled:function(){var e=this.model.report.validateLimitAmountEnabled(this.elementType,this.model.element,this.elementIndex);e?this.children.limitControlGroup.disable(e):this.children.limitControlGroup.enable()}})}.apply(t,o))||(e.exports=s)},"views/pivot/config_forms/ConfigFormBase":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("views/pivot/VisualizationConfigSubpanel"),i("helpers/pivot/PivotVisualizationManager")],void 0===(s=function(e,t,i,o){return i.extend({events:e.extend({},i.prototype.events,{keypress:function(t){13===t.which&&(t.preventDefault(),e(t.target).blur(),this.trigger("action:enterKey"))}}),initialize:function(){this.$el.addClass("pivot-element-form"),this.options.hideFieldPicker=!0,this.options.panel=t.extend({},this.options.panel,{pivotFormElements:t(this.options.panel.pivotFormElements).reject((function(e){return e.type===o.REPORT_CONTROL}),this)}),i.prototype.initialize.call(this,this.options)},stopListening:function(){i.prototype.stopListening.call(this),this.children={}}})}.apply(t,o))||(e.exports=s)},"views/pivot/config_forms/filters/TimestampFilterForm":function(e,t,i){var o,s;o=[i("require/underscore"),i("require/backbone"),e,i("models/shared/TimeRange"),i("views/Base"),i("views/shared/timerangepicker/dialog/Master")],void 0===(s=function(e,t,i,o,s,n){return s.extend({moduleId:i.i,initialize:function(e){s.prototype.initialize.call(this,e),this.collection=this.collection||{},this.timeRangeDialog=new n({model:{timeRange:this.model.element.timeRange,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:this.model.element.timePresets}),this.model.element.on("change",(function(){this.trigger("action:timeRangeSelected")}),this)},render:function(){return this.$el.append(this.timeRangeDialog.render().el),this.model.element.timeRange.trigger("prepopulate"),this},remove:function(){this.model.element.timeRange.off(null,null,this)},onShown:function(){this.timeRangeDialog.onShown()}})}.apply(t,o))||(e.exports=s)},"views/pivot/config_forms/form_view_factory":function(e,t,i){var o,s;o=[i("models/pivot/elements/BaseElement"),i("views/pivot/config_forms/ConfigFormBase"),i("helpers/pivot/PivotVisualizationManager")],void 0===(s=function(e,t,i){var o={filter:{string:!0,number:!0,boolean:!0,ipv4:!0},cell:{string:!0,number:!0,timestamp:!0,objectCount:!0,childCount:!0,ipv4:!0},row:{string:!0,number:!0,boolean:!0,timestamp:!0,ipv4:!0},column:{string:!0,number:!0,boolean:!0,timestamp:!0,ipv4:!0}};return{create:function(s){var n=(s=s||{}).model.element;if(!(n instanceof e))throw"options.model must an instance of models/pivot/elements/BaseElement";var a=n.get("elementType");if(!o.hasOwnProperty(a))throw"un-supported element type "+a;var r,l=n.get("type");if(!o[a].hasOwnProperty(l))throw"un-supported elementType - dataType combination "+a+", "+l;return r=a===i.FILTER?i.FILTER_FORM_ELEMENTS:a===i.ROW_SPLIT?i.ROW_SPLIT_FORM_ELEMENTS:a===i.COLUMN_SPLIT?i.COLUMN_SPLIT_FORM_ELEMENTS:i.CELL_VALUE_FORM_ELEMENTS,s.panel={pivotFormElements:r},new t(s)}}}.apply(t,o))||(e.exports=s)},"views/pivot/config_popups/AddElementPane":function(e,t,i){var o,s;o=[i("shim/jquery"),e,i("views/pivot/config_popups/BasePreviewPane")],void 0===(s=function(e,t,i){return i.extend({moduleId:t.i,events:e.extend({},i.prototype.events,{"click .submit-button":function(e){e.preventDefault(),this.trigger("action:addElement",this.model.element)}}),renderFormView:function(){i.prototype.renderFormView.call(this),this.children.formView.on("action:enterKey",(function(){this.trigger("action:addElement",this.model.element)}),this)},buttonsTemplate:'            <a href="#" class="btn btn-primary submit-button"><%- _("Add To Table").t() %></a>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/config_popups/BasePreviewPane":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/pivot/config_forms/form_view_factory"),i("views/pivot/config_forms/AllSplitsForm"),i("views/shared/FlashMessages")],void 0===(s=function(e,t,i,o,s,n){return i.extend({initialize:function(e){i.prototype.initialize.call(this,e),e=e||{},this.elementType=e.elementType,this.elementIndex=e.elementIndex,this.children.flashMessages=new n({model:{element:this.model.element,report:this.model.report.entry.content}})},render:function(){var e=t(this.template).template({element:this.model.element});return this.$el.html(e),this.children.flashMessages.replaceAll(this.$(".flash-messages-placeholder")),this.renderFormView(),this.renderButtons(),this},renderButtons:function(){var e=t(this.buttonsTemplate).template({});this.$(".buttons-wrapper").html(e)},renderFormView:function(){var i=this.model.element.get("elementType");if(this.children.formView&&this.children.formView.remove(),this.children.formView=o.create({model:{element:this.model.element,report:this.model.report,dataModel:this.model.dataModel,application:this.model.application,dataTable:this.model.dataTable}}),this.$(".element-form-placeholder").replaceWith(this.children.formView.render().el),i in{row:!0,column:!0}){this.children.allSplitsForm=new s({model:{element:this.model.element,report:this.model.report},elementType:this.elementType,elementIndex:this.elementIndex});var n=this.$(".shared-form-placeholder");e(t(this.allSplitsSubPaneHeader).template({elementType:this.elementType})).insertBefore(n),n.replaceWith(this.children.allSplitsForm.render().el)}else this.$(".shared-form-placeholder").remove();this.children.formView.on("changeContents",(function(){this.trigger("changeContents")}),this)},buttonsTemplate:"",template:'            <div class="pivot-config-content">                <div class="flash-messages-placeholder"></div>                <h4>                    <%- element.get("displayName") %>                </h4>                <div class="element-form-placeholder"></div>                <div class="shared-form-placeholder"></div>            </div>            <div class="buttons-wrapper popdown-dialog-footer"></div>        ',allSplitsSubPaneHeader:'            <div class="sub-pane-divider"></div>            <h4>                <%- elementType === "row" ? _("All Rows").t() : _("All Columns").t() %>            </h4>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/config_popups/InspectElementPane":function(e,t,i){var o,s;o=[i("shim/jquery"),e,i("views/pivot/config_popups/BasePreviewPane")],void 0===(s=function(e,t,i){return i.extend({moduleId:t.i,events:e.extend({},i.prototype.events,{"click .remove-button":function(e){e.preventDefault(),this.trigger("action:removeElement")},"click .update-button":function(e){e.preventDefault(),this.trigger("action:update",this.model.element)}}),renderFormView:function(){i.prototype.renderFormView.call(this),this.children.formView.on("action:enterKey",(function(){this.model.element.isValid(!0)&&this.trigger("action:update",this.model.element)}),this)},buttonsTemplate:'            <a href="#" class="btn remove-button"><%- _("Remove").t() %></a>            <a href="#" class="btn btn-primary update-button"><%- _("Update").t() %></a>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/config_popups/InspectTimeFilterPane":function(e,t,i){var o,s;o=[i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/pivot/config_forms/filters/TimestampFilterForm")],void 0===(s=function(e,t,i,o,s){return o.extend({moduleId:i.i,render:function(){this.children.formView&&this.children.formView.remove(),this.children.formView=new s({model:{element:this.model.element,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:{timePresets:this.collection&&this.collection.timePresets||new t.Collection}});var i=e(this.template).template({model:this.model.element});return this.$el.html(i),this.$(".form-view-placeholder").replaceWith(this.children.formView.render().el),this.children.formView.on("action:timeRangeSelected",(function(){this.trigger("action:update")}),this),this},remove:function(){return this.children.formView&&this.children.formView.remove(),o.prototype.remove.call(this),this},onShown:function(){this.children.formView.onShown()},template:'            <div class="form-view-placeholder"></div>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/config_popups/PivotConfigWizard":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/shared/Application"),i("models/services/datamodel/DataModel"),i("models/pivot/datatable/PivotableDataTable"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/pivot/DataTableFieldList"),i("views/pivot/config_popups/AddElementPane"),i("views/pivot/config_popups/InspectElementPane")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p){return a(r.extend({SLIDE_ANIMATION_DISTANCE:460,SLIDE_ANIMATION_DURATION:200,elementModel:null,previewPane:null,moduleId:i.i,events:{"click .back-button":function(e){e.preventDefault(),this.showFieldPicker()}},initialize:function(e){r.prototype.initialize.call(this,e),e=e||{},this.elementType=e.elementType,this.elementIndex=e.elementIndex,this.fieldPickerActive=!0;var i={model:this.model.dataTable,dataModelIsTemporary:this.model.dataModel.isTemporary()};"cell"===this.elementType?i.dataTypeBlacklist=["boolean"]:i.showEventFields=!1,"filter"===this.elementType&&(i.showTimestampFields=!1),this.elementType in{row:!0,column:!0}&&(i.hiddenFieldList=this.model.report.getElementCollectionByType(this.elementType).pluck("fieldName"),this.model.existingElement&&(i.hiddenFieldList=t(i.hiddenFieldList).without(this.model.existingElement.get("fieldName")))),this.children.objectFieldList=new l(i),this.children.objectFieldList.on("action:selectField",(function(e,t){var i=this.model.dataTable.getFieldByName(e);this.showPreviewPane(i)}),this),this.children.objectFieldList.on("action:saveDataModel",(function(){this.trigger("hide"),this.model.dataModel.trigger("save")}),this)},render:function(){var i=t(this.template).template({id:this.cid});return this.$el.html(i),this.$(".field-list-container").append(this.children.objectFieldList.render().el),this.$slideArea=this.$(".slide-area").eq(0),this.$pickerPaneWrapper=this.$(".field-picker-wrapper").eq(0),this.$elementEditorWrapper=this.$(".element-editor-wrapper").eq(0),this.$previewPaneWrapper=this.$(".preview-pane-wrapper").eq(0),this.model.existingElement?this.showPreviewPane(e.extend({},this.model.existingElement.attributes),!0):this.$elementEditorWrapper.css("display","none"),this},showPreviewPane:function(e,t){this.elementModel&&this.elementModel.off(),this.elementModel=this.model.report.createNewElement(this.elementType,e),this.model.existingElement?this.children.previewPane=new p({model:{element:this.elementModel,report:this.model.report,dataModel:this.model.dataModel,application:this.model.application,dataTable:this.model.dataTable},elementType:this.elementType,elementIndex:this.elementIndex}):this.children.previewPane=new d({model:{element:this.elementModel,report:this.model.report,dataModel:this.model.dataModel,application:this.model.application,dataTable:this.model.dataTable},elementType:this.elementType,elementIndex:this.elementIndex}),this.$previewPaneWrapper.append(this.children.previewPane.render().el),t?this.showPreviewPaneImmediate():this.showPreviewPaneAnimated(),this.children.previewPane.on("action:addElement",(function(e){this.trigger("action:addElement",this.elementType,e)}),this),this.children.previewPane.on("action:removeElement",(function(e){this.trigger("action:removeElement",this.elementType,e)}),this),this.children.previewPane.on("action:update",(function(e){this.trigger("action:update",this.elementType,e)}),this),this.children.previewPane.on("action:changeTab changeContents",(function(){this.trigger("changeContents")}),this)},showFieldPicker:function(){var e=this,t=this.$elementEditorWrapper,i=this.$pickerPaneWrapper;this.onBeforePaneAnimation(t,i),this.$slideArea.animate({height:this.$pickerPaneWrapper.height()},{duration:this.SLIDE_ANIMATION_DURATION,complete:function(){e.onAfterPaneAnimation(t,i),e.fieldPickerActive=!0,e.onFieldPickerShown(),e.children.previewPane.remove(),e.trigger("changeContents")}}),this.$pickerPaneWrapper.animate({marginLeft:0},{duration:this.SLIDE_ANIMATION_DURATION})},showPreviewPaneImmediate:function(){this.$pickerPaneWrapper.height(0).css({"margin-left":-this.SLIDE_ANIMATION_DISTANCE,display:"none"}),this.fieldPickerActive=!1},showPreviewPaneAnimated:function(){var e=this,t=this.$pickerPaneWrapper,i=this.$elementEditorWrapper;this.onBeforePaneAnimation(t,i),this.$slideArea.animate({height:this.$elementEditorWrapper.height()},{duration:this.SLIDE_ANIMATION_DURATION,complete:function(){e.onAfterPaneAnimation(t,i),e.fieldPickerActive=!1,e.onPreviewPaneShown(),e.trigger("changeContents")}}),this.$pickerPaneWrapper.animate({marginLeft:-this.SLIDE_ANIMATION_DISTANCE},{duration:this.SLIDE_ANIMATION_DURATION})},onBeforePaneAnimation:function(e,t){this.$slideArea.css("height",e.height()+"px"),t.css({height:"",display:""}),e.css({display:""})},onAfterPaneAnimation:function(e,t){this.$slideArea.css("height",""),e.css({height:"0",display:"none"})},onShown:function(){this.fieldPickerActive?this.onFieldPickerShown():this.onPreviewPaneShown()},onPreviewPaneShown:function(){this.adjustMaxHeight(this.$previewPaneWrapper.find(".pivot-config-content"));var e=this.$previewPaneWrapper.find('input[type="text"]');e.length>0?e.first().focus():this.$previewPaneWrapper.find("a").first().focus()},onFieldPickerShown:function(){this.adjustMaxHeight(this.$pickerPaneWrapper.find(".pivot-config-content")),this.$pickerPaneWrapper.find("a").first().focus()},adjustMaxHeight:function(t){var i=this.$el.parent(),o=i.offset().top+i.height()-e(window).height(),s=t.height()-parseFloat(t.css("padding-bottom"))-parseFloat(t.css("border-bottom-width"))-o-5,n=parseFloat(t.css("max-height"));(!n||s<n)&&t.css("max-height",s+"px")},template:'            <div class="slide-area">                <div class="field-picker-wrapper">                    <div class="pivot-config-content">                        <div id="new-<%= id %>" class="field-list-container"></div>                    </div>                </div>                <div class="element-editor-wrapper">                    <div class="back-button-column">                        <a href="#" class="btn back-button"><i class="icon-arrow-left"></i></a>                    </div>                    <div class="preview-pane-wrapper"></div>                </div>            </div>        '},{apiDependencies:{dataModel:s,application:o,dataTable:n}}))}.apply(t,o))||(e.exports=s)},"views/pivot/config_popups/TimeRangeInspector":function(e,t,i){var o,s;o=[e,i("collections/services/data/ui/Times"),i("models/shared/Application"),i("models/shared/User"),i("models/services/AppLocal"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/pivot/config_popups/InspectTimeFilterPane")],void 0===(s=function(e,t,i,o,s,n,a,r){return n(a.extend({moduleId:e.i,initialize:function(e){a.prototype.initialize.call(this,e),e=e||{},this.elementType=e.elementType},render:function(){return this.children.previewPane&&this.children.previewPane.remove(),this.children.previewPane=new r({model:{element:this.model.element,appLocal:this.model.appLocal,user:this.model.user,application:this.model.application},collection:{timePresets:this.collection.timePresets}}),this.$el.append(this.children.previewPane.render().el),this.children.previewPane.on("action:update",(function(){this.trigger("action:update","filter",this.model.element)}),this),this},onShown:function(){this.children.previewPane.onShown()}},{apiDependencies:{appLocal:s,user:o,application:i,timePresets:t}}))}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/CellValueControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){var s=[{value:"values",label:o.cellValueToDisplay("values")},{value:"earliest",label:o.cellValueToDisplay("earliest")},{value:"latest",label:o.cellValueToDisplay("latest")},{value:"count",label:o.cellValueToDisplay("count")},{value:"dc",label:o.cellValueToDisplay("dc")}],n=[{value:"sum",label:o.cellValueToDisplay("sum")},{value:"count",label:o.cellValueToDisplay("count")},{value:"avg",label:o.cellValueToDisplay("avg")},{value:"max",label:o.cellValueToDisplay("max")},{value:"min",label:o.cellValueToDisplay("min")},{value:"stdev",label:o.cellValueToDisplay("stdev")},{value:"median",label:o.cellValueToDisplay("median")},{value:"values",label:o.cellValueToDisplay("values")}],a=[{value:"duration",label:o.cellValueToDisplay("duration")},{value:"earliest",label:o.cellValueToDisplay("earliest")},{value:"latest",label:o.cellValueToDisplay("latest")}];return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Value").t();var t=this.determineSelectItems(this.model.get("type"));this.options.hasOwnProperty("outputType")&&(t=e(t).filter((function(e){return o.cellValueToOutputType(e.value)===this.options.outputType}),this)),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"value",toggleClassName:"btn",menuWidth:"narrow",items:t,popdownOptions:{detachDialog:!0}}}],i.prototype.initialize.call(this,this.options)},determineSelectItems:function(e){switch(e){case"string":case"ipv4":return s;case"number":return n;case"timestamp":return a;default:return[]}}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/CreateRangesControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup")],void 0===(s=function(e,t,i){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Create Ranges").t(),this.options.controls=[{type:"SyntheticRadio",options:{model:this.model,modelAttribute:"display",items:[{label:e("Yes").t(),value:"ranges"},{label:e("No").t(),value:"all"}]}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/FalseLabelControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("False Label").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"falseLabel",placeholder:e("optional").t(),inputClassName:"input-medium"}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/FieldPickerControlGroup":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i("util/datamodel/field_icon_utils")],void 0===(s=function(e,t,i,o,s,n){var a=s.extend({initialize:function(){this.options=e.extend({modelAttribute:"fieldName",toggleClassName:"btn btn-block",menuClassName:"pivot-field-picker-dropdown",popdownOptions:{detachDialog:!0}},this.options),t(this.options.items).each(this.prepareItem,this),s.prototype.initialize.call(this,this.options)},updateModel:function(e){var i=this,o=t(this.options.items).find((function(e){return e.value===i._value})),s=this.options.dataTable.getFieldByName(o.fieldName);return this.model.trigger("hotSwap",s),!0},prepareItem:function(e){e.icon=n.fieldIconClassByType(e.type),e.value=e.fieldName,e.label=e.label||e.displayName}});return o.extend({moduleId:i.i,control:a,events:e.extend({},o.prototype.events,{"click .remove-button":function(e){e.preventDefault(),this.model.trigger("removeField")}}),initialize:function(){this.dataTable=this.options.dataTable,this.options.controls=[new this.control({items:this.generateMenuItems(),model:this.model,dataTable:this.dataTable})],this.options.label||(this.options.label=t("Field").t()),this.$el.addClass("pivot-field-picker-group"),o.prototype.initialize.call(this,this.options)},generateMenuItems:function(){var e=this.dataTable.getGroupedFieldList(),i=t.union(e.objectCount||[],e.timestamp||[],e.other);this.options.hasOwnProperty("dataTypes")&&(i=t(i).filter((function(e){return t(this.options.dataTypes).contains(e.type)}),this));var o=this.model.get("elementType");if(o in{row:!0,column:!0}){var s=this.options.report.getElementCollectionByType(o).pluck("fieldName");i=t(i).filter((function(e){return e.fieldName===this.model.get("fieldName")||!t(s).contains(e.fieldName)}),this)}return i},render:function(){return o.prototype.render.call(this),!1!==this.options.showRemoveButton&&this.$(".dropdown-toggle").after('<a class="btn-pill btn-square remove-button" href="#"><i class="icon-x icon-large"></i></a>'),this.$(".dropdown-toggle").tooltip({animation:!1,container:"body",title:function(){return e(this).text().trim()},placement:function(t){return e(t).addClass("tooltip-full-width"),"top"}}),this}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/FilterLimitByControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/SyntheticSelectControl"),i("views/pivot/custom_controls/FieldPickerControlGroup")],void 0===(s=function(e,t,i,o){var s=o.prototype.control;return o.extend({moduleId:t.i,control:s.extend({moduleId:t.i,initialize:function(){this.options.modelAttribute="limitBy",this.options.popdownOptions={detachDialog:!0},s.prototype.initialize.call(this,this.options)},updateModel:function(e){return i.prototype.updateModel.call(this,e)},getUpdatedModelAttributes:function(){var t=this,i=e(this.options.items).find((function(e){return e.value===t._value}));return{limitBy:this._value,limitByOwner:i.owner,limitByDataType:i.type,limitByDisplayName:i.label}}}),initialize:function(){this.options.label=e("Limit By").t(),this.options.dataTypes=["string","ipv4","number","objectCount","childCount"],this.options.showRemoveButton=!1,o.prototype.initialize.call(this,this.options)},generateMenuItems:function(){var t=o.prototype.generateMenuItems.call(this),i=e(t).find((function(e){return e.fieldName===this.model.get("fieldName")}),this);return i&&(i.label=e("This field").t(),i.icon="none",t=e.union([i],e(t).without(i))),t}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/FilterLimitControlGroup":function(e,t,i){var o,s;o=[e,i("require/underscore"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/controls/TextControl"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o,s,n){return i.extend({moduleId:e.i,initialize:function(){this.options.label=t("Limit").t(),this.stringStatsFnControl=new o({model:this.model,modelAttribute:"limitStatsFn",className:n.prototype.className+" input-append",toggleClassName:"btn",menuWidth:"narrow",popdownOptions:{detachDialog:!0},items:[{value:"count",label:t("counts").t()},{value:"dc",label:t("distinct counts").t()}]}),this.numberStatsFnControl=new o({model:this.model,modelAttribute:"limitStatsFn",className:n.prototype.className+" input-append",toggleClassName:"btn",menuWidth:"narrow",popdownOptions:{detachDialog:!0},items:[{value:"count",label:t("counts").t()},{value:"dc",label:t("distinct counts").t()},{value:"sum",label:t("sums").t()},{value:"avg",label:t("averages").t()}]}),this.limitAmountControl=new s({model:this.model,modelAttribute:"limitAmount",className:n.prototype.className+" input-prepend input-number-small",inputClassName:this.options.inputClassName||"input-very-small"}),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"limitType",className:n.prototype.className+" input-prepend",toggleClassName:"btn",menuWidth:"narrow",popdownOptions:{detachDialog:!0},items:[{value:"highest",label:t("Highest").t()},{value:"lowest",label:t("Lowest").t()}]}},this.limitAmountControl,this.stringStatsFnControl,this.numberStatsFnControl],this.model.on("change:limitByDataType",this.handleLimitByDataTypeChange,this),i.prototype.initialize.call(this,this.options)},handleLimitByDataTypeChange:function(){var e=this.model.get("limitByDataType");if("string"===e||"ipv4"===e)this.limitAmountControl.$el.addClass("input-append"),this.stringStatsFnControl.wake().$el.css({display:"inline-block"}),this.numberStatsFnControl.sleep().$el.hide(),this.model.get("limitStatsFn")in{count:!0,dc:!0}||this.model.set({limitStatsFn:"count"});else if("number"===e)this.limitAmountControl.$el.addClass("input-append"),this.stringStatsFnControl.sleep().$el.hide(),this.numberStatsFnControl.wake().$el.css({display:"inline-block"});else{this.limitAmountControl.$el.removeClass("input-append"),this.stringStatsFnControl.sleep().$el.hide(),this.numberStatsFnControl.sleep().$el.hide(),("objectCount"===e||"childCount"===e)&&"count"!==this.model.get("limitStatsFn")&&this.model.set({limitStatsFn:"count"})}},render:function(){return i.prototype.render.call(this),this.handleLimitByDataTypeChange(),this}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/FilterMatchControlGroup":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control"),i("views/shared/controls/TextControl"),i("views/shared/delegates/Popdown"),i("util/pivot/config_form_utils"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n,a,r,l){var d={string:[{value:"is",label:r.filterRuleToDisplay("is")},{value:"contains",label:r.filterRuleToDisplay("contains")},{value:"isNot",label:r.filterRuleToDisplay("isNot")},{value:"doesNotContain",label:r.filterRuleToDisplay("doesNotContain")},{value:"startsWith",label:r.filterRuleToDisplay("startsWith")},{value:"endsWith",label:r.filterRuleToDisplay("endsWith")},{value:"isNull",label:r.filterRuleToDisplay("isNull")},{value:"isNotNull",label:r.filterRuleToDisplay("isNotNull")},{value:"in",label:r.filterRuleToDisplay("in")}],ipv4:[{value:"is",label:r.filterRuleToDisplay("is")},{value:"contains",label:r.filterRuleToDisplay("contains")},{value:"isNot",label:r.filterRuleToDisplay("isNot")},{value:"doesNotContain",label:r.filterRuleToDisplay("doesNotContain")},{value:"startsWith",label:r.filterRuleToDisplay("startsWith")},{value:"isNull",label:r.filterRuleToDisplay("isNull")},{value:"isNotNull",label:r.filterRuleToDisplay("isNotNull")},{value:"in",label:r.filterRuleToDisplay("in")}],number:[{value:"=",label:r.filterRuleToDisplay("=")},{value:"!=",label:r.filterRuleToDisplay("!=")},{value:"<=",label:r.filterRuleToDisplay("<=")},{value:"<",label:r.filterRuleToDisplay("<")},{value:">=",label:r.filterRuleToDisplay(">=")},{value:">",label:r.filterRuleToDisplay(">")},{value:"isNull",label:r.filterRuleToDisplay("isNull")},{value:"isNotNull",label:r.filterRuleToDisplay("isNotNull")}]},p=[{value:"true",label:r.filterRuleToDisplay("true")},{value:"false",label:r.filterRuleToDisplay("false")},{value:"isNull",label:r.filterRuleToDisplay("isNull")},{value:"isNotNull",label:r.filterRuleToDisplay("isNotNull")}],c=n.extend({initialize:function(e){this.options.append=this.sampleValuesToggleTemplate,n.prototype.initialize.call(this,this.options),this.children.sampleValues=new a({el:this.el,detachDialog:!0}),this.children.sampleValues.on("show",this.onSampleValuesMenuShow,this),this.children.sampleValues.on("hide",this.onSampleValuesMenuHide,this)},render:function(){return n.prototype.render.apply(this,arguments),this.$el.append(this.sampleValuesMenuTemplate),this.$sampleValuesMenu=this.$(".sample-values-menu"),this},onSampleValuesMenuShow:function(){var i={app:this.options.application.get("app"),owner:this.options.application.get("owner"),earliest_time:this.options.report.entry.content.get("dispatch.earliest_time")||0,provenance:"UI:Pivot"};this.options.report.entry.content.get("dispatch.latest_time")&&(i.latest_time=this.options.report.entry.content.get("dispatch.latest_time"));var o=this.options.dataTable.getSampleValuesModel(this.model.get("fieldName"),{data:i});o.has("values")?this.renderSampleValues(o):(this.$sampleValuesMenu.find(":not(.arrow)").remove(),this.$sampleValuesMenu.append(t(this.loadingSampleValuesTemplate).template({})),o.once("change:values",this.renderSampleValues,this));var s=this;this.$sampleValuesMenu.on("click",".sample-value",(function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-value");s.setValue(i,!0)}))},onSampleValuesMenuHide:function(){this.$sampleValuesMenu.off()},renderSampleValues:function(e){this.$sampleValuesMenu.find(":not(.arrow)").remove(),this.$sampleValuesMenu.append(t(this.sampleValuesContentTemplate).template({limit:e.get("limit"),values:e.get("values")}))},sampleValuesToggleTemplate:'            <a href="#" class="add-on btn dropdown-toggle">                <i class="icon-triangle-down-small"></i>            </a>        ',sampleValuesMenuTemplate:'            <div class="sample-values-menu dropdown-menu">                <div class="arrow"></div>            </div>        ',loadingSampleValuesTemplate:'            <ul>                <li><a href="#" class="disabled"><%- _("Loading...").t() %></a></li>            </ul>        ',sampleValuesContentTemplate:'            <ul>                <% if(values.length > 0) { %>                    <% _(values).each(function(value) { %>                        <li class="sample-value" data-value="<%- value %>">                            <a href="#"><%- value %></a>                        </li>                    <% }); %>                    <% if(values.length == limit) { %>                        <li class="sample-value-limit">                            Displaying top <%- limit %> values                        </li>                    <% } %>                <% } else { %>                    <ul>                        <li><a href="#" class="disabled"><%- _("No Sample Values found.").t() %></a></li>                    </ul>                <% } %>            </ul>        '}),h=n.extend({setValueFromModel:function(e){var i=this.model.get(this.getModelAttribute());return i=t(i).isArray()?i:[i],this._setValue(l.fieldListToString(i),e),this},getUpdatedModelAttributes:function(){var e=n.prototype.getUpdatedModelAttributes.apply(this,arguments),t=e[this.getModelAttribute()];return e[this.getModelAttribute()]=l.stringToFieldList(t),e}});return o.extend({moduleId:i.i,initialize:function(){var e=[],i=this.model.get("type");"string"!==i&&"ipv4"!==i&&"number"!==i||e.push({type:"SyntheticSelect",options:{model:this.model,modelAttribute:"ruleComparator",toggleClassName:"btn",menuWidth:"narrow",items:d[i],popdownOptions:{detachDialog:!0}}}),"boolean"===i?e.push({type:"SyntheticSelect",options:{model:this.model,modelAttribute:"ruleCompareTo",toggleClassName:"btn",menuWidth:"narrow",items:p,popdownOptions:{detachDialog:!0}}}):(e.push(new c({model:this.model,modelAttribute:"ruleCompareTo",inputClassName:"input-small",report:this.options.report,dataTable:this.options.dataTable,application:this.options.application})),"string"!==i&&"ipv4"!==i||e.push(new h({model:this.model,modelAttribute:"ruleCompareTo",inputClassName:"input-medium"}))),this.options.label=t("Match").t(),this.options.controls=e,o.prototype.initialize.call(this,this.options),this.ruleComparatorControl=this.childList[0],this.childList.length>1&&(this.ruleCompareToControl=this.childList[1]),this.childList.length>2&&(this.ruleCompareToListControl=this.childList[2]),this.model.on("change:ruleComparator",this.handleComparatorChange,this),this.model.on("change:ruleCompareTo",this.handleCompareToChange,this)},render:function(){return o.prototype.render.apply(this,arguments),this.handleComparatorChange(),this},handleComparatorChange:function(){var e=this.model.get("ruleComparator"),t=this.model.previous("ruleComparator");this.model.hasChanged("ruleComparator")&&("in"===t?(this.previousListCompareTo=this.model.get("ruleCompareTo"),this.model.set({ruleCompareTo:1===this.previousListCompareTo.length?this.previousListCompareTo[0]:"*"})):"in"===e&&this.model.set({ruleCompareTo:this.previousListCompareTo||[this.model.get("ruleCompareTo")]})),this.ruleCompareToControl&&(e in{isNull:!0,isNotNull:!0}?(this.ruleCompareToControl.detach(),this.ruleCompareToListControl&&this.ruleCompareToListControl.detach(),this.setHelpText("")):"in"===e?(this.ruleCompareToControl.detach(),this.ruleCompareToListControl.insertAfter(this.ruleComparatorControl.el),this.setHelpText(this.matchListComparatorHelpText)):(this.ruleCompareToListControl&&this.ruleCompareToListControl.detach(),this.ruleCompareToControl.insertAfter(this.ruleComparatorControl.el),this.setHelpText("")))},handleCompareToChange:function(){"in"===this.model.get("ruleComparator")||this.model.hasChanged("ruleComparator")||(this.previousListCompareTo=null)},matchListComparatorHelpText:"            Enter a comma-separated list of allowed values. Wildcards are permitted.            <br />            Example:  warning, error-*        "})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/FilterTypeControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup")],void 0===(s=function(e,t,i){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Filter Type").t(),this.options.controls=[{type:"SyntheticRadio",options:{model:this.model,modelAttribute:"filterType",items:[{label:e("Match").t(),value:"match"},{label:e("Limit").t(),value:"limit"}]}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/LabelControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Label").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"label",placeholder:e("optional").t(),inputClassName:"input-pivot-label"}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/MaxRangesControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Max # of Ranges").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"maxNumRanges",placeholder:e("optional").t(),inputClassName:"input-medium"}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/RangeEndControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Range End").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"rangeEnd",placeholder:e("optional").t(),inputClassName:"input-medium"}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/RangeSizeControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Range Size").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"rangeSize",placeholder:e("optional").t(),inputClassName:"input-medium"}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/RangeStartControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Range Start").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"rangeStart",placeholder:e("optional").t(),inputClassName:"input-medium"}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/SplitLimitControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(t){var s="column"===t.elementType&&!(t.dataType in{boolean:!0,timestamp:!0});this.options.label=t.label||e("Limit").t(),this.options.helpClass="pivot-inspector-help-text",this.options.help=" ",this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"row"===t.elementType?"rowLimitAmount":"colLimitAmount",inputClassName:s?"input-small":"input-medium"}}],s&&(this.options.controls[0].options.className=o.prototype.className+" input-append",this.options.controls.push({type:"SyntheticSelect",options:{className:o.prototype.className+" input-append",model:this.model,modelAttribute:"showOtherCol",toggleClassName:"btn",menuWidth:"narrow",items:[{label:e("Group Others").t(),value:"true"},{label:e("Hide Others").t(),value:"false"}],popdownOptions:{detachDialog:!0}}})),i.prototype.initialize.call(this,this.options)},disable:function(e){this.$(".pivot-inspector-help-text").text(e).css("display","block"),i.prototype.disable.apply(this,arguments)},enable:function(){this.$(".pivot-inspector-help-text").text("").css("display","none"),i.prototype.enable.apply(this,arguments)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/SplitSortControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("util/pivot/config_form_utils"),i("util/keyboard"),i("shim/splunk.util"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,o,s,n){return i.extend({moduleId:t.i,events:{"click .help-tooltip":function(e){e.preventDefault()},"keypress .help-tooltip":function(e){e.which===s.KEYS.ENTER&&e.preventDefault()}},initialize:function(t){if(this.options.label=e("Sort").t(),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"rowLimitType",toggleClassName:"btn",menuWidth:"narrow",items:[{value:"default",label:e("Default").t()},{value:"descending",label:e("Descending").t()},{value:"ascending",label:e("Ascending").t()}],popdownOptions:{detachDialog:!0}}}],t.showHelpText){var s=t.report.entry.content.cells.find((function(e){return e.get("value")in{count:!0,dc:!0,sum:!0,avg:!0}||e.get("type")in{objectCount:!0,childCount:!0}})),a=s?s.getComputedLabel():o.getCellValueLabel(t.report.getPivotObjectName(),"count");this.options.help=e(this.helpTextTemplate).template({helpMessage:n.sprintf(e("(By %s)").t(),a),helpTooltip:e("When sorting by Ascending or Descending, the first compatible Column Value is used. If none are defined, Count of rows will be used.").t()}),this.options.helpClass="pivot-inspector-help-text",this.model.on("change:rowLimitType",this.handleLimitType,this)}i.prototype.initialize.call(this,this.options)},render:function(){return i.prototype.render.apply(this,arguments),this.$(".help-tooltip").tooltip({animation:!1}),this.handleLimitType(),this},handleLimitType:function(){"default"===this.model.get("rowLimitType")?this.$(".pivot-inspector-help-text").css("display","none"):this.$(".pivot-inspector-help-text").css("display","block")},helpTextTemplate:'            <span><%- helpMessage %></span>            <a href="#" class="help-tooltip" title="<%- helpTooltip %>">?</a>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/SplitTotalsControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup")],void 0===(s=function(e,t,i){return i.extend({moduleId:t.i,initialize:function(t){this.options.label=e("Totals").t(),this.options.controls=[{type:"SyntheticRadio",options:{model:this.model,modelAttribute:"row"===t.elementType?"showRowSummary":"showColSummary",items:[{label:e("Yes").t(),value:"true"},{label:e("No").t(),value:"false"}]}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/TimePeriodControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("util/pivot/config_form_utils")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("Periods").t(),this.options.controls=[{type:"SyntheticSelect",options:{model:this.model,modelAttribute:"period",toggleClassName:"btn",menuWidth:this.options.menuWidth,popdownOptions:{detachDialog:!0},items:[{value:"auto",label:o.splitTimePeriodToDisplay("auto",this.options.showSamples)},{value:"year",label:o.splitTimePeriodToDisplay("year",this.options.showSamples)},{value:"month",label:o.splitTimePeriodToDisplay("month",this.options.showSamples)},{value:"day",label:o.splitTimePeriodToDisplay("day",this.options.showSamples)},{value:"hour",label:o.splitTimePeriodToDisplay("hour",this.options.showSamples)},{value:"minute",label:o.splitTimePeriodToDisplay("minute",this.options.showSamples)},{value:"second",label:o.splitTimePeriodToDisplay("second",this.options.showSamples)}]}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/TimeRangeControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/shared/TimeRange"),i("views/shared/controls/Control"),i("views/shared/controls/ControlGroup"),i("views/shared/timerangepicker/dialog/Master"),i("views/shared/delegates/Popdown")],void 0===(s=function(e,t,i,o,s,n,a){var r=o.extend({moduleId:t.i,initialize:function(){this.options.modelAttribute="label",o.prototype.initialize.call(this,this.options),this.children.timeRangeDialog=new n({model:{timeRange:this.model.timeRange,application:this.options.application,appLocal:this.options.appLocal,user:this.options.user},collection:this.model.timePresets}),this.children.popdown=new a({el:this.el,mode:"dialog",detachDialog:!0,minMargin:120,ignoreClasses:["ui-datepicker","ui-datepicker-header","dropdown-menu"]}),this.listenTo(this.children.popdown,"shown",(function(){this.children.timeRangeDialog.onShown()})),this.listenTo(this.model.timeRange,"applied",(function(){this.children.popdown.hide()}))},render:function(){this.el.innerHTML?(this.$(".link-label").text(this.model.get("label")),this.children.popdown.hide()):(this.$el.html(this.compiledTemplate({model:this.model,options:this.options})),this.$popdownWrapper=this.$(".popdown-dialog"),this.$popdownWrapper.append(this.children.timeRangeDialog.render().el),this.$popdownWrapper.width(650))},template:'            <a href="#" class="popdown-toggle <%- options.toggleClassName %>">                <span class="link-label"><%- model.get("label") %></span><span class="caret" aria-hidden="true"></span>            </a>            <div class="popdown-dialog">                <div class="arrow"></div>            </div>        '});return s.extend({moduleId:t.i,initialize:function(){var t=new r({model:this.model,collection:this.collection,application:this.options.application,appLocal:this.options.appLocal,user:this.options.user,toggleClassName:"btn btn-block"});this.options.controls=[t],this.options.label=e("Range").t(),s.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/custom_controls/TrueLabelControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/controls/ControlGroup"),i("views/shared/controls/Control")],void 0===(s=function(e,t,i,o){return i.extend({moduleId:t.i,initialize:function(){this.options.label=e("True Label").t(),this.options.controls=[{type:"Text",options:{model:this.model,modelAttribute:"trueLabel",placeholder:e("optional").t(),inputClassName:"input-medium"}}],i.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/CreateDashboardPanelDialog":function(e,t,i){var o,s;o=[e,i("models/shared/Application"),i("models/shared/User"),i("models/search/Job"),i("models/pivot/PivotReport"),i("models/pivot/PivotSearch"),i("models/services/server/ServerInfo"),i("models/services/datamodel/DataModel"),i("views/extensions/DeclarativeDependencies"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Master"),i("views/pivot/dialogs/components/CreateDashboardPanelAndDataModel"),i("views/pivot/dialogs/components/DashboardPanelAndDataModelSuccess")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c){return l(d.extend({moduleId:e.i,initialize:function(){this.options.chooseVisualizationType=!1,d.prototype.initialize.apply(this,arguments),this.model.dataModel.isTemporary()&&(this.children.create=new p({apiResources:this.apiResources.create,model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.inmem},chooseVisualizationType:!1}),this.children.success=new c({apiResources:this.apiResources.success,model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.inmem}}),this.on("hidden",(function(){this.trigger("action:flowExited",!this.model.dataModel.isTemporary(),this.model.report.entry.content.get("search"))}),this))}},{apiDependencies:{report:s,dataModel:r,application:t,searchJob:o,user:i,serverInfo:a,create:p,success:c}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/CreateReportDialog":function(e,t,i){var o,s;o=[e,i("models/shared/Application"),i("models/shared/User"),i("models/search/Job"),i("models/pivot/PivotReport"),i("models/pivot/PivotSearch"),i("models/services/datamodel/DataModel"),i("views/extensions/DeclarativeDependencies"),i("views/shared/reportcontrols/dialogs/createreport/Master"),i("views/pivot/dialogs/components/CreateReportAndDataModel"),i("views/pivot/dialogs/components/ReportAndDataModelSuccess")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p){return r(l.extend({moduleId:e.i,initialize:function(){this.options.chooseVisualizationType=!1,l.prototype.initialize.apply(this,arguments),this.model.dataModel.isTemporary()&&(this.children.create=new d({model:{searchJob:this.model.searchJob,application:this.model.application,inmem:this.model.inmem,dataModel:this.model.dataModel},chooseVisualizationType:!1}),this.children.success.off(),this.children.success=new p({model:{application:this.model.application,inmem:this.model.inmem,searchJob:this.options.preventSidReuse?void 0:this.model.searchJob,user:this.model.user,dataModel:this.model.dataModel}}),this.children.success.on("addToDashboardPanel",(function(){this.stepViewStack.setSelectedView(this.children.createDashboardPanel)}),this),this.on("hidden",(function(){this.trigger("action:flowExited",!this.model.dataModel.isTemporary()&&this.model.inmem.isNew(),this.model.inmem.entry.content.get("search"))}),this))}},{apiDependencies:{report:s,application:t,user:i,dataModel:a,pivotSearch:n,searchJob:o}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/PermissionMismatchDialog":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/shared/Application"),i("views/extensions/DeclarativeDependencies"),i("views/shared/Modal"),i("uri/route")],void 0===(s=function(e,t,i,o,s,n,a){return s(n.extend({moduleId:i.i,render:function(){this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).text(t("Permission Mismatch").t()),this.$(n.BODY_SELECTOR).append(e("<h5></h5>").text(t("A pivot report cannot be shared if it references a private data model.").t()).css("margin-bottom","10px"));var i=a.getContextualPageRouter(this.model.application),o=i.reports(),s=i.data_model_manager();this.$(n.BODY_SELECTOR).append(e("<a></a>").text(t("Manage Data Models").t()).attr("href",s).css("margin-right","15px")),this.$(n.BODY_SELECTOR).append(e("<a></a>").text(t("Manage Reports").t()).attr("href",o)),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_DONE)}},{apiDependencies:{application:o}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/SaveDataModelDialog":function(e,t,i){var o,s;o=[e,i("models/pivot/PivotReport"),i("models/services/datamodel/DataModel"),i("views/extensions/DeclarativeDependencies"),i("views/shared/MultiStepModal"),i("views/pivot/dialogs/components/SaveDataModel"),i("views/pivot/dialogs/components/DataModelSuccess")],void 0===(s=function(e,t,i,o,s,n,a){return o(s.extend({moduleId:e.i,initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.save=new n({apiResources:this.apiResources.save}),this.children.success=new a({apiResources:this.apiResources.success}),this.listenTo(this.children.save,"saveSuccess",(function(){this.stepViewStack.setSelectedView(this.children.success)})),this.on("hidden",(function(){this.trigger("action:flowExited",!this.model.dataModel.isTemporary(),this.model.report.entry.content.get("search"))}),this)},getStepViews:function(){return[this.children.save,this.children.success]}},{apiDependencies:{report:t,dataModel:i,save:n,success:a}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/SharePivotDialog":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/extensions/DeclarativeDependencies"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup")],void 0===(s=function(e,t,i,o,s){return i(o.extend({moduleId:t.i,initialize:function(){o.prototype.initialize.apply(this,arguments),this.$el.addClass("share-pivot-dialog"),this.children.bookmark=new s({label:e("Link To Pivot").t(),controlType:"Text",help:e("Copy or bookmark the link by right-clicking the icon, or drag the icon into your bookmarks bar.").t(),controlOptions:{defaultValue:this.options.shareLink,append:e(this.bookmarkButtonTemplate).template({shareLink:this.options.shareLink})}})},render:function(){this.$el.html(o.TEMPLATE),this.$(o.HEADER_TITLE_SELECTOR).html(e("Share Pivot").t()),this.$(o.BODY_SELECTOR).append(o.FORM_HORIZONTAL),this.children.bookmark.render().appendTo(this.$(o.BODY_FORM_SELECTOR)),this.$(o.BODY_SELECTOR).prepend(this.compiledTemplate({}))},template:'            <p>                <%- _("Share your pivot with this link. The job will run again with any relative times. This result set and job will not be shared.").t() %>            </p>        ',bookmarkButtonTemplate:'            <a class="add-on bookmark" href="<%- shareLink %>">                <i class="icon-bookmark"></i>                <span class="hide-text"><%- _("Splunk Pivot Report link. Copy or bookmark the link by right-clicking the icon, or drag the icon into your bookmarks bar.").t() %></span>            </a>        '},{apiDependencies:{}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/components/CreateDashboardPanelAndDataModel":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/shared/Application"),i("models/shared/User"),i("models/search/Job"),i("models/pivot/PivotReport"),i("models/pivot/PivotSearch"),i("models/services/datamodel/DataModel"),i("models/datamodel/CreateDataModel"),i("views/extensions/DeclarativeDependencies"),i("views/shared/Modal"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Create"),i("views/pivot/dialogs/components/DataModelNameControls"),i("util/pivot/pivot_dialog_utils")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u){return d(c.extend({moduleId:t.i,initialize:function(){c.prototype.initialize.apply(this,arguments),this.model.inmemDataModel=this.model.dataModel.clone(),u.prepareInmemDataModel(this.model.inmemDataModel),this.model.pivotSearch=new a,this.model.createDataModel=new l,this.children.flashMessage.flashMsgHelper.register(this.model.inmemDataModel),this.children.flashMessage.flashMsgHelper.register(this.model.pivotSearch),this.children.flashMessage.flashMsgHelper.register(this.model.createDataModel),this.children.dataModelNameControls=new h({model:{createDataModel:this.model.createDataModel}})},submit:function(){this.model.createDataModel.isValid(!0)&&(this.model.dataModel.isTemporary()?(this.model.inmemDataModel.entry.content.set(this.model.createDataModel.pick("modelName","displayName")),u.saveDataModel(this.model.dataModel,this.model.inmemDataModel,this.model.pivotSearch,this.model.report,this.model.application.pick("app","owner")).done(e((function(){this.children.dataModelNameControls.disable(),c.prototype.submit.call(this)})).bind(this))):c.prototype.submit.call(this))},render:function(){c.prototype.render.apply(this,arguments);var t=this.$(p.BODY_FORM_SELECTOR);return t.append(e(this.extraFormTemplate).template({})),this.children.dataModelNameControls.render().appendTo(t),this},extraFormTemplate:'            <hr />            <div class="save-data-model-message">                <%- _("You must save the original search as a data model. This will power the Dashboard Panel.").t() %>            </div>        '},{apiDependencies:{report:n,application:i,searchJob:s,user:o,dataModel:r}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/components/CreateReportAndDataModel":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/pivot/PivotSearch"),i("models/datamodel/CreateDataModel"),i("views/shared/reportcontrols/dialogs/createreport/Create"),i("views/shared/Modal"),i("views/pivot/dialogs/components/DataModelNameControls"),i("util/pivot/pivot_dialog_utils")],void 0===(s=function(e,t,i,o,s,n,a,r){return s.extend({moduleId:t.i,initialize:function(){s.prototype.initialize.apply(this,arguments),this.model.inmemDataModel=this.model.dataModel.clone(),r.prepareInmemDataModel(this.model.inmemDataModel),this.model.pivotSearch=new i,this.model.createDataModel=new o,this.children.flashMessage.flashMsgHelper.register(this.model.inmemDataModel),this.children.flashMessage.flashMsgHelper.register(this.model.pivotSearch),this.children.flashMessage.flashMsgHelper.register(this.model.createDataModel),this.children.dataModelNameControls=new a({model:{createDataModel:this.model.createDataModel}})},submit:function(){this.model.createDataModel.isValid(!0)&&(this.model.dataModel.isTemporary()?(this.model.inmemDataModel.entry.content.set(this.model.createDataModel.pick("modelName","displayName")),r.saveDataModel(this.model.dataModel,this.model.inmemDataModel,this.model.pivotSearch,this.model.inmem,this.model.application.pick("app","owner")).done(e((function(){this.children.dataModelNameControls.disable(),s.prototype.submit.call(this)})).bind(this))):s.prototype.submit.call(this))},render:function(){s.prototype.render.apply(this,arguments);var t=this.$(n.BODY_FORM_SELECTOR);return t.append(e(this.extraFormTemplate).template({})),this.children.dataModelNameControls.render().appendTo(t),this},extraFormTemplate:'            <hr />            <div class="save-data-model-message">                <%- _("You must save the original search as a data model. This will power the report.").t() %>            </div>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/components/DashboardPanelAndDataModelSuccess":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/shared/Application"),i("models/services/datamodel/DataModel"),i("views/shared/Modal"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Success"),i("views/extensions/DeclarativeDependencies"),i("uri/route"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n,a,r,l){return a(n.extend({moduleId:t.i,initialize:function(){n.prototype.initialize.apply(this,arguments),this.listenTo(this.model.dataModel,"change:"+this.model.dataModel.idAttribute,this.render)},render:function(){n.prototype.render.apply(this,arguments);var t=this.model.dataModel.entry.content.get("displayName"),i=r.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{model:this.model.dataModel.id}});return this.$(s.BODY_SELECTOR).append(e(this.extraBodyTemplate).template({dataModelSuccessMessage:l.sprintf("The data model, %s, has also been created.",'<a href="'+i+'">'+t+"</a>")})),this},extraBodyTemplate:'            <p class="data-model-success-message">                <%= dataModelSuccessMessage %>            </p>        '},{apiDependencies:{application:i,dataModel:o}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/components/DataModelNameControls":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/Base"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/TextControl"),i("views/shared/delegates/PairedTextControls"),i("util/datamodel/form_utils")],void 0===(s=function(e,t,i,o,s,n,a){return i.extend({moduleId:t.i,initialize:function(){i.prototype.initialize.apply(this,arguments),this.children.modelDisplayNameControl=new s({model:this.model.createDataModel,modelAttribute:"displayName"}),this.children.modelDisplayNameGroup=new o({label:e("Model Title").t(),controlType:"Text",controls:this.children.modelDisplayNameControl}),this.children.modelNameControl=new s({model:this.model.createDataModel,modelAttribute:"modelName"}),this.children.modelNameGroup=new o({label:e("Model ID").t(),controlType:"Text",controls:this.children.modelNameControl,tooltip:e("The ID is used as the filename on disk. Cannot be changed later.").t(),help:e("The data model ID can only contain letters, numbers, dashes, and underscores. Do not start the data model ID with a period.").t()}),this.children.pairedControlsDelegate=new n({sourceDelegate:this.children.modelDisplayNameControl,destDelegate:this.children.modelNameControl,transformFunction:a.normalizeForID})},render:function(){return this.children.modelDisplayNameGroup.render().appendTo(this.el),this.children.modelNameGroup.render().appendTo(this.el),this},disable:function(){this.children.modelDisplayNameControl.disable(),this.children.modelNameControl.disable()}})}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/components/DataModelSuccess":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/shared/Application"),i("models/shared/User"),i("models/services/datamodel/DataModel"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/shared/Modal"),i("uri/route")],void 0===(s=function(e,t,i,o,s,n,a,r,l){return n(a.extend({moduleId:t.i,initialize:function(){a.prototype.initialize.apply(this,arguments),this.listenTo(this.model.dataModel,"change:"+this.model.dataModel.idAttribute,this.render)},render:function(){var t=e((function(t){return t=e.extend({model:this.model.dataModel.id},t),l.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:t})})).bind(this);return this.$el.html(r.TEMPLATE),this.$(r.HEADER_TITLE_SELECTOR).html(e("Your Data Model Has Been Saved").t()),this.$(r.BODY_SELECTOR).append(this.compiledTemplate({canChangePermissions:this.model.dataModel.canChangePermissions(),canAccelerate:this.model.user.canAccelerateDataModel()&&this.model.dataModel.canAccelerate(),editAccelerationHref:t({dialog:"acceleration"}),editPermissionsHref:t({dialog:"permissions"})})),this.$(r.FOOTER_SELECTOR).append('<a href="#" class="btn pull-left" data-dismiss="modal">'+e("Continue").t()+"</a>"),this.$(r.FOOTER_SELECTOR).append('<a href="'+t()+'" class="btn btn-primary modal-btn-primary">'+e("Edit Data Model").t()+"</a>"),this},template:'            <p>                <%- _("You may now edit your Data Model, or continue with your Pivot.").t() %>            </p>            <% if(canAccelerate || canChangePermissions) { %>                <p>                    <%- _("Additional Settings:").t() %>                    <ul>                        <% if(canAccelerate) { %>                            <li><a href="<%- editAccelerationHref %>"><%- _("Acceleration").t() %></a></li>                        <% } %>                        <% if(canChangePermissions) { %>                            <li><a href="<%- editPermissionsHref %>"><%- _("Permissions").t() %></a></li>                        <% } %>                    <ul>                </p>            <% } %>        '},{apiDependencies:{dataModel:s,user:o,application:i}}))}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/components/ReportAndDataModelSuccess":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/shared/reportcontrols/dialogs/createreport/Success"),i("views/shared/Modal"),i("uri/route")],void 0===(s=function(e,t,i,o,s){return i.extend({moduleId:t.i,initialize:function(){i.prototype.initialize.apply(this,arguments),this.listenTo(this.model.dataModel,"change:"+this.model.dataModel.idAttribute,this.render)},render:function(){i.prototype.render.apply(this,arguments);var t=e((function(t){return t=e.extend({model:this.model.dataModel.id},t),s.data_model_editor(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:t})})).bind(this);return this.$(o.BODY_SELECTOR).append(e(this.extraBodyTemplate).template({user:this.model.user,dataModel:this.model.dataModel,editObjectsHref:t(),editAccelerationHref:t({dialog:"acceleration"}),editPermissionsHref:t({dialog:"permissions"})})),this},extraBodyTemplate:'            <p class="additional-settings">                <%- _("Data Model Settings:").t() %>                <ul>                    <li><a href="<%- editObjectsHref %>"><%- _("Edit Datasets").t() %></a></li>                    <% if(user.canAccelerateDataModel() && dataModel.canAccelerate()) { %>                        <li><a href="<%- editAccelerationHref %>"><%- _("Acceleration").t() %></a></li>                    <% } %>                    <% if(dataModel.canChangePermissions()) { %>                        <li><a href="<%- editPermissionsHref %>"><%- _("Permissions").t() %></a></li>                    <% } %>                <ul>            </p>        '})}.apply(t,o))||(e.exports=s)},"views/pivot/dialogs/components/SaveDataModel":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/shared/Application"),i("models/pivot/PivotReport"),i("models/pivot/PivotSearch"),i("models/services/datamodel/DataModel"),i("models/datamodel/CreateDataModel"),i("views/extensions/DeclarativeDependencies"),i("views/Base"),i("views/shared/Modal"),i("views/shared/FlashMessages"),i("views/pivot/dialogs/components/DataModelNameControls"),i("util/pivot/pivot_dialog_utils")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h){return r(l.extend({moduleId:t.i,events:{"click .modal-btn-primary":function(e){e.preventDefault(),this.submit()}},initialize:function(){l.prototype.initialize.apply(this,arguments),this.model.inmemDataModel=this.model.dataModel.clone(),h.prepareInmemDataModel(this.model.inmemDataModel),this.model.pivotSearch=new s,this.model.createDataModel=new a,this.children.flashMessages=new p({model:{inmemDataModel:this.model.inmemDataModel,pivotSearch:this.model.pivotSearch,createDataModel:this.model.createDataModel}}),this.children.dataModelNameControls=new c({model:{createDataModel:this.model.createDataModel}})},submit:function(){this.model.createDataModel.isValid(!0)&&(this.model.inmemDataModel.entry.content.set(this.model.createDataModel.pick("modelName","displayName")),h.saveDataModel(this.model.dataModel,this.model.inmemDataModel,this.model.pivotSearch,this.model.report,this.model.application.pick("app","owner")).done(e(this.trigger).bind(this,"saveSuccess")))},render:function(){this.$el.html(d.TEMPLATE),this.$(d.HEADER_TITLE_SELECTOR).html(e("Save Data Model").t());var t=this.$(d.BODY_SELECTOR);return this.children.flashMessages.render().appendTo(t),t.append(d.FORM_HORIZONTAL),this.children.dataModelNameControls.render().appendTo(this.$(d.BODY_FORM_SELECTOR)),this.$(d.FOOTER_SELECTOR).append(d.BUTTON_CANCEL),this.$(d.FOOTER_SELECTOR).append(d.BUTTON_SAVE),this}},{apiDependencies:{dataModel:n,report:o,application:i}}))}.apply(t,o))||(e.exports=s)},"views/pivot/errors/ErrorDisplay":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/pivot/errors/ErrorPayload"),i("views/Base"),i("views/shared/FlashMessages"),i("uri/route"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n,a,r){return o.extend({moduleId:t.i,className:"load-failure-messages",initialize:function(){this.children.flashMessages=new s,this.errorPayload=this.options.errorPayload,this.urlRouter=n.getContextualPageRouter(this.model.application);var t=this._parseErrorMessages(this.errorPayload.type,this.errorPayload.metadata);t=e.isArray(t)?t:[t],e(t).each((function(t){this.children.flashMessages.flashMsgHelper.addGeneralMessage(e.uniqueId("pivot-load-error"),t)}),this),this.links=this._createLinks(this.errorPayload.type,this.errorPayload.metadata),this.links=e.isArray(this.links)?this.links:[this.links]},render:function(){return this.children.flashMessages.render().appendTo(this.el),this.$el.append(this.compiledTemplate({links:this.links})),this},template:'            <div class="links-holder">                <% _(links).each(function(link) { %>                    <a href="<%- link.href %>"><%- link.text %></a>                <% }) %>            </div>        ',_parseErrorMessages:function(t,o){return t===i.TYPES.STRING?{type:a.ERROR,html:e.escape(o.messageText)}:t===i.TYPES.RAW?e(o.messages).chain().filter((function(e){return e.type===a.ERROR||e.type===a.FATAL})).map((function(t){return{type:t.type,html:e.escape(t.text)}})).value():t===i.TYPES.DATA_MODEL?{type:a.ERROR,html:r.sprintf(e("Your pivot cannot complete because the following supporting data model does not exist or is not shared globally to all apps: %s.").t(),e.escape(o.dataModel.id))}:t===i.TYPES.SEED_SID?{type:a.ERROR,html:r.sprintf(e("Your pivot cannot complete because a dataset could not be generated from the search job with id: %s.").t(),e.escape(o.seedSid))}:t===i.TYPES.OBJECT?{type:a.ERROR,html:r.sprintf(e("Your pivot cannot complete because the %s dataset does not exist in the data model.").t(),e.escape(o.objectName))}:t===i.TYPES.REPORT?{type:a.ERROR,html:r.sprintf(e("Your pivot cannot complete because the %s report either does not exist or does not have the correct permissions.").t(),e.escape(o.report.id))}:t===i.TYPES.PIVOT_SEARCH?{type:a.ERROR,html:e("Your pivot cannot complete because the search string could not be parsed into a valid pivot configuration.").t()}:t===i.TYPES.DATASET?{type:a.ERROR,html:r.sprintf(e("Your pivot cannot complete because the following dataset does not exist or is not shared globally to all apps: %s.").t(),e.escape(r.searchUnescape(o.datasetName)))}:void 0},_createLinks:function(t,o){if(t===i.TYPES.DATA_MODEL)return[{text:e("Select New Dataset").t(),href:this.urlRouter.datasets()},{text:e("Manage Data Models").t(),href:this.urlRouter.data_model_manager()}];if(t===i.TYPES.SEED_SID)return{text:e("Return to Search").t(),href:this.urlRouter.search({data:{sid:o.seedSid}})};if(t===i.TYPES.OBJECT){var s=o.dataModel.id;return[{text:e("View Data Model").t(),href:this.urlRouter.pivot({data:{model:s}})},{text:e("Select New Dataset").t(),href:this.urlRouter.datasets()},{text:e("Edit Datasets").t(),href:this.urlRouter.data_model_editor({data:{model:s}})}]}if(t===i.TYPES.REPORT)return{text:e("Manage Reports").t(),href:this.urlRouter.reports()};if(t===i.TYPES.PIVOT_SEARCH){var n=o.report.entry.content,a=n.get("dispatch.latest_time"),r={q:n.get("search"),earliest:n.get("dispatch.earliest_time")||0};a&&(r.latest=a);var l=[{text:e("Open In Search").t(),href:this.urlRouter.search({data:r})}];return o.dataModelId&&l.push({text:e("View Data Model").t(),href:this.urlRouter.pivot({data:{model:o.dataModelId}})}),l.push({text:e("Select New Dataset").t(),href:this.urlRouter.datasets()}),l}return t===i.TYPES.DATASET?{text:e("Select New Dataset").t(),href:this.urlRouter.datasets()}:[]}})}.apply(t,o))||(e.exports=s)},"views/pivot/errors/ErrorPayload":function(e,t,i){var o,s;o=[i("util/splunkd_utils")],void 0===(s=function(e){var t=function(e,t){this.type=e,this.metadata=t||{}};return t.TYPES={STRING:"string-error",RAW:"raw-error",DATA_MODEL:"data-model-error",OBJECT:"object-error",REPORT:"report-error",URL:"url-error",COLLECT_JOB:"collect-job-error",PIVOT_SEARCH:"pivot-search-error",SEED_SID:"seed-sid-error",DATASET:"dataset-error"},t.fromRawResponse=function(i){var o=e.xhrErrorResponseParser(i);return new t(t.TYPES.RAW,{messages:o})},t.fromString=function(e){return new t(t.TYPES.STRING,{messageText:e})},t}.apply(t,o))||(e.exports=s)},"views/shared/ResponsiveHeaderPage":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/config"),i("models/shared/Application"),i("models/services/server/ServerInfo"),i("models/services/data/ui/Nav"),i("models/services/data/ui/Tour"),i("models/shared/User"),i("collections/services/data/ui/Tours"),i("collections/services/data/ui/Managers"),i("views/shared/Page"),i("views/shared/appbar/Master"),i("views/extensions/DeclarativeDependencies"),i("helpers/user_agent"),i("util/color_utils"),i("shim/jquery.resize"),i("views/shared/ResponsiveHeaderPage.pcss")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v,f,g){return u(c.extend({moduleId:i.i,events:{"click .expand-collapse-control":function(e){e.preventDefault(),this.isAnimating||(this.isExpanded?this.hideFullHeader():this.showFullHeader())}},initialize:function(){this.options.model=t.extend({},this.options.model,this.model),this.options.collection=t.extend({},this.options.collection,this.collection),this.options.deferreds=t.extend({},this.options.deferreds,this.deferreds),c.prototype.initialize.call(this,this.options),this.updateHeaderHeight=this.updateHeaderHeight.bind(this),this.isExpanded=!1,this.isAnimating=!1,this.hasInitialized=!1,this.$screen=e('<div class="expanded-nav-screen" tabindex=-1></div>').hide().appendTo("body");var i=this;this.$screen.on("click."+this.cid,(function(){i.isAnimating||i.hideFullHeader()})),e(window).on("resize."+this.cid,(function(){i.resetToInitialState(),i.isInCollapsibleMode()&&i.hasInitialized?i.detachNavAndAppBar():i.attachNavAndAppBar(),i.updateHeaderHeight(),i.isExpanded=!1,i.isAnimating=!1})),this.activate()},startListening:function(){this.model.appNav&&this.listenTo(this.model.appNav.entry.content,"change:color",(function(){this.parseBannerColor(),this.updateBannerColor()}))},remove:function(){return this.$screen.remove(),e(window).off("resize."+this.cid),c.prototype.remove.apply(this,arguments)},render:function(){this.renderLoadingMessage(),this.model.tour&&(this.renderTour(),this.setTourHeight()),this.renderHeader(),this.$header=this.$("header"),this.$navBar=this.$(".navbar-splunkbar"),this.$appBar=this.$(".app-bar");var t=!1===this.options.splunkBar&&!1===this.options.showAppNav,i=e(this.expandCollapseControlTemplate);return t&&i.hide(),this.$header.append(i),this.model.appNav&&(this.parseBannerColor(),this.updateBannerColor()),this},setTourHeight:function(){this.isImgTour||this.isInteractive||(this.$el.addClass("non-responsive"),this.children.tour.setFixedHeight(this.getComputedHeaderHeight()+3))},parseBannerColor:function(){var e=this.model.appNav.entry.content.get("color");e&&(this.bannerColor=v.normalizeHexString(e))},updateBannerColor:function(){this.bannerColor},showFullHeader:function(){if(this.$navBar&&this.$appBar&&this.$screen&&this.$header){var t=this;this.isAnimating=!0,this.attachNavAndAppBar(),this.$screen.fadeIn(200),this.$screen.css({filter:"alpha(opacity=30)"});var i=e(window).height();this.$header.css({bottom:i-3});var o=3+this.getComputedHeaderHeight();this.$header.animate({bottom:i-o},{duration:200,done:function(){t.isExpanded=!0,t.isAnimating=!1}})}},hideFullHeader:function(t){if(this.$navBar&&this.$appBar)if(this.$screen&&this.$header){var i=this;this.isAnimating=!0,this.$screen.fadeOut(200),this.$header.animate({bottom:e(window).height()-3},{duration:200,done:function(){i.detachNavAndAppBar(),i.isExpanded=!1,i.isAnimating=!1,t&&t()}})}else t()},resetToInitialState:function(){this.$("header").stop().css("bottom",""),this.$screen.hide()},onAddedToDocument:function(){this.$navBar&&this.$appBar&&(this.updateHeaderHeight(),this.$("header").on("elementResize",this.updateHeaderHeight),this.isInCollapsibleMode()?setTimeout(function(){var t=3+this.getComputedHeaderHeight();this.$("header").css({bottom:e(window).height()-t}),this.isExpanded=!0,setTimeout(function(){this.hideFullHeader(function(){this.hasInitialized=!0}.bind(this))}.bind(this),500)}.bind(this),10):this.hasInitialized=!0,c.prototype.onAddedToDocument.call(this))},updateHeaderHeight:function(){this.isAnimating&&this.resetToInitialState(),this.isInCollapsibleMode()?this.$(".main-section-body").css({top:""}):this.$(".main-section-body").css({top:this.getComputedHeaderHeight()}),this.model.tour&&this.setTourHeight()},getComputedHeaderHeight:function(){return this.$("header").height()-3},isInCollapsibleMode:function(){return"none"!==this.$(".expand-collapse-control").css("display")},detachNavAndAppBar:function(){this.$navBar&&this.$appBar&&(this.$("header").off("elementResize",this.updateHeaderHeight),this.$navBar.detach(),this.$appBar.detach())},attachNavAndAppBar:function(){this.$navBar&&this.$appBar&&(this.$navBar.prependTo(this.$header),!1===this.options.splunkBar?this.$appBar.prependTo(this.$header):this.$appBar.insertAfter(this.$navBar),this.$("header").on("elementResize",this.updateHeaderHeight))},expandCollapseControlTemplate:'            <div class="expand-collapse-control">                <a href="#" class="tab"><i class="icon-menu"></i></a>            </div>        '},{apiDependencies:{application:s,appNav:a,config:o.constructor,user:l,serverInfo:n,tour:r,tours:d,managers:p}}))}.apply(t,o))||(e.exports=s)},"views/shared/ResponsiveHeaderPage.pcss":function(e,t,i){var o=i(2563);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"views/shared/alertcontrols/dialogs/shared/SuccessWithAdditionalSettings":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("views/shared/FlashMessages"),i("uri/route"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n,a){return i.extend({moduleId:t.i,initialize:function(){i.prototype.initialize.apply(this,arguments),this.children.flashMessage=new s({model:this.model.alert}),this.listenTo(this.model.alert,"change:"+this.model.alert.idAttribute,this.render)},events:{"click .close":function(e){a.trackPageInteraction(this.model.application.get("app"),"Create Alert and Close")},"click #permissions":function(e){a.trackPageInteraction(this.model.application.get("app"),"Create Alert and Select Permissions")},"click .modal-btn-continue":function(e){a.trackPageInteraction(this.model.application.get("app"),"Create Alert and Select Continue Editing")},"click .modal-btn-primary":function(e){a.trackPageInteraction(this.model.application.get("app"),"Create Alert and Select View Alert")}},render:function(){var t=n.alert(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.alert.id}}),i=this.model.user.canScheduleSearch(),s=this.model.alert.canWrite(i,this.model.user.canRTSearch()),a=this.model.alert.get("did_revert_time_range");return a&&this.model.alert.unset("did_revert_time_range"),this.$el.html(o.TEMPLATE),this.$(o.HEADER_TITLE_SELECTOR).html(e("Alert has been saved").t()),this.$(o.BODY_SELECTOR).html(this.compiledTemplate({_:e,route:n,applicationModel:this.model.application,alertId:this.model.alert.id,canChangePerms:this.model.alert.entry.acl.get("can_change_perms"),canWrite:s,showTimeRangeWarning:a,routeToPermissions:n.alert(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.alert.id,dialog:"permissions"}}),routeToType:n.alert(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{s:this.model.alert.id,dialog:"type"}})})),this.children.flashMessage.render().prependTo(this.$(o.BODY_SELECTOR)),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CONTINUE),this.$(o.FOOTER_SELECTOR).append('<a href="'+t+'" class="btn btn-primary modal-btn-primary">'+e("View Alert").t()+"</a>"),this},focus:function(){this.$(".btn-primary").focus()},template:'                <div class="alert-success-content-container">                    <% if (showTimeRangeWarning) { %>                        <div class="alert alert-warning">                            <i class="icon-alert"></i>                            <%- _("The time range was not updated.  Edit the ").t() %>                            <a href="<%- routeToType %>"><%- _("Alert Type").t() %></a>                            <%- _(" to modify the time range.").t() %>                        </div>                    <% } %>                    <p>                        <span class="alert-success-message">                        <% if (canWrite && canChangePerms) { %>                            <%- _("You can view your alert, change additional settings, or continue editing it.").t() %>                        <% } else { %>                            <%- _("You can view your alert, or continue editing it.").t() %>                        <% } %>                        </span>                    </p>                    <% if (canWrite && canChangePerms) { %>                        <p><%- _("Additional Settings:").t() %></p>                        <ul>                            <li><a id="permissions" href="<%- routeToPermissions %>"><%- _("Permissions").t() %></a></li>                        </ul>                    <% } %>                </div>            '})}.apply(t,o))||(e.exports=s)},"views/shared/reportcontrols/dialogs/createreport/Create":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("models/Base"),i("models/services/authentication/User"),i("views/Base"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages"),i("views/shared/Modal"),i("views/shared/reportcontrols/dialogs/shared/ReportVisualizationControlGroup"),i("views/shared/searchbarinput/Master"),i("views/shared/reportcontrols/dialogs/createreport/Create.pcss"),i("helpers/user_agent"),i("uri/route"),i("util/hash_utils"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h,u,m,v){return n.extend({moduleId:i.i,initialize:function(){if(n.prototype.initialize.apply(this,arguments),this.model.inmem.setTimeRangeWarnings(),this.children.flashMessage=new r({model:this.model.inmem}),this.canShowAppSelector=this.model.user&&t.isFunction(this.model.user.canUseApps)&&this.model.user.canUseApps()&&this.options.showSearchField,this.children.title=new a({label:t("Title").t(),controlType:"Text",controlOptions:{model:this.model.inmem.entry.content,modelAttribute:"name"}}),this.children.description=new a({label:t("Description").t(),controlType:"Textarea",controlOptions:{model:this.model.inmem.entry.content,modelAttribute:"description",placeholder:t("optional").t()}}),this.options.showSearchField){this.children.search=new p({model:{user:this.model.user,content:this.model.inmem.entry.content,application:this.model.application},collection:{searchBNFs:this.collection.searchBNFs},searchAttribute:"search",searchAssistant:this.model.user.getSearchAssistant()===s.SEARCH_ASSISTANT.FULL?s.SEARCH_ASSISTANT.COMPACT:void 0});var e=u.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.manager.relativetime"),i=t("Time specifiers: y, mon, d, h, m, s ").t()+'<a href="'+t.escape(e)+'" target="_blank" rel="noopener noreferrer">'+t("Learn More").t()+' <i class="icon-external"></i></a>';this.children.earliestTime=new a({controlType:"Text",controlOptions:{modelAttribute:"dispatch.earliest_time",model:this.model.inmem.entry.content,placeholder:t("optional").t()},label:t("Earliest time").t(),help:i}),this.children.latestTime=new a({controlType:"Text",controlOptions:{modelAttribute:"dispatch.latest_time",model:this.model.inmem.entry.content,placeholder:t("optional").t()},label:t("Latest time").t(),help:i})}this.children.visualization=new d({model:{report:this.model.inmem,searchJob:this.model.searchJob}}),this.children.timeRangePickerToggle=new a({label:t("Time Range Picker").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",items:[{value:"1",label:t("Yes").t()},{value:"0",label:t("No").t()}],model:this.model.inmem.entry.content,modelAttribute:"display.general.timeRangePicker.show"}}),this.canShowAppSelector&&(this.children.selectApp=new a({label:t("App").t(),controlType:"SyntheticSelect",controlOptions:{modelAttribute:"app",model:this.model.inmem.entry.acl,toggleClassName:"btn",items:[],popdownOptions:{detachDialog:!0}}}),this.setAppItems())},events:{"click .modal-btn-primary":function(e){this.submit(),e.preventDefault()},"click .modal-btn-cancel":function(e){v.trackPageInteraction(this.model.application.get("app"),"Save as Report and Cancel")},"click .close":function(e){v.trackPageInteraction(this.model.application.get("app"),"Save as Report and Cancel")}},setAppItems:function(){var e=this.buildAppItems(),i=this.model.inmem.entry.acl.get("app");t.where(e,{value:i}).length||(i=t.where(e,{value:"search"}).length?"search":e[0].value),this.children.selectApp.childList&&(this.children.selectApp.childList[0].setItems(e),this.children.selectApp.childList[0].setValue(i))},buildAppItems:function(){var e=[],i=this.collection.appLocals.listOnlyWriteableAndNonInternalApps();return t.each(i,(function(t){e.push({value:t.entry.get("name"),label:t.getLabel()})})),t.sortBy(e,(function(e){return(e.label||"").toLowerCase()}))},render:function(){if(this.$el.html(l.TEMPLATE),this.$(l.HEADER_TITLE_SELECTOR).html(this.options.showSearchField?t("Create Report").t():t("Save As Report").t()),this.children.flashMessage.render().prependTo(this.$(l.BODY_SELECTOR)),this.$(l.BODY_SELECTOR).append(l.FORM_HORIZONTAL),this.children.title.render().appendTo(this.$(l.BODY_FORM_SELECTOR)),this.children.description.render().appendTo(this.$(l.BODY_FORM_SELECTOR)),this.options.showSearchField&&(this.$(l.BODY_FORM_SELECTOR).append('<div class="search-input"></div>'),this.$("div.search-input").append('<div class="search-label">'+t("Search").t()+"</div>"),this.children.search.render().appendTo(this.$("div.search-input")),this.children.earliestTime.render().appendTo(this.$(l.BODY_FORM_SELECTOR)),this.children.latestTime.render().appendTo(this.$(l.BODY_FORM_SELECTOR))),this.children.selectApp&&this.children.selectApp.render().appendTo(this.$(l.BODY_FORM_SELECTOR)),this.options.chooseVisualizationType){if(h.isIE()&&this.$(l.BODY_FORM_SELECTOR).append('<button style="position: absolute; right: 10000px;" />'),this.model.searchJob.isReportSearch()){var e=this.model.inmem.entry.content.get("display.general.type");"statistics"===e?(this.model.inmem.entry.content.set({"display.statistics.show":"1"}),this.model.inmem.entry.content.set({"display.visualizations.show":"0"})):"visualizations"===e&&(this.model.inmem.entry.content.set({"display.statistics.show":"0"}),this.model.inmem.entry.content.set({"display.visualizations.show":"1"}))}else this.model.inmem.entry.content.set({"display.statistics.show":"1"}),this.model.inmem.entry.content.set({"display.visualizations.show":"0"});this.children.visualization.render().appendTo(this.$(l.BODY_FORM_SELECTOR))}return this.model.inmem.isAlert()||this.children.timeRangePickerToggle.render().appendTo(this.$(l.BODY_FORM_SELECTOR)),this.model.inmem.setInmemVizType(),this.$(l.FOOTER_SELECTOR).append(l.BUTTON_CANCEL),this.$(l.FOOTER_SELECTOR).append(l.BUTTON_SAVE),this},submit:function(){this.model.inmem.setVizType();var e=this.model.application.getPermissions("private");this.canShowAppSelector&&(e.app=this.model.inmem.entry.acl.get("app")),this.model.inmem.save({},{data:e,success:function(e,t){this.model.inmem.trigger("createSuccess"),v.trackPageInteraction(this.model.application.get("name"),"Click Save as Report and Save",{reportName:m.hashSha256(this.model.inmem.entry.get("name"))})}.bind(this)})}})}.apply(t,o))||(e.exports=s)},"views/shared/reportcontrols/dialogs/createreport/Create.pcss":function(e,t,i){var o=i(653);"string"==typeof o&&(o=[[e.i,o,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(o,s);o.locals&&(e.exports=o.locals)},"views/shared/reportcontrols/dialogs/createreport/Master":function(e,t,i){var o,s;o=[i("require/underscore"),i("require/backbone"),e,i("models/search/Dashboard"),i("views/shared/MultiStepModal"),i("views/shared/reportcontrols/dialogs/createreport/Create"),i("views/shared/reportcontrols/dialogs/createreport/Success"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Create"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Success"),i("util/splunkd_utils"),i("constants/DashboardDialogTypes")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p){return s.extend({moduleId:i.i,initialize:function(){s.prototype.initialize.apply(this,arguments),e.defaults(this.options,{setDispatchUIArgs:!0});var i=!this.options.hasOwnProperty("chooseVisualizationType")||this.options.chooseVisualizationType;this.chooseVisualizationType=i;var p=!!this.options.hasOwnProperty("showSearchField")&&this.options.showSearchField,c=!this.options.hasOwnProperty("showSuccessModal")||this.options.showSuccessModal,h=this.collection&&this.collection.searchBNFs?this.collection.searchBNFs:null,u=this.collection&&this.collection.appLocals?this.collection.appLocals:null;this.model.inmem=this.model.report.clone(),this.model.inmem.unset(this.model.inmem.idAttribute),this.model.inmem.stripAlertAttributes(),this.model.inmem.entry.content.set({"action.email.useNSSubject":"1",auto_summarize:"0"}),this.options.setDispatchUIArgs&&this.model.inmem.entry.content.set({"request.ui_dispatch_app":this.model.application.get("app"),"request.ui_dispatch_view":"search"}),this.model.dashboardToSave=new o,this.model.dashboardInmem=new t.Model({dashPerm:"private",panelContent:"table",dashCreateType:"new",panelInline:!0}),this.children.create=new n({model:{searchJob:this.model.searchJob,application:this.model.application,inmem:this.model.inmem,user:this.model.user},collection:{searchBNFs:h,appLocals:u},chooseVisualizationType:i,showSearchField:p}),this.activateSaveReportToDashboardStudio=this.options.activateSaveReportToDashboardStudio,c&&(this.children.success=new a({model:{application:this.model.application,inmem:this.model.inmem,searchJob:this.options.preventSidReuse?void 0:this.model.searchJob,user:this.model.user},activateSaveReportToDashboardStudio:this.activateSaveReportToDashboardStudio}),this.children.createDashboardPanel=new r({model:{report:this.model.inmem,application:this.model.application,searchJob:this.model.searchJob,dashboardToSave:this.model.dashboardToSave,inmem:this.model.dashboardInmem,user:this.model.user,serverInfo:this.model.serverInfo},chooseVisualizationType:i}),this.children.successDashboardPanel=new l({model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.dashboardInmem,application:this.model.application},activateSaveReportToDashboardStudio:this.activateSaveReportToDashboardStudio}),this.activateSaveReportToDashboardStudio&&(this.children.successDashboardPanel.on("addToDashboardSuccessModalClosed",(function(){$(".modal-backdrop").removeClass("in").on("transitionend webkitTransitionEnd MSTransitionEnd oTransitionEnd otransitionend",(function(){$(".modal-backdrop").remove()})),this.trigger("hidden")}),this),this.model.dashboardInmem.on("removeDashboardDialog",(function(){this.trigger("hidden")}),this),this.attachAddToDashboardListeners())),c?(this.model.inmem.on("createSuccess",(function(){this.trigger("createSuccess","report"),this.stepViewStack.setSelectedView(this.children.success),this.children.success.focus()}),this),this.model.dashboardInmem.on("createSuccess",(function(){this.activateSaveReportToDashboardStudio&&$("body").append('<div class="modal-backdrop fade in"></div>'),this.stepViewStack.setSelectedView(this.children.successDashboardPanel),this.children.successDashboardPanel.focus()}),this),this.children.success.on("addToDashboardPanel",(function(){this.stepViewStack.setSelectedView(this.children.createDashboardPanel)}),this)):this.model.inmem.on("createSuccess",(function(){this.hide(),this.trigger("reportSaved")}),this),this.on("hidden",(function(){this.model.inmem.isNew()||this.model.report.fetch({url:d.fullpath(this.model.inmem.id)}),this.activateSaveReportToDashboardStudio&&($(document).off("click","a#existingDashboard"),$(document).off("click","a#newDashboard"))}),this)},attachAddToDashboardListeners:function(){$(document).one("click","a#existingDashboard",{dashboard_dialog_type:p.EXISTING_DASHBOARD},this.launchAddToDashboardModal.bind(this)),$(document).one("click","a#newDashboard",{dashboard_dialog_type:p.NEW_DASHBOARD},this.launchAddToDashboardModal.bind(this))},launchAddToDashboardModal:function(e){e.data.dashboard_dialog_type===p.NEW_DASHBOARD?$(document).off("click","a#existingDashboard"):$(document).off("click","a#newDashboard"),this.children.createDashboardPanel=new r({model:{report:this.model.inmem,application:this.model.application,searchJob:this.model.searchJob,dashboardToSave:this.model.dashboardToSave,inmem:this.model.dashboardInmem,user:this.model.user,serverInfo:this.model.serverInfo},chooseVisualizationType:this.chooseVisualizationType,dashboard_dialog_type:e.data.dashboard_dialog_type,activateSaveReportToDashboardStudio:this.activateSaveReportToDashboardStudio}),this.render(),this.stepViewStack.setSelectedView(this.children.createDashboardPanel)},getStepViews:function(){return!this.options.hasOwnProperty("showSuccessModal")||this.options.showSuccessModal?[this.children.create,this.children.success,this.children.createDashboardPanel,this.children.successDashboardPanel]:[this.children.create]}})}.apply(t,o))||(e.exports=s)},"views/shared/reportcontrols/dialogs/createreport/Success":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("uri/route"),i("util/time"),i("shim/splunk.util"),i("views/search/actions/savemenu/SaveToDashboard")],void 0===(s=function(e,t,i,o,s,n,a,r,l){return o.extend({moduleId:i.i,initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model.inmem,"change:"+this.model.inmem.idAttribute,this.render),this.activateSaveReportToDashboardStudio=this.options.activateSaveReportToDashboardStudio,this.activateSaveReportToDashboardStudio&&(this.children.saveControls=new l({model:{report:this.model.report,reportPristine:this.model.reportPristine,application:this.model.application,searchJob:this.model.searchJob,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,web:this.model.web},className:"new-search-actions-addtodashboard"}),this.children.saveControls.render())},events:{"click .createDashboard":function(e){this.trigger("addToDashboardPanel"),e.preventDefault()},"click #permissions":function(e){r.trackPageInteraction(this.model.application.get("app"),"Create Report and Select Permissions")},"click #schedule":function(e){r.trackPageInteraction(this.model.application.get("app"),"Create Report and Select Schedule")},"click #acceleration":function(e){r.trackPageInteraction(this.model.application.get("app"),"Create Report and Select Accelerate")},"click #embed":function(e){r.trackPageInteraction(this.model.application.get("app"),"Create Report and Select Embed")}},getData:function(){var e={s:this.model.inmem.id};return this.model.searchJob&&(e.sid=this.model.searchJob.id),e},render:function(){var i=this.model.inmem.entry.acl.get("can_change_perms"),o=this.model.user.canScheduleSearch(),a=this.model.user.canAccelerateReport(),r=this.model.inmem.isRealTime(),l=this.model.inmem.isPivotReport(),d=this.model.user.canEmbed(),p=n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:this.getData()});return this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Your Report Has Been Created").t()),this.$(s.BODY_SELECTOR).html(this.compiledTemplate({_:t,model:this.model.inmem,isRealTimeSearch:r,canChangePerms:i,canScheduleSearch:o,canAccelerateReport:a,canEmbed:d,isPivot:l,routeToPermissions:n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"permissions"})}),routeToSchedule:n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"schedule"})}),routeToAcceleration:n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"acceleration"})}),routeToEmbed:n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"embed"})})})),i||o&&(!r||!l)?this.$("span.save-report-success-message").text(t("You may now view your report, add it to a dashboard, change additional settings, or continue editing it.").t()):(this.$("span.save-report-success-message").text(t("You may now view your report, add it to a dashboard, or continue editing it.").t()),this.$("p.additional-settings").remove()),this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CONTINUE),this.activateSaveReportToDashboardStudio?this.children.saveControls.render().appendTo(this.$(s.FOOTER_SELECTOR)):this.$(s.FOOTER_SELECTOR).append('<a href="#" class="btn createDashboard">'+t("Add to Dashboard").t()+"</a>"),this.$(s.FOOTER_SELECTOR).append('<a href="'+p+'" class="btn btn-primary modal-btn-primary">'+t("View").t()+"</a>"),this},focus:function(){this.$(".btn-primary").focus()},template:'                <p>                    <span class="save-report-success-message"></span>                </p>                <p class="additional-settings">                    <%- _("Additional Settings:").t() %>                    <ul>                        <% if (canChangePerms) { %>                            <li><a id="permissions" href="<%- routeToPermissions %>"><%- _("Permissions").t() %></a></li>                        <% } %>                        <% if (!isRealTimeSearch && canScheduleSearch) { %>                            <li><a id="schedule" href="<%- routeToSchedule %>"><%- _("Schedule").t() %></a></li>                        <% } %>                        <% if (!isPivot && canAccelerateReport) { %>                            <li><a id="acceleration" href="<%- routeToAcceleration %>"><%- _("Acceleration").t() %></a></li>                        <% } %>                        <% if (!isRealTimeSearch && canScheduleSearch && canEmbed) { %>                            <li><a id="embed" href="<%- routeToEmbed %>"><%- _("Embed").t() %></a></li>                        <% } %>                    <ul>                </p>            '})}.apply(t,o))||(e.exports=s)},"views/shared/reportcontrols/dialogs/savereport/Master":function(e,t,i){var o,s;o=[i("require/underscore"),i("require/backbone"),e,i("models/search/Dashboard"),i("models/search/Report"),i("views/shared/MultiStepModal"),i("views/shared/reportcontrols/dialogs/savereport/Save"),i("views/shared/reportcontrols/dialogs/savereport/Success"),i("views/shared/alertcontrols/dialogs/shared/SuccessWithAdditionalSettings"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Create"),i("views/shared/reportcontrols/dialogs/dashboardpanel/Success"),i("shim/splunk.util"),i("constants/DashboardDialogTypes")],void 0===(s=function(e,t,i,o,s,n,a,r,l,d,p,c,h){return n.extend({moduleId:i.i,initialize:function(){n.prototype.initialize.apply(this,arguments);var i,c=!this.options.hasOwnProperty("chooseVisualizationType")||this.options.chooseVisualizationType;this.chooseVisualizationType=c,this.activateSaveReportToDashboardStudio=this.options.activateSaveReportToDashboardStudio,this.reportType=this.model.reportPristine.isAlert()?s.DOCUMENT_TYPES.ALERT:s.DOCUMENT_TYPES.REPORT,this.model.inmem=this.model.report.clone(),this.reportType===s.DOCUMENT_TYPES.REPORT?("search"===this.model.application.get("page")&&this.model.inmem.entry.content.get("auto_summarize")&&this.model.inmem.setAccelerationWarning(this.model.searchJob.canSummarize()&&!this.model.inmem.isSampled(),this.model.reportPristine),i=e("Save Report").t(),this.model.dashboardToSave=new o,this.model.dashboardInmem=new t.Model({dashPerm:"private",panelContent:"table",dashCreateType:"new",panelInline:!1}),this.children.success=new r({model:{application:this.model.application,inmem:this.model.inmem,searchJob:this.options.preventSidReuse?void 0:this.model.searchJob,user:this.model.user},activateSaveReportToDashboardStudio:this.activateSaveReportToDashboardStudio}),this.children.createDashboardPanel=new d({model:{report:this.model.inmem,application:this.model.application,dashboardToSave:this.model.dashboardToSave,searchJob:this.model.searchJob,inmem:this.model.dashboardInmem,user:this.model.user},chooseVisualizationType:c}),this.children.successDashboardPanel=new p({model:{dashboardToSave:this.model.dashboardToSave,inmem:this.model.dashboardInmem,application:this.model.application},activateSaveReportToDashboardStudio:this.activateSaveReportToDashboardStudio}),this.activateSaveReportToDashboardStudio&&(this.children.successDashboardPanel.on("addToDashboardSuccessModalClosed",(function(){$(".modal-backdrop").removeClass("in").on("transitionend webkitTransitionEnd MSTransitionEnd oTransitionEnd otransitionend",(function(){$(".modal-backdrop").remove()})),this.hide()}),this),this.model.dashboardInmem.on("removeDashboardDialog",(function(){this.trigger("hidden")}),this),this.attachAddToDashboardListeners()),this.model.dashboardInmem.on("createSuccess",(function(){this.activateSaveReportToDashboardStudio&&$("body").append('<div class="modal-backdrop fade in"></div>'),this.stepViewStack.setSelectedView(this.children.successDashboardPanel),this.children.successDashboardPanel.focus()}),this),this.children.success.on("addToDashboardPanel",(function(){this.stepViewStack.setSelectedView(this.children.createDashboardPanel)}),this)):(i=e("Save Alert").t(),this.children.success=new l({model:{application:this.model.application,alert:this.model.inmem,user:this.model.user}})),this.children.save=new a({model:{reportPristine:this.model.reportPristine,application:this.model.application,inmem:this.model.inmem,searchJob:this.model.searchJob},chooseVisualizationType:c,title:i}),this.model.inmem.on("saveSuccess",(function(){this.stepViewStack.setSelectedView(this.children.success),this.children.success.focus()}),this),this.on("hidden",(function(){this.syncReportIfNeeded(),this.activateSaveReportToDashboardStudio&&($(document).off("click","a#existingDashboard"),$(document).off("click","a#newDashboard"))}),this)},attachAddToDashboardListeners:function(){$(document).one("click","a#existingDashboard",{dashboard_dialog_type:h.EXISTING_DASHBOARD},this.launchAddToDashboardModal.bind(this)),$(document).one("click","a#newDashboard",{dashboard_dialog_type:h.NEW_DASHBOARD},this.launchAddToDashboardModal.bind(this))},syncReportIfNeeded:function(){this.model.inmem.get("updated")>this.model.report.get("updated")&&(this.model.report.entry.content.set({"display.visualizations.show":this.model.inmem.entry.content.get("display.visualizations.show"),"display.statistics.show":this.model.inmem.entry.content.get("display.statistics.show"),"display.page.pivot.dataModel":this.model.inmem.entry.content.get("display.page.pivot.dataModel"),"request.ui_dispatch_view":this.model.inmem.entry.content.get("request.ui_dispatch_view")}),this.model.reportPristine.setFromSplunkD(this.model.report.toSplunkD()),this.model.report.trigger("sync",this.model.report,null))},launchAddToDashboardModal:function(e){e.data.dashboard_dialog_type===h.NEW_DASHBOARD?$(document).off("click","a#existingDashboard"):$(document).off("click","a#newDashboard"),this.children.createDashboardPanel=new d({model:{report:this.model.inmem,application:this.model.application,searchJob:this.model.searchJob,dashboardToSave:this.model.dashboardToSave,inmem:this.model.dashboardInmem,user:this.model.user,serverInfo:this.model.serverInfo},chooseVisualizationType:this.chooseVisualizationType,dashboard_dialog_type:e.data.dashboard_dialog_type,activateSaveReportToDashboardStudio:this.activateSaveReportToDashboardStudio}),this.render(),this.stepViewStack.setSelectedView(this.children.createDashboardPanel)},getStepViews:function(){var e=[this.children.save,this.children.success];return this.reportType===s.DOCUMENT_TYPES.REPORT&&e.push(this.children.createDashboardPanel,this.children.successDashboardPanel),e}})}.apply(t,o))||(e.exports=s)},"views/shared/reportcontrols/dialogs/savereport/Save":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/Base"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages"),i("views/shared/Modal"),i("views/shared/reportcontrols/dialogs/shared/ReportVisualizationControlGroup")],void 0===(s=function(e,t,i,o,s,n,a){return i.extend({moduleId:t.i,initialize:function(){i.prototype.initialize.apply(this,arguments),this.model.inmem.setTimeRangeWarnings(this.model.reportPristine),this.children.flashMessage=new s({model:this.model.inmem}),this.children.title=new o({label:e("Title").t(),controlType:"Label",controlOptions:{model:this.model.inmem.entry,modelAttribute:"name"}}),this.children.visualization=new a({model:{report:this.model.inmem,searchJob:this.model.searchJob}}),this.children.timeRangePickerToggle=new o({label:e("Time Range Picker").t(),controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",items:[{value:"1",label:e("Yes").t()},{value:"0",label:e("No").t()}],model:this.model.inmem.entry.content,modelAttribute:"display.general.timeRangePicker.show"}})},events:{"click .modal-btn-primary":function(e){this.model.inmem.entry.content.set({"request.ui_dispatch_view":this.model.application.get("page")}),this.model.inmem.setVizType(),this.model.inmem.save({},{success:function(e,t){this.model.inmem.trigger("saveSuccess")}.bind(this)}),e.preventDefault()}},render:function(){return this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(this.options.title),this.children.flashMessage.render().prependTo(this.$(n.BODY_SELECTOR)),this.$(n.BODY_SELECTOR).append(n.FORM_HORIZONTAL),this.children.title.render().appendTo(this.$(n.BODY_FORM_SELECTOR)),this.model.reportPristine.isAlert()||(this.options.chooseVisualizationType&&(this.model.searchJob.isReportSearch()||(this.model.inmem.entry.content.set({"display.statistics.show":"1"}),this.model.inmem.entry.content.set({"display.visualizations.show":"0"})),this.children.visualization.render().appendTo(this.$(n.BODY_FORM_SELECTOR))),this.model.reportPristine.entry.content.get("is_scheduled")||this.children.timeRangePickerToggle.render().appendTo(this.$(n.BODY_FORM_SELECTOR))),this.model.inmem.setInmemVizType(),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_CANCEL),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_SAVE),this}})}.apply(t,o))||(e.exports=s)},"views/shared/reportcontrols/dialogs/savereport/Success":function(e,t,i){var o,s;o=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/Modal"),i("uri/route"),i("util/time"),i("views/search/actions/savemenu/SaveToDashboard")],void 0===(s=function(e,t,i,o,s,n,a,r){return o.extend({moduleId:i.i,initialize:function(){o.prototype.initialize.apply(this,arguments),this.listenTo(this.model.inmem,"change:"+this.model.inmem.idAttribute,this.render),this.activateSaveReportToDashboardStudio=this.options.activateSaveReportToDashboardStudio,this.activateSaveReportToDashboardStudio&&(this.children.saveControls=new r({model:{report:this.model.report,reportPristine:this.model.reportPristine,application:this.model.application,searchJob:this.model.searchJob,appLocal:this.model.appLocal,user:this.model.user,serverInfo:this.model.serverInfo,web:this.model.web},className:"new-search-actions-addtodashboard"}),this.children.saveControls.render())},events:{"click .createDashboard":function(e){this.trigger("addToDashboardPanel"),e.preventDefault()},"click .routeToReport":function(e){window.location=n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:this.getData()}),e.preventDefault()},"click .routeToPermissions":function(t){window.location=n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"permissions"})}),t.preventDefault()},"click .routeToSchedule":function(t){window.location=n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"schedule"})}),t.preventDefault()},"click .routeToAccleration":function(t){window.location=n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"acceleration"})}),t.preventDefault()},"click .routeToEmbed":function(t){window.location=n.report(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:e.extend(this.getData(),{dialog:"embed"})}),t.preventDefault()}},getData:function(){var e={s:this.model.inmem.id};return this.model.searchJob&&(e.sid=this.model.searchJob.id),e},render:function(){var e=this.model.inmem.entry.acl.get("can_change_perms"),i=this.model.user.canScheduleSearch(),o=this.model.user.canAccelerateReport(),n=this.model.inmem.isRealTime(),a=this.model.user.canEmbed(),r=this.model.inmem.isPivotReport();return this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Your Report Has Been Saved").t()),this.$(s.BODY_SELECTOR).html(this.compiledTemplate({_:t,model:this.model.inmem,isRealTimeSearch:n,canChangePerms:e,canScheduleSearch:i,canAccelerateReport:o,canEmbed:a,isPivot:r})),e||i&&(!n||!r)?this.$("span.save-report-success-message").text(t("You may now view your report, add it to a dashboard, change additional settings, or continue editing it.").t()):(this.$("span.save-report-success-message").text(t("You may now view your report, add it to a dashboard, or continue editing it.").t()),this.$("p.additional-settings").remove()),this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CONTINUE),this.activateSaveReportToDashboardStudio?this.children.saveControls.render().appendTo(this.$(s.FOOTER_SELECTOR)):this.$(s.FOOTER_SELECTOR).append('<a href="#" class="btn createDashboard">'+t("Add to Dashboard").t()+"</a>"),this.$(s.FOOTER_SELECTOR).append('<a href="#"class="btn btn-primary modal-btn-primary routeToReport">'+t("View").t()+"</a>"),this},focus:function(){this.$(".btn-primary").focus()},template:'                <p>                    <span class="save-report-success-message"></span>                </p>                <p class="additional-settings">                    <%- _("Additional Settings:").t() %>                    <ul>                        <% if (canChangePerms) { %>                            <li><a href ="#" class="routeToPermissions"><%- _("Permissions").t() %></a></li>                        <% } %>                        <% if (!isRealTimeSearch && canScheduleSearch) { %>                            <li><a href ="#" class="routeToSchedule"><%- _("Schedule").t() %></a></li>                        <% } %>                        <% if (!isPivot && canAccelerateReport) { %>                            <li><a href ="#" class="routeToAccleration"><%- _("Acceleration").t() %></a></li>                        <% } %>                        <% if (!isRealTimeSearch && canScheduleSearch && canEmbed) { %>                            <li><a href="#" class="routeToEmbed"><%- _("Embed").t() %></a></li>                        <% } %>                    <ul>                </p>            '})}.apply(t,o))||(e.exports=s)},"views/shared/reportcontrols/dialogs/shared/ReportVisualizationControlGroup":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("models/Base"),i("views/shared/controls/ControlGroup"),i("helpers/VisualizationRegistry"),i("shim/splunk.util")],void 0===(s=function(e,t,i,o,s,n){return o.extend({moduleId:t.i,initialize:function(){this.options.label=e("Content").t();var t=this.model.report.entry.content.get("display.general.type"),i=this.model.searchJob.isReportSearch();if(i&&"visualizations"===t){var a=s.findVisualizationForConfig(this.model.report.entry.content.toJSON());a||(a={icon:"external-viz"}),e.extend(this.options,{controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",items:[{value:"chartandtable",icon:a.icon+"-plus-table",iconSize:"",tooltip:n.sprintf(e("%s and Statistics Table").t(),a.label)},{value:"chart",icon:a.icon,iconSize:"",tooltip:a.label},{value:"table",icon:"table",iconSize:"",tooltip:e("Statistics Table").t()}],model:this.model.report.entry.content,modelAttribute:"display.general.reports.show"}})}else{var r=i?e("Statistics Table").t():e("Events").t(),l=i?"table":"list";e.extend(this.options,{controlType:"Label",controlOptions:{icon:l,defaultValue:r,modelAttribute:"display.general.reports.show"}})}o.prototype.initialize.call(this,this.options)}})}.apply(t,o))||(e.exports=s)},"views/shared/statscontrols/StatsControlsMaster":function(e,t,i){var o,s;o=[i("require/backbone"),e,i("models/search/Job"),i("views/Base"),i("views/shared/statscontrols/StatsFormattingControls"),i("views/shared/SearchResultsPaginator")],void 0===(s=function(e,t,i,o,s,n){return o.extend({moduleId:t.i,initialize:function(e){o.prototype.initialize.call(this,e),this.children.formattingControls=new s({model:{report:this.model.report,application:this.model.application,user:this.model.user},leftOffset:this.options.leftOffset||0}),this.children.paginator=new n({mode:"results_preview",model:{state:this.model.report.entry.content,searchJob:this.model.job},countKey:"display.prefs.statistics.count",offsetKey:"display.prefs.statistics.offset"})},render:function(){return this.$el.append(this.children.formattingControls.render().el),this.$el.append(this.children.paginator.render().el),this}})}.apply(t,o))||(e.exports=s)},"views/shared/statscontrols/StatsFormattingControls":function(e,t,i){var o,s;o=[i("require/underscore"),e,i("views/Base"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/vizcontrols/Master")],void 0===(s=function(e,t,i,o,s){return i.extend({moduleId:t.i,initialize:function(t){i.prototype.initialize.call(this,t),this.children.count=new o({menuWidth:"narrow",className:"btn-group pull-left",items:[{value:"10",label:e("10 per page").t()},{value:"20",label:e("20 per page").t()},{value:"50",label:e("50 per page").t()}],model:this.model.report.entry.content,modelAttribute:"display.prefs.statistics.count",toggleClassName:"btn-pill",popdownOptions:{attachDialogTo:"body"}}),this.children.formattingControls=new s({vizTypes:["statistics"],bindToChangeOfSearch:!1,excludeAttributes:["display.prefs.statistics.count"],model:{report:this.model.report,application:this.model.application,user:this.model.user}}),this.children.formattingControls.$el.addClass("popdown pull-left")},render:function(){return this.children.count.render().appendTo(this.el),this.children.formattingControls.render().appendTo(this.el),this}})}.apply(t,o))||(e.exports=s)}});