!function(e){function t(t){for(var i,l,o=t[0],p=t[1],a=t[2],c=0,h=[];c<o.length;c++)l=o[c],Object.prototype.hasOwnProperty.call(n,l)&&n[l]&&h.push(n[l][0]),n[l]=0;for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&(e[i]=p[i]);for(d&&d(t);h.length;)h.shift()();return r.push.apply(r,a||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],i=!0,o=1;o<s.length;o++){var p=s[o];0!==n[p]&&(i=!1)}i&&(r.splice(t--,1),e=l(l.s=s[0]))}return e}var i={},n={34:0},r=[];function l(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(e){var t=[],s=n[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,i){s=n[e]=[t,i]}));t.push(s[2]=i);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.src=function(e){return l.p+""+({}[e]||e)+".js"}(e);var p=new Error;r=function(t){o.onerror=o.onload=null,clearTimeout(a);var s=n[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",p.name="ChunkLoadError",p.type=i,p.request=r,s[1](p)}n[e]=void 0}};var a=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(t)},l.m=e,l.c=i,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(s,i,function(t){return e[t]}.bind(null,i));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],p=o.push.bind(o);o.push=t,o=o.slice();for(var a=0;a<o.length;a++)t(o[a]);var d=p;r.push([2460,0]),s()}({2460:function(e,t,s){var i,n;s.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,s,i="",n=0,r=arguments.length;n<r;n++)(s=(t=arguments[n].toString()).length)>1&&"/"==t.charAt(s-1)&&(t=t.substring(0,s-1)),"/"!=t.charAt(0)?i+="/"+t:i+=t;if("/"!=i){var l=i.split("/"),o=l[1];if("static"==o||"modules"==o){var p=i.substring(o.length+2,i.length);i="/"+o,window.$C.BUILD_NUMBER&&(i+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(i+="."+window.$C.BUILD_PUSH_NUMBER),"app"==l[2]&&(i+=":"+e("APP_BUILD",0)),i+="/"+p}}var a=e("MRSPARKLE_ROOT_PATH","/"),d=e("LOCALE","en-US"),c="/"+d+i;return""==a||"/"==a?c:a+c}("/static/build/pages/light")+"/"}(),i=[s("require/backbone"),s("routers/DeploymentServerAddApps"),s("util/router_utils")],void 0===(n=function(e,t,s){new t;s.start_backbone_history()}.apply(t,i))||(e.exports=n)},2461:function(e,t){e.exports='<div class="appsContainer">\n\t<div class="dashboard-header">\n\t\t<h2 id="totalUnselectedApps" class="dashboard-title"></h2>\n\t</div>\n    <div id="unselectedAppsSearch" class="searchFilterContainer push-margins"></div>\n    <div id="unselectedAppsList" class="push-margins"></div>\n</div>\n'},2462:function(e,t){e.exports='<div class="appsContainer">\n\t<div class="dashboard-header">\n    \t<h2 id="totalSelectedApps" class="dashboard-title"></h2>\n    </div>\n    <div id="selectedAppsSearch" class="searchFilterContainer push-margins"></div>\n    <div id="selectedAppsList" class="push-margins"></div>\n    <div id="noAppsMessage" class="alert alert-error"><i class="icon-alert"></i> <%- _("No app selected.").t() %></div>\n</div>\n'},2463:function(e,t){e.exports='\n<div class="section-header section-padded">\n    <div class="page-actions pull-right">\n         <div class="button-bar btn-toolbar">\n         \t    <a href="<%-docUrl%>" target="_blank" rel="noopener noreferrer" class="btn"><%-_(\'Documentation\').t()%> <i class="icon-external"></i></a>\n         </div>\n    </div>\n\n    <h2 class="section-title"> <%-_("Edit Apps").t()%> </h2>\n    <p class="section-description"><strong><%-_("Server Class").t()%></strong>: <span id="serverClassName"></span></p>\n</div>\n\n<div class="section-padded clearfix">\n    <div class="flash-messages-placeholder"></div>\n\n\t<div id="unselected-apps" class="dashboard-panel panel pull-left"></div>\n\t<div id="selected-apps" class="dashboard-panel panel pull-right"></div>\n</div>\n'},2464:function(e,t,s){(e.exports=s(5)(!1)).push([e.i,'.section-header:after,.section-header:before{content:"";display:table;line-height:0}.section-header:after{clear:both}.section-header{padding:10px 20px;position:relative}.section-header .btn-toolbar{float:right}.dashboard-panel{margin-bottom:10px;margin-right:0;min-height:400px;width:45%}.dashboard-panel .dashboard-header{border-bottom:1px solid #c3cbd4;margin:-20px -20px 0;padding:2px 15px 0 10px}.dashboard-panel .dashboard-title{color:#3c444d;font-size:16px;font-weight:400}.searchFilterContainer{background-color:#f7f8fa;border-bottom:1px solid #c3cbd4;padding:5px 10px}.deploymentserver-search{margin:0!important}.apps-list{list-style:none;margin:0}.apps-list li{border-bottom:1px solid #e1e6eb;cursor:pointer;padding:10px 20px}.apps-list li:hover{background-color:#ecf8ff!important}.apps-list li:nth-child(2n){background-color:#f2f4f5}.apps-list .selectPrompt{color:#6b7785}.alert-error{margin:70px 0}.paginator_container{margin-left:-20px;margin-right:-20px}',""])},"routers/DeploymentServerAddApps":function(e,t,s){var i,n;i=[s("shim/jquery"),s("require/underscore"),s("routers/Base"),s("views/deploymentserver/editServerclass/addApps/AddApps"),s("models/services/deploymentserver/DeploymentServerClass"),s("models/classicurl"),s("shim/bootstrap.tab")],void 0===(n=function(e,t,s,i,n,r,l){return s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments),this.setPageTitle(t("Edit Apps").t()),this.enableAppBar=!1},page:function(t,l,o){s.prototype.page.apply(this,arguments);var p=this;r.fetch({success:function(){var e=new n;e.set("id",r.get("id"));var t=r.get("return_to");p.addAppsView=new i({model:{serverClass:e},application:p.model.application,return_to:t})}}),e.when(this.deferreds.pageViewRendered).then(function(){this.addPageViewEl(this.pageView.el),this.pageView.$(".main-section-body").append(this.addAppsView.render().el)}.bind(this))}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/AddApps":function(e,t,s){var i,n;i=[e,s("views/Base"),s("require/underscore"),s("require/backbone"),s("views/deploymentserver/editServerclass/ServerClassName"),s("views/deploymentserver/editServerclass/addApps/UnselectedApps"),s("views/deploymentserver/editServerclass/addApps/SelectedApps"),s("views/deploymentserver/editServerclass/addApps/SaveButton"),s("views/deploymentserver/editServerclass/addApps/CancelButton"),s("views/shared/FlashMessages"),s("collections/services/deploymentserver/DeploymentApplications"),s("uri/route"),s(2463),s("views/deploymentserver/editServerclass/addApps/AddApps.pcss"),s("views/deploymentserver/shared.pcss"),s("util/htmlcleaner")],void 0===(n=function(e,t,s,i,n,r,l,o,p,a,d,c,h,u,m,v){return t.extend({moduleId:e.i,template:h,initialize:function(){t.prototype.initialize.apply(this,arguments),this.children.serverClassName=new n({model:this.model.serverClass}),this.collection={allApps:new d,selectedApps:new d,unselectedApps:new d},this.model.selectedAppsDict=new i.Model,this.model.previousSelectedAppsDict=new i.Model,this.model.serverClass.fetch(),this.model.serverClass.on("change",this.setSelectedApps,this),this.collection.allApps.fetch({data:{count:-1,offset:0}}),this.collection.allApps.on("reset",this.setSelectedApps,this),this.collection.selectedApps.fetch({data:{count:-1,offset:0}}),this.collection.unselectedApps.fetch({data:{count:-1,offset:0}}),this.children.unselectedAppsView=new r({model:{selectedAppsDict:this.model.selectedAppsDict},collection:this.collection}),this.children.selectedAppsView=new l({model:{selectedAppsDict:this.model.selectedAppsDict},collection:this.collection}),this.children.saveButtonView=new o,this.children.saveButtonView.on("saveClicked",this.handleSave,this),this.children.cancelButtonView=new p,this.children.cancelButtonView.on("cancelClicked",this.handleCancel,this),this.children.flashMessagesView=new a({model:this.model,collection:this.collection})},render:function(){var e=c.docHelp(this.options.application.get("root"),this.options.application.get("locale"),"manager.deployment.fm.apps"),t=this.compiledTemplate({_:s,docUrl:e});return this.$el.html(t),this.$("#serverClassName").append(this.children.serverClassName.render().el),this.$("#unselected-apps").append(this.children.unselectedAppsView.render().el),this.$("#selected-apps").append(this.children.selectedAppsView.render().el),this.$(".button-bar").append(this.children.cancelButtonView.render().el),this.$(".button-bar").append(this.children.saveButtonView.render().el),this.$(".flash-messages-placeholder").append(this.children.flashMessagesView.render().el),this},handleCancel:function(){v.isBadUrl(this.options.return_to)?window.location.href=c.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"error"):window.location.href=this.options.return_to?this.options.return_to:c.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"deploymentserveredit",{data:{id:this.model.serverClass.id}})},handleSave:function(){var e=this,t=0,s=0;this.collection.allApps.each((function(i){t++;var n=e.model.selectedAppsDict.get(i.entry.get("name")),r=e.model.previousSelectedAppsDict.get(i.entry.get("name"));n&&!r?(s++,i.entry.content.set("serverclass",e.model.serverClass.entry.get("name")),i.entry.content.set("map",!0),i.save(null,{success:function(i,n){s--,e.redirectOnSaveComplete(t,s)},error:function(e,t){i.entry.content.set("serverclass",null)}})):!n&&r&&(s++,i.entry.content.set("serverclass",e.model.serverClass.entry.get("name")),i.entry.content.set("unmap",!0),i.save(null,{success:function(i,n){s--,e.redirectOnSaveComplete(t,s)},error:function(e,t){i.entry.content.set("serverclass",null),i.entry.content.set("unmap",!1)}}))})),this.redirectOnSaveComplete(t,s)},redirectOnSaveComplete:function(e,t){0===t&&e===this.collection.allApps.length&&(v.isBadUrl(this.options.return_to)?window.location.href=c.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"error"):window.location.href=this.options.return_to?this.options.return_to:c.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"deploymentserveredit",{data:{id:this.model.serverClass.id}}))},setSelectedApps:function(){var e=this;this.collection.allApps.each((function(t){for(var s=!1,i=t.entry.content.get("serverclasses"),n=0;n<i.length;n++)if(i[n]==e.model.serverClass.entry.get("name")){s=!0;break}e.model.selectedAppsDict.set(t.entry.get("name"),s)})),this.model.previousSelectedAppsDict=this.model.selectedAppsDict.clone()}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/AddApps.pcss":function(e,t,s){var i=s(2464);"string"==typeof i&&(i=[[e.i,i,""]]);var n={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};s(6)(i,n);i.locals&&(e.exports=i.locals)},"views/deploymentserver/editServerclass/addApps/SaveButton":function(e,t,s){var i,n;i=[e,s("views/Base"),s("require/underscore")],void 0===(n=function(e,t,s){return t.extend({moduleId:e.i,tagName:"button",className:"btn btn-primary",initialize:function(){t.prototype.initialize.apply(this,arguments)},attributes:{href:"#"},render:function(){return this.$el.html(s("Save").t()),this},events:{click:function(e){return this.trigger("saveClicked"),!1}}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/SelectedAppElement":function(e,t,s){var i,n;i=[e,s("views/Base"),s("require/underscore")],void 0===(n=function(e,t,s){return t.extend({moduleId:e.i,tagName:"li",className:"appElement",initialize:function(){t.prototype.initialize.apply(this,arguments),this.model.selectedAppsDict.on("change:"+this.model.app.entry.get("name"),this.handleSelected,this)},render:function(){var e=this.compiledTemplate({app:this.model.app});return this.$el.html(e),this.handleSelected(),this.$(".selectPrompt").hide(),this},events:{mouseout:function(e){this.$(".selectPrompt").hide(),this.$el.css("background-color","white")},mouseover:function(e){this.$(".selectPrompt").show(),this.$el.css("background-color","#EEEEEE")},click:function(e){this.$el.hide(),this.model.selectedAppsDict.set(this.model.app.entry.get("name"),!1)}},handleSelected:function(){this.model.selectedAppsDict.get(this.model.app.entry.get("name"))?this.$el.show():this.$el.hide()},template:'                <span class="selectPrompt" style="float:right"><%-_("Unselect").t()%></span>                <a href="#"><%=app.entry.get("name")%></a>             '})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/SelectedAppSummary":function(e,t,s){var i,n;i=[e,s("views/Base"),s("require/underscore")],void 0===(n=function(e,t,s){return t.extend({moduleId:e.i,tagName:"span",className:"appSummary",initialize:function(){t.prototype.initialize.apply(this,arguments),this.numSelectedApps=0,this.collection.on("reset",(function(){this.render()}),this),this.model.on("change",(function(){this.render()}),this)},render:function(){this.computeNumSelectedApps();var e="";return this.numSelectedApps?1==this.numSelectedApps?e=s("1 Selected App").t():e+=this.numSelectedApps+s(" Selected Apps").t():e=s("Selected Apps").t(),this.trigger("appSelected",this.numSelectedApps),this.$el.html(e),this},computeNumSelectedApps:function(){var e=0,t=this;this.collection.each((function(s){t.model.get(s.entry.get("name"))&&e++})),this.numSelectedApps=e}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/SelectedApps":function(e,t,s){var i,n;i=[e,s("require/backbone"),s("views/Base"),s("views/deploymentserver/editServerclass/addApps/SelectedAppsList"),s("views/deploymentserver/editServerclass/addApps/SelectedAppSummary"),s("views/deploymentserver/Search"),s(2462)],void 0===(n=function(e,t,s,i,n,r,l){return s.extend({moduleId:e.i,template:l,initialize:function(){s.prototype.initialize.apply(this,arguments);var e=new t.Model;this.model.search=e,this.children.search=new r({model:e}),this.children.selectedAppsSummary=new n({model:this.model.selectedAppsDict,collection:this.collection.allApps}),this.children.selectedAppsSummary.on("appSelected",this.handleAppSelected,this),this.children.selectedAppsList=new i({model:this.model,collection:this.collection.selectedApps})},render:function(){var e=this.compiledTemplate();return this.$el.html(e),this.$("#selectedAppsSearch").html(this.children.search.render().el),this.$("#totalSelectedApps").append(this.children.selectedAppsSummary.render().el),this.$("#selectedAppsList").html(this.children.selectedAppsList.render().el),this},handleAppSelected:function(e){e>0?(this.$("#noAppsMessage").hide(),this.$("#selectedAppsSearch").show()):(this.$("#noAppsMessage").show(),this.$("#selectedAppsSearch").hide())}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/SelectedAppsList":function(e,t,s){var i,n;i=[e,s("views/Base"),s("views/deploymentserver/editServerclass/addApps/SelectedAppElement")],void 0===(n=function(e,t,s){return t.extend({moduleId:e.i,tagName:"ul",className:"selectedAppsList apps-list",initialize:function(){t.prototype.initialize.apply(this,arguments),this.collection.on("reset",this.render,this),this.model.search.on("change:filter",this.performSearch,this)},render:function(){this.$el.html("");var e=this;return this.collection.each((function(t){var i=new s({model:{app:t,selectedAppsDict:e.model.selectedAppsDict}});e.$el.append(i.render().el)})),this},performSearch:function(){var e=this.model.search.get("filter")?'name="*'+this.model.search.get("filter")+'*"':"";this.collection.fetch({data:{search:e}})}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/UnselectedAppElement":function(e,t,s){var i,n;i=[e,s("views/Base"),s("require/underscore")],void 0===(n=function(e,t,s){return t.extend({moduleId:e.i,tagName:"li",className:"appElement",initialize:function(){t.prototype.initialize.apply(this,arguments),this.model.selectedAppsDict.on("change:"+this.model.app.entry.get("name"),this.handleSelected,this)},render:function(){var e=this.compiledTemplate({app:this.model.app});return this.$el.html(e),this.handleSelected(),this.$(".selectPrompt").hide(),this},events:{mouseout:function(e){this.$(".selectPrompt").hide()},mouseover:function(e){this.$(".selectPrompt").show()},click:function(e){this.$el.hide(),this.model.selectedAppsDict.set(this.model.app.entry.get("name"),!0)}},handleSelected:function(){this.model.selectedAppsDict.get(this.model.app.entry.get("name"));this.model.selectedAppsDict.get(this.model.app.entry.get("name"))?this.$el.hide():this.$el.show()},template:'                <span class="selectPrompt" style="float:right"><%-_("Select").t()%></span>                <a href="#"><%=app.entry.get("name")%></a>             '})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/UnselectedAppSummary":function(e,t,s){var i,n;i=[e,s("views/Base"),s("util/console"),s("require/underscore")],void 0===(n=function(e,t,s,i){return t.extend({moduleId:e.i,tagName:"span",className:"appSummary",initialize:function(){t.prototype.initialize.apply(this,arguments),this.collection.on("reset",(function(){this.render()}),this),this.model.on("change",(function(){this.render()}),this)},render:function(){this.computeNumUnselectedApps();var e="";return this.numUnselectedApps?1==this.numUnselectedApps?e=i("1 Unselected App").t():e+=this.numUnselectedApps+i(" Unselected Apps").t():e=i("Unselected Apps").t(),this.trigger("appUnselected",this.numUnselectedApps),this.$el.html(e),this},computeNumUnselectedApps:function(){var e=0,t=this;this.collection.each((function(s){t.model.get(s.entry.get("name"))||e++})),this.numUnselectedApps=e}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/UnselectedApps":function(e,t,s){var i,n;i=[e,s("require/backbone"),s("views/Base"),s("views/deploymentserver/editServerclass/addApps/UnselectedAppsList"),s("views/deploymentserver/editServerclass/addApps/UnselectedAppSummary"),s("views/deploymentserver/Search"),s(2461),s("util/console")],void 0===(n=function(e,t,s,i,n,r,l,o){return s.extend({moduleId:e.i,template:l,initialize:function(){s.prototype.initialize.apply(this,arguments);var e=new t.Model;this.model.search=e,this.children.search=new r({model:e}),this.children.unselectedAppsSummary=new n({model:this.model.selectedAppsDict,collection:this.collection.allApps}),this.children.unselectedAppsSummary.on("appUnselected",this.handleAppUnselected,this),this.children.unselectedAppsList=new i({model:this.model,collection:this.collection.unselectedApps})},render:function(){var e=this.compiledTemplate();return this.$el.html(e),this.$("#totalUnselectedApps").append(this.children.unselectedAppsSummary.render().el),this.$("#unselectedAppsSearch").append(this.children.search.render().el),this.$("#unselectedAppsList").html(this.children.unselectedAppsList.render().el),this},handleAppUnselected:function(e){e>0?this.$("#unselectedAppsSearch").show():this.$("#unselectedAppsSearch").hide()}})}.apply(t,i))||(e.exports=n)},"views/deploymentserver/editServerclass/addApps/UnselectedAppsList":function(e,t,s){var i,n;i=[e,s("views/Base"),s("views/deploymentserver/editServerclass/addApps/UnselectedAppElement")],void 0===(n=function(e,t,s){return t.extend({moduleId:e.i,tagName:"ul",className:"unselectedAppsList apps-list",initialize:function(){t.prototype.initialize.apply(this,arguments),this.collection.on("reset",this.render,this),this.model.search.on("change:filter",this.performSearch,this)},render:function(){this.$el.html("");var e=this;return this.collection.each((function(t){var i=new s({model:{app:t,selectedAppsDict:e.model.selectedAppsDict}});e.$el.append(i.render().el)})),this},performSearch:function(){var e=this.model.search.get("filter")?'name="*'+this.model.search.get("filter")+'*"':"";this.collection.fetch({data:{search:e,count:-1}})}})}.apply(t,i))||(e.exports=n)}});