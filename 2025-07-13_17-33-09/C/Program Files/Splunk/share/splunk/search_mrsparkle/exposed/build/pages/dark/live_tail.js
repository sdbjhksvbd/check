!function(e){function t(t){for(var s,n,l=t[0],a=t[1],d=t[2],c=0,p=[];c<l.length;c++)n=l[c],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(h&&h(t);p.length;)p.shift()();return o.push.apply(o,d||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],s=!0,l=1;l<i.length;l++){var a=i[l];0!==r[a]&&(s=!1)}s&&(o.splice(t--,1),e=n(n.s=i[0]))}return e}var s={},r={56:0},o=[];function n(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.e=function(e){var t=[],i=r[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,s){i=r[e]=[t,s]}));t.push(i[2]=s);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=function(e){return n.p+""+({}[e]||e)+".js"}(e);var a=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(d);var i=r[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}r[e]=void 0}};var d=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},n.m=e,n.c=s,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var h=a;o.push([2549,0]),i()}({2549:function(e,t,i){var s,r;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,s="",r=0,o=arguments.length;r<o;r++)(i=(t=arguments[r].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?s+="/"+t:s+=t;if("/"!=s){var n=s.split("/"),l=n[1];if("static"==l||"modules"==l){var a=s.substring(l.length+2,s.length);s="/"+l,window.$C.BUILD_NUMBER&&(s+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(s+="."+window.$C.BUILD_PUSH_NUMBER),"app"==n[2]&&(s+=":"+e("APP_BUILD",0)),s+="/"+a}}var d=e("MRSPARKLE_ROOT_PATH","/"),h=e("LOCALE","en-US"),c="/"+h+s;return""==d||"/"==d?c:d+c}("/static/build/pages/dark")+"/"}(),s=[i("routers/LiveTail"),i("util/router_utils")],void 0===(r=function(e,t){new e;t.start_backbone_history()}.apply(t,s))||(e.exports=r)},2550:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".livetail{background:#000;bottom:0;color:#fff;left:0;position:absolute;right:0;top:0}.livetail.green-theme-main{background:#000;color:#0c0}.livetail.green-theme-main .blinker img{background:#0c0}.livetail.green-theme-main .livetail-settings-icons a{color:#0c0}.livetail.green-theme-main .livetail-settings-icons a svg path,.livetail.green-theme-main .livetail-settings-icons a svg polygon{fill:#0c0}.livetail.green-theme-main .livetail-search-container .search{border-color:#0c0;color:#0c0}.livetail.green-theme-main .livetail-keyword-bar{background:#000}.livetail.green-theme-main .livetail-keyword-bar .keyword-count,.livetail.green-theme-main .livetail-keyword-bar .timestamp{color:#0c0}.livetail.basic-theme-main{background:#fff;color:#000}.livetail.basic-theme-main .blinker img{background:#000}.livetail.basic-theme-main .livetail-settings-icons a{color:#000}.livetail.basic-theme-main .livetail-settings-icons a svg path,.livetail.basic-theme-main .livetail-settings-icons a svg polygon{fill:#000}.livetail.basic-theme-main .livetail-search-container .search{border-color:#000;color:#000}.livetail.basic-theme-main .livetail-keyword-bar{background:#fff}.livetail.basic-theme-main .lite-bar,.livetail.basic-theme-main .livetail-keyword-bar .keyword-count,.livetail.basic-theme-main .livetail-keyword-bar .timestamp{color:#000}.livetail input.search{border:1px solid #fff}.livetail-search-container{height:60px;line-height:30px;padding:0 20px}.livetail-search-container .search{background:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:#fff;font-family:Splunk Platform Mono,Inconsolata,Consolas,Droid Sans Mono,Monaco,Courier New,Courier,monospace;height:100%;padding:8px;-webkit-transition:none;transition:none;width:100%}.livetail-settings-icons{padding:6px 22px;position:absolute;right:0;text-align:right;top:0}.livetail-settings-icons a{color:#fff;display:inline-block;font-size:15px;line-height:18px;margin-left:20px;vertical-align:middle}.livetail-settings-icons a svg{padding:3px 0 0 2px}.livetail-settings-icons .header-settings-open{font-size:18px}.livetail-settings-icons .header-play{display:none}.livetail-results-container{bottom:0;font-family:Splunk Platform Mono,Inconsolata,Consolas,Droid Sans Mono,Monaco,Courier New,Courier,monospace;left:0;margin-bottom:65px;overflow:auto;padding:20px 20px 0;position:absolute;right:0;top:80px;white-space:nowrap}.livetail-results-container.wrap-results{white-space:normal}.livetail-results-container.font-8,.livetail-results-container.font-8 li{font-size:8px}.livetail-results-container.font-10,.livetail-results-container.font-10 li{font-size:10px}.livetail-results-container.font-12,.livetail-results-container.font-12 li{font-size:12px}.livetail-results-container.font-14,.livetail-results-container.font-14 li{font-size:14px}.livetail-results-container.font-16,.livetail-results-container.font-16 li{font-size:16px}.livetail-results-container.font-18,.livetail-results-container.font-18 li{font-size:18px}.livetail-results-container.font-20,.livetail-results-container.font-20 li{font-size:20px}.livetail-results-container.font-22,.livetail-results-container.font-22 li{font-size:22px}.livetail-results-container.font-24,.livetail-results-container.font-24 li{font-size:24px}.livetail-results-list{list-style:none;margin:0}.livetail-results-list li{line-height:1.5em;padding:0;position:relative;word-break:break-word}.livetail-results-list .blinker img{margin-top:-2px}.livetail-results-list span.highlighted-keyword{border-radius:8px;line-height:1.5em;margin:0 -4px;padding:3px 4px 1px}.livetail-results-list .raw-result{position:relative;z-index:5}.livetail-results-list .keyword-match{left:0;position:absolute;top:0}.livetail-focus{height:50px;opacity:0}.livetail-keyword-bar{background:#000;border-top:1px solid #818d99;bottom:0;color:#fff;font-size:12px;left:0;min-height:40px;position:fixed;width:100%;z-index:90}.livetail-keywords-container{line-height:16px;margin-right:140px;overflow-x:auto;overflow-y:hidden;padding:9px 0;white-space:nowrap}.timestamp{font-size:10px;opacity:.75;padding:16px;position:absolute;right:0;top:0}.livetail-keyword{display:inline-block;margin-left:14px;position:relative}.keyword-name{border-radius:30px;margin-right:-3px;padding:4px 8px 2px}.keyword-count,.keyword-name{display:inline-block;vertical-align:middle}.keyword-count{margin-top:5px}.livetail-keyword-highlighting{background:#fff;border-left:1px solid #c3cbd4;bottom:0;color:#3c444d;overflow:auto;position:fixed;right:-301px;top:0;-webkit-transition:right .5s;transition:right .5s;width:300px;z-index:100}.livetail-keyword-highlighting.open{right:0}.sidebar-header{font-weight:700;line-height:27px;margin:0;padding:0 0 0 14px}.sidebar-header .close:before{color:#c3cbd4}.sidebar-header .close:hover{background:none}.sidebar-body{padding:14px}.livetail-header-settings{padding:20px;width:240px}.livetail-header-settings .settings-checkbox .control-label{margin-left:111px;position:absolute}.livetail-header-settings .settings-checkbox label.checkbox{margin:0 0 0 82px;padding:0}.settings-default .control-label{display:inline-block;margin:0;text-align:right;vertical-align:middle;width:60px}.settings-default .controls{display:inline-block;margin-left:20px;vertical-align:middle}.section-label{display:inline-block;padding-top:15px;text-align:right;width:60px}.settings-section{margin-bottom:10px}.livetail-themes{display:inline-block;margin-left:13px;vertical-align:top}.livetail-themes label{border:1px solid #000;cursor:pointer;display:inline-block;padding:15px;text-align:center;vertical-align:middle;width:90px}.livetail-themes input,.livetail-themes label{margin:0 0 10px 8px}.livetail-themes .classic-theme{background:#000;color:#fff}.livetail-themes .green-theme{background:#000;color:#0c0}.livetail-themes .basic-theme{background:#fff;color:#000}.livetail-keyword-container{padding:16px 8px}.livetail-keyword-container .color-square{display:block;height:25px;width:25px}.keyword-input-container{float:left;margin:0 0 0 15px;position:relative;width:175px}.keyword-input-container .keyword-input{border-radius:0!important;margin:0;width:150px}.keyword-error{color:#dc4e41;position:absolute;top:30px}.keywords-list{width:100%}.livetail-keyword-row{clear:both;white-space:nowrap}.livetail-keyword-container .close,.shared-controls-colorpickercontrol{display:inline-block;vertical-align:middle}.enabled-checkbox{float:left}.enabled-checkbox label.checkbox{padding:0 0 0 22px}.remove-keyword{color:#c3cbd4;display:inline-block;font-size:14px;line-height:26px;margin-left:5px;vertical-align:middle}.livetail-alarms-container{clear:both;margin-left:24px;position:relative;width:250px}.livetail-alarms-container .collapsible-toggle{position:absolute;top:-22px}.livetail-alarms-container .collapsible-toggle:focus{background:none;-webkit-box-shadow:none;box-shadow:none}.livetail-alarms{padding:16px 8px 8px;position:relative}.livetail-alarms .threshold-container{display:inline-block;vertical-align:middle;width:43px}.livetail-alarms .threshold-container input{padding:4px 6px;width:28px}.control label.checkbox{margin:6px 0;padding:0 0 0 22px}.screen-flash-container .control-label{margin-left:25px;position:absolute}.play-sound,.sound,.sound .control-label,.sound .controls{display:inline-block;vertical-align:middle}.sound .control-label,.sound .controls{margin:0 5px}.threshold-text{margin-left:-8px}body{background:#000;min-width:0}.preload.blank{background-color:#000;position:absolute}.preload.blank,.screen-flash{bottom:0;left:0;right:0;top:0}.screen-flash{background:#fff;position:fixed;z-index:5000}div#screen{font-size:24px;line-height:24px}",""])},"collections/services/data/ui/Keywords":function(e,t,i){var s,r;s=[i("require/underscore"),i("models/livetail/Keyword"),i("collections/SplunkDsBase")],void 0===(r=function(e,t,i){return i.extend({url:"data/ui/livetail",model:t})}.apply(t,s))||(e.exports=r)},"models/livetail/Keyword":function(e,t,i){var s,r;s=[i("require/underscore"),i("models/SplunkDBase"),i("shim/splunk.util")],void 0===(r=function(e,t,i){return t.extend({url:"data/ui/livetail",isEnabled:function(){return i.normalizeBoolean(this.entry.content.get("enabled"))},getKeyword:function(){return e.unescape(this.entry.content.get("keyphrase"))||""},isValid:function(){return this.isEnabled()&&this.getKeyword()},getColor:function(){return this.entry.content.get("color")},getCount:function(){return this.get("count")||0},isFlashOn:function(){return i.normalizeBoolean(this.entry.content.get("flash"))},playSound:function(){return i.normalizeBoolean(this.entry.content.get("playsound"))},getSound:function(){return this.entry.content.get("sound")},getThreshold:function(){return this.entry.content.get("threshold")},getName:function(){return this.entry.get("name")},getEncodedSound:function(){var e=this.getSound();return this.entry.content.get("sound-"+e)}})}.apply(t,s))||(e.exports=r)},"routers/BootstrapSearch":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),i("require/backbone"),i("routers/BaseSearch"),i("models/search/Job"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r,o,n){return s.extend({initialize:function(t){t=t||{},s.prototype.initialize.apply(this,arguments),this.loadingMessage=e("Loading...").t(),this.requiresRoles=t.requiresRoles,this.reportRequired=!1},page:function(e,i,n){s.prototype.page.apply(this,arguments),this.shouldRender?this.baseDeactivateDeferred.resolve():this.deactivate(),"resolved"!==this.deferreds.times.state()&&this.collection.times.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1},success:function(e,t){this.deferreds.times.resolve()}.bind(this),error:function(e,t){this.deferreds.times.resolve()}.bind(this)}),"resolved"!==this.deferreds.uiPrefs.state()&&this.model.uiPrefs.bootstrap(this.deferreds.uiPrefs,this.model.application.get("page"),this.model.application.get("app"),this.model.application.get("owner")),"resolved"!==this.deferreds.appLocal.state()&&this.model.appLocal.fetch({url:o.fullpath(this.model.appLocal.url+"/"+encodeURIComponent(this.model.application.get("app"))),data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(e,t){this.deferreds.appLocal.resolve()}.bind(this),error:function(e,t){this.deferreds.appLocal.resolve()}.bind(this)}),"resolved"!==this.deferreds.workflowActions.state()&&this.collection.workflowActions.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1,sort_key:"name",search:"disabled=false"},success:function(e,t){this.deferreds.workflowActions.resolve()}.bind(this),error:function(e,t){this.deferreds.workflowActions.resolve()}.bind(this)}),this.requiresRoles?"resolved"!==this.deferreds.roles.state()&&this.collection.roles.fetch({success:function(e,t){this.deferreds.roles.resolve()}.bind(this),error:function(e,t){this.deferreds.roles.resolve()}.bind(this)}):this.deferreds.roles.resolve(),t.when(this.baseDeactivateDeferred).then(function(){this.model.report.entry.content.set({"display.prefs.events.offset":"0","display.prefs.statistics.offset":"0","display.events.table.sortDirection":"asc","display.statistics.sortDirection":"asc"}),this.bootstrapDeferred=t.Deferred(),t.when(this.deferreds.uiPrefs,this.deferreds.userPref,this.deferreds.user,this.deferreds.appLocals).then(function(){this.model.classicUrl.fetch({success:function(e,t){this.autoPause=r.getAutoPauseInterval(this.model.classicUrl.get("auto_pause")),this.model.classicUrl.set({"display.events.timelineEarliestTime":void 0,"display.events.timelineLatestTime":void 0,"display.prefs.events.offset":void 0,"display.prefs.statistics.offset":void 0,"display.statistics.sortColumn":void 0,"display.statistics.sortDirection":void 0,"display.events.table.sortColumn":void 0,"display.events.table.sortDirection":void 0}),this.syncFromClassicURL()}.bind(this)})}.bind(this)),t.when(this.deferreds.roles,this.deferreds.times,this.deferreds.appLocal,this.deferreds.user,this.deferreds.workflowActions,this.deferreds.pageViewRendered,this.deferreds.preloadReplaced,this.deferreds.serverInfo,this.bootstrapDeferred).then(function(){this.baseActivateDeferred.resolve()}.bind(this))}.bind(this))},syncFromClassicURL:function(i){var s,r,l,a,d=(i=i||{}).jobFetchDeferred||t.Deferred(),h=i.jobCreationDeferred||t.Deferred(),c=i.reportFetchDeferred||t.Deferred(),p=i.timeRangeDeferred||t.Deferred(),u=(i.mergeFromSearchDeferred||t.Deferred(),i.syncFromClassicURLDeferred||t.Deferred()),m=this.model.classicUrl.get("s"),f=n.stripLeadingSearchCommand(this.model.classicUrl.get("q")),v=this.model.classicUrl.get("sid"),g=this.model.classicUrl.filterByWildcards(this.url_filter,{allowEmpty:!0}),w=this.model.userPref?this.model.userPref.entry.content.filterByWildcards(this.user_prefs_filter):{},y=this.model.classicUrl.get("uiprefsoff"),b={},k={},x=this.shouldFetchTableAST();if(m=this.sanitizeParamForUrl(m),v=this.sanitizeParamForUrl(v),s=x?i.tableASTDeferred||t.Deferred():i.tableASTDeferred&&i.tableASTDeferred.resolve()||t.Deferred().resolve(),y?k["display.events.type"]="list":k=this.model.uiPrefs.entry.content.filterByWildcards(this.job_filter),this.reportRequired&&!m){var T=o.createSplunkDMessage(o.FATAL,e("No report was specified.").t());return this.model.report._onerror(this.model.report,T),d.resolve(),c.resolve(),h.resolve(),p.resolve(),u.resolve(),void this.bootstrapDeferred.resolve()}if(this.mediateClassicUrlAttrsToReport(g),this.mediateUserPrefsAttrs(w),!m&&!v&&!f)return this.mergeFromEmptyState(p,w,k,g),this.model.report.isSampled()&&this.model.report.isRealTime()&&this.model.classicUrl.save({"dispatch.sample_ratio":"1"},{replaceState:!0}),this.model.report.adjustSampleRatio(),this.model.report.syncCustomSampleRatio(),void u.resolve();this.reportBootstrap(c,h,m,f,v),t.when(c).then(function(){this.jobBootstrap(d,h,m,f,v)}.bind(this)),t.when(d).then(function(){if(this.reportRequired&&this.model.report.isNew())return h.resolve(),p.resolve(),void u.resolve();if(r=this.model.report.entry.content.get("search"),l=n.stripLeadingSearchCommand(this.model.searchJob.getSearch()),this.model.report.isNew())this.model.report.entry.content.set(t.extend({},w,k));else{var o=this.model.report.entry.content.toJSON();e.defaults(o,k),this.model.report.entry.content.set(t.extend({},o))}a=this.getSearch(f,r,l),x&&"resolved"!==s.state()&&this.tableASTBootstrap(s,a),this.shouldStartNewSearch()?(this.model.report.entry.content.set(t.extend({},g,{search:a})),this.model.report.adjustSampleRatio(),this.startNewSearch(h,a,g,i)):this.model.searchJob.isNew()?(this.model.report.entry.content.set(t.extend({},g,{search:a})),h.resolve()):this.mergeFromSearch(h,a,g,b,i),t.when(h).then(function(){this.model.report.syncDrilldownMode(),this.model.report.syncCustomSampleRatio(),this.populateSelectedFieldsFromReport(),this.timeRangeBootstrap(p)}.bind(this))}.bind(this)),t.when(h,p,s).then(function(){this.model.searchJob.isNew()||(this.model.searchJob.isPreparing()||(this.model.report.setSearchTab({isTransforming:this.model.searchJob.isReportSearch(),isUneventfulReportSearch:this.model.searchJob.isUneventfulReportSearch(),canPatternDetect:this.model.user.canPatternDetect()}),this.registerSearchJobFriends()),this.model.searchJob.on("prepared",this.registerSearchJobFriends,this),this.populateClassicUrlFromSearchJob(),this.model.searchJob.startPolling()),u.resolve(),this.bootstrapDeferred.resolve()}.bind(this))},mergeFromEmptyState:function(e,i,s,r){this.model.report.entry.content.set(t.extend({},i,s,r)),this.timeRangeBootstrap(e),t.when(e).then(function(){n.normalizeBoolean(this.model.report.entry.content.get("display.prefs.enableMetaData"))?this.startMetaDataSearch(this.bootstrapDeferred):this.bootstrapDeferred.resolve()}.bind(this))},getSearch:function(e,i,s){return this.model.searchJob.isNew()?e&&t.trim(e)!==t.trim(i)?e:i:s},shouldStartNewSearch:function(){return this.model.searchJob.isNew()},mergeFromSearch:function(e,i,s,r,o){var l,a=!this.model.report.isAlert()&&this.model.report.entry.content.get("is_scheduled");(r=this.model.searchJob.entry.content.custom.filterByWildcards(this.job_filter))["display.page.search.mode"]=this.model.searchJob.getAdhocSearchMode(),r["dispatch.earliest_time"]=this.model.searchJob.getDispatchEarliestTimeOrAllTime(a),r["dispatch.latest_time"]=this.model.searchJob.getDispatchLatestTimeOrAllTime(a),r["dispatch.sample_ratio"]=this.model.searchJob.getSampleRatio(),r.workload_pool=this.model.searchJob.getWorkloadPool(),l=this.model.searchJob.entry.acl.canWrite()?this.model.searchJob.setPreview(n.normalizeBoolean(this.model.report.entry.content.get("display.general.enablePreview"))):t.Deferred().resolve(),this.model.report.entry.content.set(t.extend({},s,r,{search:i})),l.always(function(){e.resolve()}.bind(this))},startNewSearch:function(t,i,s){var n;i?(n=new r,s&&(this.deleteOneTimeUseAttrs(s),delete s["display.page.search.patterns.sensitivity"],n.entry.content.custom.set(s)),!e.isUndefined(this.collection.workloadManagementStatus)&&this.model.user.canListAndSelectWorkloadPools(this.collection.workloadManagementStatus)&&e.isEmpty(this.model.report.entry.content.get("workload_pool"))&&!e.isUndefined(s.search)&&e.isUndefined(s.workload_pool)&&this.model.report.entry.content.set("workload_pool",this.collection.workloadManagementStatus.getDefaultSearchPoolName()),this.addNewSearchListeners(n,t),n.save({},{data:{search:i,earliest_time:this.model.report.entry.content.get("dispatch.earliest_time"),latest_time:this.model.report.entry.content.get("dispatch.latest_time"),auto_cancel:r.DEFAULT_AUTO_CANCEL,auto_pause:this.autoPause?this.autoPause:void 0,status_buckets:300,ui_dispatch_app:this.model.application.get("app"),preview:this.model.report.entry.content.get("display.general.enablePreview"),adhoc_search_level:this.model.report.entry.content.get("display.page.search.mode"),workload_pool:this.model.report.entry.content.get("workload_pool"),app:this.model.application.get("app"),owner:this.model.application.get("owner"),indexedRealtime:this.model.report.entry.content.get("dispatch.indexedRealtime"),sample_ratio:this.model.report.entry.content.get("dispatch.sample_ratio"),check_risky_command:this.shouldCheckRiskyCommand(i),provenance:this.getJobProvenance()}})):(this.jobBootstrapErrors=[o.createMessageObject(o.FATAL,e("No search was specified.").t())],t.resolve())},addNewSearchListeners:function(e,t){e.on("sync",(function(i,s,r){var o;this.model.searchJob.clear(),this.model.searchJob.setFromSplunkD(e.toSplunkD()),this.jobBootstrapErrors&&this.jobBootstrapErrors.length>0?o=this.jobBootstrapErrors:i.error.get("messages")&&(o=i.error.get("messages")),o&&this.model.searchJob.error.set({messages:o}),this.model.classicUrl.unset("auto_pause"),e.off(),t.resolve()}),this),e.on("error",(function(e,i,s){this.model.searchJob.trigger("error",this.model.searchJob,i),e.off(),t.resolve()}),this)},shouldCheckRiskyCommand:function(e){return this.pageViewCount<=1},shouldFetchTableAST:function(){return!1},registerSearchJobFriends:function(t){t=e.extend({},t,{registerResultJsonCols:!1,registerResultJsonRows:!1}),s.prototype.registerSearchJobFriends.call(this,t)},reportBootstrap:function(e,t,i,s,r){i&&this.model.report.set("id",this.applyModelFullPathToName(this.model.report,i)),this.model.report.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(t,i){this.model.reportPristine.setFromSplunkD(this.model.report.toSplunkD()),e.resolve()}.bind(this),error:function(o,n){var l=n;this.model.report.unset("id"),this.model.classicUrl.save({s:void 0},{replaceState:!0}),this.reportRequired||i&&!s&&!r?(this.model.report._onerror(this.model.report,n),e.resolve(),t.resolve()):this.model.reportPristine.fetch({success:function(t,i){this.model.report.setFromSplunkD(this.model.reportPristine.toSplunkD()),this.model.report.trigger("error",this.model.report,l),e.resolve()}.bind(this),error:function(t,i){e.resolve()}.bind(this)})}.bind(this)})},jobBootstrap:function(e,t,i,s,r){r?this.fetchJob(r,e,t,i,s):e.resolve()},fetchJob:function(t,i,s,r,l){this.model.searchJob.set("id",t),this.model.searchJob.fetch({success:function(e,t){var s=n.stripLeadingSearchCommand(e.getSearch());this.bootstrappedJobIsInvalid(l,s)&&(this.model.classicUrl.save({sid:void 0},{replaceState:!0}),this.model.searchJob.unset("id")),i.resolve()}.bind(this),error:function(n,a){this.model.classicUrl.save({sid:void 0},{replaceState:!0}),this.model.searchJob.unset("id"),!t||l||r?(this.jobBootstrapErrors=[o.createMessageObject(o.WARNING,e("The job could not be loaded. A new job has been started with the same search.").t())],i.resolve()):(i.resolve(),s.resolve())}.bind(this)})},bootstrappedJobIsInvalid:function(e,i){return e&&t.trim(e)!==t.trim(i)},timeRangeBootstrap:function(e){this.model.timeRange.save({earliest:this.model.report.entry.content.get("dispatch.earliest_time"),latest:this.model.report.entry.content.get("dispatch.latest_time")},{validate:!1,success:function(t,i){e.resolve()}.bind(this),error:function(t,i){e.resolve()}.bind(this)})},tableASTBootstrap:function(e,t){this.model.tableAST.set({spl:n.addLeadingSearchCommand(t,!0)}),this.model.tableAST.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(t,i){e.resolve()}.bind(this),error:function(t,i){e.resolve()}.bind(this)})},sanitizeParamForUrl:function(e){if(e)return e.replace(/\.\.\//g,"")}})}.apply(t,s))||(e.exports=r)},"routers/LiveTail":function(e,t,i){var s,r;s=[i("shim/splunk"),i("shim/jquery"),i("require/underscore"),i("routers/BootstrapSearch"),i("collections/Base"),i("collections/services/data/ui/Keywords"),i("models/search/Job"),i("models/services/search/jobs/Result"),i("models/search/Report"),i("models/services/data/ui/Pref"),i("views/live_tail/Master"),i("uri/route"),i("shim/splunk.session")],void 0===(r=function(e,t,i,s,r,o,n,l,a,d,h,c,p){return s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.showAppsList=!1,this.fetchManagers=!1,this.fetchUserPref=!0,this.setPageTitle(i("Live Tail").t()),this.url_filter.push("^dispatch.indexedRealtime"),this.deferreds.keywords=t.Deferred(),this.deferreds.uiPrefs=t.Deferred(),this.collection.keywords=new o,this.collection.results=new r,this.bootstrapKeywords(),this.model.report=new a,this.model.uiPrefs=new d,this.model.uiPrefs.fetch({success:function(e,t){this.deferreds.uiPrefs.resolve()}.bind(this),error:function(e,t){this.deferreds.uiPrefs.resolve()}.bind(this)}),this.model.searchJob=new n({},{delay:1e4,processKeepAlive:!0,keepAliveInterval:n.DEFAULT_LONG_POLLING_INTERVAL});var l=e.Session.getInstance();l.timeoutDelay=864e5},page:function(e,i,r){s.prototype.page.apply(this,arguments),t.when(this.baseDeactivateDeferred,this.deferreds.pageViewRendered,this.deferreds.keywords,this.deferreds.uiPrefs).then(function(){this.pageView.$("header").remove(),this.addPageViewEl(this.pageView.el),this.deferreds.preloadReplaced.resolve()}.bind(this)),t.when(this.baseActivateDeferred).then(function(){this.initializeLiveTailView(),this.liveTailView.activate({deep:!0,skipRender:!0}),this.activate(),this.liveTailView.render().replaceContentsOf(t(".main-section-body")),t(document).trigger("rendered")}.bind(this))},activate:function(){this.model.report.entry.content.on("change",(function(e,i){var s=this.model.report.entry.content.changedAttributes(),r=t.Deferred();i=i||{},this.populateJob(r,s),t.when(r).always(function(){i.forceTrigger=!0,this.populateClassicUrl(s,i)}.bind(this))}),this),this.model.searchJob.on("prepared",(function(){this.registerSearchJobFriends()}),this)},deactivate:function(){this.shouldRender||(this.model.report.entry.content.off(null,null,this),this.model.searchJob.off(null,null,this)),this.liveTailView.deactivate({deep:!0}),s.prototype.deactivate.apply(this,arguments)},initializeLiveTailView:function(){this.model.user.canLiveTail()?this.liveTailView=new h({model:{result:this.model.result,resultJsonRows:this.model.resultJsonRows,report:this.model.report,searchJob:this.model.searchJob,application:this.model.application,userPref:this.model.userPref},collection:{keywords:this.collection.keywords,results:this.collection.results},searchString:this.searchString||i("No search input").t()}):window.location=c.page(this.model.application.get("root"),this.model.application.get("locale"),"search","error")},registerSearchJobFriends:function(e){this.model.searchJob.registerJobProgressLinksChild(n.RESULTS_PREVIEW,this.model.result,(function(){var e=this.model.searchJob.entry.content.get("resultPreviewCount");i.isNumber(e)&&e>0&&this.model.result.safeFetch()}),this)},bootstrapKeywords:function(){"resolved"!==this.deferreds.keywords.state()&&this.collection.keywords.fetch({data:{app:"-",owner:this.model.application.get("owner"),count:-1},success:function(e,t,i){this.deferreds.keywords.resolve()}.bind(this),error:function(e,t,i){this.deferreds.keywords.resolve()}.bind(this)})}})}.apply(t,s))||(e.exports=r)},"views/live_tail/Master":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/live_tail/header/Master"),i("views/live_tail/results/Master"),i("views/live_tail/keyword_menu/Master"),i("models/shared/ClassicURL"),i("shim/splunk.util"),i("views/live_tail/Master.pcss")],void 0===(r=function(e,t,i,s,r,o,n,l,a,d){return s.extend({moduleId:i.i,className:"livetail",initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.headerView=new r({model:{report:this.model.report,userPref:this.model.userPref,application:this.model.application}}),this.children.resultsView=new o({model:{resultJsonRows:this.model.resultJsonRows,result:this.model.result,report:this.model.report,searchJob:this.model.searchJob,userPref:this.model.userPref},collection:{results:this.collection.results,keywords:this.collection.keywords}}),this.children.keywordsView=new n({model:{resultJsonRows:this.model.resultJsonRows,result:this.model.result,report:this.model.report,application:this.model.application},collection:{keywords:this.collection.keywords}}),this.alertReadyFlash=!0,this.alertReadyAudio=!0,this.activate(),this.startSearch(),this.model.classicurl=new l,this.model.classicurl.fetch({success:function(e,t){this.model.classicurl.unset("sid"),this.model.classicurl.save({},{replaceState:!0})}.bind(this)})},startListening:function(){this.listenTo(this.children.resultsView,"stop",this.stop),this.listenTo(this.children.resultsView,"play",this.play),this.listenTo(this.children.headerView,"stop",this.stop),this.listenTo(this.children.headerView,"play",this.play),this.listenTo(this.children.resultsView,"clear",(function(){this.children.resultsView.clearTerminal()})),this.listenTo(this.children.resultsView,"closeSidebars",(function(){this.children.keywordsView.closeKeywords()})),this.listenTo(this.children.resultsView,"grepSearch",(function(e){this.children.headerView.children.searchBarView.grepSearch(e)})),this.listenTo(this.children.resultsView,"screenFlash",this.screenFlash),this.listenTo(this.children.resultsView,"playSound",(function(e){this.playSound(e)})),this.listenTo(this.children.resultsView.children.keywordBar,"openKeywords",this.openKeywordsMenu),this.listenTo(this.children.resultsView,"updateTheme",(function(e){this.updateTheme(e)})),this.listenTo(this.children.headerView,"closeSidebars",(function(){this.children.keywordsView.closeKeywords()})),this.listenTo(this.children.headerView,"openKeywords",this.openKeywordsMenu),this.listenTo(this.children.headerView.children.settings,"updateWrap",(function(e){this.children.resultsView.updateWrap(e)})),this.listenTo(this.children.headerView.children.settings,"updateFont",(function(e){this.children.resultsView.updateFont(e)})),this.listenTo(this.children.headerView.children.settings,"updateTheme",(function(e){this.updateTheme(e)})),this.listenTo(this.children.headerView.children.settings,"hidden",(function(){this.children.headerView.children.settings.savePrefs()})),this.collection.keywords.each((function(e){this.listenTo(e,"updateColor",(function(e){this.children.resultsView.updateKeywordColors(e)}))}),this)},startSearch:function(){this.model.searchJob.startPolling()},play:function(){this.model.searchJob.unpause(),this.children.resultsView.play(),this.children.headerView.play()},stop:function(){this.model.searchJob.pause(),this.children.resultsView.stop(),this.children.headerView.stop()},screenFlash:function(){this.alertReadyFlash&&(this.$el.append(this.screenFlashTemplate),this.$(".screen-flash").show(),this.$(".screen-flash").fadeOut(2e3),this.alertReadyFlash=!1,setTimeout(function(){this.alertReadyFlash=!0}.bind(this),3e3))},playSound:function(e){if(this.alertReadyAudio){var t=e.getEncodedSound();new Audio("data:audio/ogg;base64,"+t).play(),this.alertReadyAudio=!1,setTimeout(function(){this.alertReadyAudio=!0}.bind(this),3e3)}},openKeywordsMenu:function(){this.children.keywordsView.openKeywords()},openSettingsMenu:function(){this.children.keywordsView.closeKeywords()},updateTheme:function(e){this.$el.removeClass(this.curTheme),this.curTheme=e+"-theme-main",this.$el.addClass(this.curTheme)},render:function(){return this.children.headerView.render().appendTo(this.$el),this.children.resultsView.render().appendTo(this.$el),this.children.keywordsView.render().appendTo(this.$el),this},screenFlashTemplate:'<div class="screen-flash"></div>'})}.apply(t,s))||(e.exports=r)},"views/live_tail/Master.pcss":function(e,t,i){var s=i(2550);"string"==typeof s&&(s=[[e.i,s,""]]);var r={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,r);s.locals&&(e.exports=s.locals)},"views/live_tail/header/Master":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/live_tail/header/SearchBarView"),i("views/live_tail/header/Settings"),i("shim/bootstrap.tooltip")],void 0===(r=function(e,t,i,s,r,o,n){return s.extend({moduleId:i.i,initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.searchBarView=new r({model:{report:this.model.report}}),this.children.settings=new o({model:{application:this.model.application,userPref:this.model.userPref}}),this.children.settings.render().appendTo(t("body")),this.activate()},events:{"click .livetail-header-container":function(e){e.preventDefault(),this.trigger("closeSidebars")},"click .header-keywords-open":function(e){e.preventDefault(),e.stopPropagation(),this.trigger("openKeywords")},"click .header-settings-open":function(e){e.preventDefault(),e.stopPropagation(),this.children.settings&&this.children.settings.shown?this.children.settings.hide():(this.children.settings.show(t(e.currentTarget)),this.children.settings.shown=!0)},"click .header-stop":function(e){e.preventDefault(),e.stopPropagation(),this.trigger("stop")},"click .header-play":function(e){e.preventDefault(),e.stopPropagation(),this.trigger("play")}},play:function(){this.$(".header-play").hide(),this.$(".header-stop").show()},stop:function(){this.$(".header-stop").hide(),this.$(".header-play").show()},render:function(){return this.$el.html(this.compiledTemplate({_:e,highlightSVG:this.templateHighlight})),this.children.searchBarView.render().appendTo(this.$(".livetail-header-container")),this.$(".tooltip-link").tooltip({delay:500,animation:!0,container:"body",placement:"bottom"}),this},template:'                <div class="livetail-header-container">                    <div class="livetail-settings-icons">                        <a href="#" class="header-play tooltip-link" rel="tooltip" data-title="<%- _("Start search").t() %>"><i class="icon icon-play"></i></a>                        <a href="#" class="header-stop tooltip-link" rel="tooltip" data-title="<%- _("Stop search").t() %>"><i class="icon icon-stop"></i></a>                        <a href="#" class="header-keywords-open tooltip-link" rel="tooltip" data-title="<%- _("Highlighting").t() %>"><%= highlightSVG %></a>                        <a href="#" class="header-settings-open tooltip-link" rel="tooltip" data-title="<%- _("Settings").t() %>"><i class="icon icon-gear"></i></a>                    </div>                </div>            ',templateHighlight:'                <svg version="1.1" id="highlight_icon" x="0px" y="0px" width="18px" height="14px" viewBox="0 0 30 26">                    <g>                        <path fill="#FFFFFF" d="M0,2v22h22V2H0z M17.124,21.524h-2.223V13.73H6.66v7.793h-2.2V4.9h2.2v6.956h8.242V4.9h2.224v16.624H17.124z"/>                        <polygon fill="#FFFFFF" points="22,0 22,1.978 25.085,1.978 25.085,24.022 22,24.022 22,26 30,26 30,24.022 26.914,24.022 26.914,1.978 30,1.978 30,0  "/>                    </g>                </svg>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/header/SearchBarView":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/shared/Icon")],void 0===(r=function(e,t,i,s,r){return s.extend({moduleId:i.i,initialize:function(e){s.prototype.initialize.apply(this,arguments),this.children.splunk=new r({icon:"splunk"}),this.children.prompt=new r({icon:"greaterRegistered"}),this.children.liteLogo=new r({icon:"lite"})},events:{"keydown .search":function(e){if(13===e.keyCode)return e.preventDefault(),this.updateSearch(),!1}},updateSearch:function(e){var t=e||this.$(".search").val().trim();this.model.report.entry.content.set("search",t)},grepSearch:function(e){if(e){var t,i=this.$(".search").val().trim().split("|");i[0]=i[0]+" AND "+e,t=i.join("|"),this.updateSearch(t)}},render:function(){return this.$el.html(this.compiledTemplate({searchString:this.model.report.entry.content.get("search")})),this.children.splunk.render().prependTo(this.$(".brand")),this.children.prompt.render().prependTo(this.$("[data-role=gt]")),this.children.liteLogo.render().prependTo(this.$(".sub-brand")),this},template:'                <div class="livetail-search-container">                    <span class="lite-bar">                        <span class="brand pull-left"><span data-role="gt"></span> <span class="sub-brand"></span></span>                    </span>                    <form class="search-form">                        <input class="search" type="text" value="<%- searchString %>">                    </form>                </div>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/header/Settings":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/shared/PopTart"),i("views/shared/controls/ControlGroup"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r,o){return s.extend({moduleId:i.i,initialize:function(){s.prototype.initialize.apply(this,arguments);var t=this.model.userPref.entry.content;e.isUndefined(t.get("display.prefs.livetail.font"))&&t.set("display.prefs.livetail.font","12"),e.isUndefined(t.get("display.prefs.livetail.wrap"))&&this.model.userPref.entry.content.set("display.prefs.livetail.wrap","1"),this.children.wrapResults=new r({controlType:"SyntheticCheckbox",className:"settings-checkbox",label:e("Wrap results").t(),controlOptions:{model:t,modelAttribute:"display.prefs.livetail.wrap"}}),this.children.fontPicker=new r({controlType:"SyntheticSelect",className:"settings-default",label:e("Font size").t(),controlOptions:{items:[{value:"8"},{value:"10"},{value:"12"},{value:"14"},{value:"16"},{value:"18"},{value:"20"},{value:"22"},{value:"24"}],model:t,modelAttribute:"display.prefs.livetail.font",toggleClassName:"btn",menuWidth:"narrow"}}),this.children.linesPicker=new r({controlType:"SyntheticSelect",className:"settings-default",label:e("Show").t(),controlOptions:{items:[{value:"500",label:e("Latest 500 events").t()},{value:"1000",label:e("Latest 1000 events").t()},{value:"2000",label:e("Latest 2000 events").t()},{value:"3000",label:e("Latest 3000 events").t()}],model:t,modelAttribute:"display.prefs.livetail.lines",toggleClassName:"btn",menuWidth:"narrow"}})},events:{"change .livetail-themes input[name=theme]":function(e){var i=t(e.currentTarget).val();this.setPref("theme",i)}},startListening:function(){s.prototype.startListening.apply(this,arguments),this.listenTo(this.model.userPref.entry.content,"change:display.prefs.livetail.wrap",(function(e){this.trigger("updateWrap",o.normalizeBoolean(e.get("display.prefs.livetail.wrap")))})),this.listenTo(this.model.userPref.entry.content,"change:display.prefs.livetail.font",(function(e){this.trigger("updateFont",e.get("display.prefs.livetail.font"))})),this.listenTo(this.model.userPref.entry.content,"change:display.prefs.livetail.lines",(function(e){this.trigger("updateLines",e.get("display.prefs.livetail.lines"))})),this.listenTo(this.model.userPref.entry.content,"change:display.prefs.livetail.theme",(function(e){this.trigger("updateTheme",e.get("display.prefs.livetail.theme"))}))},savePrefs:function(){this.model.userPref.save()},setPref:function(e,t){this.model.userPref.entry.content.set("display.prefs.livetail."+e,t)},render:function(){var t=this.compiledTemplate({_:e});this.$el.html(s.prototype.template_menu),this.$el.append(t),this.children.linesPicker.render().appendTo(this.$(".line-count")),this.children.fontPicker.render().appendTo(this.$(".font-size")),this.children.wrapResults.render().appendTo(this.$(".wrap-results"));var i=this.model.userPref.entry.content.get("display.prefs.livetail.theme")||"classic";return this.$(".livetail-themes input[name=theme]").closest("#"+i).attr("checked",!0),this},template:'                <div class="settings-body">                    <div class="settings-section line-count"></div>                    <div class="settings-section font-size"></div>                    <div class="settings-section wrap-results"></div>                    <div class="settings-section">                        <div class="section-label"><%- _("Theme").t() %></div>                        <div class="livetail-themes">                            <input type="radio" name="theme" id="classic" value="classic" /><label for="classic" class="classic-theme"><%- _("Classic").t() %></label><br/>                            <input type="radio" name="theme" id="green" value="green" /><label for="green"  class="green-theme"><%- _("Green").t() %></label><br/>                            <input type="radio" name="theme" id="basic" value="basic" /><label for="basic"  class="basic-theme"><%- _("Basic").t() %></label>                        </div>                    </div>                </div>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/keyword_menu/Alarms":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/shared/controls/ControlGroup")],void 0===(r=function(e,t,i,s,r){return s.extend({moduleId:i.i,className:"livetail-alarms",initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.screenFlashCheckbox=new r({controlType:"SyntheticCheckbox",className:"flash",label:e("Flash screen").t(),controlOptions:{model:this.model.keyword.entry.content,modelAttribute:"flash"}}),this.children.soundCheckbox=new r({controlType:"SyntheticCheckbox",className:"play-sound",controlOptions:{model:this.model.keyword.entry.content,modelAttribute:"playsound"}}),this.children.soundSelector=new r({controlType:"SyntheticSelect",className:"sound",label:e("Play sound").t(),controlOptions:{items:[{label:e("Ding").t(),value:"ding"},{label:e("Airhorn").t(),value:"airhorn"},{label:e("Alarm").t(),value:"alarm"}],model:this.model.keyword.entry.content,modelAttribute:"sound",toggleClassName:"btn",menuWidth:"narrow"}}),this.children.thresholdControl=new r({controlType:"Text",className:"threshold-input",controlOptions:{model:this.model.keyword.entry.content,modelAttribute:"threshold",updateOnKeyUp:!0,trimTrailingSpace:!0}})},render:function(){return this.$el.html(this.compiledTemplate({_:e})),this.children.soundCheckbox.render().prependTo(this.$(".sound-container")),this.children.soundSelector.render().appendTo(this.$(".sound-container")),this.children.screenFlashCheckbox.render().prependTo(this.$(".screen-flash-container")),this.children.thresholdControl.render().appendTo(this.$(".threshold-container")),this},template:'                <div class="threshold-text">                    <%- _("When more than").t() %> <div class="threshold-container"></div> <%- _("results is reached").t() %>:                </div>                <div class="screen-flash-container"></div>                <div class="sound-container"></div>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/keyword_menu/KeywordRow":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/shared/controls/ColorPickerControl"),i("views/shared/delegates/Accordion"),i("views/live_tail/keyword_menu/Alarms"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages")],void 0===(r=function(e,t,i,s,r,o,n,l,a){var d=["#1e93c6","#3863a0","#a2cc3e","#d6563c","#f2b827","#ed8440","#cc5068","#6a5c9e","#11a88b"];return s.extend({moduleId:i.i,className:"livetail-keyword-row collapsible-group",initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.accordion=new o({el:this.el,group:".collapsible-group",toggle:".collapsible-toggle",body:".collapsible-body",icon:".icon-collapsible-toggle",inactiveIconClass:"icon-chevron-right",activeIconClass:"icon-chevron-down",collapsible:!0}),this.children.colorPicker=new r({model:this.model.keyword.entry.content,modelAttribute:"color",paletteColors:d,clickSwatchApply:!0}),this.children.enabled=new l({controlType:"SyntheticCheckbox",className:"enabled-checkbox",controlOptions:{model:this.model.keyword.entry.content,modelAttribute:"enabled"}}),this.children.flashMessages=new a,this.errorID=this.model.keyword.getName()+"input_error",this.children.alarmsView=new n({model:{keyword:this.model.keyword}}),this.activate({deep:!0})},events:{"keyup .keyword-input":function(){var e=this.$(".keyword-input").val().trim();this.clearError(),this.trigger("updateKeyword",this,this.model.keyword,e)},"click .remove-keyword":function(e){e.stopPropagation(),e.preventDefault(),this.trigger("removeKeyword")}},showError:function(e){this.children.flashMessages.flashMsgHelper.addGeneralMessage(this.errorID,{type:"error",html:e||"Error"})},clearError:function(){this.children.flashMessages.flashMsgHelper.removeGeneralMessage(this.errorID)},render:function(){return this.$el.html(this.compiledTemplate({_:e,keyword:this.model.keyword.getKeyword()})),this.children.enabled.render().insertBefore(this.$(".keyword-input-container")),this.children.colorPicker.render().insertAfter(this.$(".keyword-input-container")),this.children.alarmsView.render().appendTo(this.$(".collapsible-body")),this.$(".keyword-error").html(this.children.flashMessages.render().el),this},template:'                <div class="livetail-keyword-container">                    <div class="keyword-input-container">                        <input type="text" class="keyword-input" value="<%- keyword %>" placeholder="<%- _("String to highlight").t() %>">                        <div class="keyword-error"></div>                    </div>                    <a class="remove-keyword"><i class="icon icon-x"></i></a>                    <div class="livetail-alarms-container collapsible-heading">                        <a class="collapsible-toggle" href="#">                            <i class="icon-collapsible-toggle icon-chevron-right"></i>                        </a>                        <div class="collapsible-body" style="display: none"></div>                    </div>                </div>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/keyword_menu/Master":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/live_tail/keyword_menu/KeywordRow"),i("models/livetail/Keyword"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages"),i("shim/splunk.util")],void 0===(r=function(e,t,i,s,r,o,n,l,a){return s.extend({moduleId:i.i,className:"livetail-keyword-highlighting",initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.flashMessages=new l,this.activate({deep:!0})},events:{"click .close":function(e){e.preventDefault(),this.closeKeywords()},"click .open-settings":function(e){e.preventDefault(),this.trigger("openSettings")},"click .add-keyword":function(e){e.preventDefault(),this.addNewRow()},"click .save":function(e){e.preventDefault(),t(e.currentTarget).hasClass("disabled")||this.saveKeywords()},"keydown .keywords-list":function(e){if(13===e.keyCode)return e.preventDefault(),!1},"click .save-and-close-keywords":function(e){e.preventDefault(),this.closeKeywords()},"click .toggle-keyword-bar":function(e){e.preventDefault(),this.trigger("toggleKeywordBar")}},closeKeywords:function(){this.$el.removeClass("open")},openKeywords:function(){this.$el.addClass("open"),this.$(".keywords-list .keyword-input").first().focus()},saveKeywords:function(){this.clearErrors(),this.collection.keywords.each((function(e){this.saveKeyword(e)}),this)},saveKeyword:function(t){if(t.entry.content.hasChanged()){var i={};t.isNew()&&(i={app:this.model.application.get("app"),owner:this.model.application.get("owner")}),t.save({},{data:i,success:function(){this.$(".save").addClass("disabled")}.bind(this),error:function(){var i=a.sprintf("%s %s",e("Error saving keyword:").t(),t.getKeyword());this.showError(t.getKeyword()+"_error",i)}.bind(this)})}},addNewRow:function(){var e=new o;e.entry.content.set("name",e.cid),e.entry.content.set({keyphrase:"",color:"0x1e93c6",flash:0,playsound:0,sound:"ding",threshold:0,enabled:1}),this.collection.keywords.add(e),this.addRow(e),this.collection.keywords.trigger("update")},addRow:function(e){var t=this.children["keyword_"+e.cid]=new r({model:{keyword:e}});this.addListeners(t),t.render().appendTo(this.$(".keywords-list")),this.saveKeyword(e)},removeRow:function(e){var i=e.model.keyword,s=t(".livetail-keyword-row").length;this.collection.keywords.contains(i)&&(this.collection.keywords.remove(i),this.collection.keywords.trigger("update")),e.remove(),i.destroy(),s<2&&this.addNewRow()},updateKeyword:function(t,i,s){if(s!==i.getKeyword()){if(this._keywordDuplicate(s))return t.showError(e("Keyword already exists.").t()),!1;i.entry.content.set({keyphrase:e.escape(s)}),i.set("count",0)}},updateSave:function(){this.$(".save").hasClass("disabled")&&this.$(".save").removeClass("disabled")},_keywordDuplicate:function(e){return this.collection.keywords.find((function(t){return t.getKeyword()===e}))},addListeners:function(e){this.listenTo(e,"removeKeyword",(function(){this.removeRow(e)})),this.listenTo(e,"updateKeyword",(function(e,t,i){this.updateKeyword(e,t,i)})),this.listenTo(e.model.keyword.entry.content,"change",(function(){this.updateSave()}))},renderList:function(){this.collection.keywords.length>0?this.collection.keywords.each((function(e){this.addRow(e)}),this):this.addNewRow()},showError:function(e,t){this.children.flashMessages.flashMsgHelper.addGeneralMessage(e,{type:"error",html:t||"Error"})},clearError:function(e){this.children.flashMessages.flashMsgHelper.removeGeneralMessage(e)},clearErrors:function(){e.each(this.children.flashMessages.flashMsgHelper.generalMessages,function(e,t){this.clearError(t)}.bind(this))},render:function(){return this.$el.html(this.compiledTemplate({_:e})),this.renderList(),this.$(".keywords-errors").html(this.children.flashMessages.render().el),this},template:'                <div class="sidebar-header">                    <%- _("Highlighting").t() %> <a class="close"></a>                </div>                <div class="sidebar-body">                    <form><div class="keywords-list"></div></form>                    <input type="button" class="btn add-keyword" value="+ <%- _("Add new").t() %>" />                    <br><br>                    <input type="button" class="btn btn-primary save disabled" value="<%- _("Save").t() %>" />                    <div class="keywords-errors"></div>                </div>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/results/Keyword":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base")],void 0===(r=function(e,t,i,s){return s.extend({moduleId:i.i,className:"livetail-keyword",initialize:function(){s.prototype.initialize.apply(this,arguments),this.activate()},startListening:function(){this.listenTo(this.model.keyword,"change:count",(function(e){this.$(".keyword-count").html(e.getCount())})),this.listenTo(this.model.keyword.entry.content,"change:keyphrase",(function(e){this.$(".keyword-name").html(e.get("keyphrase")),this.toggleVisible()})),this.listenTo(this.model.keyword.entry.content,"change:color",(function(){this.setColor(),this.model.keyword.trigger("updateColor",this.model.keyword)})),this.listenTo(this.model.keyword.entry.content,"change:enabled",(function(){this.toggleVisible()}))},setColor:function(){var e=this.model.keyword.getColor();this.$(".keyword-name").css("background",e?e.replace("0x","#"):"#FFF")},toggleVisible:function(){this.model.keyword.isValid()?this.$el.css("display","inline-block"):this.$el.hide()},render:function(){return this.$el.html(this.compiledTemplate({keyword:this.model.keyword.getKeyword(),keywordCount:this.model.keyword.getCount()})),this.setColor(),this.toggleVisible(),this},template:'                <div class="keyword-name"><%- keyword %></div>                <div class="keyword-count"><%- keywordCount %></div>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/results/KeywordBar":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/live_tail/results/Keyword"),i("util/moment"),i("stubs/i18n")],void 0===(r=function(e,t,i,s,r,o,n){return s.extend({moduleId:i.i,className:"livetail-keyword-bar",initialize:function(){s.prototype.initialize.apply(this,arguments),this.activate({deep:!0})},startListening:function(){this.listenTo(this.collection.keywords,"update",(function(){this.renderKeywords()}))},addKeyword:function(e){var t=this.children["keyword_"+e.cid]=new r({model:{keyword:e}});e.set("count",0),this.addListeners(e),t.render().appendTo(this.$(".livetail-keywords-container"))},addListeners:function(e){this.listenTo(e.entry.content,"change:keyphrase",(function(){this.updateTimestamp()}))},renderKeywords:function(){this.collection.keywords.length>0&&(this.$(".livetail-keywords-container").empty(),this.collection.keywords.each((function(e){this.addKeyword(e)}),this))},updateTimestamp:function(){var e=new Date,t=n.format_date(e,"h:mma M/d/yy");this.$(".timestamp-val").text(t)},render:function(){return this.$el.html(this.compiledTemplate({_:e})),this.updateTimestamp(),this.renderKeywords(),this},template:'                <div class="livetail-keywords-container"></div>                <div class="timestamp"><%- _("From").t() %> <span class="timestamp-val"><span></div>            '})}.apply(t,s))||(e.exports=r)},"views/live_tail/results/Master":function(e,t,i){var s,r;s=[i("require/underscore"),i("shim/jquery"),e,i("views/Base"),i("views/live_tail/results/KeywordBar"),i("util/splunkd_utils"),i("shim/splunk.util"),i("util/color_utils")],void 0===(r=function(e,t,i,s,r,o,n,l){return s.extend({moduleId:i.i,initialize:function(){s.prototype.initialize.apply(this,arguments),this.imgUrl=n.make_url("/static/img/cursor_blink.gif"),this.children.keywordBar=new r({collection:{keywords:this.collection.keywords}}),this.activate({deep:!0}),this.isRunning=!0},events:{"click .livetail-results-container":function(e){if(e.preventDefault(),!window.getSelection().toString()){var t=this.$(".livetail-results-container").scrollTop();this.$(".livetail-focus").focus(),this.$(".livetail-results-container").scrollTop(t)}this.trigger("closeSidebars")},"keydown .livetail-focus":function(e){var t=e.ctrlKey,i=e.metaKey,s=e.which;if([37,39].indexOf(s)>-1)return e.preventDefault(),!1;if(t&&67===s&&this.isRunning)e.preventDefault(),this.trigger("stop");else if((i||t)&&65===s)e.preventDefault(),this._selectAll();else if(13===s){e.preventDefault();var r=this.$(".livetail-focus").val().trim();if("start"!=r||this.isRunning)if("clear"==r)this.clearTerminal();else if(r.startsWith("grep")){var o;if(this.isRunning)return this.terminalError("Stop the search before grepping."),!1;if(""==r.substr(4,500).trim())return this.terminalError("Specify a keyword to grep."),!1;o=r.indexOf('"')>-1?r.split('"')[1].trim():r.substr(5,1e3).trim(),this.trigger("grepSearch",o)}else this.carriageReturn();else this.trigger("play");this.$(".livetail-focus").val("")}},"keyup .livetail-focus":"updateTerminal"},startListening:function(){this.listenTo(this.model.result,"sync",this.updateResults)},updateWrap:function(e){this.$(".livetail-results-container").removeClass("wrap-results"),e&&(this.$(".livetail-results-container").addClass("wrap-results"),this._snapToBottom())},updateFont:function(e){var t=this.$(".livetail-results-container"),i=t.hasClass("wrap-results");t.removeClass().addClass("livetail-results-container").addClass("font-"+e),i&&t.addClass("wrap-results")},updateKeywordColors:function(e){var t=e.getColor();this.$(".livetail-results-list li span[data-cid="+e.getName()+"]").css("background",t?t.replace("0x","#"):"#000")},setInitialPrefs:function(){var e=this.model.userPref.entry.content.get("display.prefs.livetail.font"),t=this.model.userPref.entry.content.get("display.prefs.livetail.theme"),i=this.model.userPref.entry.content.get("display.prefs.livetail.wrap");e&&this.updateFont(e),t&&this.trigger("updateTheme",t),n.normalizeBoolean(i)&&this.updateWrap(!0)},updateTerminal:function(){var e=this.$(".livetail-focus").val();this.$(".mockTerminal").text(e)},terminalError:function(e){e=e||"Error",this.$(".livetail-focus").val(e),this.carriageReturn(),this.$(".livetail-focus").val("")},carriageReturn:function(){var e=this.$(".livetail-focus").val(),t=this.$(".blinker");""!==e?t.before("<li>"+e+"</li>"):t.before("<li> &nbsp; </li>"),this.$(".mockTerminal").text(""),this._snapToBottom()},updateResults:function(){var t,i="",s="";if(this.model.result&&this.model.result.results&&this.model.result.results.length>0){var r=this._atBottom(),o={};this.$(".livetail-waiting").hide(),this.collection.keywords.each((function(e){var t=e.getKeyword(),i='<span data-cid="'+e.getName()+'" class="highlighted-keyword" style="background-color:'+l.replaceSymbols(e.getColor(),"#")+'">'+t+"</span>";o[t]=i})),e.each(this.model.result.results.models,function(e){i=e.get("_raw")[0],i,s="";var r=this.collection.keywords.sortBy((function(e){return-e.getKeyword().length}));this.collection.keywords.models=r,this.collection.keywords.each((function(e){if(e.isEnabled()&&e.getKeyword()){var r=e.getKeyword().replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),n=new RegExp(r,"g");if(t=i.match(n)){var l=i.replace(n,(function(e){return o[e]}));t=t?t.length:0,e.set("count",e.getCount()+t),this.showScreenFlash(e),this.playSound(e),s+='<div class="keyword-match">'+l+"</div>"}}}),this),i='<div class="raw-result">'+i+"</div>",this.$(".blinker").before("<li>"+i+s+"</li>")}.bind(this)),this.checkMaxResults(),r&&this._snapToBottom()}},checkMaxResults:function(){var e=this.$(".livetail-results-container li:not(.blinker)"),t=this.model.userPref.entry.content.get("display.prefs.livetail.lines")||500,i=e.length-t;i>0&&e.slice(0,i).remove()},showScreenFlash:function(e){e.isFlashOn()&&this.exceedsThreshold(e)&&this.trigger("screenFlash")},playSound:function(e){e.playSound()&&this.exceedsThreshold(e)&&this.trigger("playSound",e)},exceedsThreshold:function(e){return e.getCount()>=e.getThreshold()},play:function(){this.startListening(),this.isRunning=!0,this.$(".mockTerminalInput").hide(),this.$(".mockTerminal").text(""),this.$(".blinker").before("<li>"+e("Starting").t()+"...</li>"),this.$(".blinker").before("<li> &nbsp; </li>"),this._snapToBottom(),this.children.keywordBar.updateTimestamp()},stop:function(){this.collection.keywords.each((function(e){e.set("count",0)}),this),this.stopListening(this.model.result,"sync",this.updateResults),this.isRunning=!1,this.$(".mockTerminalInput").show(),this.$(".mockTerminal").text(""),this.$(".blinker").before("<li>"+e("Stopped").t()+"...</li>"),this.$(".blinker").before("<li> &nbsp; </li>"),this._snapToBottom()},clearTerminal:function(){this.$(".blinker");this.$(".livetail-results-container li:not(:last-child)").remove()},_atBottom:function(){var e=this.$(".livetail-results-container").innerHeight(),t=this.$(".livetail-results-container").scrollTop();return this.$(".livetail-results-container")[0].scrollHeight-e<=t},_snapToBottom:function(){this.$(".livetail-results-container").scrollTop(this.$(".livetail-results-container")[0].scrollHeight)},_selectAll:function(){var e=t(".livetail-results-list")[0];if(e&&window.getSelection){var i=window.getSelection(),s=document.createRange();s.selectNodeContents(e),i.removeAllRanges(),i.addRange(s)}},render:function(){return this.$el.html(this.compiledTemplate({imgUrl:this.imgUrl})),setTimeout((function(){this.$(".livetail-focus").focus()}),500),this.$(".livetail-results-container").append(this.children.keywordBar.render().el),this.$(".mockTerminalInput").hide(),this.setInitialPrefs(),this},template:'                <div class="livetail-results-container">                    <div class="livetail-waiting"><%- _("Waiting for data").t() %>...</div>                    <ul class="livetail-results-list">                        <li class="blinker">                        <span class="mockTerminalInput">&gt;</span>                        <span class="mockTerminal"></span>                        <img src="<%- imgUrl %>" alt="<%- _("Cursor blink").t() %>">                        </li>                    </ul>                    <input type="text" class="livetail-focus" />                </div>            ',starwarstemplate:'<div id="screen"></div>'})}.apply(t,s))||(e.exports=r)}});