!function(e){function t(t){for(var n,r,o=t[0],a=t[1],c=t[2],h=0,p=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(d&&d(t);p.length;)p.shift()();return l.push.apply(l,c||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],n=!0,o=1;o<i.length;o++){var a=i[o];0!==s[a]&&(n=!1)}n&&(l.splice(t--,1),e=r(r.s=i[0]))}return e}var n={},s={35:0},l=[];function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=s[e]=[t,n]}));t.push(i[2]=n);var l,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=function(e){return r.p+""+({}[e]||e)+".js"}(e);var a=new Error;l=function(t){o.onerror=o.onload=null,clearTimeout(c);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+n+": "+l+")",a.name="ChunkLoadError",a.type=n,a.request=l,i[1](a)}s[e]=void 0}};var c=setTimeout((function(){l({type:"timeout",target:o})}),12e4);o.onerror=o.onload=l,document.head.appendChild(o)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=a;l.push([2465,0]),i()}({2465:function(e,t,i){var n,s;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,n="",s=0,l=arguments.length;s<l;s++)(i=(t=arguments[s].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?n+="/"+t:n+=t;if("/"!=n){var r=n.split("/"),o=r[1];if("static"==o||"modules"==o){var a=n.substring(o.length+2,n.length);n="/"+o,window.$C.BUILD_NUMBER&&(n+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(n+="."+window.$C.BUILD_PUSH_NUMBER),"app"==r[2]&&(n+=":"+e("APP_BUILD",0)),n+="/"+a}}var c=e("MRSPARKLE_ROOT_PATH","/"),d=e("LOCALE","en-US"),h="/"+d+n;return""==c||"/"==c?h:c+h}("/static/build/pages/dark")+"/"}(),n=[i("require/backbone"),i("routers/DeploymentServerAddClients"),i("util/router_utils")],void 0===(s=function(e,t,i){new t;i.start_backbone_history()}.apply(t,n))||(e.exports=s)},2467:function(e,t){e.exports='\n<div class="section-header section-padded">\n    <% if (docUrl) { %>\n    <a href="<%-docUrl%>" target="_blank" rel="noopener noreferrer" class="btn pull-right"><%-_(\'Documentation\').t()%> <i class="icon-external"></i></a>\n    <% } %>\n    <% if (!backButtonUrl) { %>\n    <h2 class="section-title"> <%- sectionTitle %> </h2>\n    <p class="section-description"> <strong><%- nameLabel %></strong>: <span id="serverClassName"></span>\n    <% } else { %>\n    <h2 class="section-title"> <span id="serverClassName"></span> </h2>\n    <a href="<%- backButtonUrl %>">&lt; <%- _(\'Back to server classes\').t() %></a>\n    <% } %>\n    </p>\n</div>\n<div class="divider"></div>\n\n<div class="section-padded">\n\n    <div class="flash-messages-placeholder"></div>\n\n    <form class="add-edit-form">\n        <div id="includelist-container" class="list-container">\n            <div class="list-inner">\n                <label>\n                    <strong><%-_("Include").t()%></strong>\n                    <%- _(" (includelist)").t() %>\n                </label>\n                <div id="includelist"></div>\n                <div class="help-block">\n                    <%-_("Can be client name, host name, IP address, or DNS name.").t()%><br/>\n                    <%-_("Examples: ").t()%>\n                    <span class="example-text mono-space">185.2.3.*, fwdr-* </span>\n                </div>\n                <div>\n                    <a href="<%-filtersDocUrl%>" target="_blank" rel="noopener noreferrer" class="external"><%-_(\'Learn more\').t()%></a>\n                </div>\n            </div>\n        </div>\n\n        <div id="excludelist-container" class="list-container">\n            <div class="list-inner">\n                <label>\n                    <strong><%-_("Exclude").t()%></strong>\n                    <%- _(" (excludelist)").t() %>\n                </label>\n                <div id="excludelist"></div>\n                <div class="help-block">\n                    <%-_("Can be client name, host name, IP address, or DNS name.").t()%><br/>\n                    <%-_("Examples: ").t()%>\n                    <span class="example-text mono-space">ronnie, rarity</span>\n                </div>\n                <div>\n                    <a href="<%-filtersDocUrl%>" target="_blank" rel="noopener noreferrer" class="external"><%-_(\'Learn more\').t()%></a>\n                </div>\n            </div>\n        </div>\n\n        <div id="machine-filters-container" class="list-container"></div>\n    </form>\n\n    <div class="divider" style="margin: 10px -20px"></div>\n\n    <div id="page-actions" class="pull-right"></div>\n</div>\n\n<div class="tab-content" id="clients-tabs-contents">\n    <div class="pull-left" id="controls"></div>\n    <div id="selectedClientsFilterContainer" class="pull-left searchFilterContainer"></div>\n    <div id="unselectedClientsFilterContainer" class="pull-left searchFilterContainer"></div>\n    <div id="allClientsFilterContainer" class="pull-left searchFilterContainer"></div>\n    <div style="clear:both"></div>\n    <div id="selected_clients"></div>\n    <div id="unselected_clients"> </div>\n    <div id="all_clients"> </div>\n</div>\n'},2468:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.section-header:after,.section-header:before{content:"";display:table;line-height:0}.section-header:after{clear:both}.section-header{padding:10px 20px;position:relative}.section-header .btn-toolbar{float:right}.section-padded:after,.section-padded:before{content:"";display:table;line-height:0}.section-padded:after{clear:both}.section-padded{padding:10px 20px}.divider{clear:both}.tab-content{background-color:#171d21;min-height:400px;overflow:visible;padding:20px}pre{background-color:transparent;border:none;padding:0}.btn+.btn{margin-left:1em}.message-single{margin:60px 0}.list-container{float:left;width:33%}.list-inner{margin-right:60px}.list-area{-webkit-box-sizing:border-box;box-sizing:border-box;min-height:60px;resize:vertical;width:100%}.deploymentserver-edit-addclients-selectedmachinetypeslist .btn:first-child{cursor:default;width:160px}.deploymentserver-edit-addclients-selectedmachinetypeslist .btn-combo+.btn-combo{display:block;margin-bottom:5px;margin-left:0}.selectedMachineTypeElement{margin-bottom:2px}.selectedMachineTypeElement .btn.removeMachineType{height:32px;line-height:32px;width:32px}.add-edit-form:after{clear:both;content:"";display:table;line-height:0}#allClientsGridContainer,#selectedClientsGridContainer,#unselectedClientsGridContainer{margin-left:-20px;margin-right:-20px}.create-drop-down .btn{font-size:15px;height:24px;line-height:24px;padding:0;width:24px}#machine-filters-selecter{margin-bottom:5px}.searchFilterContainer{margin-left:20px}.tab-content{border-top:1px solid #000}td .client-check{text-align:center}#controls .control-label{display:none}#controls .control-label .control-group{margin-bottom:10px}.searchFilterContainer .deploymentserver-search{margin-bottom:0}#clients-tabs-contents{padding-top:10px}#excludelist .filter-text-area,#includelist .filter-text-area{min-height:50px;width:100%}',""])},651:function(e,t){e.exports=' <a class="dropdown-toggle" href="#">\n                <% if (options.labelIcon) { %>\n                    <i class="icon-<%- options.labelIcon %> icon-large"></i>\n                <% } %>\n                <span class="link-label"><%- options.label %></span>\n            </a>\n            <div class="dropdown-menu dropdown-menu-selectable">\n                <div class="arrow"></div>\n                <% if (useNestedArrays) { %>\n                    <% _(options.items).each(function(itemsChild, i) { %>\n                        <ul>\n                        <% _(itemsChild).each(function(object, j) { %>\n                            <% \n                                var machineTypeClass = ""; \n                                if (object.hasOwnProperty(\'label2\')) {\n                                    machineTypeClass = "unselected"; \n                                    collection.each(function(model){\n                                        if (model.get(\'name\') == object.value) machineTypeClass = \'disabled\';\n                                    }); \n                                }\n                            %> \n                            <li style="position:relative" >\n                                <a href="#" data-value="<%- object.value %>"  data-items-array-index="<%- i %>" data-item-index="<%- j %>" class="<%- machineTypeClass %>">\n                                    <% if (object.icon) { %> \n                                        <i class="icon-<%- object.icon %> icon-large"></i>\n                                    <% } %>\n                                    <span data-value="<%- object.value %>" style=""><%- object.label1 %></span>\n                                    <span data-value="<%- object.value %>" style="position:absolute; right:10px"><%- object.label2 %></span>\n                                </a>\n                            </li>\n                            <% }) %>\n                           </ul> \n                        <% }) %>\n                <% } else { %>\n                    <ul>\n                        <% _(options.items).each(function(object, k) { %>\n                            <% \n                                var machineTypeClass = ""; \n                                if (object.hasOwnProperty(\'label2\')) {\n                                    machineTypeClass = "unselected"; \n                                    collection.each(function(model){\n                                        if (model.get(\'name\') == object.value) machineTypeClass = \'disabled\';\n                                    }); \n                                }\n                            %> \n                            <li style="position:relative" >\n                                <a href="#" data-value="<%- object.value %>" data-item-index="<%- k %>" class="<%- machineTypeClass %>">\n                                    <% if (object.icon) { %> \n                                        <i class="icon-<%- object.icon %> icon-large"></i>\n                                    <% } %>\n                                    <span data-value="<%- object.value %>" style=""><%- object.label1 %></span>\n                                    <span data-value="<%- object.value %>" style="position:absolute; right:10px"><%- object.label2 %></span>\n                                </a>\n                            </li>\n                        <% }) %>\n                    </ul>\n               <% } %>\n\n            </div>\n'},"collections/services/deploymentserver/ClientMachineTypes":function(e,t,i){var n,s;n=[i("models/services/deploymentserver/ClientMachineTypes"),i("collections/SplunkDsBase")],void 0===(s=function(e,t){return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments)},url:"deployment/server/clients/countClients_by_machineType",model:e})}.apply(t,n))||(e.exports=s)},"collections/services/deploymentserver/ClientsPreview":function(e,t,i){var n,s;n=[i("models/services/deploymentserver/ClientsPreview"),i("collections/SplunkDsBase")],void 0===(s=function(e,t){return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments)},url:"deployment/server/clients/preview",model:e})}.apply(t,n))||(e.exports=s)},"models/services/deploymentserver/ClientMachineTypes":function(e,t,i){var n,s;n=[i("models/SplunkDBase")],void 0===(s=function(e){return e.extend({url:"deployment/server/clients/countClients_by_machineType",initialize:function(){e.prototype.initialize.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"models/services/deploymentserver/ClientsPreview":function(e,t,i){var n,s;n=[i("models/SplunkDBase")],void 0===(s=function(e){return e.extend({url:"deployment/server/clients/preview",initialize:function(){e.prototype.initialize.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"routers/DeploymentServerAddClients":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("routers/Base"),i("require/backbone"),i("views/deploymentserver/editServerclass/addClients/AddClients"),i("models/services/deploymentserver/DeploymentServerClass"),i("collections/services/deploymentserver/ClientMachineTypes"),i("models/classicurl"),i("collections/services/deploymentserver/ClientsPreview"),i("collections/services/deploymentserver/DeploymentServerClients"),i("shim/bootstrap.tab")],void 0===(s=function(e,t,i,n,s,l,r,o,a,c,d){return i.extend({initialize:function(){i.prototype.initialize.apply(this,arguments),this.setPageTitle(t("Edit Clients").t()),this.enableAppBar=!1,this.addClientsViewClass=s},page:function(t,s,l){i.prototype.page.apply(this,arguments);var r=this.getClientsPreviewCollection(),a=this.getMachineTypesCollection(),c=new r,d=new r,h=new r,p=new a,u=new n.Collection;this.deferreds.machineTypes=p.fetch();var m=this;o.fetch({success:function(){var e=m.getServerClassModel(o),t=o.get("return_to");m.addClientsView=new m.addClientsViewClass({collection:{selectedClients:c,unselectedClients:d,allClients:h,selectedMachineTypes:u,machineTypes:p},model:{serverClass:e},application:m.model.application,return_to:t})}}),e.when(this.deferreds.pageViewRendered,this.deferreds.machineTypes).then(function(){this.addPageViewEl(this.pageView.el),this.pageView.$(".main-section-body").append(this.addClientsView.render().el)}.bind(this))},getServerClassModel:function(e){var t=new l;return t.set("id",o.get("id")),t},getClientsPreviewCollection:function(){return a},getMachineTypesCollection:function(){return r}})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addApps/SaveButton":function(e,t,i){var n,s;n=[e,i("views/Base"),i("require/underscore")],void 0===(s=function(e,t,i){return t.extend({moduleId:e.i,tagName:"button",className:"btn btn-primary",initialize:function(){t.prototype.initialize.apply(this,arguments)},attributes:{href:"#"},render:function(){return this.$el.html(i("Save").t()),this},events:{click:function(e){return this.trigger("saveClicked"),!1}}})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addClients/AddClients":function(e,t,i){var n,s;n=[e,i("views/Base"),i("require/underscore"),i("require/backbone"),i("views/deploymentserver/Search"),i("views/deploymentserver/editServerclass/ServerClassName"),i("views/deploymentserver/editServerclass/addClients/Filter"),i("views/deploymentserver/editServerclass/addApps/SaveButton"),i("views/deploymentserver/editServerclass/addApps/CancelButton"),i("views/deploymentserver/editServerclass/addClients/PreviewButton"),i("views/deploymentserver/editServerclass/addClients/SelectedClientsTab"),i("views/deploymentserver/editServerclass/addClients/UnselectedClientsTab"),i("views/deploymentserver/editServerclass/addClients/AllClientsTab"),i("views/deploymentserver/editServerclass/addClients/MachineFiltersList"),i("views/shared/FlashMessages"),i("views/shared/controls/ControlGroup"),i("models/Base"),i("uri/route"),i(2467),i("views/deploymentserver/editServerclass/addClients/AddClients.pcss"),i("views/deploymentserver/shared.pcss"),i("util/htmlcleaner")],void 0===(s=function(e,t,i,n,s,l,r,o,a,c,d,h,p,u,m,v,g,f,y,C,b,w){return t.extend({moduleId:e.i,template:y,initialize:function(){t.prototype.initialize.apply(this,arguments),this.model.selectedClientsPaginator=new n.Model,this.model.unselectedClientsPaginator=new n.Model,this.model.allClientsPaginator=new n.Model;var e=this;this.model.serverClass.fetch({success:function(t,i){e.extractWhitelistAndBlacklist(),e.performWhitelistBlacklistFiltering()}});var r=this._getSelectedClientsTab(),d=this._getUnselectedClientsTab(),h=this._getAllClientsTab();this.model.selectedSearch=new n.Model,this.children.selectedSearch=new s({model:this.model.selectedSearch}),this.children.selectedClientsTab=new r({model:{paginator:this.model.selectedClientsPaginator,search:this.model.selectedSearch},collection:this.collection.selectedClients}),this.model.unselectedSearch=new n.Model,this.children.unselectedSearch=new s({model:this.model.unselectedSearch}),this.children.unselectedClientsTab=new d({model:{paginator:this.model.unselectedClientsPaginator,search:this.model.unselectedSearch},collection:this.collection.unselectedClients}),this.model.allClientsSearch=new n.Model,this.children.allClientsSearch=new s({model:this.model.allClientsSearch}),this.children.allClientsTab=new h({model:{paginator:this.model.allClientsPaginator,search:this.model.allClientsSearch},collection:this.collection.allClients}),this.children.serverClassName=new l({model:this.model.serverClass}),this.children.saveButton=new o,this.children.saveButton.on("saveClicked",this.handleSaveClicked,this),this.children.cancelButton=new a,this.children.cancelButton.on("cancelClicked",this.handleCancelClicked,this),this.children.previewButton=new c,this.children.previewButton.on("previewClicked",this.performWhitelistBlacklistFiltering,this);var p=g.extend({validation:function(){return{filter:{required:!0,msg:i("Include (includelist) is required.").t()}}}});this.model.whitelist=new p,this.children.whitelist=new v({className:"control-group",controlType:"Textarea",controlOptions:{model:this.model.whitelist,textareaClassName:"filter-text-area",modelAttribute:"filter",additionalClassNames:"regex-box",placeholder:i("Required").t()}}),this.model.blacklist=new n.Model,this.children.blacklist=new v({className:"control-group",controlType:"Textarea",controlOptions:{model:this.model.blacklist,modelAttribute:"filter",additionalClassNames:"filter-text-area regex-box",placeholder:i("Optional").t()}}),this.children.machineFiltersList=new u({collection:{machineTypes:this.collection.machineTypes,selectedMachineTypes:this.collection.selectedMachineTypes}}),this.children.flashMessagesView=new m({model:[this.model.selectedClientsPaginator,this.model.unselectedClientsPaginator,this.model.allClientsPaginator,this.model.serverClass,this.model.whitelist],collection:this.collection}),this.model.tabView=new n.Model,this.model.tabView.set("selectedView","all_clients"),this.children.tabToggle=new v({label:"",controlType:"SyntheticRadio",controlOptions:{additionalClassNames:"btn-group-2",items:[{value:"all_clients",label:i("All").t()},{value:"selected_clients",label:i("Matched").t()},{value:"unselected_clients",label:i("Unmatched").t()}],model:this.model.tabView,modelAttribute:"selectedView"}}),this.model.tabView.on("change:selectedView",this.showSelectedView,this)},showSelectedView:function(){var e=this.model.tabView.get("selectedView");this.$("#selected_clients").hide(),this.$("#unselected_clients").hide(),this.$("#all_clients").hide(),this.$("#selectedClientsFilterContainer").hide(),this.$("#unselectedClientsFilterContainer").hide(),this.$("#allClientsFilterContainer").hide(),"selected_clients"==e?(this.$("#selected_clients").show(),this.$("#selectedClientsFilterContainer").show()):"unselected_clients"==e?(this.$("#unselected_clients").show(),this.$("#unselectedClientsFilterContainer").show()):"all_clients"==e&&(this.$("#all_clients").show(),this.$("#allClientsFilterContainer").show())},render:function(){var e=this.getFiltersDocUrl(),t=this.getDocUrl(),n=this.compiledTemplate({backButtonUrl:this.getBackButtonUrl(),sectionTitle:this.getSectionTitle(),nameLabel:this.getNameLabel(),docUrl:t,filtersDocUrl:e,_:i,serverClass:this.model});return this.children.machineFiltersList.detach(),this.$el.html(n),this.$("#controls").append(this.children.tabToggle.render().el),this.$("#serverClassName").append(this.children.serverClassName.render().el),this.$("#includelist").append(this.children.whitelist.render().el),this.$("#excludelist").append(this.children.blacklist.render().el),this.$("#selected_clients").append(this.children.selectedClientsTab.render().el),this.$("#unselected_clients").append(this.children.unselectedClientsTab.render().el),this.$("#all_clients").append(this.children.allClientsTab.render().el),this.$("#selectedClientsFilterContainer").append(this.children.selectedSearch.render().el),this.$("#unselectedClientsFilterContainer").append(this.children.unselectedSearch.render().el),this.$("#allClientsFilterContainer").append(this.children.allClientsSearch.render().el),this.$("#selected_clients").hide(),this.$("#unselected_clients").hide(),this.$("#selectedClientsFilterContainer").hide(),this.$("#unselectedClientsFilterContainer").hide(),this.$("#page-actions").append(this.children.cancelButton.render().el),this.$("#page-actions").append(this.children.previewButton.render().el),this.$("#page-actions").append(this.children.saveButton.render().el),this.$(".flash-messages-placeholder").append(this.children.flashMessagesView.render().el),this.children.machineFiltersList.render().$el.appendTo(this.$("#machine-filters-container")),this},handleSaveClicked:function(){if(!this.model.whitelist.validate()){var e,t=this.model.serverClass.entry.content.get("whitelist-size");for(e=0;e<t;e++)this.model.serverClass.entry.content.set("whitelist."+e,null);var i=this.model.serverClass.entry.content.get("blacklist-size"),n=this.getAllBlacklistIndicesFromServerClassModel();for(e=0;e<n.length;e++)this.model.serverClass.entry.content.set("blacklist."+n[e],null);"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var s="",l="";this.model.whitelist.get("filter")&&(s=this.model.whitelist.get("filter").replace(/\n/g,"").split(",")),this.model.blacklist.get("filter")&&(l=this.model.blacklist.get("filter").replace(/\n/g,"").split(","));var r=0;for(e=0;e<s.length;e++)s[e].trim()&&(this.model.serverClass.entry.content.set("whitelist."+r,s[e]),r++);for(e=r;e<t;e++)this.model.serverClass.entry.content.unset("whitelist."+e,s[e]);for(r=0,e=0;e<l.length;e++)l[e].trim()&&(this.model.serverClass.entry.content.set("blacklist."+r,l[e]),r++);for(e=r;e<i;e++)this.model.serverClass.entry.content.unset("blacklist."+e,l[e]);var o=this.collection.selectedMachineTypes.pluck("name").join(",");this.model.serverClass.entry.content.set("machineTypesFilter",o),this.model.serverClass.entry.content.set("clearOldFilters",!0),delete this.model.serverClass.entry.content.attributes.repositoryLocation,delete this.model.serverClass.entry.content.attributes.restartSplunkWeb,delete this.model.serverClass.entry.content.attributes.restartSplunkd,delete this.model.serverClass.entry.content.attributes.stateOnClient,this.model.serverClass.save(null,{success:this.goBack.bind(this)})}},handleCancelClicked:function(){return this.goBack(),!1},performWhitelistBlacklistFiltering:function(){var e=this.model.whitelist.get("filter")||"";e=e.replace(/\n/g,"");var t=this.model.blacklist.get("filter")||"";t=t.replace(/\n/g,"");var i=this.collection.selectedMachineTypes.pluck("name").join(",");this.model.selectedClientsPaginator.set("data",{whitelist:e,blacklist:t,machineTypesFilter:i,sort_key:this.model.selectedSearch.get("sortKey"),sort_dir:this.model.selectedSearch.get("sortDirection")}),this.model.unselectedClientsPaginator.set("data",{whitelist:e,blacklist:t,machineTypesFilter:i,complement:!0,sort_key:this.model.unselectedSearch.get("sortKey"),sort_dir:this.model.unselectedSearch.get("sortDirection")}),this.model.allClientsPaginator.set("data",{whitelist:e,blacklist:t,machineTypesFilter:i,selectionAsAttribute:!0,sort_key:this.model.allClientsSearch.get("sortKey"),sort_dir:this.model.allClientsSearch.get("sortDirection")})},extractWhitelistAndBlacklist:function(){var e,t="",i="",n=this.model.serverClass.entry.content.get("whitelist-size");for(e=0;e<n;e++)t+=this.model.serverClass.entry.content.get("whitelist."+e),e<n-1&&(t+=", ");this.model.whitelist.set("filter",t);var s=this.model.serverClass.entry.content.get("blacklist-size");for(e=0;e<s;e++)i+=this.model.serverClass.entry.content.get("blacklist."+e),e<s-1&&(i+=", ");this.model.blacklist.set("filter",i),this.extractMachineTypes()},extractMachineTypes:function(){if(this.model.serverClass.entry.content.get("machineTypesFilter")){var e,t=this.model.serverClass.entry.content.get("machineTypesFilter").split(",");for(e=0;e<t.length;e++)if(""!=t[e]){var i=new n.Model;i.set("name",t[e]),this.collection.selectedMachineTypes.add(i)}}},goBack:function(e){e=e||this.model.serverClass,window.location.href=this.getReturnTo(e)},getReturnTo:function(e){return e=e||this.model.serverClass,w.isBadUrl(this.options.return_to)?f.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"error"):this.options.return_to?this.options.return_to:f.manager(this.options.application.get("root"),this.options.application.get("locale"),this.options.application.get("app"),"deploymentserveredit",{data:{id:e.id}})},getFiltersDocUrl:function(){return f.docHelp(this.options.application.get("root"),this.options.application.get("locale"),"learnmore.deployment.filters")},getDocUrl:function(){return f.docHelp(this.options.application.get("root"),this.options.application.get("locale"),"manager.deployment.fm.clients")},getSectionTitle:function(){return i("Edit Clients").t()},getNameLabel:function(){return i("Server Class").t()},getBackButtonUrl:function(){return null},_getSelectedClientsTab:function(){return d},_getUnselectedClientsTab:function(){return h},_getAllClientsTab:function(){return p},getAllBlacklistIndicesFromServerClassModel:function(){for(var e=Object.keys(this.model.serverClass.entry.content.attributes),t=[],i=0;i<e.length;i++)e[i].startsWith("blacklist.")&&t.push(e[i].split(".")[1]);return t}})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addClients/AddClients.pcss":function(e,t,i){var n=i(2468);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(n,s);n.locals&&(e.exports=n.locals)},"views/deploymentserver/editServerclass/addClients/AllClientsTab":function(e,t,i){var n,s;n=[e,i("require/underscore"),i("views/Base"),i("require/backbone"),i("util/general_utils"),i("views/deploymentserver/shared/DSPaginator"),i("views/deploymentserver/editServerclass/addClients/ClientsGrid")],void 0===(s=function(e,t,i,n,s,l,r){return i.extend({moduleId:e.i,initialize:function(){i.prototype.initialize.apply(this,arguments),this.children.paginator=new l({model:this.model.paginator,collection:this.collection});var e=this._getClientsTabGrid();this.children.clientsTabGrid=new e({model:{search:this.model.search,paginator:this.model.paginator},collection:this.collection,areAllClientsSelected:!1}),this.collection.on("reset",this.showEmptyMessage,this)},showEmptyMessage:function(){0!=this.collection.length||this.model.search.get("filter")?(this.$("#allclients_empty_message").hide(),this.$("#allclients_paginator").show(),this.$("#allClientsGridContainer").show()):(this.$("#allclients_paginator").hide(),this.$("#allClientsGridContainer").hide(),this.$("#allclients_empty_message").show())},render:function(){var e=this.compiledTemplate();return this.$el.html(e),this.$("#allclients_paginator").html(this.children.paginator.render().el),this.$("#allClientsGridContainer").append(this.children.clientsTabGrid.render().el),this.$("#allclients_empty_message").html('<div class="message-single">  <div class="alert alert-error"> <i class="icon-alert"></i>'+t("No clients have phoned home.").t()+"</div> </div>"),this.showEmptyMessage(),this},_getClientsTabGrid:function(){return r},template:'                <div id="allclients_empty_message"></div>                <div id="allclients_paginator"></div>                <div id="allClientsGridContainer"></div>               '})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addClients/MachineFiltersList":function(e,t,i){var n,s;n=[e,i("views/deploymentserver/shared/DropDownMenuWithCounts"),i("views/deploymentserver/editServerclass/addClients/SelectedMachineTypesList"),i("require/underscore"),i("views/Base"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,n,s){var l={noResultsFound:n("No results found").t()};return s.extend({moduleId:e.i,initialize:function(){s.prototype.initialize.apply(this,arguments),this.children.machineTypesList=new i({collection:this.collection.selectedMachineTypes}),this.collection.machineTypes.on("reset",this.debouncedRender,this)},render:function(){var e=this.compiledTemplate({_:n});this.$el.html(e);var i=this.collection.machineTypes.length?this.collection.machineTypes.first():null;if(!i)return this;var s=[],r=i.entry.content.get("counts");for(var o in r)r.hasOwnProperty(o)&&s.push({label1:o,label2:r[o],value:o});return this.children.machineFiltersDropDown=new t({label:"+",className:"create-drop-down",items:s,collection:this.collection.selectedMachineTypes}),this.$("#machine-filters-selecter").html(this.children.machineFiltersDropDown.render().el),0===s.length&&(this.children.machineFiltersDropDown.disable(),this.children.machineFiltersDropDown.$("a.dropdown-toggle").tooltip({title:l.noResultsFound})),this.$("#selected-machine-filters").append(this.children.machineTypesList.render().el),this},template:'                <div class="list-inner">                    <label><strong><%- _("Filter by Machine Type").t() %></strong><%-_(" (machineTypesFilter)").t()%></label>                    <div id="selected-machine-filters"></div>                    <div id="machine-filters-selecter"></div>                    <div class="help-block">                    <%-_("Optional").t()%>                    </div>                </div>            '})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addClients/PreviewButton":function(e,t,i){var n,s;n=[e,i("views/Base"),i("require/underscore")],void 0===(s=function(e,t,i){return t.extend({moduleId:e.i,tagName:"a",className:"btn",attributes:{href:"#"},initialize:function(){t.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(i("Preview").t()),this},events:{click:function(e){return this.trigger("previewClicked"),!1}}})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addClients/SelectedMachineTypeElement":function(e,t,i){var n,s;n=[e,i("views/Base")],void 0===(s=function(e,t){return t.extend({moduleId:e.i,className:"selectedMachineTypeElement btn-combo",initialize:function(){t.prototype.initialize.apply(this,arguments)},render:function(){var e=this.compiledTemplate({machineType:this.model.get("name")});return this.$el.html(e),this},events:{"click .removeMachineType":function(){this.trigger("itemRemoved",this.model)}},template:'                    <div class="btn "><%-machineType%></div>                    <a href="#" class="btn  removeMachineType"><i class="icon-cancel"></i></a>            '})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addClients/SelectedMachineTypesList":function(e,t,i){var n,s;n=[e,i("views/Base"),i("views/deploymentserver/editServerclass/addClients/SelectedMachineTypeElement")],void 0===(s=function(e,t,i){return t.extend({moduleId:e.i,initialize:function(){t.prototype.initialize.apply(this,arguments),this.collection.on("add remove reset",this.render,this)},render:function(){this.$el.html("");var e=this;return this.collection.each((function(t){var n=new i({model:t});n.on("itemRemoved",e.removeMachineType,e),e.$el.append(n.render().el)})),this},removeMachineType:function(e){this.collection.remove(e)}})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/editServerclass/addClients/UnselectedClientsTab":function(e,t,i){var n,s;n=[e,i("views/Base"),i("require/underscore"),i("require/backbone"),i("util/general_utils"),i("views/deploymentserver/Search"),i("views/deploymentserver/shared/DSPaginator"),i("views/deploymentserver/editServerclass/addClients/ClientsGrid")],void 0===(s=function(e,t,i,n,s,l,r,o){return t.extend({moduleId:e.i,initialize:function(){t.prototype.initialize.apply(this,arguments),this.children.paginator=new r({model:this.model.paginator,collection:this.collection});var e=this._getClientsTabGrid();this.children.clientsTabGrid=new e({model:{search:this.model.search,paginator:this.model.paginator},collection:this.collection,areAllClientsSelected:!1}),this.collection.on("reset",this.showEmptyMessage,this)},render:function(){var e=this.compiledTemplate();return this.$el.html(e),this.$("#unselectedClients_paginator").html(this.children.paginator.render().el),this.$("#unselectedClientsGridContainer").append(this.children.clientsTabGrid.render().el),this.$("#unselected_empty_message").html('<div class="message-single">  <div class="alert alert-error"> <i class="icon-alert"></i>'+i("No clients unselected.").t()+"</div> </div>"),this.showEmptyMessage(),this},showEmptyMessage:function(){0!=this.collection.length||this.model.search.get("filter")?(this.$("#unselected_empty_message").hide(),this.$("#unselectedClients_paginator").show(),this.$("#unselectedClientsGridContainer").show()):(this.$("#unselectedClients_paginator").hide(),this.$("#unselectedClientsGridContainer").hide(),this.$("#unselected_empty_message").show())},_getClientsTabGrid:function(){return o},template:'                <div id="unselected_empty_message"></div>                <div id="unselectedClients_paginator"></div>                <div id="unselectedClientsGridContainer"></div>               '})}.apply(t,n))||(e.exports=s)},"views/deploymentserver/shared/DropDownMenuWithCounts":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/shared/DropDownMenu"),i("views/shared/delegates/Popdown"),i(651),e],void 0===(s=function(e,t,i,n,s,l,r){return n.extend({moduleId:r.i,DEFAULT_CLASS_NAME:"btn-group",DEFAULT_ANCHOR_CLASS_NAME:"btn",initialize:function(e){n.prototype.initialize.apply(this,arguments),this.collection.on("add remove reset",this.render,this)},template:l,events:{"click li .unselected":function(t){var n=new i.Model;n.set("name",e(t.target).attr("data-value")),this.collection.add(n)}},render:function(){var e=t(this.template).template({options:this.options,collection:this.collection,useNestedArrays:n.prototype.isArrayofArrays.apply(this,[this.options.items])});return this.$el.html(e),this.$(".dropdown-toggle").addClass(this.anchorClassName||this.DEFAULT_ANCHOR_CLASS_NAME),this.$(".dropdown-menu").on("click","ul > li > a",t(n.prototype.handleItemClick).bind(this)),this.children.popdown=new s({el:this.el}),this}})}.apply(t,n))||(e.exports=s)}});