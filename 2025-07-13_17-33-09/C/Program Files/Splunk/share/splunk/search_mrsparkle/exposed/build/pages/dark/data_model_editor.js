!function(e){function t(t){for(var a,s,n=t[0],d=t[1],r=t[2],h=0,p=[];h<n.length;h++)s=n[h],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&p.push(l[s][0]),l[s]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a]);for(c&&c(t);p.length;)p.shift()();return o.push.apply(o,r||[]),i()}function i(){for(var e,t=0;t<o.length;t++){for(var i=o[t],a=!0,n=1;n<i.length;n++){var d=i[n];0!==l[d]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=i[0]))}return e}var a={},l={28:0},o=[];function s(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[],i=l[e];if(0!==i)if(i)t.push(i[2]);else{var a=new Promise((function(t,a){i=l[e]=[t,a]}));t.push(i[2]=a);var o,n=document.createElement("script");n.charset="utf-8",n.timeout=120,s.nc&&n.setAttribute("nonce",s.nc),n.src=function(e){return s.p+""+({}[e]||e)+".js"}(e);var d=new Error;o=function(t){n.onerror=n.onload=null,clearTimeout(r);var i=l[e];if(0!==i){if(i){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,i[1](d)}l[e]=void 0}};var r=setTimeout((function(){o({type:"timeout",target:n})}),12e4);n.onerror=n.onload=o,document.head.appendChild(n)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(i,a,function(t){return e[t]}.bind(null,a));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var n=window.webpackJsonp=window.webpackJsonp||[],d=n.push.bind(n);n.push=t,n=n.slice();for(var r=0;r<n.length;r++)t(n[r]);var c=d;o.push([2408,0]),i()}({2408:function(e,t,i){var a,l;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,a="",l=0,o=arguments.length;l<o;l++)(i=(t=arguments[l].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?a+="/"+t:a+=t;if("/"!=a){var s=a.split("/"),n=s[1];if("static"==n||"modules"==n){var d=a.substring(n.length+2,a.length);a="/"+n,window.$C.BUILD_NUMBER&&(a+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(a+="."+window.$C.BUILD_PUSH_NUMBER),"app"==s[2]&&(a+=":"+e("APP_BUILD",0)),a+="/"+d}}var r=e("MRSPARKLE_ROOT_PATH","/"),c=e("LOCALE","en-US"),h="/"+c+a;return""==r||"/"==r?h:r+h}("/static/build/pages/dark")+"/"}(),a=[i("require/backbone"),i("routers/DataModelEditor"),i("util/router_utils"),i("pages/data_model_editor.pcss")],void 0===(l=function(e,t,i){new t;i.start_backbone_history()}.apply(t,a))||(e.exports=l)},2409:function(e,t){e.exports='\n<div class="list-section">\n    <div class="pull-right">\n        <div class="btn-group">\n            <% if (isEditable) { %>\n            <a href="#" class="rename-object-button btn"><%- _("Rename").t() %></a>\n            <a href="#" class="delete-object-button btn"><%- _("Delete").t() %></a>\n            <% } %>\n        </div>\n    </div>\n    <h2><%- object.get("displayName") %></h2>\n    <p><%- object.get("objectName") %></p>\n    <% if (object.get("parentName") == "BaseSearch") { %>\n    <div class="list-header">\n        <h5><%- _("Base Search").t() %></h5>\n    </div>\n    <div class="list-body">\n        <div class="list-group">\n            <% if (object.get("parentName") == "BaseSearch") { %>\n                <span class="field-calculation-type"><%- _("Search").t() %></span>\n                <% if (isEditable) { %>\n                    <span class="field-action"><a href="#" class="edit-constraint-button"><%- _("Edit").t() %></a></span>\n                <% } %>\n            <% } else { %>\n                <span class="field-calculation-type"><%- _("Inherited").t() %></span>\n            <% } %>\n            <div class="list-inner-group">\n                <span class="search-string"><%- (object.get("baseSearch")) %></span>\n            </div>\n        </div>\n    </div>\n    <% } %>\n\n    <% if (object.get("parentName") != "BaseSearch") { %>\n        <div class="list-header">\n            <h5><%- _("Constraints").t() %></h5>\n        </div>\n        <div class="list-body">\n            <% if(object.getInheritedConstraints().length > 0) { %>\n                <div class="list-group">\n                    <% _(object.getInheritedConstraints()).each(function(constraint, index) { %>\n                        <div class="field-group <% if (index == 0) { %>field-group-first<% } %>">\n                            <span class="field-calculation-type"><%- _("Inherited").t() %></span>\n                            <div class="list-inner-group">\n                                <span class="search-string"><%- constraint.search %></span>\n                            </div>\n                        </div>\n                    <% }); %>\n                </div>\n            <% } %>\n\n            <div class="list-group <% if (object.getInheritedConstraints().length > 0) { %>field-group<% } %>">\n                <% if (isEditable) { %>\n                <span class="field-action"><a href="#" class="edit-constraint-button"><%- _("Edit").t() %></a></span>\n                <% } %>\n                <div>\n                    <% if (object.get("parentName") != "BaseTransaction") { %>\n                        <span class="field-calculation-type"><%- _("Constraint").t() %></span>\n                        <div class="list-inner-group">\n                            <span class="search-string"><%- (object.getOwnConstraint() && object.getOwnConstraint().search) || "(" + _("None").t()+ ")" %></span>\n                        </div>\n                    <% } else { %>\n                        <span class="field-calculation-type"><%- _("Transaction").t() %></span>\n\n                        <div class="list-inner-group field-group field-group-first">\n                            <span class="field-prop"><%- _("Group Datasets").t() %></span>\n                            <span class="field-value"><%- object.get("objectsToGroup").toString() %></span>\n                        </div>\n                        <div class="list-inner-group field-group">\n                            <span class="field-prop"><%- _("Group By").t() %></span>\n                            <span class="field-value"><%- object.get("groupByFields").toString() %></span>\n                        </div>\n                        <div class="list-inner-group field-group">\n                            <span class="field-prop"><%- _("Max Pause").t() %></span>\n                            <span class="field-value"><%- object.get("transactionMaxPause").toString() %></span>\n                        </div>\n                        <div class="list-inner-group field-group">\n                            <span class="field-prop"><%- _("Max Span").t() %></span>\n                            <span class="field-value"><%- object.get("transactionMaxTimeSpan").toString() %></span>\n                        </div>\n                    <% } %>\n                </div>\n            </div>\n        </div> \x3c!-- /.list-body --\x3e\n    <% } %>\n</div> \x3c!-- /.list-section --\x3e\n\n\n<div class="list-section">\n\n    <div class="list-actions">\n        <span class="bulk-edit-button-holder"></span>\n        <span class="add-attribute-button-holder"></span>\n    </div>\n\n    <% if(object.getInheritedFields().length > 0) { %>\n        <div class="list-body">\n            <div class="list-header">\n                <h5><%- _("Inherited").t() %></h5>\n            </div>\n            <% _(object.getInheritedFields()).each(function(attribute, index) { %>\n                <% var canEditAttribute = (!attribute.calculationID && isEditable && attribute.type !== \'timestamp\') %>\n                <div class="list-group field-group attribute inheritedAttribute\n                    <% if (index == 0) { %>field-group-first<% } %>"\n                     data-attribute-name="<%- attribute.fieldName %>"\n                    <% if (attribute.calculationID) { %>\n                          data-calc-id="<%- attribute.calculationID %>"\n                    <% } %>\n                >\n                    <% if (canEditAttribute) { %>\n                        <a href="#" class="override-attribute-button field-action"><%- _("Override").t() %></a>\n                    <% } %>\n                    <div class="list-inner-group">\n                        <span class="field-checkbox <%- canEditAttribute ? "" : "uneditable" %>"></span>\n                        <span class="field-type"><%- attribute.localizedType %></span>\n                        <span class="field-hidden"><% if (attribute.hidden) { %><%- _("Hidden").t() %><% } %></span>\n                        <span class="field-required"><% if (attribute.required) { %><%- _("Required").t() %><% } %></span>\n                    </div>\n                </div>\n            <% }); %>\n        </div>\n    <% } %>\n\n    <% if(object.getOwnFields().length > 0) { %>\n        <div class="list-body">\n            <div class="list-header">\n                <h5><%- _("Extracted").t() %></h5>\n            </div>\n            <% _(object.getOwnFields()).each(function(attribute, index) { %>\n                <% var canEditAttribute = (attribute.editable && isEditable && attribute.type !== \'timestamp\') %>\n                <div class="list-group field-group attribute\n                    <% if (index == 0) { %>field-group-first<% } %>"\n                    data-attribute-name="<%- attribute.fieldName %>">\n                    <% if (canEditAttribute) { %>\n                        <span class="list-action field-action">\n                            <a href="#" class="edit-attribute-button"><%- _("Edit").t() %></a>\n                        </span>\n                    <% } %>\n                    <div class="list-inner-group">\n                        <span class="field-checkbox <%- canEditAttribute ? "" : "uneditable" %>"></span>\n                        <span class="field-type"><%- attribute.localizedType %></span>\n                        <span class="field-hidden"><% if (attribute.hidden) { %><%- _("Hidden").t() %><% } %></span>\n                        <span class="field-required"><% if (attribute.required) { %><%- _("Required").t() %><% } %></span>\n                    </div>\n                </div>\n            <% }); %>\n        </div>\n    <% } %>\n\n    <% if(object.getOwnCalculations().length > 0) { %>\n        <div>\n            <div class="list-header">\n                <h5><%- _("Calculated").t() %></h5>\n            </div>\n            <div class="calculations">\n                <% _(object.getOwnCalculations()).each(function(calculation, index) { %>\n                <% var canEditCalculation = (calculation.editable && isEditable) %>\n                <div class="list-group list-body calculation" data-calc-id="<%- calculation.calculationID %>">\n                    <span class="field-calculation-type" calc-type="<%- calculation.calculationType %>"><%- calculation.expandedType %></span>\n                    <% if (canEditCalculation) { %>\n                        <span class="list-action field-action">\n                            <a href="#" class="edit-calculation-button"><%- _("Edit").t() %></a>\n                        </span>\n                    <% } %>\n\n                    <% _(calculation.outputFields).each(function(field, index) { %>\n                        <% if (!(calculation.calculationType == "GeoIP" && field.hidden)) { %>\n                            <div class="list-inner-group field-group attribute\n                                <% if (index == 0) { %>field-group-first<% } %>"\n                                data-attribute-name="<%- field.fieldName %>">\n                                <% var canEditAttribute = (canEditCalculation && field.editable) %>\n                                <span class="field-checkbox <%- canEditAttribute ? "" : "uneditable" %>"></span>\n                                <span class="field-type"><%- field.localizedType %></span>\n                                <span class="field-hidden"><% if (field.hidden) { %><%- _("Hidden").t() %><% } %></span>\n                                <span class="field-required"><% if (field.required) { %><%- _("Required").t() %><% } %></span>\n                            </div>\n                        <% } %>\n                    <% }); %>\n                </div>\n                <% }); %>\n            </div>\n        </div>\n    <% } %>\n</div>\x3c!-- /.list-section --\x3e\n\n<div class="footer">\n    <%- _("Calculated fields are processed in the order above, so ensure any dependent fields are defined first. Drag to rearrange.").t() %>\n</div>\n'},2410:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.data-model-object-editor{background-color:#171d21;padding:15px 25px 15px 15px}.data-model-object-editor .list-header{line-height:25px}.data-model-object-editor .list-header .btn-group{float:right;margin-bottom:10px}.data-model-object-editor .main-list-row{border-bottom:1px solid #e1e6eb;padding:1px 0}.data-model-object-editor .main-list-row:first-child{border-top:1px solid #e1e6eb}.data-model-object-editor .main-list-row .sub-list-row{border-bottom:1px solid #e1e6eb;padding:1px 0}.data-model-object-editor .main-list-row .sub-list-row:last-child{border-bottom:none}.data-model-object-editor .anchor-button-group a{margin-right:10px}.data-model-object-editor .type-icon{color:#6b7785;display:inline-block;text-align:center;width:16px}.data-model-object-editor .field-checkbox.uneditable .input-label{font-weight:400;margin-left:23px}.data-model-object-editor .calculation{padding-left:20px;position:relative}.data-model-object-editor .calculation .list-title:before{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAG0lEQVQIW2M0Njb+f/bsWUYYzciABuAyOFUAAKKMEAXhn6ySAAAAAElFTkSuQmCC) repeat;bottom:3px;content:"";left:4px;opacity:.5;position:absolute;top:3px;width:7px}.data-model-object-editor .calculation:hover{background-color:#5c6773;cursor:move}.data-model-object-editor .footer{color:#5c6773;text-align:center}',""])},2412:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.data-model-editor .section-wrapper{background-color:#171d21;clear:both;position:relative}.data-model-editor .section-wrapper:after,.data-model-editor .section-wrapper:before{content:"";display:table;line-height:0}.data-model-editor .section-wrapper:after{clear:both}.data-model-editor .section-header{background-color:#171d21}.data-model-editor .section-header .alert{margin:20px 0 0}.data-model-editor .section-wrapper:before{bottom:0;content:"";display:block;left:290px;position:absolute;top:5px;width:1px}.data-model-editor .divider-gradient{border-bottom:1px solid #32414c}.data-model-editor .sidebar{float:left;margin-right:0;padding:0 0 20px 20px;width:280px}.data-model-editor .title{color:#fff;font-size:16px;font-weight:400;line-height:1;margin:0;padding:10px 0 0}.data-model-editor .object-editor-wrapper{background-color:#171d21;border-left:1px solid #32414c;clear:none;margin-left:300px;min-height:420px;overflow:hidden;position:relative}.data-model-editor .object-editor-placeholder{background-color:#171d21;border-left:1px solid #32414c;bottom:0;left:300px;position:absolute;right:0;top:6px}.data-model-editor .ui-sortable-helper{background-color:#818d99;background-image:-webkit-gradient(linear,left top,left bottom,from(#e1e6eb),to(#818d99));background-image:linear-gradient(180deg,#e1e6eb,#818d99);cursor:move;width:100%}.data-model-editor .ui-sortabale-placeholder{background-color:#e1e6eb;border:1px dashed #32414c;-webkit-box-sizing:border-box;box-sizing:border-box}.data-model-editor .header-button-holder{margin-right:60px;margin-top:2em}.data-model-editor .object-list{padding-top:10px;position:relative;z-index:1}.data-model-editor .object-list-header{line-height:35px}.data-model-editor .edit-attribute-button,.data-model-editor .edit-calculation-button,.data-model-editor .hide-attribute-button,.data-model-editor .optional-attribute-button,.data-model-editor .require-attribute-button,.data-model-editor .show-attribute-button{display:inline-block;min-width:30px;padding-right:20px}.data-model-editor .edit-attribute-button:focus,.data-model-editor .edit-calculation-button:focus,.data-model-editor .hide-attribute-button:focus,.data-model-editor .optional-attribute-button:focus,.data-model-editor .require-attribute-button:focus,.data-model-editor .show-attribute-button:focus{border-collapse:separate;-webkit-box-shadow:0 0 1px 2px #006eaa;box-shadow:0 0 1px 2px #006eaa;outline:0;text-decoration:none}.data-model-editor .edit-attribute-button:focus:active:not([disabled]),.data-model-editor .edit-calculation-button:focus:active:not([disabled]),.data-model-editor .hide-attribute-button:focus:active:not([disabled]),.data-model-editor .optional-attribute-button:focus:active:not([disabled]),.data-model-editor .require-attribute-button:focus:active:not([disabled]),.data-model-editor .show-attribute-button:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.data-model-editor .add-button-holder{position:absolute;right:15px;top:15px}.data-model-editor .list-section h2{font-size:16px;font-weight:500;margin:0}.data-model-editor .field-group{border-top:1px dotted #32414c}.data-model-editor .field-group-first{border-top:0}.data-model-editor .list-group{clear:both;color:#fff;line-height:25px;padding:0;position:relative;text-align:left}.data-model-editor .list-group:after,.data-model-editor .list-group:before{content:"";display:table;line-height:0}.data-model-editor .list-group:after{clear:both}.data-model-editor .list-group{min-height:24px}.data-model-editor .list-group span.field-calculation-type{left:70%;overflow:hidden;position:absolute;text-overflow:ellipsis;white-space:nowrap;width:110px}.data-model-editor .list-inner-group{margin-right:30%;padding:0 10px;position:relative}.data-model-editor .list-inner-group:after,.data-model-editor .list-inner-group:before{content:"";display:table;line-height:0}.data-model-editor .list-inner-group:after{clear:both}.data-model-editor .list-inner-group span.field-checkbox{float:left}.data-model-editor .list-inner-group span.field-prop{left:42px}.data-model-editor .list-inner-group span.field-value{left:150px;position:absolute}.data-model-editor .list-inner-group span.field-type{position:absolute;right:30%;width:15%}.data-model-editor .list-inner-group span.field-hidden{position:absolute;right:15%;width:15%}.data-model-editor .list-inner-group span.field-required{position:absolute;right:0;width:15%}.data-model-editor .field-action{left:70%;margin-left:110px;position:absolute}.data-model-editor .field-action:focus{border-collapse:separate;outline:0;text-decoration:none}.data-model-editor .field-action:focus,.data-model-editor .field-action:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.data-model-editor .field-action:focus{-webkit-box-shadow:inset 0 0 2px 1px #fff,inset 0 0 0 2px #006eaa;box-shadow:inset 0 0 2px 1px #fff,inset 0 0 0 2px #006eaa}.data-model-editor .list-actions{margin:30px 0}.data-model-editor .bulk-edit-button-holder{float:left}.data-model-editor .add-attribute-button-holder{float:right}.data-model-editor .list-body{border-bottom:1px solid #32414c}.data-model-editor .list-title{display:block;float:left;width:20%}.data-model-editor .list-table{float:right;margin-bottom:0;min-width:0;table-layout:fixed;width:60%}.data-model-editor .list-table td{border-bottom:1px dashed #32414c;border-top:none;padding:4px}.data-model-editor .list-table td.type{width:80px}.data-model-editor .list-table td.type .type-icon{color:#fff;font-size:14px;opacity:.9}.data-model-editor .list-table td.hidden,.data-model-editor .list-table td.required{color:#fff;font-size:16px;opacity:.9;width:20px}.data-model-editor .list-table td.hidden>i.icon-circle,.data-model-editor .list-table td.hidden>i.icon-hidden,.data-model-editor .list-table td.required>i.icon-circle,.data-model-editor .list-table td.required>i.icon-hidden{color:#6b7785}.data-model-editor .list-table td.hidden>i.icon-hidden,.data-model-editor .list-table td.hidden>i.icon-visible,.data-model-editor .list-table td.required>i.icon-hidden,.data-model-editor .list-table td.required>i.icon-visible{font-size:19.2px}.data-model-editor .list-table td.action{width:80px}.data-model-editor .list-table tr:last-child td{border-bottom:none}.data-model-editor .attribute-table td,.data-model-editor .constraint-table td{width:33%;word-wrap:break-word}.data-model-editor .footer{clear:both;line-height:4em}.data-model-editor .content-group>.content-group{padding-left:20px}.data-model-editor .content-group>.content-group:before{border-color:#fff;left:16px;top:-4px}.data-model-editor .sidebar .content-group>.content-group:before{border-left:1px solid #32414c;bottom:16px;content:"";display:block;left:15px;position:absolute;top:-4px;width:3px}.data-model-editor .object-group-header{color:#6b7785;font-size:12px;font-weight:400;margin:20px 0 5px 10px;text-transform:uppercase}.data-model-editor .object{border:1px solid transparent;border-radius:3px 0 0 3px;border-right:none;display:block;line-height:30px;overflow:hidden;padding-left:5px;position:relative;text-overflow:ellipsis}.data-model-editor .object:hover{background-color:#3c444d;border-color:#32414c;text-decoration:none}.data-model-editor .object:focus{border-collapse:separate;-webkit-box-shadow:0 0 1px 2px #006eaa;box-shadow:0 0 1px 2px #006eaa;outline:0;text-decoration:none}.data-model-editor .object:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.data-model-editor .object.selected{background-color:#5c6773;border:1px solid #32414c;border-bottom-left-radius:3px;border-top-left-radius:3px;color:#fff;font-weight:700;margin-right:-1px}.data-model-editor .object.selected:before{width:7px}.data-model-editor .object.selected:focus{background-color:multiply(#5c6773,#171d21)}.data-model-editor .calculation{cursor:move}.data-model-editor .shared-controls-syntheticcheckboxcontrol .btn{margin-right:5px}.sidebar .content-group>.content-group>a{margin-left:10px}.sidebar .object{border:1px solid transparent;border-bottom-left-radius:3px;border-right:none;border-top-left-radius:3px;display:block;line-height:29px;margin-left:2px!important;overflow:visible;padding-left:7px;position:relative}.sidebar .content-group>.content-group>a:before{border:none;border-bottom:1px solid #32414c;bottom:auto;content:"";display:block;left:-7px;margin:0;position:absolute;right:auto;top:13px;width:12px;z-index:-1}.sidebar .content-group{position:relative;z-index:1}.sidebar .content-group>.content-group{z-index:-1}.datamodeleditor-formcomponents-fieldtable{margin:0 -20px}.datamodeleditor-formcomponents-fieldtable .select-all-checkbox .checkbox{margin:0;padding:0}.datamodeleditor-formcomponents-fieldtable .table th{-webkit-box-shadow:none;box-shadow:none}.datamodeleditor-formcomponents-fieldtable td{height:22px}.datamodeleditor-formcomponents-fieldtable th.col-field,.datamodeleditor-formcomponents-fieldtable th.col-rename,.datamodeleditor-formcomponents-fieldtable th.col-type{border-left:none;border-right:none}.datamodeleditor-formcomponents-fieldtable td.expands{cursor:pointer;padding-top:10px;width:10px}.datamodeleditor-formcomponents-fieldtable td.expands:hover{background-color:#003d5e}.datamodeleditor-formcomponents-fieldtable td.col-info{padding-top:6px}.datamodeleditor-formcomponents-fieldtable th.col-checkbox{border-right:none;width:20px}.datamodeleditor-formcomponents-fieldtable td.col-checkbox{padding-top:8px;width:20px}.datamodeleditor-formcomponents-fieldtable td.col-description{max-width:230px;overflow-x:hidden;padding-top:9px;text-overflow:ellipsis}.datamodeleditor-formcomponents-fieldtable .col-rename{width:150px}.datamodeleditor-formcomponents-fieldtable .col-type{width:270px}.datamodeleditor-formcomponents-fieldtable .checkbox{margin:0}.datamodeleditor-formcomponents-fieldtable .control.shared-controls-textcontrol>input{margin:0;width:150px}.datamodeleditor-formcomponents-fieldtable .expanded-info{margin-right:1em;word-wrap:break-word}.datamodeleditor-formcomponents-fieldtable .dropdown{display:inline-block;margin-right:5px}.datamodeleditor-formcomponents-fieldtable .dropdown:last-child{margin-right:0}.datamodeleditor-formcomponents-fieldtable .removeField{margin-left:10px}.datamodeleditor-formcomponents-fieldtable .dropdown-toggle{min-width:110px}.datamodeleditor-formcomponents-fieldtable .link-label{display:inline-block;max-width:94px;overflow:hidden;text-overflow:ellipsis;vertical-align:bottom;white-space:nowrap}.datamodeleditor-formcomponents-fieldtable .uneditable-property{line-height:27px;margin-right:15px}#modal_addExtractedFields .control-label{display:inline}#modal_addExtractedFields .controls{display:inline-block}#modal_addExtractedFields .modal-body{min-height:200px}.datamodeleditor-objecteditor .list-header h5{border-bottom:1px solid #32414c;clear:both;color:#6b7785;font-size:12px;font-weight:400;line-height:31px;padding:0 0 0 10px;position:relative;text-transform:uppercase}.datamodeleditor-formviews-addextractedfieldsdialog .select-sample-size-placeholder{display:inline-block;margin-bottom:12px;margin-right:10px}.datamodeleditor-formviews-addextractedfieldsdialog .job-status-placeholder,.datamodeleditor-formviews-addextractedfieldsdialog .job-status-placeholder .shared-jobstatus-count,.datamodeleditor-formviews-addextractedfieldsdialog .job-status-placeholder .shared-jobstatus-spinner{display:inline-block}.datamodeleditor-formviews-addextractedfieldsdialog .job-status-placeholder .shared-jobstatus-spinner{margin-right:1em}.datamodeleditor-formviews-addextractedfieldsdialog .job-status-placeholder .icon-check{color:#53a051}.datamodeleditor-formviews-addextractedfieldsdialog .add-fields-placeholder{display:inline-block;padding-top:4px}',""])},2413:function(e,t,i){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,i,a){void 0===a&&(a=i);var l=Object.getOwnPropertyDescriptor(t,i);l&&!("get"in l?!t.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,a,l)}:function(e,t,i,a){void 0===a&&(a=i),e[a]=t[i]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&a(t,e,i);return l(t,e),t},s=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(l,o){function s(e){try{d(a.next(e))}catch(e){o(e)}}function n(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,n)}d((a=a.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useLookupEditorHook=void 0;const d=o(i(0)),r=n(i(42)),c=n(i(23)),h=i(3),p=o(i(322)),u=n(i(323)),m=i(431),f=i(2414);t.useLookupEditorHook=(e,t,i)=>{const[a,l]=(0,d.useState)([]),[o,n]=(0,d.useState)(""),[r,c]=(0,d.useState)(0),[u,f]=(0,d.useState)(0),[v,g]=(0,d.useState)(!1),[b,w]=(0,d.useState)(i),y=(0,p.makeCreateToast)(p.default);(0,d.useEffect)(()=>{const e=setTimeout(()=>s(void 0,void 0,void 0,(function*(){try{const e=yield t(o,25,0);l(e.lookupNames),c(e.total)}catch(e){y({message:(0,h._)("Failed to fetch lookups"),type:m.TOAST_TYPES.ERROR})}})),500);return()=>clearTimeout(e)},[o]),(0,d.useEffect)(()=>{u>0&&s(void 0,void 0,void 0,(function*(){g(!0);try{const e=yield t(o,25,u);l([...a,...e.lookupNames])}catch(e){y({message:(0,h._)("Failed to fetch additional lookups"),type:m.TOAST_TYPES.ERROR})}g(!1)}))},[u]);return{handleOnChange:(t,{value:i})=>{const l=a.filter(e=>e.value===i);w(l[0]),e(l[0])},handleFilterChange:(e,{keyword:t})=>{f(0),n(t)},lookupNames:a,handleScrollBottom:()=>s(void 0,void 0,void 0,(function*(){v||f(e=>e+25)})),totalCount:r,selectValue:b}};t.default=({onChange:e,lookupsFn:i=f.fetchLookups,selectedLookup:a})=>{const{handleOnChange:l,handleFilterChange:o,lookupNames:s,handleScrollBottom:n,totalCount:p,selectValue:m}=(0,t.useLookupEditorHook)(e,i,a),v=s.map(e=>d.default.createElement(r.default.Option,{key:e.id,label:e.label,value:e.value,"data-testid":"lookup-editor-select-option"})),g=s.length===p?void 0:n;return d.default.createElement(d.default.Fragment,null,d.default.createElement(u.default,{position:"top-center"}),d.default.createElement(c.default,{label:(0,h._)("Lookup Table"),labelPosition:"top"},d.default.createElement(r.default,{filter:"controlled",onChange:l,onFilterChange:o,onScrollBottom:g,menuStyle:{maxHeight:250},style:{width:200,display:"flex",justifyContent:"center"},"data-testid":"lookup-editor-select",value:m.value},v)))}},2414:function(e,t,i){"use strict";(function(e){var a=this&&this.__awaiter||function(e,t,i,a){return new(i||(i=Promise))((function(l,o){function s(e){try{d(a.next(e))}catch(e){o(e)}}function n(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,n)}d((a=a.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchLookups=void 0;const l=i(28),o=i(29),s=i(39),n=i(3);t.fetchLookups=(t,i,d)=>a(void 0,void 0,void 0,(function*(){const a=new URLSearchParams({output_mode:"json",search:t,count:""+i,offset:""+d}),r=`${(0,l.createRESTURL)("data/transforms/lookups",{owner:o.username,app:o.app})}?${a}`,c=yield e(r,Object.assign({},s.defaultFetchInit));if(c.ok){const e=yield c.json();return{lookupNames:e.entry.map(e=>{const t=new URL(e.id);return{label:e.name,value:e.name,id:t.pathname}}),total:e.paging.total}}throw new Error((0,n._)("Failed to fetch lookups"))}))}).call(this,i(37))},2433:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.view-add-edit-container .divider{border-top:1px solid #32414c}.view-add-edit-container .section-padded .divider{margin:10px -20px}.view-add-edit-container form label{font-weight:700}.view-add-edit-container .buttons-container{margin-bottom:10px}.view-add-edit-container .sample-size-controls{margin-left:20px}.view-add-edit-container .steps-wrapper:after,.view-add-edit-container .steps-wrapper:before{content:"";display:table;line-height:0}.view-add-edit-container .steps-wrapper:after{clear:both}.view-add-edit-container .object-wrapper{float:left;margin-right:40px;width:300px}.view-add-edit-container .object-wrapper input{width:100%}.view-add-edit-container .constraints-wrapper{float:left;width:400px}.view-add-edit-container .object-name{width:300px}.view-add-edit-container .object-constraints{height:40px;width:400px}.view-add-edit-container .buttons-container .btn+.btn{margin-left:10px}.view-add-edit-container .add-edit-form:after,.view-add-edit-container .add-edit-form:before{content:"";display:table;line-height:0}.view-add-edit-container .add-edit-form:after{clear:both}.view-add-edit-container .eval-expression{float:left;margin-right:60px}.view-add-edit-container .eval-expression textarea{height:80px;width:400px}.view-add-edit-container .rex-form-view textarea{-webkit-box-sizing:border-box;box-sizing:border-box;height:80px;width:300px}.view-add-edit-container .rex-form-view td{vertical-align:top}.view-add-edit-container .rex-form-view .field-name{line-height:26px}.view-add-edit-container .field-view-form .control-group{float:left;margin-right:10px}.view-add-edit-container .field-view-form .control-group label{font-weight:400}.view-add-edit-container .eval-output-view .control-group{float:left;margin-right:10px}.view-add-edit-container .eval-output-view .control-group label{font-weight:400}.view-add-edit-container .add-edit-lookup-view:after,.view-add-edit-container .add-edit-lookup-view:before{content:"";display:table;line-height:0}.view-add-edit-container .add-edit-lookup-view:after{clear:both}.view-add-edit-container .add-edit-lookup-view .col-1{float:left;margin-right:60px}.view-add-edit-container .add-edit-lookup-view .col-2{float:left}.view-add-edit-container .add-edit-lookup-view,.view-add-edit-container .add-edit-lookup-view .lookup-attribute-controls .control-group,.view-add-edit-container .add-edit-lookup-view .lookup-controls .control-group,.view-add-edit-container .add-edit-lookup-view .select-field-flags,.view-add-edit-container .add-edit-lookup-view .select-field-type{display:inline-block}.view-add-edit-container .add-edit-lookup-view .lookup-attribute-controls .control-group.disabled,.view-add-edit-container .add-edit-lookup-view .lookup-controls .control-group.disabled,.view-add-edit-container .add-edit-lookup-view .select-field-flags.disabled,.view-add-edit-container .add-edit-lookup-view .select-field-type.disabled,.view-add-edit-container .add-edit-lookup-view.disabled{display:block}.view-add-edit-container .add-edit-lookup-view input{margin:0;width:187px}.geoip-form-wrapper:after,.geoip-form-wrapper:before{content:"";display:table;line-height:0}.geoip-form-wrapper:after{clear:both}.geoip-form-wrapper .col-1{float:left;margin-right:60px}.geoip-form-wrapper .col-2{float:left}.geoip-form-wrapper .control-label{font-weight:700}.geoip-form-wrapper .table-output-fields td{border:none;padding:0 2em 0 0}.geoip-form-wrapper .table-output-fields .checkbox{margin:0;padding:0}.rex-form-view:after,.rex-form-view:before{content:"";display:table;line-height:0}.rex-form-view:after{clear:both}.rex-form-view .col-1,.rex-form-view .col-2,.rex-form-view .col-3{float:left;margin-right:60px}.rex-form-view code{background-color:transparent;border:0}.rex-form-view .output-fields-table td{padding:0 8px 4px}.rex-form-view .output-fields-table td:first-child,.rex-form-view .output-fields-table th:first-child{padding-left:0}.preview-table-wrapper{clear:both}.page-count-placeholder{margin-left:20px}.results-paginator-placeholder{margin-right:20px}.view-add-edit-transaction .object-name-placeholder input{width:300px}.view-add-edit-transaction .group-wrapper{margin-right:40px;min-width:230px}.view-add-edit-transaction .durations-wrapper{margin-right:30px;width:280px}.view-add-edit-transaction .durations-wrapper input{margin-bottom:0;width:3em}.view-add-edit-transaction .selectTransactionObjects{margin-bottom:20px}.view-add-edit-transaction .simple-time-picker-control .control{display:inline-block}.view-add-edit-transaction .simple-time-picker-control{display:block;margin:3px 0 16px}.view-add-edit-transaction .simple-time-picker-control .shared-controls-textcontrol{vertical-align:middle}.view-add-edit-transaction .duration-option{margin-right:20px}.view-add-edit-transaction .custom-item-list .removable-item{margin:0 5px 5px 0}',""])},2434:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.message-single{margin:100px 50px}.modal-narrow{margin-left:-150px;width:300px}.modal-narrow input[type=text]{width:240px}.modal-wide{margin-left:-450px;width:900px}.section-description>.value{padding-right:20px}.view-add-edit-container .help-block{margin-top:-5px}.select-multiple-objects+.list-header{margin-top:10px}.view-add-edit-container .control-label{font-weight:700}.view-add-edit-container .divider-gradient-gray-white{border-bottom:1px solid #171d21;border-top:1px solid #32414c}.view-add-edit-container .main-view-and-drill-down-view-container{width:100%}.view-add-edit-container .rex-form-view .main-view-and-drill-down-view-container{overflow:hidden}.view-add-edit-container .main-view{float:left;vertical-align:text-top;width:100%}.view-add-edit-container .drill-down-view{float:left;margin-right:-100%;vertical-align:text-top;width:99.9%}.view-add-edit-container .drill-down-view .value-stats-container{background-color:#171d21;padding:10px 20px}.view-add-edit-container .drill-down-view .value-stats-container:after,.view-add-edit-container .drill-down-view .value-stats-container:before{content:"";display:table;line-height:0}.view-add-edit-container .drill-down-view .value-stats-container:after{clear:both}.view-add-edit-container .drill-down-view .value-stats{font-weight:700;margin-right:5px;padding-top:5px}.view-add-edit-container .drill-down-view .back-button-container{font-size:13px;padding:10px 20px}.view-add-edit-container .drill-down-view .drill-down-table-wrapper{background-color:#171d21}.view-add-edit-container .editor-container{padding:20px}.view-add-edit-container .buttons-container:after,.view-add-edit-container .buttons-container:before{content:"";display:table;line-height:0}.view-add-edit-container .buttons-container:after{clear:both}.view-add-edit-container .buttons-container{clear:both;float:right;margin-right:20px;margin-top:10px}.view-add-edit-container .buttons-container .btn{float:left}.view-add-edit-container .shared-controls-syntheticcheckboxcontrol .btn{margin-right:5px}.view-add-edit-container .alerts{margin-left:25px}.view-add-edit-search-object .search-bar label{font-weight:400}.view-add-edit-search-object .shared-controls-controlgroup{margin-right:20px}.view-add-edit-search-object+.divider{border:none;height:1px}.lookup-controls .control-label{font-weight:400}.control-group+.control-label{margin-top:20px}.uneditable-input{margin-bottom:0}.view-add-edit-search-object .display-name-placeholder,.view-add-edit-search-object .object-name-placeholder{float:left;width:350px}.view-add-edit-search-object .search-bar-placeholder{clear:left}.shared-datamodel-dialogs-viewvaluesdialog .modal-body{padding:0}.shared-datamodel-dialogs-viewvaluesdialog .alert{margin:20px}.shared-datamodel-dialogs-viewvaluesdialog .sample-value{border-bottom:1px solid #32414c;padding:2px 9px}',""])},641:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.required-text{background-color:#c3cbd4}.highlighted-cat1{background-color:#7fb6ce}.highlighted-cat2{background-color:#a7d2c2}.highlighted-cat3{background-color:#f6ccb0}.highlighted-cat4{background-color:#d7abad}.highlighted-cat5{background-color:#dbe3ad}.highlighted-cat6{background-color:#b1d9d9}.highlighted-cat7{background-color:#94a7b8}.highlighted-cat8{background-color:#b9c3ca}.highlighted-cat9{background-color:#f6e8a8}.highlighted-cat10{background-color:#deccb9}.highlighted-cat11{background-color:#b7acca}.highlighted-cat12{background-color:#b2cab0}.highlighted-cat13{background-color:#a5b2bf}.highlighted-cat14{background-color:#e9ddd4}.highlighted-cat15{background-color:#66c3d0}.highlighted-cat16{background-color:#aab396}.highlighted-cat17{background-color:#f3f0d7}.highlighted-cat18{background-color:#c1bcb3}.highlighted-cat19{background-color:#b6d7a3}.highlighted-cat20{background-color:#e1b2a1}.highlighted-cat21{background-color:#dec4ba}.highlighted-cat22{background-color:#abe6e8}.highlighted-cat23{background-color:#91b282}.highlighted-cat24{background-color:#f8b7ce}.highlighted-cat25{background-color:#cba3c2}.highlighted-cat26{background-color:#cccdce}.highlighted-cat27{background-color:#c3ab89}.highlighted-cat28{background-color:#c7e6a3}.highlighted-cat29{background-color:#ada9c8}.highlighted-cat30{background-color:#a4bbe0}.highlighted-match{color:#32414c}.highlighted-existing-match,.highlighted-match,.highlighted-match-selected,.required-text{border-radius:4px;padding:2px 3px}.highlighted-existing-match{-webkit-box-shadow:inset 0 0 0 2px;box-shadow:inset 0 0 0 2px}.highlighted-match-selected{-webkit-box-shadow:inset 0 0 2px 2px rgba(0,164,253,.5);box-shadow:inset 0 0 2px 2px rgba(0,164,253,.5)}.preview-container{background-color:#171d21;border-top:1px solid #32414c;clear:both;min-height:300px}.preview-container .results-control-bar-placeholder{padding-left:20px;padding-right:10px}.preview-container .job-status-placeholder,.preview-container .job-status-row{padding-bottom:10px;padding-top:10px}.preview-container .count-container{display:inline-block}.preview-container .count-container .icon-check{color:#53a051}.preview-container .search-filter-container{padding-right:20px}.preview-container .search-filter-container .control-group{display:inline-block}.preview-container .search-filter-container .control-group .control-label{margin-top:5px}.preview-container .search-filter-container .control-group .controls{display:inline-block}.preview-container .pagination-container{display:inline}.preview-container .controls-row .filter-input-control{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;margin-bottom:0;margin-right:10px;vertical-align:middle;width:300px}.preview-container .controls-row .filter-input-control .filter-input{margin-bottom:0}.preview-container .shared-flashmessages{padding-left:50px;padding-top:25px}.preview-container .controls-row{clear:both;padding-bottom:10px}.preview-container .controls-row>div{padding-bottom:20px}.preview-container .apply-filter-button{margin-right:40px}.preview-view-stack{margin-top:-1px}.preview-view-stack .nav-tabs{background-image:none}.preview-view-stack .nav-tabs .results-tab-last{margin-right:10px}.preview-view-stack .tab-content{overflow:visible}.rex-preview-view-stack li:not(:first-child)>.tab-label{padding-left:30px}.rex-preview-view-stack .tab-label:after{border-radius:12px;content:"";height:12px;left:14px;position:absolute;top:12px;width:12px}.rex-preview-view-stack li:nth-child(10n+2) .tab-label:after{background-color:#7fb6ce}.rex-preview-view-stack li:nth-child(10n+3) .tab-label:after{background-color:#a7d2c2}.rex-preview-view-stack li:nth-child(10n+4) .tab-label:after{background-color:#f6ccb0}.rex-preview-view-stack li:nth-child(10n+5) .tab-label:after{background-color:#d7abad}.rex-preview-view-stack li:nth-child(10n+6) .tab-label:after{background-color:#dbe3ad}.rex-preview-view-stack li:nth-child(10n+7) .tab-label:after{background-color:#b1d9d9}.rex-preview-view-stack li:nth-child(10n+8) .tab-label:after{background-color:#94a7b8}.rex-preview-view-stack li:nth-child(10n+9) .tab-label:after{background-color:#b9c3ca}.rex-preview-view-stack li:nth-child(10n+10) .tab-label:after{background-color:#f6e8a8}.field-extraction-form{padding:10px}.field-extraction-form:last-child{margin:0}.field-extraction-form .control-label{text-align:left;width:75px}.field-extraction-form .controls{margin-left:85px}.field-extraction-form .buttons-container{border-top:1px solid #32414c;padding-top:5px;text-align:right}.results-table .graph-bar{background-color:#818d99;background-image:-webkit-gradient(linear,left top,left bottom,from(#c3cbd4),to(#818d99));background-image:linear-gradient(180deg,#c3cbd4,#818d99);height:20px;margin:0 20px 0 0;max-width:100%}',""])},"collections/services/data/TransformsLookups":function(e,t,i){var a,l;a=[i("require/underscore"),i("models/services/data/TransformsLookup"),i("collections/SplunkDsBase")],void 0===(l=function(e,t,i){return i.extend({model:t,url:"data/transforms/lookups",initialize:function(){i.prototype.initialize.apply(this,arguments)},getNames:function(){return e(this.models).map((function(e){return e.entry.get("name")}))}})}.apply(t,a))||(e.exports=l)},"models/datamodel/ExtractedField":function(e,t,i){var a,l;a=[i("models/Base"),i("require/underscore")],void 0===(l=function(e,t){return e.extend({idAttribute:"fieldName",validation:{fieldName:[{required:!0,msg:t("Field Name is required.").t()},{pattern:/^((?![{}"\s*']).)*$/g,msg:t("Field Name can not contain whitespace, double quotes, single quotes, curly braces or asterisks.").t()}],displayName:[{required:!1},{pattern:/^((?!\*).)*$/,msg:t("Display Name can not contain an asterisk.").t()}]},defaults:{type:"string",fieldName:"",displayName:"",required:!1,multivalue:!1,hidden:!1,selected:!1,distinctValues:[],isNumeric:!1,isExpanded:!1}})}.apply(t,a))||(e.exports=l)},"models/datamodel/SelectableLookupOutputField":function(e,t,i){var a,l;a=[i("require/underscore"),i("models/services/datamodel/private/LookupOutputField")],void 0===(l=function(e,t){return t.extend({idAttribute:"fieldName",defaults:{type:"string",constraints:[],fieldName:"",lookupOutputFieldName:"",required:!1,multivalue:!1,hidden:!1,editable:!0,selected:!1,isInputField:!1},validation:{fieldName:[{required:!0,msg:e("Field Name is required.").t()},{pattern:/^((?![{}"\s*']).)*$/g,msg:e("Field Name can not contain whitespace, double quotes, single quotes, curly braces or asterisks.").t()}],displayName:[{required:!1},{pattern:/^((?!\*).)*$/,msg:e("Display Name can not contain an asterisk.").t()}],lookupOutputFieldName:{required:!0,msg:e("Field in Lookup is a required field.").t()}},getBasicDescription:function(){return{displayName:this.get("displayName"),lookupOutputFieldName:this.get("lookupOutputFieldName"),fieldName:this.get("fieldName"),type:this.get("type"),localizedType:this.getLocalizedType(),hidden:this.get("hidden"),required:this.get("required"),owner:this.get("owner"),editable:this.get("editable")}}})}.apply(t,a))||(e.exports=l)},"models/datamodel/UploadDataModel":function(e,t,i){var a,l;a=[i("require/underscore"),i("models/Base")],void 0===(l=function(e,t){return t.extend({idAttribute:"fileContents",defaults:{fileContents:"",app:""},validation:{fileContents:{required:!0,msg:e("File is required.").t()},modelName:[{required:!0,msg:e("ID is required.").t()},{pattern:/^[\w\-]+$/,msg:e("ID can only contain alphanumeric characters, underscores or hyphens. Whitespace is not allowed.").t()}]}})}.apply(t,a))||(e.exports=l)},"models/services/search/jobs/ResultSummary":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("models/Base"),i("models/services/search/jobs/Summary"),i("collections/Base"),i("util/splunkd_utils")],void 0===(l=function(e,t,i,a,l,o,s){var n=i.Model.extend({idAttribute:"field",isNumeric:function(){return this.get("numeric_count")>this.get("count")/2},replace:function(){return a.prototype.replace.apply(this,arguments)},deepOff:function(){this.off()},parse:function(t,i){return(t=e.extend(!0,{},t)).values=JSON.parse(t.values),t}}),d=o.extend({model:n});return l.extend({url:"",initialize:function(e,t){(t=t||{}).fetchData=new a({output_mode:"json"}),l.prototype.initialize.call(this,e,t)},initializeAssociated:function(){var e=this.constructor;this.associated=this.associated||{},this.results=this.results||new e.Fields,this.associated.results=this.results},clear:function(e){return delete this.eventCount,l.prototype.clear.apply(this,arguments)},_fields:function(e){return e},parseAssociated:function(e,t){var i=l.prototype.parseAssociated.apply(this,arguments);return this.eventCount=i.fields?i.fields.length:0,i},getEventCount:function(){return this.eventCount},getFields:function(){return this.results},getFieldsFromResponse:function(e){return e.results},deleteFieldsFromResponse:function(e){delete e.results},distribution:function(e){throw new Error("Distribution not supported in ResultSummary model")}},{Fields:d,Field:n})}.apply(t,a))||(e.exports=l)},"models/shared/dataenrichment/ExtractionEventsFetchData":function(e,t,i){var a,l;a=[i("models/shared/fetchdata/ResultsFetchData")],void 0===(l=function(e){return e.extend({generateSortSubquery:function(t,i){return"_raw"===t?"asc"===i?"| reverse":"":e.prototype.generateSortSubquery.apply(this,arguments)}})}.apply(t,a))||(e.exports=l)},"pages/data_model_editor.pcss":function(e,t,i){var a=i(2434);"string"==typeof a&&(a=[[e.i,a,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(a,l);a.locals&&(e.exports=a.locals)},"routers/DataModelEditor":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("shim/splunk.util"),i("models/Base"),i("models/classicurl"),i("models/services/AppLocal"),i("models/shared/User"),i("models/services/datamodel/DataModel"),i("collections/services/AppLocals"),i("collections/services/configs/SearchBNFs"),i("collections/services/data/vix/Indexes"),i("collections/services/data/vix/Archives"),i("collections/services/data/TransformsLookups"),i("collections/services/admin/workload_management/Status"),i("views/shared/FlashMessages"),i("views/data_model_editor/DataModelEditor"),i("views/data_model_editor/AddEditContainerView"),i("uri/route"),i("shim/splunk.util"),i("util/splunkd_utils"),i("routers/Base")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v,g,b,w,y,_){return _.extend({appSetting:void 0,dataModel:void 0,dataModelClone:void 0,user:void 0,transformsLookups:void 0,dataModelEditor:void 0,addEditContainerView:void 0,currentDataModelName:"",initialize:function(){_.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.classicUrl=o,this.transformsLookups=new u,this.searchBNFsCollection=new c,this.searchBNFsCollectionFetched=!1,this.vixCollection=new h,this.archivesCollection=new p,this.transformsLookups.fetchData.set({search:"fields_array=*"},{silent:!0}),this.appLocal=new s,this.appLocals=new r,this.appSetting=new l({id:"dataModel"}),this.user=new n({},{serverInfoModel:this.model.serverInfo}),this.workloadManagementStatus=new m,this.deferreds.workloadManagementStatus=e.Deferred(),this.flashMessagesView=new f},page:function(i,a,l){_.prototype.page.apply(this,arguments);var o={app:this.model.application.get("app"),owner:this.model.application.get("owner")},s=this.transformsLookups.fetch({data:{count:300,app:this.model.application.get("app"),owner:this.model.application.get("owner")}}),n=this.appLocals.fetch({data:{sort_key:"name",sort_dir:"desc",app:this.model.application.get("app"),owner:this.model.application.get("owner"),search:"visible=true AND disabled=0",count:-1}}),r=this.appLocal.fetch({url:y.fullpath(this.appLocal.url+"/"+encodeURIComponent(this.model.application.get("app"))),data:o}),c=this.user.fetch({url:y.fullpath(this.user.url+"/"+encodeURIComponent(this.model.application.get("owner"))),data:o});this.vixCollection.fetchData.set({count:0},{silent:!0});var h=this.vixCollection.fetch();this.archivesCollection.fetchData.set({count:0},{silent:!0});var p=this.archivesCollection.fetch();if(!this.searchBNFsCollectionFetched){var u=this.searchBNFsCollection.fetch({data:{count:0,app:this.model.application.get("app"),owner:this.model.application.get("owner")},parseSyntax:!0});this.searchBNFsCollectionFetched=!0}this.workloadManagementStatus.bootstrapWorkloadManagementStatus(this.deferreds.workloadManagementStatus),e.when(s,n,r,c,h,p,u,this.deferreds.pageViewRendered,this.deferreds.workloadManagementStatus).done(t((function(){this.classicUrl.fetch({silentClear:!0}).done(t((function(){var e=this.classicUrl.get("model"),i=b.getContextualPageRouter(this.model.application).data_model_manager();this.currentDataModelName!=e?(this.currentDataModelName=e,this.dataModel=new d({id:e}),this.flashMessagesView.flashMsgHelper.register(this.dataModel),this.dataModel.entry.content.objects.on("add remove update reset",this.updateSelectedObject,this),this.dataModel.fetch().then(t((function(){var a=this.dataModel.entry.acl.get("owner");if(0!=this.dataModel.canWrite()&&this.dataModel.validateModel(e,a)){var l=this.dataModel.entry.content.get("displayName");this.setPageTitle(w.sprintf(t("Edit Objects: %s").t(),l)),this.createViews(),this.setupViewListeners(),this.renderViews(),this.updateState()}else window.location=i})).bind(this))):this.updateState()})).bind(this)),this.shouldRender&&(this.addPageViewEl(this.pageView.el),this.pageView.$(".main-section-body").append(this.flashMessagesView.render().el))})).bind(this))},createViews:function(){var e=this.appLocals.some((function(e){return e.entry.acl.get("can_write")}),this);this.appSetting.set("canCreateDataModel",e),this.dataModelEditor=new v({model:{dataModel:this.dataModel,setting:this.appSetting,application:this.model.application,appLocal:this.appLocal,user:this.user},collection:{apps:this.appLocals,vix:this.vixCollection,archives:this.archivesCollection,workloadManagementStatus:this.workloadManagementStatus}})},navigateToAction:function(e){this.classicUrl.save(e,{trigger:!0})},navigateToEditor:function(){var e=this.classicUrl.get("model");this.classicUrl.clear(),this.classicUrl.save({model:e})},updateState:function(){if(this.destroyAddEditContainerView(),this.classicUrl.get("type")){var e={};e.type=this.classicUrl.get("type"),e.parentObjectName=this.classicUrl.get("parentObjectName"),e.objectName=this.classicUrl.get("objectName"),e.fieldName=this.classicUrl.get("fieldName"),e.calculationID=this.classicUrl.get("calculationID"),e.operation=this.classicUrl.get("operation"),this.createAddEditObjectView(e)}this.flashMessagesView.$el.hide()},updateSelectedObject:function(){var e=this.appSetting.get("selectedObject");if(!e||!this.dataModel.objectByName(e)){var t=this.dataModel.getFlattenedHierarchy();t[0]?this.appSetting.set({selectedObject:t[0].objectName}):this.appSetting.set({selectedObject:void 0})}},setupViewListeners:function(){this.dataModelEditor.on("action:addObject action:addCalculation",(function(e,t){this.navigateToAction({type:e,parentObjectName:t,operation:"add"})}),this),this.dataModelEditor.on("action:editObject",(function(e,t,i){this.navigateToAction({type:e,parentObjectName:t,objectName:i,operation:"edit"})}),this),this.dataModelEditor.on("action:overrideInherited",(function(e,t,i){this.navigateToAction({type:"field",parentObjectName:t,fieldName:e,calculationID:i,operation:"override"})}),this),this.dataModelEditor.on("action:editCalculation",(function(e,t,i){this.navigateToAction({type:e,parentObjectName:t,calculationID:i,operation:"edit"})}),this),this.dataModelEditor.on("action:editAttribute",(function(e,t,i){this.navigateToAction({type:e,parentObjectName:t,fieldName:i,operation:"edit"})}),this),this.dataModelEditor.on("action:dataModelPermissionsChange",(function(e){this.currentDataModelName=e,this.classicUrl.save({model:e},{replaceState:!0})}),this),this.dataModelEditor.on("action:saveModel",(function(){this.dataModel.save()}),this),this.dataModelEditor.on("action:removeObject",(function(e){this.dataModel.removeObjectAndChildren(e)}),this),this.dataModelEditor.on("action:fetchModel",(function(){this.dataModel.fetch()}),this)},destroyAddEditContainerView:function(){this.addEditContainerView&&(this.addEditContainerView.$el.detach(),this.dataModelClone=null,this.addEditContainerView.remove(),this.dataModelEditor.$el.show(),e(window).scrollLeft(0),e(window).scrollTop(0))},createAddEditObjectView:function(a){this.dataModelEditor.$el.hide();var l=new i.Model(a);this.dataModelClone=this.dataModel.clone(),this.addEditContainerView=new g({model:{application:this.model.application,appLocal:this.appLocal,dataModel:this.dataModelClone,setting:l,serverInfo:this.model.serverInfo,user:this.user},collection:{transformsLookups:this.transformsLookups,searchBNFs:this.searchBNFsCollection}}),this.addEditContainerView.on("action:cancel",(function(){this.destroyAddEditContainerView(),this.navigateToEditor()}),this),this.addEditContainerView.on("action:save",(function(i){this.destroyAddEditContainerView(),this.navigateToEditor(),e.when(this.dataModel.fetch()).done(t((function(){"add"==a.operation&&(t.isUndefined(i)||this.appSetting.set("selectedObject",i))})).bind(this))}),this),this.pageView.$(".main-section-body").append(this.addEditContainerView.render().el),this.addEditContainerView.$el.show(),e(window).scrollLeft(0),e(window).scrollTop(0)},renderViews:function(){this.pageView.$(".main-section-body").append(this.dataModelEditor.render().el),this.classicUrl.has("dialog")&&this.dataModelEditor.triggerAction(this.classicUrl.get("dialog"))}})}.apply(t,a))||(e.exports=l)},"util/datamodel/field_icon_utils":function(e,t,i){var a,l;a=[i("require/underscore")],void 0===(l=function(e){var t=function(e){switch(e){case"string":case"ipv4":return"string";case"number":case"objectCount":case"childCount":return"number";case"boolean":return"boolean";case"timestamp":return"clock";default:return!1}};return{fieldIconByType:function(e){var i=t(e);return i?'<i class="icon-'+i+'"></i>':"<i>&nbsp;</i>"},fieldIconClassByType:t,fieldHiddenIcon:function(t){return t?'<i class="icon-hidden" title="'+e("Hidden").t()+'"></i>':'<i class="icon-visible" title="'+e("Visible").t()+'"></i>'},fieldRequiredIcon:function(t){return t?'<i class="icon-alert-circle" title="'+e("Required").t()+'"></i>':'<i class="icon-circle" title="'+e("Optional").t()+'"></i>'}}}.apply(t,a))||(e.exports=l)},"util/datamodel/search_utils":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore")],void 0===(l=function(e,t){return{generateFieldSubSearch:function(e,i){var a=" | fields "+e.join(","),l=[];return"_raw"==i||t(e).contains("_raw")||l.push("_raw"),"_time"==i||t(e).contains("_time")||l.push("_time"),l.length>0&&(a+=" | fields - "+l.join(",")),a}}}.apply(t,a))||(e.exports=l)},"util/field_extractor_utils":function(e,t,i){var a,l;a=[i("require/underscore")],void 0===(l=function(e){var t=function(e){var t=["cat1","cat2","cat3","cat4","cat5","cat6","cat7","cat8","cat9","cat10"];return t[e%t.length]},i=function(i,a){var l;return e(a).each((function(e,t){e===i&&(l=t)})),void 0===l?"":t(l)},a=function(t,i,a){var l=t.startIndex,o=t.endIndex;return!e.any(i,(function(e){return!(e.hidden&&!a||t.fieldName===e.fieldName)&&(l<=e.startIndex&&o>e.startIndex||l>=e.startIndex&&l<e.endIndex)}))},l="select-sample-mode",o="select-delim-mode",s="select-fields-mode",n="validate-fields-mode",d="save-fields-mode",r="confirmation-mode",c="manual-mode",h=function(e,t){return t===c&&e!==r&&e!==d};return{getCaptureGroupNames:function(t){var i,a=[];return i=t.match(/\(\?(P)?<([A-Za-z][A-Za-z0-9_]*)>/g),e(i).each((function(e){var t=e.replace("(?P<","");t===e&&(t=e.replace("(?<",""));var i=t.replace(">","");a.push(i)})),a},getMultiCharDelimRegex:function(e){for(var t="",i="",a=0;a<e.length;a++){if(e.charCodeAt(a)>127)throw new Error("Delimiters can only contain ASCII characters, use Regular Expressions for other character sets");if("\\"===e[a]){if(a==e.length-1)throw new Error("Delimiter contains a dangling backslash at the end");if("\\"==e[a+1])throw new Error("Backslash is not a valid delimiter");if("r"!=e[a+1]&&"n"!=e[a+1]&&"t"!=e[a+1])continue;t+=i+e[a]+e[a+1],++a}else t+=i+"\\x"+e.charCodeAt(a).toString(16);i="|"}return t},rectifyNewLineOffset:function(e,t){for(var i={},a=0,l=0;l<t.length;l++)"\r"!=t.charAt(l)||"\n"!=t.charAt(l+1)?i[l-a]=l:a++;return e.startIndex=i[e.startIndex],e.endIndex=i[e.endIndex],e},replaceBoundingGroupsWithTemplate:function(t,a,l,o,s,n){var d=(a||[]).concat([]),r="",c=0;if(l&&l.text){var h=l.text,p=[],u=0,m=-1;if(l.startIndex)m=l.startIndex;else{for(;-1!==(u=t.indexOf(h,u+1));)p.push(u);e(p).any((function(e){for(var t=e,i=e+h.length,a=0;a<d.length;a++){var l=d[a];if(t<l.endIndex&&i>l.startIndex)return!1}return m=t,!0}))}-1!==m&&d.push({requiredText:!0,startIndex:m,endIndex:m+h.length})}for(var f=e(d).sortBy("startIndex"),v=0;v<f.length;v++)f[v].hidden&&(f.splice(v,1),v--);for(v=0;v<f.length;v++){var g=f[v];if(g.endIndex<c)return"";s&&g.rawText&&(g.tempField=!0);var b=Math.max(g.startIndex,c);r+=e.escape(t.substring(c,b));var w=e.extend({selectedText:t.substring(b,g.endIndex)},g);if(g.requiredText)r+=e(this.requiredTextTemplate).template()(w);else if(g.tempField&&s){r+=e(s).template()(w)}else if(-1===o&&s===this.counterExampleTemplate)r+=e(s).template(w);else if(s===this.highlightedContentTemplate&&n){var y=e(n).sortBy("startIndex"),_=e(y).pluck("fieldName");w.color=i(g.fieldName,_),r+=e(this.highlightedContentTemplate).template()(w)}else{_=e.map(f,(function(e){return g.existing?e.existing?e.fieldName:"":e.existing?"":e.fieldName}));for(var x=0;x<_.length;x++)_[x]||(_.splice(x,1),x--);w.color=i(g.fieldName,_),r+=(g.existing?e(this.highlightedExistingContentTemplate).template():e(this.highlightedContentTemplate).template())(w)}c=g.endIndex}return r+=e.escape(t.substring(c))},parseBoundingGroupString:function(t,i){var a,l=[],o=t.split("&"),s=/(^[A-Za-z][A-Za-z0-9_]*)[\=](\d*)[\-](\d*)/;return e(o).each((function(e){if(""===(a=s.exec(e))[1])throw new Error("Invalid field extraction name");var t=parseInt(a[3],10)+1;i?l.push({fieldName:a[1],startIndex:parseInt(a[2],10),endIndex:t,existing:i,hidden:!0}):l.push({fieldName:a[1],startIndex:parseInt(a[2],10),endIndex:t})})),e(l).sortBy("startIndex")},canShowExtraction:a,containsNoOverlappingExtractions:function(t){return!e.any(t,(function(e){return!a(e,t,!0)}))},getSelectionObject:function(t,i,a){var l=t.getRangeAt(0).toString(),o=i.text(),s=t.anchorOffset,n=t.focusOffset,d=o.indexOf(l),r=d+l.length;if(s>n){var c=s;s=n,n=c}if(-1!==d&&""!==l){for(var h,p,u,m=0,f=[];(h=o.indexOf(l,m))>-1;)f.push(h),m=h+1;if(f.length>1){var v=e.pluck(a,"endIndex"),g=!1;for(p=0;p<f.length&&!g;p++)for(u=0;u<v.length;u++)parseInt(f[p],10)===parseInt(v[u],10)+s&&(s=parseInt(f[p],10),n=parseInt(f[p],10)+l.length,g=!0);s<d&&(s=d,n=r)}else s=d,n=r;return{rawText:o,selectedText:l,startIndex:s,endIndex:n}}},getFieldColor:i,getFieldColorWithIndex:t,isEditFieldsMode:function(e,t){return e===s||e===n||e===d||h(e,t)},isEventsTableMode:function(e,t){return e===l||e===s||e===o||e===n||h(e,t)},isManualEditorMode:h,highlightedContentTemplate:'<span class="highlighted-match highlighted-<%- color %>" data-field-name="<%- fieldName %>" data-start-index="<%- startIndex %>" data-end-index="<%- endIndex %>"><%- selectedText %></span>',highlightedExistingContentTemplate:'<span class="highlighted-existing-match highlighted-border-<%- color %>" title="<%- fieldName %>" data-field-name="<%- fieldName %>" data-start-index="<%- startIndex %>" data-end-index="<%- endIndex %>"><%- selectedText %></span>',tempHighlightedContentTemplate:'<div class="highlighted-match-selected" data-start-index="<%- startIndex %>" data-end-index="<%- endIndex %>" style="display:inline"><%- selectedText %></div>',requiredTextTemplate:'<div class="required-text" data-start-index="<%- startIndex %>" data-end-index="<%- endIndex %>" style="display:inline"><%- selectedText %></div>',counterExampleTemplate:'<span class="removed-text"><%- selectedText %></span>',MATCH_FIELD_NAME:"_is_match",INTERACTIVE_CELL_CLASS:"interactive-extraction-cell",HIGHLIGHTED_MATCH_CLASS:"highlighted-match",HIGHLIGHTED_MATCH_CLASS_SELECTED:"highlighted-match-selected",HIGHLIGHTED_EXISTING_MATCH_CLASS:"highlighted-existing-match",REQUIRED_TEXT_CLASS:"required-text",OFFSET_FIELD_NAME:"_extracted_fields_bounds",MAX_EVENT_LINES:20,SAMPLE_EVENT_LIMIT:4,SELECT_SAMPLE_MODE:l,SELECT_METHOD_MODE:"select-method-mode",SELECT_DELIM_MODE:o,SELECT_FIELDS_MODE:s,VALIDATE_FIELDS_MODE:n,SAVE_FIELDS_MODE:d,CONFIRMATION_MODE:r,NO_INTERACTION_MODE:"manual-mode",INTERACTION_MODE:"automatic-mode",CLUSTERING_NONE:"clustering_none",CLUSTERING_DIVERSE:"clustering_diverse",CLUSTERING_OUTLIERS:"clustering_outliers",VIEW_ALL_EVENTS:"view-all-events",VIEW_MATCHING_EVENTS:"view-matching-events",VIEW_NON_MATCHING_EVENTS:"view-non-matching-events",DELIM_MAP:{space:" ",comma:",",tab:"\\t",pipe:"|"},DELIM_CONF_MAP:{space:" ",comma:",",tab:"\\t",pipe:"|"}}}.apply(t,a))||(e.exports=l)},"views/data_model_editor/AddEditContainerView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/data_model_editor/form_views/AddEditObjectView"),i("views/data_model_editor/form_views/AddEditTransactionView"),i("views/data_model_editor/form_views/AddEditSearchObjectView"),i("views/data_model_editor/form_views/AddEditEvalView"),i("views/data_model_editor/form_views/AddEditFieldView"),i("views/data_model_editor/form_views/AddEditLookupView"),i("views/data_model_editor/form_views/AddEditGeoIPView"),i("views/data_model_editor/form_views/OverrideFieldView"),i("views/data_model_editor/form_views/AddEditRexView"),i("views/data_model_editor/form_components/preview/DataModelPreviewView"),i("views/data_model_editor/form_components/preview/DataModelPreviewViewStack"),i("views/shared/dataenrichment/preview/PreviewJobController"),i("views/shared/dialogs/TextDialog"),i("views/shared/FlashMessages"),i("models/Base"),i("models/search/Job"),i("uri/route"),e,i("shim/splunk.util"),i("views/data_model_editor/AddEditContainerView.pcss")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v,g,b,w,y,_,x,M){return a.extend({className:"view-add-edit-container",moduleId:_.i,ADHOC_SEARCH_LEVEL:"verbose",headerTitle:"",isCalculation:!1,showPreview:!0,showDeleteDialog:function(){var i,a,l,o,s=this.model.setting.get("type"),n="object"==(o="field"==s?s:this.isCalculation?"calculation":"object")?this.model.setting.get("objectName"):this.model.setting.get("parentObjectName"),d=this.model.dataModel.objectByName(n);"calculation"==o?(a=i=this.model.setting.get("calculationID"),l=d.getCalculation(i)):"field"==o?(a=this.model.setting.get("fieldName"),i=(l=d.getField(a)).get("displayName")):"object"==o&&(l=d,i=d.get("displayName"),a=n);var r,c=1,h="object"==o?"object":"attribute",p="object"==o?t("Delete Dataset").t():t("Delete Field").t();"calculation"==o&&1==(c="GeoIP"==l.get("calculationType")?l.getVisibleOutputFieldsLength():l.outputFields.length)&&(i=l.outputFields.at(0).get("displayName")),r=c>1?x.sprintf(t("Are you sure you want to delete this %s and its %s fields").t(),l.get("calculationType"),c):"object"==h?x.sprintf(t("Are you sure you want to delete the %s <em>%s</em> and all of its descendants").t(),h,t(i).escape()):x.sprintf(t("Are you sure you want to delete the %s <em>%s</em>").t(),h,t(i).escape()),r+="?",this._deleteDialogType=o,this._deleteDialogID=a,this.children.deleteDialog=new v({id:"modal_delete"}),this.children.deleteDialog.settings.set("primaryButtonLabel",t("Delete").t()),this.children.deleteDialog.settings.set("cancelButtonLabel",t("Cancel").t()),this.listenTo(this.children.deleteDialog,"click:primaryButton",this.deleteDialogDeleteHandler),this.listenTo(this.children.deleteDialog,"hidden",(function(){this.clearDeleteDialogState()})),this.children.deleteDialog.settings.set("titleLabel",t(p).escape()),this.children.deleteDialog.setText(r),e("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()},deleteDialogDeleteHandler:function(e){var t=this._deleteDialogType,i=this._deleteDialogID,a="object"==t?this.model.setting.get("objectName"):this.model.setting.get("parentObjectName"),l=this.model.dataModel.objectByName(a);"object"==t?this.model.dataModel.removeObjectAndChildren(l):"field"==t?l.removeField({fieldName:i}):"calculation"==t&&l.removeCalculation(i),this.model.dataModel.save()&&this.listenTo(this.children.deleteDialog,"hidden",(function(){this.formView_saveHandler(a)}))},clearDeleteDialogState:function(){this._deleteDialogID="",this._deleteDialogType="",delete this.children.deleteDialog},formView_saveHandler:function(e){this.trigger("action:save",e)},formView_previewHandler:function(e,i,a,l){return this.children.previewView.setModels(this.model.dataModel.objectByName(e),a,l),this.children.formView.fetchPreviewSearchString(e,i).then(t((function(e){this.children.previewJobController.preview(e,{data:{provenance:"UI:DataModel"}})})).bind(this))},formView_startSearchByStringHandler:function(e){return this.children.previewJobController.preview(e,{data:{provenance:"UI:DataModel"}})},initialize:function(e){a.prototype.initialize.call(this,e);var i,v=this.model.setting.get("type"),y=this.model.setting.get("operation"),_=this.model.setting.get("calculationID"),x=this.model.setting.get("fieldName"),M=this.model.setting.get("objectName"),D=this.model.setting.get("parentObjectName");this.children.flashMessagesView=new g({model:[this.model.dataModel]}),i="event"==v||"child"==v||"transaction"==v||"search"==v?{save:"show",cancel:"show",preview:"show",delete:"hide"}:{save:"show",cancel:"show",preview:"show",delete:"show"},"add"!==y&&"override"!==y||(i.delete="hide"),this.model.buttonSettings=new b(i),this.model.state=new b({sampleSize:{head:1e3}}),this.listenTo(this.model.state,"change:sampleSize",(function(){this.children.formView.preview()})),this.model.searchJob=new w({},{delay:1e3,processKeepAlive:!0});var C={model:{dataModel:this.model.dataModel,appLocal:this.model.appLocal,application:this.model.application,buttonSettings:this.model.buttonSettings,serverInfo:this.model.serverInfo,user:this.model.user},objectName:M,operation:y,flashMessagesHelper:this.children.flashMessagesView.flashMsgHelper};if("event"==v)this.headerTitle="add"==y?t("Add Event Dataset").t():t("Edit Constraints").t(),C.type=v,this.children.formView=new l(C);else if("child"==v)this.headerTitle="add"==y?t("Add Child Dataset").t():t("Edit Constraints").t(),C.type=v,C.parentObjectName=D,this.children.formView=new l(C);else if("transaction"==v)this.headerTitle="add"==y?t("Add Transaction Dataset").t():t("Edit Transaction").t(),C.type=v,C.parentObjectName=D,this.children.formView=new o(C);else if("search"==v)this.headerTitle="add"==y?t("Add Base Search").t():t("Edit Base Search").t(),C.model.buttonSettings.set({preview:"hide"}),C.type=v,C.parentObjectName=D,C.collection={},C.collection.searchBNFs=this.collection.searchBNFs,this.children.formView=new s(C);else if("Eval"==v)this.headerTitle="add"==y?t("Add Fields with an Eval Expression").t():t("Edit Fields with an Eval Expression").t(),this.isCalculation=!0,C.calculationID=_,C.parentObjectName=D,this.children.formView=new n(C);else if("Lookup"==v)this.headerTitle="add"==y?t("Add Fields with a Lookup").t():t("Edit Fields with a Lookup").t(),this.isCalculation=!0,C.calculationID=_,C.parentObjectName=D,C.collection={},C.collection.transformsLookups=this.collection.transformsLookups,this.children.formView=new r(C);else if("Rex"==v)this.headerTitle="add"==y?t("Add Fields with a Regular Expression").t():t("Edit Fields with a Regular Expression").t(),this.isCalculation=!0,C.calculationID=_,C.parentObjectName=D,this.children.formView=new p(C),this.showPreview=!1;else if("GeoIP"==v)this.headerTitle="add"==y?t("Add Geo Fields with an IP Lookup").t():t("Edit Geo Fields with an IP Lookup").t(),this.isCalculation=!0,C.calculationID=_,C.parentObjectName=D,C.collection={},C.collection.transformsLookups=this.collection.transformsLookups,this.children.formView=new c(C);else{if("field"!=v)throw new Error("Unknown Calculation Type",v);"override"==y?(this.headerTitle=t("Override Field").t(),C.fieldName=x,C.parentObjectName=D,C.calculationID=_,this.children.formView=new h(C)):"edit"==y&&(this.headerTitle=t("Edit Field").t(),C.fieldName=x,C.parentObjectName=D,this.children.formView=new d(C))}if(this.listenTo(this.children.formView,"action:save",this.formView_saveHandler),this.showPreview&&this.listenTo(this.children.formView,"action:preview",(function(){"search"===this.model.setting.get("type")?this.formView_startSearchByStringHandler.apply(this,arguments):this.formView_previewHandler.apply(this,arguments)})),this.listenTo(this.children.formView,"action:delete",this.showDeleteDialog),this.listenTo(this.children.formView,"action:cancel",(function(){this.trigger("action:cancel")})),this.showPreview){this.children.previewJobController=new f({model:{dataModel:this.model.dataModel,application:this.model.application,state:this.model.state,searchJob:this.model.searchJob}});var E={model:{application:this.model.application,dataModel:this.model.dataModel,searchJob:this.model.searchJob,sampleSize:this.model.state},flashMessagesView:this.children.flashMessagesView,isCalculation:this.isCalculation};this.isCalculation||"field"==v?(E.className="preview-view-stack",this.children.previewView=new m(E)):this.children.previewView=new u(E)}},render:function(){var e="",i=this.model.setting.get("parentObjectName");if(this.isCalculation){var a=this.model.dataModel.objectByName(i);if(!t(a).isUndefined()){var l=this.model.dataModel.getAncestorsForObject(i);t(l.reverse()).each((function(t){e+=t.get("displayName")+" > "}),this),e+=a.get("displayName")}}else if("field"==this.model.setting.get("type")){var o=this.model.dataModel.objectByName(i);e=o?o.get("displayName"):""}else if("edit"==this.model.setting.get("operation")){var s=this.model.setting.get("objectName"),n=this.model.dataModel.objectByName(s);e=n?n.get("displayName"):""}var d=y.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.datamodel.addobject"),r=t(this.template).template({dataModel:this.model.dataModel,docUrl:d,headerTitle:this.headerTitle,objectBreadcrumb:e});return this.$el.html(r),this.$(".flash-messages-placeholder").replaceWith(this.children.flashMessagesView.render().el),this.$(".form-view-placeholder").replaceWith(this.children.formView.render().el),this.showPreview?this.$el.children(".preview-container").append(this.children.previewView.render().el):this.$el.children(".preview-container").remove(),this},template:'                <div class="section-padded section-header page-heading">                    <div class="header-button-holder pull-right">                        <a href="<%- docUrl %>" target="_blank" rel="noopener noreferrer" class="btn external"><%- _("Documentation").t() %></a>                    </div>                    <h1 class="section-title"><%- headerTitle %></h1>                    <p class="section-description"><strong><%- _("Data Model:").t() %></strong> <span class="value"><%- dataModel.entry.content.get("displayName") %></span>                       <% if (objectBreadcrumb != "") {%>                        <strong><%- _("Dataset:").t() %></strong> <span class="value"><%- objectBreadcrumb %></span>                     <% } %>                     </p>                </div>                <div class="divider"></div>                <div class="section-wrapper">                    <div class="flash-messages-placeholder"></div>                    <div class="form-view-placeholder"></div>                </div>                <div class="preview-container"></div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/AddEditContainerView.pcss":function(e,t,i){var a=i(2433);"string"==typeof a&&(a=[[e.i,a,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(a,l);a.locals&&(e.exports=a.locals)},"views/data_model_editor/DataModelEditor":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/data_model_editor/ObjectEditor"),i("views/shared/DropDownMenu"),i("views/data_model_editor/EditMenuDropDownAdapter"),i("views/shared/FlashMessages"),i("views/data_model_manager/DataModelActionController"),i("models/services/datamodel/DataModel"),i("uri/route"),i("shim/splunk.util"),i("util/hash_utils"),i("util/splunkd_utils"),i("models/ACLReadOnly"),e,i("views/shared/pcss/data-enrichment.pcss"),i("views/data_model_editor/DataModelEditor.pcss")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v){var g={ALL_OBJECT_ITEMS:[{label:t("Root Event").t(),value:"event"},{label:t("Root Transaction").t(),value:"transaction"},{label:t("Root Search").t(),value:"search"},{label:t("Child").t(),value:"child"}],INITIAL_OBJECT_ITEMS:[{label:t("Root Event").t(),value:"event"},{label:t("Root Search").t(),value:"search"}],EDIT_ACCELERATED_MODEL_ID:"__EDIT_ACCELERATED_MODEL_ID__"};return i.extend({className:"data-model-editor",moduleId:m.i,events:{"click .object":function(t){t.preventDefault();var i=e(t.currentTarget).attr("data-objid");this.model.setting.set({selectedObject:i})}},dataModelChangeHandler:function(){this.updateSelection(),this.debouncedRender()},dataModelObjectsChangeHandler:function(){this.children.addObject.setItems(this.getEventItems()),this.dataModelChangeHandler()},initialize:function(e){i.prototype.initialize.call(this,e);var d=r.getContextualPageRouter(this.model.application);this._previousSelectedObject="",this.children.flashMessagesView=new s({model:this.model.dataModel}),this.children.objectEditor=new a({collection:this.collection,model:{application:this.model.application,dataModel:this.model.dataModel},flashMessagesView:this.children.flashMessagesView}),this.children.addObject=new l({label:t("Add Dataset").t(),items:this.getEventItems(),dropdownClassName:"dropdown-menu-narrow"});var p=[],u=[],m=[];if(this.model.dataModel.isAccelerated()||this.model.dataModel.getSourceGUID()&&0!==this.model.dataModel.getSourceGUID().length||p.push({label:t("Edit Title or Description").t(),value:"editDataModelTitle"}),this.model.dataModel.canChangePermissions()&&p.push({label:t("Edit Permissions").t(),value:"editPermissions"}),this.model.user.canAccelerateDataModel()&&p.push({label:t("Edit Acceleration").t(),value:"editAcceleration"}),this.model.setting.get("canCreateDataModel")&&u.push({label:t("Clone").t(),value:"cloneDataModel"}),this.model.dataModel.canDelete()&&u.push({label:t("Delete").t(),value:"deleteDataModel"}),p.length>0&&m.push(p),u.length>0&&m.push(u),this.children.dataModelController=new n({model:{application:this.model.application,user:this.model.user},collection:{apps:this.collection.apps,vix:this.collection.vix,archives:this.collection.archives,workloadManagementStatus:this.collection.workloadManagementStatus}}),m.length>0){var f={label:t("Edit").t(),items:m,model:this.model,dataModelController:this.children.dataModelController};this.children.editObject=new o(f)}this.children.dataModelController.on("action:fetchDataModel",(function(){this.trigger("action:fetchModel")}),this),this.children.dataModelController.on("action:updateDataModel",(function(e,t,i){var a=this.model.dataModel;t&&a.entry.content.acceleration.set(t),i&&a.entry.content.set(i)}),this),this.children.dataModelController.on("action:deletedDataModel",(function(){c.trackPageInteraction(this.model.application.get("app"),"Delete Datamodel",{name:h.hashSha256(this.model.dataModel.id)}),this.goToUrl(d.data_model_manager())}),this),this.children.dataModelController.on("action:clonedDataModel",(function(e){c.trackPageInteraction(this.model.application.get("app"),"Clone Datamodel",{name:h.hashSha256(e)}),this.goToUrl(d.data_model_editor({data:{model:e}}))}),this),this.children.dataModelController.on("action:dataModelPermissionsChange",(function(e,t){this.model.dataModel.setFromSplunkD(t.toSplunkD()),this.updateDynamicLinks(),this.trigger("action:dataModelPermissionsChange",e)}),this),this.model.dataModel.entry.content.on("change associatedChange add remove reset",this.dataModelChangeHandler,this),this.model.dataModel.entry.content.objects.on("change associatedChange add remove reset",this.dataModelObjectsChangeHandler,this),this.model.setting.on("change:selectedObject",this.updateSelection,this),this.children.objectEditor.on("action:overrideInherited",(function(e,t){var i=this.model.setting.get("selectedObject");this.trigger("action:overrideInherited",e,i,t)}),this),this.children.objectEditor.on("action:editCalculation",(function(e){var t=this.model.setting.get("selectedObject"),i=this.model.dataModel.objectByName(t).getCalculation(e).get("calculationType");this.trigger("action:editCalculation",i,t,e)}),this),this.children.objectEditor.on("action:editAttribute",(function(e){var t=this.model.setting.get("selectedObject");this.model.dataModel.objectByName(t);this.trigger("action:editAttribute","field",t,e)}),this),this.children.objectEditor.on("action:addCalculation",(function(e){var t=this.model.setting.get("selectedObject");this.trigger("action:addCalculation",e,t)}),this),this.children.objectEditor.on("action:editObject",(function(e,t,i){this.trigger("action:editObject",e,t,i)}),this),this.children.objectEditor.on("action:saveModel",(function(){this.trigger("action:saveModel")}),this),this.children.objectEditor.on("action:fetchDataModel",(function(){this.trigger("action:fetchModel")}),this),this.children.objectEditor.on("action:removeObject",(function(e){this.trigger("action:removeObject",e)}),this),this.children.addObject.on("itemClicked",(function(e){this.trigger("action:addObject",e,this.model.setting.get("selectedObject"))}),this)},goToUrl:function(e){window.location=e},render:function(){var e=this.model.dataModel.entry.content.objects.getRootObjects(),i='<div class="content-group">',a='<div class="content-group">',l='<div class="content-group">',o=0,s=0,n=0;this.children.objectEditor.detach(),this.children.addObject.$el.detach(),this.model.dataModel.getSourceGUID()?this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(g.EDIT_ACCELERATED_MODEL_ID,{type:p.WARNING,html:t("This Data Model cannot be edited because a source GUID is specified. Remove the source GUID stanza in order to edit the Data Model.").t()}):this.model.dataModel.isAccelerated()?this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(g.EDIT_ACCELERATED_MODEL_ID,{type:p.WARNING,html:t("This Data Model cannot be edited because it is accelerated. Disable acceleration in order to edit the Data Model.").t()}):this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(g.EDIT_ACCELERATED_MODEL_ID),t(e).each((function(e){var t=e.get("parentName");t==d.BASE_EVENT?(i+=this.renderObjectTree(e),o++):t==d.BASE_TRANSACTION?(a+=this.renderObjectTree(e),s++):t==d.BASE_SEARCH&&(l+=this.renderObjectTree(e),n++)}),this),i+="</div>",a+="</div>",l+="</div>";var c=r.getContextualPageRouter(this.model.application).data_model_manager(),h=r.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.datamodel.about"),u=t(this.template).template({displayName:this.model.dataModel.entry.content.get("displayName"),modelName:this.model.dataModel.entry.content.get("modelName"),docUrl:h,eventsHtml:i,transactionsHtml:a,searchesHtml:l,showEvents:o,showSearches:n,canDownloadDataModel:this.model.setting.get("canCreateDataModel"),showTransactions:s,dataManagerUrl:c,selected:this.model.setting.get("selectedObject")});return this.$el.html(u),this.model.dataModel.isAccelerated()||this.model.dataModel.getSourceGUID()&&0!==this.model.dataModel.getSourceGUID().length||this.$(".add-button-holder").append(this.children.addObject.render().el),this.children.editObject?this.$(".edit-button-holder").append(this.children.editObject.render().el):this.$(".edit-button-holder").remove(),this.$(".object-editor-wrapper").append(this.children.objectEditor.el),this.$(".flash-messages-placeholder").append(this.children.flashMessagesView.render().el),this.updateSelection(),this.updateDynamicLinks(),this},renderObjectTree:function(e){var i=t(this.objectLinkTemplate).template({objectName:e.get("objectName"),displayName:e.get("displayName")});e.children&&(e.children.length&&(i+='<div class="content-group">',t(e.children).each((function(e){i+=this.renderObjectTree(e)}),this),i+="</div>"));return i},updateDynamicLinks:function(){var e=r.getContextualPageRouter(this.model.application).pivot({data:{model:this.model.dataModel.id}});this.$(".pivot-model").attr("href",e),this.updateDownloadLink()},updateDownloadLink:function(){if(this.model.setting.get("canCreateDataModel")){var t=new u(e.extend(!0,{},this.model.dataModel.entry.acl.toJSON())),i={};i=e.extend(i,{app:t.get("app")||void 0,owner:t.get("owner")||void 0,sharing:t.get("sharing")||void 0});var a="data/models/"+this.model.dataModel.entry.content.get("modelName")+"/download";a=p.fullpath(a,i),this.$(".download-button").attr("href",a)}},updateSelection:function(){var e=this.model.setting.get("selectedObject");this.$(".object").removeClass("selected"),e&&this.$('.object[data-objid="'+e+'"]').addClass("selected"),e!=this._previousSelectedObject&&(this.children.objectEditor.setModel(this.model.dataModel.objectByName(e)),this._previousSelectedObject=e)},getEventItems:function(){return this.model.dataModel.entry.content.objects&&0==this.model.dataModel.entry.content.objects.length?g.INITIAL_OBJECT_ITEMS:g.ALL_OBJECT_ITEMS},triggerAction:function(e){"acceleration"===e&&this.model.user.canAccelerateDataModel()?this.children.dataModelController.trigger("action:editAcceleration",this.model.dataModel.id):"permissions"===e&&this.model.dataModel.canChangePermissions()&&this.children.dataModelController.trigger("action:editPermissions",this.model.dataModel.id)},objectLinkTemplate:'<a href="#" class="object" data-objid="<%- objectName %>"><%- displayName %></a>',template:'            <div class="section-padded section-header">                <div class="header-button-holder pull-right">                    <div class="btn-group">                        <span class="edit-button-holder"></span>                        <% if (canDownloadDataModel) { %>                            <a href="#" class="download-button btn" target="_blank" rel="noopener noreferrer" download="<%-modelName%>.json"><%- _("Download").t() %></a>                        <% } %>                        <a href="#" class="pivot-model btn" aria-label= "<%- _("Pivot").t() %>" ><%- _("Pivot").t() %></a>                        <a href="<%- docUrl %>" target="_blank" rel="noopener noreferrer" id="documentation-help-link" class="help-link btn" aria-label="<%- _("Open documentation for this page in a new window").t() %>" ><%- _("Documentation").t() %> <i class="icon-external"></i></a>                    </div>                </div>                <h1 class="section-title"><%- displayName %></h1>                <p><%- modelName %></p>                <a href="<%- dataManagerUrl %>"><i class="icon-chevron-left icon-no-underline"></i><span><%- _("All Data Models").t() %></span></a>                <div class="flash-messages-placeholder"></div>            </div>            <div class="section-wrapper">                <div class="divider-gradient"></div>                <div class="object-list sidebar">                    <div class="object-list-header">                        <h2 class="title"><%- _("Datasets").t() %></h2>                        <div class="add-button-holder">                        </div>                    </div>                    <% if(showEvents) { %>                        <h6 class="object-group-header"><%- _("Events").t() %></h6>                        <%= eventsHtml %>                    <% } %>                    <% if(showSearches) { %>                        <h6 class="object-group-header"><%- _("Searches").t() %></h6>                        <%= searchesHtml %>                    <% } %>                    <% if(showTransactions) { %>                        <h6 class="object-group-header"><%- _("Transactions").t() %></h6>                        <%= transactionsHtml %>                    <% } %>                </div>                <div class="object-editor-placeholder"></div>                <div class="object-editor-wrapper "></div>            </div>        '},g)}.apply(t,a))||(e.exports=l)},"views/data_model_editor/DataModelEditor.pcss":function(e,t,i){var a=i(2412);"string"==typeof a&&(a=[[e.i,a,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(a,l);a.locals&&(e.exports=a.locals)},"views/data_model_editor/EditMenuDropDown":function(e,t,i){"use strict";i(2),Object.defineProperty(t,"__esModule",{value:!0});var a=m(i(16)),l=m(i(17)),o=m(i(20)),s=m(i(21)),n=i(0),d=m(n),r=m(i(4)),c=m(i("require/underscore")),h=m(i(19)),p=m(i(68)),u=m(i(69));function m(e){return e&&e.__esModule?e:{default:e}}var f=[],v=function(e){function t(e){(0,a.default)(this,t);var i=(0,o.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.setLabel=function(e){return d.default.createElement(h.default,{label:e,isMenu:!0})},i.handleClick=function(e){switch(e){case(0,c.default)("Edit Permissions").t():i.dataModelController.trigger("action:editPermissions",i.model.dataModel.id);break;case(0,c.default)("Edit Acceleration").t():i.dataModelController.trigger("action:editAcceleration",i.model.dataModel.id);break;case(0,c.default)("Clone").t():i.dataModelController.trigger("action:cloneDataModel",i.model.dataModel.id);break;case(0,c.default)("Delete").t():i.dataModelController.trigger("action:deleteDataModel",i.model.dataModel);break;case(0,c.default)("Edit Title or Description").t():i.dataModelController.trigger("action:editDataModelTitle",i.model.dataModel.id)}},i.props=e,i.model=i.props.options.model,i.dataModelController=i.props.options.dataModelController,i.menuItems=i.props.options.items,i.menuItems.map((function(e){return e.map((function(e){return f.push(e.label)}))})),i.setLabel=i.setLabel.bind(i),i.handleClick=i.handleClick.bind(i),i}return(0,s.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return d.default.createElement(p.default,{toggle:this.setLabel(this.props.options.label),style:{float:"left"}},d.default.createElement(u.default,{className:"edit-menu-options",style:{width:120}},f.map((function(t){return d.default.createElement(u.default.Item,{key:t,onClick:function(){return e.handleClick(t)}},t)}))))}}]),t}(n.Component);v.defaultProps={options:{model:{},dataModelController:{},items:[[]],label:(0,c.default)("Edit Placeholder").t()}},v.propTypes={options:r.default.shape({model:r.default.object.isRequired,dataModelController:r.default.object.isRequired,items:r.default.array.isRequired,label:r.default.string.isRequired})},t.default=v,e.exports=t.default},"views/data_model_editor/EditMenuDropDownAdapter":function(e,t,i){"use strict";i(2),Object.defineProperty(t,"__esModule",{value:!0});var a=n(i(0)),l=n(i("dashboard/components/shared/BackboneProvider")),o=n(i("views/ReactAdapterBase")),s=n(i("views/data_model_editor/EditMenuDropDown"));function n(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.extend({getComponent:function(){return a.default.createElement(l.default,{store:{}},a.default.createElement(s.default,this))}}),e.exports=t.default},"views/data_model_editor/ObjectEditor":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/shared/DropDownMenu"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/shared/controls/LabelControl"),i("views/shared/dialogs/TextInputDialog"),i("views/shared/dialogs/TextDialog"),i("views/shared/datamodel/dialogs/ViewValuesDialog"),i("views/data_model_editor/form_components/FieldsHash"),i("views/data_model_editor/form_views/AddExtractedFieldsDialog"),i("util/datamodel/field_icon_utils"),i("models/services/datamodel/DataModel"),i("models/services/datamodel/private/Object"),i(2409),i("uri/route"),i("util/splunkd_utils"),e,i("util/console"),i("shim/splunk.util"),i("views/data_model_editor/ObjectEditor.pcss"),i("shim/jquery.ui.sortable"),i("shim/bootstrap.tooltip")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v,g,b,w,y,_){return a.extend({className:"data-model-object-editor",moduleId:b.i,template:f,events:{"click .rename-object-button":function(e){e.preventDefault(),this.showRenameDialog("object",this.model.objectModel.get("displayName"))},"click .delete-object-button":function(e){e.preventDefault(),this.showDeleteDialog(this.model.objectModel.get("displayName"))},"click .edit-constraint-button":function(e){e.preventDefault();var t=this.model.objectModel.get("parentName"),i="child";t==u.BASE_TRANSACTION?i="transaction":t==u.BASE_SEARCH?i="search":t==u.BASE_EVENT&&(i="event"),this.trigger("action:editObject",i,t,this.model.objectModel.get("objectName"))},"click .override-attribute-button":function(e){e.preventDefault(),this.trigger("action:overrideInherited",this.resolveAttributeName(e.currentTarget),this.resolveCalculationId(e.currentTarget))},"click .edit-attribute-button":function(e){e.preventDefault(),this.trigger("action:editAttribute",this.resolveAttributeName(e.currentTarget))},"click .edit-calculation-button":function(e){e.preventDefault(),this.trigger("action:editCalculation",this.resolveCalculationId(e.currentTarget))},"mouseover .field-calculation-type":function(i){if("Eval"===i.target.getAttribute("calc-type")){var a=this.model.objectModel.getCalculation(this.resolveCalculationId(i.currentTarget));a?e(i.target).attr("title",a.get("expression")).tooltip():e(i.target).attr("title",t("Could not evaluate expression").t()).tooltip()}}},addAttributeButtonClickHandler:function(e){if("autoExtract"==e){var t=this.model.objectModel.get("parentName");t!=u.BASE_EVENT&&t!=u.BASE_SEARCH||this.showAddExtractedFieldsDialog()}else this.trigger("action:addCalculation",e,this.model.objectModel.get("displayName"))},bulkEditButtonClickHandler:function(e){switch(e){case"optional":this.bulkEdit("required",!1);break;case"required":this.bulkEdit("required",!0);break;case"hidden":this.bulkEdit("hidden",!0);break;case"shown":this.bulkEdit("hidden",!1);break;default:this.bulkEdit("type",e)}},bulkEdit:function(e,i){var a=!0;this._registeredFields&&t(this._registeredFields).each((function(e){this.options.flashMessagesView.unregister(e)}),this),this._registeredFields=[],this.selectedFields.eachField((function(t){this.options.flashMessagesView.register(t),this._registeredFields.push(t),a=t.set(e,i,{validate:!0})&&a}),this),a&&this.saveModel()},showDeleteDialog:function(i){this.children.deleteDialog=new d({id:"modal_delete"}),this.children.deleteDialog.settings.set("primaryButtonLabel",t("Delete").t()),this.children.deleteDialog.settings.set("cancelButtonLabel",t("Cancel").t()),this.children.deleteDialog.on("click:primaryButton",this.deleteDialogDeleteHandler,this),this.children.deleteDialog.settings.set("titleLabel",t(t("Delete Dataset").t()).escape());var a=y.sprintf(t("Are you sure you want to delete the dataset <em>%s</em> and all of its descendants?").t(),t(i).escape());this.children.deleteDialog.setText(a),e("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()},deleteDialogDeleteHandler:function(e){this.trigger("action:removeObject",this.model.objectModel),this.saveModel()},showRenameDialog:function(i,a,l){this.children.renameDialog=new n({id:"modal_rename",parent:this,model:this.model.objectModel,modelAttribute:"displayName",label:t("Name").t()}),this.children.renameDialog.settings.set("titleLabel",t("Rename Dataset").t()),this.children.renameDialog.on("click:cancelButton",this.renameDialogCancelHandler,this),this.children.renameDialog.on("click:closeButton",this.renameDialogCancelHandler,this),this.children.renameDialog.on("click:primaryButton",this.renameDialogChangeHandler,this),e("body").append(this.children.renameDialog.render().el),this.children.renameDialog.show()},renameDialogCancelHandler:function(e){this.children.renameDialog.remove()},renameDialogChangeHandler:function(e){this.saveModel()},showAddExtractedFieldsDialog:function(){var e=this.model.dataModel.clone(),t=e.objectByName(this.model.objectModel.get("objectName"));this.children.addExtractedFieldsDialog=new h({id:"modal_addExtractedFields",parent:this,model:{objectModel:t,dataModel:e,application:this.model.application}}),this.children.addExtractedFieldsDialog.on("action:fetchDataModel",(function(){this.trigger("action:fetchDataModel")}),this),this.children.addExtractedFieldsDialog.on("hidden",this.destroyAddExtractFieldsDialog,this),this.children.addExtractedFieldsDialog.show()},destroyAddExtractFieldsDialog:function(){this.children.addExtractedFieldsDialog.remove(),delete this.children.addExtractedFieldsDialog},checkboxChangeHandler:function(e,t,i){var a=this.resolveAttributeName(i.el),l=this.resolveCalculationId(i.el);e?this.selectedFields.addField(a,l):this.selectedFields.removeField(a,l)},selectedFieldsChangeHandler:function(){this.children.bulkEditButton.setItems(this.getBulkEditItems())},initialize:function(e){a.prototype.initialize.apply(this,arguments),(e=e||{}).model.objectModel&&this.setModel(e.model.objectModel),this._checkboxListener={},t.extend(this._checkboxListener,i.Events)},render:function(){if(!this.model.objectModel)return this.$el.html(t(this.emptyTemplate).template({})),this;!0===this.model.objectModel.get("indexScopeWarning")?this.options.flashMessagesView.flashMsgHelper.addGeneralMessage("index_scope_warning",{type:g.WARNING,html:t("This object has no explicit index constraint. Consider adding one for better performance.").t()}):this.options.flashMessagesView.flashMsgHelper.removeGeneralMessage("index_scope_warning"),this.children.addAttributeButton&&(this.children.addAttributeButton.off(),this.children.addAttributeButton.$el.detach());var i=this.compiledTemplate({object:this.model.objectModel,getIcon:p.fieldIconByType,getFieldFlags:this.getFieldFlags,getFieldHiddenIcon:p.fieldHiddenIcon,getFieldRequiredIcon:p.fieldRequiredIcon,getTimelineURL:t(this.getTimelineURL).bind(this),isEditable:!(this.model.dataModel.isAccelerated()||this.model.dataModel.getSourceGUID()&&0!==this.model.dataModel.getSourceGUID().length)});if(this.$el.html(i),!(this.model.dataModel.isAccelerated()||this.model.dataModel.getSourceGUID()&&0!==this.model.dataModel.getSourceGUID().length)){var a=!(this.model.objectModel.isChildObject()||this.model.objectModel.get("parentName")==u.BASE_TRANSACTION);this.children.addAttributeButton=new l({className:"",label:t("Add Field").t(),items:[{label:t("Auto-Extracted").t(),value:"autoExtract",enabled:a},{label:t("Eval Expression").t(),value:"Eval"},{label:t("Lookup").t(),value:"Lookup"},{label:t("Regular Expression").t(),value:"Rex"},{label:t("Geo IP").t(),value:"GeoIP"}],dropdownClassName:"dropdown-menu-narrow"}),this.children.addAttributeButton.on("itemClicked",this.addAttributeButtonClickHandler,this),this.$(".add-attribute-button-holder").append(this.children.addAttributeButton.render().el),void 0!==this.children.bulkEditButton&&(this.children.bulkEditButton.off(),this.children.bulkEditButton.remove()),this.children.bulkEditButton=new l({className:"",label:t("Bulk Edit").t(),items:this.getBulkEditItems(),dropdownClassName:"dropdown-menu-narrow"}),this.children.bulkEditButton.on("itemClicked",this.bulkEditButtonClickHandler,this),this.$(".bulk-edit-button-holder").append(this.children.bulkEditButton.render().el)}return this._checkboxListener.stopListening(),this.$(".field-checkbox").each(t((function(i,a){var l=this.resolveAttributeName(a),n=this.resolveCalculationId(a),d=this.model.objectModel.getAnyField(l,n).get("displayName"),r=this.selectedFields.hasField(l,n);if(e(a).hasClass("uneditable")){var c=new s({defaultValue:d});e(a).append(c.render().el)}else{var h=new o({defaultValue:r,label:d});e(a).append(h.render().el),this._checkboxListener.listenTo(h,"change",t.bind(this.checkboxChangeHandler,this))}})).bind(this)),this.configureSortable(),this},setModel:function(e){if(this.model.objectModel&&(this.model.objectModel.off(null,null,this),this.model.objectModel.associatedOff(null,null,this)),e&&!(e instanceof m))throw new Error("ObjectEditor model must be an Object model");this.model.objectModel=e,this.selectedFields?this.selectedFields.clear():(this.selectedFields=new c,this.selectedFields.on("change:selectionType",this.selectedFieldsChangeHandler,this)),this.selectedFields.setModel(e),this.model.objectModel&&(this.model.objectModel.on("change",this.changeHandler,this),this.model.objectModel.on("associatedChange",this.associatedChangeHandler,this),this.model.objectModel.on("reset",this.resetHandler,this)),this.debouncedRender()},changeHandler:function(e,t){this.debouncedRender()},associatedChangeHandler:function(e,t){this.debouncedRender()},resetHandler:function(e,t){this.debouncedRender()},saveModel:function(){this.trigger("action:saveModel",this.model.objectModel)},configureSortable:function(){var e=this;this.$(".calculations").sortable({items:".calculation",placeholder:"ui-sortabale-placeholder",forcePlaceholderSize:!0,opacity:.7,tolerance:"pointer",stop:function(t,i){e.onSortStop()}})},onSortStop:function(){var e=t(this.$(".calculation")).map((function(e){return this.resolveCalculationId(e)}),this);this.model.objectModel.reOrderCalculations(e),this.saveModel()},resolveAttributeName:function(t){return e(t).closest(".attribute").attr("data-attribute-name")},resolveCalculationId:function(t){return e(t).closest(".calculation,.inheritedAttribute").attr("data-calc-id")},getTimelineURL:function(e,t){if(this.model){var i=this.model.dataModel.objectByLineage(e);if(i){var a="search"==t?i.get("baseSearch"):i.get("previewSearch");return v.search(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{q:a+" | head 1000"}})}}return"#"},getFieldFlags:function(e){return e.hidden&&e.required?"(required, hidden)":e.required?"(required)":e.hidden?"(hidden)":""},getBulkEditItems:function(){return this.selectedFields.selectionType==c.NONE?[[{label:t("Optional").t(),value:"optional",enabled:!1},{label:t("Required").t(),value:"required",enabled:!1}],[{label:t("Hidden").t(),value:"hidden",enabled:!1},{label:t("Shown").t(),value:"shown",enabled:!1}],[{label:t("Boolean").t(),value:"boolean",enabled:!1},{label:t("IPv4").t(),value:"ipv4",enabled:!1},{label:t("Number").t(),value:"number",enabled:!1},{label:t("String").t(),value:"string",enabled:!1}]]:this.selectedFields.selectionType==c.ONLY_NON_INHERITED?[[{label:t("Optional").t(),value:"optional"},{label:t("Required").t(),value:"required"}],[{label:t("Hidden").t(),value:"hidden"},{label:t("Shown").t(),value:"shown"}],[{label:t("Boolean").t(),value:"boolean"},{label:t("IPv4").t(),value:"ipv4"},{label:t("Number").t(),value:"number"},{label:t("String").t(),value:"string"}]]:[[{label:t("Optional").t(),value:"optional"},{label:t("Required").t(),value:"required"}],[{label:t("Hidden").t(),value:"hidden"},{label:t("Shown").t(),value:"shown"}],[{label:t("Boolean").t(),value:"boolean",enabled:!1},{label:t("IPv4").t(),value:"ipv4",enabled:!1},{label:t("Number").t(),value:"number",enabled:!1},{label:t("String").t(),value:"string",enabled:!1}]]},emptyTemplate:'<div class="alert alert-info">                            <i class="icon-alert"></i>                            <%- _("To get started, add a dataset using the menu to the left.").t() %>                        </div>'})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/ObjectEditor.pcss":function(e,t,i){var a=i(2410);"string"==typeof a&&(a=[[e.i,a,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(a,l);a.locals&&(e.exports=a.locals)},"views/data_model_editor/form_components/EvalOutputFieldView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/ValidatingView"),i("views/shared/controls/ControlGroup"),i("views/data_model_editor/form_components/SelectFieldType"),i("views/data_model_editor/form_components/SelectFieldFlags"),e],void 0===(l=function(e,t,i,a,l,o){return t.extend({moduleId:o.i,className:"eval-output-view",modelToControlGroupMap:{fieldName:"textFieldName",type:"selectFieldType",flags:"selectFieldFlags"},initialize:function(o){t.prototype.initialize.call(this,o),this.children.textFieldName=new i({label:e("Field Name:").t(),controlType:"Text",controlOptions:{model:this.model,modelAttribute:"fieldName"}}),this.children.textDisplayName=new i({label:e("Display Name:").t(),controlType:"Text",controlOptions:{model:this.model,modelAttribute:"displayName"}}),this.children.selectFieldType=new i({label:e("Type:").t(),controls:new a({model:this.model})}),this.children.selectFieldFlags=new i({label:e("Flags:").t(),controls:new l({model:this.model})})},render:function(){var t=e(this.template).template({type:this.type,operation:this.operation});return this.$el.html(t),this.$(".field-name-placeholder").replaceWith(this.children.textFieldName.render().el),this.$(".display-name-placeholder").replaceWith(this.children.textDisplayName.render().el),this.$(".field-type-placeholder").replaceWith(this.children.selectFieldType.render().el),this.$(".field-flags-placeholder").replaceWith(this.children.selectFieldFlags.render().el),this},template:'                <label><%- _("Field").t() %></label>                <div class="field-name-placeholder"></div>                <div class="display-name-placeholder"></div>                <div class="field-type-placeholder"></div>                <div class="field-flags-placeholder"></div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/FieldRow":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/delegates/RowExpandCollapse"),i("views/shared/controls/TextControl"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/data_model_editor/form_components/SelectFieldFlags"),i("views/data_model_editor/form_components/SelectFieldType")],void 0===(l=function(e,t,i,a,l,o,s,n,d){return a.extend({tagName:"tr",moduleId:i.i,events:(r={},r["click td."+l.TOGGLE_CELL_CLASS]="toggleCellClickHandler",r),toggleCellClickHandler:function(){this.model.set("isExpanded",!this.model.get("isExpanded"))},initialize:function(e){a.prototype.initialize.call(this,e),this.children.checkBoxSelected=new s({model:this.model,modelAttribute:"selected"}),this.children.textDisplayName=new o({model:this.model,modelAttribute:"displayName"}),this.children.selectFieldType=new d({model:this.model,className:"dropdown",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal .modal-body:visible"}}),this.children.selectFieldFlags=new n({model:this.model,className:"dropdown",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal .modal-body:visible"}}),this.model.on("change",(function(){this.debouncedRender()}),this)},render:function(){this.children.checkBoxSelected.detach(),this.children.textDisplayName.detach(),this.children.selectFieldType.detach(),this.children.selectFieldFlags.detach();var e=this.compiledTemplate({fieldName:this.model.get("fieldName"),isExpanded:this.model.get("isExpanded"),selected:this.model.get("selected"),distinctValues:this.model.get("distinctValues"),toggleCellClass:l.TOGGLE_CELL_CLASS,expandedCellBody:l.EXPANDED_CELL_MARKUP,collapsedCellBody:l.COLLAPSED_CELL_MARKUP,rowIdAttribute:l.ROW_ID_ATTR});return this.$el.html(e),this.$el.attr(l.ROW_ID_ATTR,this.model.get("fieldName")),this.model.get("isExpanded")?this.$el.addClass(l.EXPANDED_ROW_CLASS):this.$el.removeClass(l.EXPANDED_ROW_CLASS),this.$el.find(".col-checkbox").append(this.children.checkBoxSelected.render().el),this.model.get("selected")&&(this.$el.find(".col-rename").append(this.children.textDisplayName.render().el),this.$el.find(".col-type").append(this.children.selectFieldType.render().el),this.$el.find(".col-type").append(this.children.selectFieldFlags.render().el)),this},template:'                    <% if(isExpanded) { %>                        <td class="<%- toggleCellClass %>"><%= expandedCellBody %></td>                    <% } else { %>                        <td class="<%- toggleCellClass %>"><%= collapsedCellBody %></td>                    <% } %>                    <td class="col-checkbox"></td>                    <td class="col-description" title="<%- fieldName %>">                        <%- fieldName %>                        <% if(isExpanded) { %>                            <div class="expanded-info">                                <div>                                <p><%- _("Example values:").t() %></p>                                <p class="distinct-values-list">                                    <% _(distinctValues).each(function(distinctValue) { %>                                        <span class="distinct-value"><%- distinctValue.value %></span><br>                                    <% }); %>                                </p>                                </div>                            </div>                        <% } %>                    </td>                    <td class="col-rename">                        <% if(selected) { %>                            <div class="textinput-displayname-placeholder"></div>                        <% } %>                    </td>                    <td class="col-type">                        <% if(selected) { %>                            <div class="select-type-placeholder"></div>                        <% } %>                    </td>            '});var r}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/FieldTable":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/data_model_editor/form_components/FieldRow"),i("views/data_model_editor/form_components/TimestampFieldRow"),i("views/data_model_editor/form_components/ManualFieldRow"),i("views/shared/delegates/RowExpandCollapse"),i("helpers/grid/RowIterator")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r){return a.extend({moduleId:i.i,fieldRows:[],initialize:function(e){a.prototype.initialize.call(this,e),this.collection.manualFields.on("reset add remove",this.debouncedRender,this),this.collection.extractedFields.on("reset add remove",this.debouncedRender,this),this.children.selectAllCheckbox=new l,this.children.selectAllCheckbox.on("change",this.selectAllCheckBoxChangeHandler,this)},selectAllCheckBoxChangeHandler:function(e,t){this.collection.extractedFields.each((function(t){t.set("selected",e)}),this)},removeField:function(e){this.collection.manualFields.remove(e)},render:function(){this.children.selectAllCheckbox.detach(),t(this.fieldRows).each((function(e){e.detach()}),this),this.fieldRows=[];var i=new r,a=this.compiledTemplate({headerCellClass:d.HEADER_CELL_CLASS,toggleHeaderBody:d.HEADER_CELL_MARKUP,rowIdAttribute:d.ROW_ID_ATTR}),l=e(a);return i.eachRow(this.collection.manualFields,(function(e,t,i,a){var o=new n({tagName:"tr",model:e,isExpanded:a,index:t,rowNumber:i});this.fieldRows.push(o),l.find(".field-table-body").append(o.render().el),o.on("action:removeField",this.removeField,this)}),this),i.eachRow(this.collection.extractedFields,(function(e,t,i,a){var n;n="timestamp"===e.get("type")?new s({tagName:"tr",model:e,index:t,rowNumber:i}):new o({tagName:"tr",model:e,index:t,rowNumber:i}),this.fieldRows.push(n),l.find(".field-table-body").append(n.render().el)}),this),this.$el.html(l),this.$el.find(".select-all-checkbox").append(this.children.selectAllCheckbox.render().el),this},template:'            <table class="table table-chrome table-striped expand-collapse-sandbox">                <thead>                    <tr>                        <th class="<%- headerCellClass %>"></th>                        <th class="col-checkbox select-all-checkbox"></th>                        <th class="col-field"><%- _("Field Name").t() %></th>                        <th class="col-rename"><%- _("Display Name").t() %></th>                        <th class="col-type"><%- _("Type and Flags").t() %></th>                    </tr>                </thead>                <tbody class="field-table-body">                </tbody>            </table>        '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/FieldsHash":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e],void 0===(l=function(e,t,i,a){var l=function(e){this.clear(),this.setModel(e)};return l.NONE="none",l.MIXTURE="mixture",l.ONLY_NON_INHERITED="onlyNonInherited",t.extend(l.prototype,{setModel:function(e){e!==this._objectModel&&(this._objectModel=e,this.synchronize())},addField:function(e,i){if(t(i).isUndefined())this._objectModel.isOwnField(e)?this._ownFields[e]=!0:this._inheritedFields[e]=!0;else{var a=this._calculations[i];t(a).isUndefined()&&(a=this._calculations[i]={}),a[e]=!0}this.changeHandler()},removeField:function(e,i){if(t(i).isUndefined())this._objectModel.isOwnField(e)?delete this._ownFields[e]:delete this._inheritedFields[e];else{var a=this._calculations[i];a&&delete a[e]}this.changeHandler()},hasField:function(e,i){var a;t(i).isUndefined()?a=this._objectModel.isOwnField(e)?this._ownFields[e]:this._inheritedFields[e]:a=(this._calculations[i]||{})[e];return!!a},changeHandler:function(){this.containsAnyFields()?this.containsInheritedField()?this.selectionType=l.MIXTURE:this.selectionType=l.ONLY_NON_INHERITED:this.selectionType=l.NONE,this.selectionType!=this.previousSelectionType&&(this.trigger("change:selectionType",this.selectionType,this.previousSelectionType),this.previousSelectionType=this.selectionType)},synchronize:function(){},clear:function(){this._ownFields={},this._inheritedFields={},this._calculations={},this.selectionType=l.NONE,this.previousSelectionType=l.NONE,this.changeHandler()},containsInheritedField:function(){return!t(this._inheritedFields).isEmpty()},containsAnyFields:function(){return!t(this._inheritedFields).isEmpty()||!t(this._ownFields).isEmpty()||t(this._calculations).find((function(e){return!t(e).isEmpty()}),this)},eachField:function(e,i){var a,l=[];i=i||null,t(this._inheritedFields).each((function(e,t){(a=this._objectModel.getField(t))&&l.push(a)}),this),t(this._ownFields).each((function(e,t){(a=this._objectModel.getField(t))&&l.push(a)}),this),t(this._calculations).each((function(e,i){var o=this._objectModel.getCalculation(i);t(e).each((function(e,t){(a=o.getFieldByName(t))&&l.push(a)}),this)}),this),t(l).each(e,i)}},i.Events),l}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/GeoIPOutputFieldView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/Base"),i("views/shared/controls/TextControl"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticCheckboxControl"),e],void 0===(l=function(e,t,i,a,l,o){return t.extend({moduleId:o.i,tagName:"tr",className:"field-view-row",checkBoxHiddenChangeHandler:function(e,t){this.updateEnabledState(e)},updateEnabledState:function(e){e?(this.$(".col-lookup-output-field-name-label").removeClass("disabled"),this.textDisplayNameControl.disable()):(this.$("col-lookup-output-field-name-label").addClass("disabled"),this.textDisplayNameControl.enable())},initialize:function(e){t.prototype.initialize.call(this,e),e=e||{},this.$el.addClass(e.className),this.textDisplayNameControl=new i({modelAttribute:"displayName",model:this.model}),this.children.textDisplayName=new a({controls:this.textDisplayNameControl}),this.children.checkBoxHidden=new l({model:this.model,modelAttribute:"hidden",invertValue:!0}),this.children.checkBoxHidden.on("change",this.checkBoxHiddenChangeHandler,this),e.flashMessagesHelper.register(this.model)},render:function(){var t=e(this.template).template({lookupOutputFieldName:this.model.get("lookupOutputFieldName")});return this.$el.html(t),this.$(".col-checkBox-hidden").append(this.children.checkBoxHidden.render().el),this.$(".col-display-name").append(this.children.textDisplayName.render().el),this.updateEnabledState(this.model.get("hidden")),this},template:'                    <td class="col-checkBox-hidden"></td>                    <td class="col-lookup-output-field-name-label"><%- lookupOutputFieldName %></td>                    <td class="col-display-name"></td>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/LookupInputFieldView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/ValidatingView"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),e],void 0===(l=function(e,t,i,a,l){return t.extend({moduleId:l.i,className:"lookup-input-attribute-controls",tagName:"tr",events:{"click .remove-button":function(e){e.preventDefault(),this.trigger("action:removeInputField",this.model.cid)}},initialize:function(e){t.prototype.initialize.call(this,e),e=e||{},this.$el.addClass(e.className),this.collection.lookupFields.on("change add remove reset",this.applyItemsToSelectLookupField,this),this.children.selectInputField=new a({model:this.model,modelAttribute:"inputField",items:e.fieldNames,toggleClassName:"btn",menuWidth:"narrow"}),this.children.selectLookupField=new a({model:this.model,modelAttribute:"lookupField",items:this.getLookupItems(),toggleClassName:"btn",menuWidth:"narrow"})},getLookupItems:function(){var e=[];return this.collection.lookupFields.each((function(t){e.push({label:t.get("id"),value:t.get("id")})}),this),e},applyItemsToSelectLookupField:function(){this.children.selectLookupField.setItems(this.getLookupItems())},render:function(){var t=e(this.template).template({});return this.$el.html(t),this.$(".select-input-field-placeholder").append(this.children.selectInputField.render().el),this.$(".select-lookup-field-placeholder").append(this.children.selectLookupField.render().el),this},template:'                <td class="select-lookup-field-placeholder"></td>                <td>=</td>                <td class="select-input-field-placeholder"></td>                <td><a href="#" class="remove-button"><%- _("Remove").t() %></a></td>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/LookupInputFieldsView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/Base"),i("views/data_model_editor/form_components/LookupInputFieldView"),e,i("util/console")],void 0===(l=function(e,t,i,a,l,o){return i.extend({moduleId:l.i,className:"lookup-input-fields-view",fieldViews:null,events:{"click .add-new-button":function(e){e.preventDefault(),this.trigger("action:addInputField")}},removeFieldHandler:function(e){this.trigger("action:removeInputField",e)},addInputFieldsHandler:function(e,t,i){this._addFieldView(e)},removeInputFieldsHandler:function(e,t,i){this.$(".fields-container").children().eq(i.index).remove(),this.fieldViews.splice(i.index,1)},resetInputFieldsHandler:function(e,t){this._rebuildFieldViews()},_addFieldView:function(e){var t=new a({model:e,collection:{lookupFields:this.collection.lookupFields},fieldNames:this.options.fieldNames});this.$(".fields-container").append(t.render().el),this.fieldViews.push(t),t.on("action:removeInputField",this.removeFieldHandler,this)},_rebuildFieldViews:function(){t(this.fieldViews).each((function(e){e.remove()})),this.fieldViews=[],this.collection.lookupInputs.each((function(e){this._addFieldView(e)}),this)},initialize:function(e){i.prototype.initialize.call(this,e),this.fieldViews=[],this.flashMessagesHelper=e.flashMessagesHelper,this.collection.lookupInputs.on("add",this.addInputFieldsHandler,this),this.collection.lookupInputs.on("remove",this.removeInputFieldsHandler,this),this.collection.lookupInputs.on("reset",this.resetInputFieldsHandler,this)},render:function(){this.$el.empty();var e=t(this.template).template({});return this.$el.html(e),this._rebuildFieldViews(),this},template:'                    <table class="output-fields-table">                        <thead>                            <tr>                                <td><%- _("Field in Lookup:").t() %></td>                                <td></td>                                <td><%- _("Field in Dataset:").t() %></td>                                <td></td>                            </tr>                        </thead>                        <tbody class="fields-container"></tbody>                    </table>                    <a href="#" class="add-new-button"><%- _("Add New").t() %></a>                '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/LookupOutputFieldView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/ValidatingView"),i("views/shared/controls/ControlGroup"),i("views/data_model_editor/form_components/SelectFieldType"),i("views/data_model_editor/form_components/SelectFieldFlags"),e],void 0===(l=function(e,t,i,a,l,o){return t.extend({moduleId:o.i,className:"lookup-attribute-controls",tagName:"tr",events:{"click .remove-button":function(e){e.preventDefault(),this.trigger("action:removeOutputField",this.model.cid)}},modelToControlGroupMap:{fieldName:"textFieldName",displayName:"textDisplayName"},isInputFieldChangeHandler:function(){this.model.get("isInputField")?(this.children.checkboxSelected.disable(),this.children.textFieldName.disable(),this.children.textDisplayName.disable(),this.children.selectFieldType.disable(),this.children.selectFieldFlags.disable()):(this.children.checkboxSelected.enable(),this.children.textFieldName.enable(),this.children.textDisplayName.enable(),this.children.selectFieldType.enable(),this.children.selectFieldFlags.enable())},initialize:function(e){t.prototype.initialize.call(this,e),e=e||{},this.$el.addClass(e.className),this.model.on("change:isInputField",this.isInputFieldChangeHandler,this),this.children.checkboxSelected=new i({controlType:"SyntheticCheckbox",controlOptions:{model:this.model,modelAttribute:"selected",label:this.model.get("lookupOutputFieldName")}}),this.children.textFieldName=new i({controlType:"Text",controlOptions:{model:this.model,modelAttribute:"fieldName"}}),this.children.textDisplayName=new i({controlType:"Text",controlOptions:{model:this.model,modelAttribute:"displayName"}}),this.children.selectFieldType=new i({controls:new a({model:this.model})}),this.children.selectFieldFlags=new i({controls:new l({model:this.model})})},render:function(){var t=e(this.template).template({});return this.$el.html(t),this.$(".selected-placeholder").append(this.children.checkboxSelected.render().el),this.$(".field-name-placeholder").append(this.children.textFieldName.render().el),this.$(".display-name-placeholder").append(this.children.textDisplayName.render().el),this.$(".field-type-placeholder").append(this.children.selectFieldType.render().el),this.$(".field-flags-placeholder").append(this.children.selectFieldFlags.render().el),this.isInputFieldChangeHandler(),this},template:'                <td class="selected-placeholder"></td>                <td class="field-name-placeholder"></td>                <td class="display-name-placeholder"></td>                <td class="field-type-placeholder"></td>                <td class="field-flags-placeholder"></td>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/LookupOutputFieldsView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/Base"),i("views/data_model_editor/form_components/LookupOutputFieldView"),e,i("util/console")],void 0===(l=function(e,t,i,a,l){return t.extend({moduleId:a.i,className:"lookup-fields-view",fieldViews:null,events:{"click .add-new-button":function(e){e.preventDefault(),this.trigger("action:addOutputField")}},removeFieldHandler:function(e){this.trigger("action:removeOutputField",e)},addOutputFieldsHandler:function(e,t,i){this._addFieldView(e)},removeOutputFieldsHandler:function(e,t,i){this.$(".fields-container").children().eq(i.index).remove(),this.fieldViews.splice(i.index,1)},resetOutputFieldsHandler:function(e,t){this._rebuildFieldViews()},_addFieldView:function(e){var t=new i({model:e,flashMessagesHelper:this.flashMessagesHelper});this.$(".fields-container").append(t.render().el),this.fieldViews.push(t),t.on("action:removeOutputField",this.removeFieldHandler,this)},_rebuildFieldViews:function(){e(this.fieldViews).each((function(e){e.remove()})),this.fieldViews=[],this.collection.each((function(e,t){this._addFieldView(e)}),this)},initialize:function(e){t.prototype.initialize.call(this,e),this.fieldViews=[],this.flashMessagesHelper=e.flashMessagesHelper,this.collection.on("add",this.addOutputFieldsHandler,this),this.collection.on("remove",this.removeOutputFieldsHandler,this),this.collection.on("reset",this.resetOutputFieldsHandler,this)},render:function(){this.$el.empty();var t=e(this.template).template({});return this.$el.html(t),this._rebuildFieldViews(),this},template:'                    <table class="output-fields-table">                        <thead>                            <tr>                                <td><%- _("Field in Lookup:").t() %></td>                                <td><%- _("Field in Dataset:").t() %></td>                                <td><%- _("Display Name:").t() %></td>                                <td><%- _("Type:").t() %></td>                                <td><%- _("Flags:").t() %></td>                                <td></td>                            </tr>                        </thead>                        <tbody class="fields-container"></tbody>                    </table>                '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/ManualFieldRow":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("views/shared/delegates/RowExpandCollapse"),i("views/shared/controls/TextControl"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/data_model_editor/form_components/SelectFieldFlags"),i("views/data_model_editor/form_components/SelectFieldType")],void 0===(l=function(e,t,i,a,l,o,s,n,d){return a.extend({tagName:"tr",moduleId:i.i,events:{"click .removeField":function(e){e.preventDefault(),this.trigger("action:removeField",this.model)}},initialize:function(e){a.prototype.initialize.call(this,e),this.children.textFieldName=new o({model:this.model,modelAttribute:"fieldName"}),this.children.textDisplayName=new o({model:this.model,modelAttribute:"displayName"}),this.children.selectFieldType=new d({model:this.model,className:"dropdown",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal .modal-body:visible"}}),this.children.selectFieldFlags=new n({model:this.model,className:"dropdown",popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal .modal-body:visible"}})},render:function(){this.children.textFieldName.detach(),this.children.textDisplayName.detach(),this.children.selectFieldType.detach(),this.children.selectFieldFlags.detach();var e=this.compiledTemplate();return this.$el.html(e),this.$el.find(".manual-col-description").append(this.children.textFieldName.render().el),this.$el.find(".col-rename").append(this.children.textDisplayName.render().el),this.$el.find(".col-type").append(this.children.selectFieldType.render().el),this.$el.find(".col-type").append(this.children.selectFieldFlags.render().el),this.$el.find(".col-type").append('<a href="#" class="removeField"><i class="icon-cancel"></i></a>'),this},template:'                    <td></td>                    <td class="col-checkbox"></td>                    <td class="manual-col-description"></td>                    <td class="col-rename">                    </td>                    <td class="col-type">                    </td>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/RemovableItem":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/Base"),e],void 0===(l=function(e,t,i){return t.extend({moduleId:i.i,className:"removable-item",events:{"click .remove-button":function(e){e.preventDefault(),this.trigger("removeItem",this.item.value)}},initialize:function(i){t.prototype.initialize.call(this,i),e(i=i||{}).defaults({allowSorting:!1}),this.$el.addClass(i.className),this.allowSorting=i.allowSorting,this.item=i.item},render:function(){var t=e(this.template).template({item:this.item,allowSorting:this.allowSorting});return this.$el.html(t),this},template:'                <div class="btn-combo item" data-item-value="<%- item.value %>">                <div class="btn                     <% if (allowSorting) { %>                        btn-draggable                    <% } %>                     item-label" title="<%- item.label %>"><%- item.label %></div>                <div class="btn remove-button"><i class="icon-cancel"></i></div>                </div>                '},{VALUE_SELECTOR:".item",VALUE_ATTR:"data-item-value"})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/RexOutputFieldView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/Base"),i("views/shared/controls/TextControl"),i("views/data_model_editor/form_components/SelectFieldType"),i("views/data_model_editor/form_components/SelectFieldFlags"),e],void 0===(l=function(e,t,i,a,l,o){return t.extend({moduleId:o.i,tagName:"tr",initialize:function(e){t.prototype.initialize.call(this,e),e=e||{},this.$el.addClass(e.className),this.children.textDisplayName=new i({model:this.model,modelAttribute:"displayName"}),this.children.selectFieldType=new a({model:this.model}),this.children.selectFieldFlags=new l({model:this.model})},render:function(){var t=e(this.template).template({fieldName:this.model.get("fieldName")});return this.$el.html(t),this.$(".display-name-placeholder").append(this.children.textDisplayName.render().el),this.$(".field-type").append(this.children.selectFieldType.render().el),this.$(".field-flags").append(this.children.selectFieldFlags.render().el),this},template:'                        <td class="field-name"><%- fieldName %></td>                        <td class="display-name-placeholder"></td>                        <td class="field-type"></td>                        <td class="field-flags"></td>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/RexOutputFieldsView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/Base"),i("views/data_model_editor/form_components/RexOutputFieldView"),e],void 0===(l=function(e,t,i,a){return t.extend({moduleId:a.i,className:"rex-output-fields-body",fieldViews:null,initialize:function(e){t.prototype.initialize.call(this,e),this.fieldViews=[],this.model.outputFields.on("add remove reset",this.debouncedRender,this)},render:function(){e(this.fieldViews).each((function(e){e.remove()})),this.fieldViews=[],this.$el.empty();var t=e(this.template).template({hasAttributes:this.model.outputFields.length});return this.$el.html(t),this.model.withEachField((function(e,t){var a=new i({model:e});this.$(".output-fields-body").append(a.render().el),this.fieldViews.push(a)}),this),this},template:'                <% if (hasAttributes) { %>                    <table class="output-fields-table">                        <thead>                            <tr>                                <td><%- _("Field Name:").t() %></td>                                <td><%- _("Display Name:").t() %></td>                                <td><%- _("Type:").t() %></td>                                <td><%- _("Flags:").t() %></td>                            </tr>                        </thead>                        <tbody class="output-fields-body"></tbody>                    </table>                <% } else { %>                    <span><%- _("Fields will be defined from the regular expression.").t() %></span>                <% } %>                '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/SelectFieldFlags":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/shared/controls/SyntheticSelectControl"),e],void 0===(l=function(e,t,i){return t.extend({moduleId:i.i,className:"select-field-flags",initialize:function(){var i={toggleClassName:"btn",menuWidth:"narrow",modelAttribute:"",items:[{label:e("Optional").t(),value:"optional"},{label:e("Required").t(),value:"required"},{label:e("Hidden").t(),value:"hidden"},{label:e("Hidden & Required").t(),value:"hidden,required"}],popdownOptions:{}};e.defaults(this.options,i),e.defaults(this.options.popdownOptions,i.popdownOptions),t.prototype.initialize.call(this,this.options)},registerListeners:function(){this.model.on("change:hidden",this.render,this),this.model.on("change:required",this.render,this)},setValueFromModel:function(e){var t="optional",i=this.model.get("hidden"),a=this.model.get("required");return i&&a?t="hidden,required":i?t="hidden":a&&(t="required"),this._setValue(t,e),this},getUpdatedModelAttributes:function(){var e=!1,t=!1,i=this.getValue();return"hidden,required"===i?(e=!0,t=!0):"hidden"===i?e=!0:"required"===i&&(t=!0),{hidden:e,required:t}}})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/SelectFieldType":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/shared/controls/SyntheticSelectControl"),e],void 0===(l=function(e,t,i){return t.extend({moduleId:i.i,className:"select-field-type",initialize:function(){var i={toggleClassName:"btn",menuWidth:"narrow",modelAttribute:"type",items:[{label:e("String").t(),value:"string"},{label:e("Number").t(),value:"number"},{label:e("Boolean").t(),value:"boolean"},{label:e("IPV4").t(),value:"ipv4"}],popdownOptions:{}};e.defaults(this.options,i),e.defaults(this.options.popdownOptions,i.popdownOptions),t.prototype.initialize.call(this,this.options)}})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/SelectItemPopdown":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),e],void 0===(l=function(e,t,i,a,l){return a.extend({moduleId:l.i,className:"select-item-popdown dropdown-menu ",events:{"click .item-button":function(e){e.preventDefault(),this.trigger("itemSelected",this.resolveItemValue(e.currentTarget))}},resolveItemValue:function(t){return e(t).closest(".item").attr("data-item-value")},initialize:function(e){a.prototype.initialize.call(this,e),this.collection.on("add remove reset",this.debouncedRender,this),t(e=e||{}).defaults({valueAttribute:"value",labelAttribute:"label"}),this.valueAttribute=e.valueAttribute,this.labelAttribute=e.labelAttribute},render:function(){var e=t(this.template).template({items:this.collection,valueAttribute:this.valueAttribute,labelAttribute:this.labelAttribute});this.$el.html(e)},template:'                    <div class="arrow" style="margin-left: -91px;"></div>                    <ul>                        <% items.each(function(item) { %>                            <li class="item" data-item-value="<%- item.get(valueAttribute) %>">                                <a href="#" class="item-button"> <%- item.get(labelAttribute) %></a>                            </li>                        <% }); %>                    </ul>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/SelectMultipleItems":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/Base"),i("views/shared/delegates/Popdown"),i("views/data_model_editor/form_components/SelectItemPopdown"),i("views/data_model_editor/form_components/RemovableItem"),i("shim/jquery.ui.sortable"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d){return a.extend({moduleId:d.i,className:"select-multiple-items",selectedItemsViews:[],selectableItemsCollection:void 0,initialize:function(e){a.prototype.initialize.call(this,e),t(e=e||{}).defaults({valueAttribute:"value",labelAttribute:"label",allowSorting:!1}),this.$el.addClass(e.className),this.allowSorting=e.allowSorting,this.valueAttribute=e.valueAttribute,this.labelAttribute=e.labelAttribute,this.selectableItemsCollection=new i.Collection,this.children.selectItemDialog=new o({collection:this.selectableItemsCollection,valueAttribute:this.valueAttribute,labelAttribute:this.labelAttribute}),this.children.selectItemDialog.on("itemSelected",this.itemSelectedHandler,this),this.children.popdown=new l({el:this.el,toggle:".add-button",dialog:".select-item-popdown"}),this.collection.selectedItemsCollection.on("add remove reset",this.selectedItemsChangeHandler,this),this.collection.itemsCollection.on("add remove reset",this.updateSelectableItemsCollection,this),t.defer(t.bind(this.updateSelectableItemsCollection,this))},selectedItemsChangeHandler:function(){this.updateSelectableItemsCollection(),this.renderSelectedItems()},itemSelectedHandler:function(e){this.collection.selectedItemsCollection.add(this.collection.itemsCollection.find((function(t){return t.get(this.valueAttribute)==e}),this))},removeItemHandler:function(e){this.collection.selectedItemsCollection.remove(this.collection.selectedItemsCollection.find((function(t){return t.get(this.valueAttribute)==e}),this))},updateSelectableItemsCollection:function(e){var t=[];t=this.collection.selectedItemsCollection.length>0?this.collection.itemsCollection.reject((function(e){return this.collection.selectedItemsCollection.find((function(t){return t.get(this.valueAttribute)==e.get(this.valueAttribute)}),this)}),this):this.collection.itemsCollection.models,this.selectableItemsCollection.reset(t),this.selectableItemsCollection.length>0?this.$(".add-button").show():this.$(".add-button").hide()},configureSortable:function(){var e=this;this.$(".custom-item-list").sortable({items:".removable-item",stop:function(t,i){e.onSortStop()}})},onSortStop:function(){var i=t(this.$(".removable-item")).map((function(t){return e(t).find(s.VALUE_SELECTOR).attr(s.VALUE_ATTR)}),this),a=this.collection.selectedItemsCollection.sortBy((function(e,a){return t(i).indexOf(e.get(this.valueAttribute))}),this);this.collection.selectedItemsCollection.reset(a)},renderSelectedItems:function(){t(this.selectedItemsViews).each((function(e){e.remove()})),this.selectedItemsViews=[],this.collection.selectedItemsCollection.each((function(e,t){var i=new s({item:{value:e.get(this.valueAttribute),label:e.get(this.labelAttribute)},allowSorting:this.allowSorting});i.on("removeItem",this.removeItemHandler,this),this.$(".custom-item-list").append(i.render().el),this.selectedItemsViews.push(i)}),this),this.allowSorting&&this.configureSortable()},render:function(){var e=t(this.template).template({});return this.$el.html(e),this.children.selectItemDialog.render().replaceAll(this.$(".select-item-popdown-placeholder")),this.renderSelectedItems(),this},template:'                    <div class="custom-item-list"></div>                    <a href="#" class="btn add-button">+</a>                    <div class="select-item-popdown-placeholder"></div>                '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/SelectMultipleObjects":function(e,t,i){var a,l;a=[i("require/underscore"),i("models/services/datamodel/DataModel"),i("views/data_model_editor/form_components/SelectMultipleItems"),e],void 0===(l=function(e,t,i,a){return i.extend({moduleId:a.i,className:"select-multiple-objects",initialize:function(e){i.prototype.initialize.call(this,e)},updateSelectableItemsCollection:function(){var e=[],i=!0;this.collection.selectedItemsCollection.length>0?this.collection.selectedItemsCollection.at(0).get("rootParent")==t.BASE_EVENT?e=this.collection.itemsCollection.reject((function(e){return this.collection.selectedItemsCollection.find((function(t){return t.get(this.valueAttribute)==e.get(this.valueAttribute)}),this)||e.get("rootParent")!=t.BASE_EVENT}),this):i=!1:e=this.collection.itemsCollection.models;i?(this.selectableItemsCollection.reset(e),this.$(".add-button").show()):this.$(".add-button").hide()}})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/SimpleTimePicker":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/Base"),i("views/shared/controls/Control"),i("views/shared/controls/TextControl"),i("views/shared/controls/SyntheticSelectControl"),e],void 0===(l=function(e,t,i,a,l,o){return i.extend({moduleId:o.i,className:"simple-time-picker-control input-append",initialize:function(t){i.prototype.initialize.call(this,t),t=t||{},this.$el.addClass(t.className),this.children.textTimeValue=new a({modelAttribute:this.options.modelAttribute}),this.children.selectTimeUnit=new l({items:[{value:"s",label:e("Seconds").t()},{value:"m",label:e("Minutes").t()},{value:"h",label:e("Hours").t()},{value:"d",label:e("Days").t()},{value:"w",label:e("Weeks").t()},{value:"mon",label:e("Months").t()},{value:"q",label:e("Quarters").t()},{value:"y",label:e("Years").t()}],className:"btn-group select-time-unit",toggleClassName:"btn",menuWidth:"narrow",defaultValue:"s"}),this.children.textTimeValue.on("change",this.childControlChangeHandler,this),this.children.selectTimeUnit.on("change",this.childControlChangeHandler,this)},childControlChangeHandler:function(){this.setValue(this.getValueFromChildren(),!1)},applyValueToChildren:function(t){if(!e.isUndefined(t)){var i=t.search(/[a-z]+/);-1!=i&&(this.children.textTimeValue._setValue(t.slice(0,i),!0,!0),this.children.selectTimeUnit._setValue(t.slice(i),!0,!0))}},getValueFromChildren:function(){var e=this.children.textTimeValue.getValue().replace(/[^0-9]/g,"");return e?e+this.children.selectTimeUnit.getValue():""},render:function(){if(!this.el.innerHTML){var t=e(this.template).template({});this.$el.html(t),this.$(".time-value-placeholder").replaceWith(this.children.textTimeValue.render().el),this.$(".time-unit-placeholder").replaceWith(this.children.selectTimeUnit.render().el)}return this.applyValueToChildren(this.getValue()),this},template:'                <span class="time-value-placeholder"></span>                <span class="time-unit-placeholder"></span>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/TimestampFieldRow":function(e,t,i){var a,l;a=[e,i("views/Base"),i("views/shared/controls/SyntheticCheckboxControl")],void 0===(l=function(e,t,i){return t.extend({tagName:"tr",moduleId:e.i,initialize:function(){t.prototype.initialize.apply(this,arguments),this.children.checkBoxSelected=new i({model:this.model,modelAttribute:"selected"}),this.listenTo(this.model,"change",this.debouncedRender)},render:function(){return this.children.checkBoxSelected.detach(),this.$el.html(this.compiledTemplate({fieldName:this.model.get("fieldName"),selected:this.model.get("selected")})),this.children.checkBoxSelected.render().appendTo(this.$(".col-checkbox")),this},template:'            <td></td>            <td class="col-checkbox"></td>            <td class="col-description"><%- fieldName %></td>            <td class="col-rename">                <% if(selected) { %>                    <span class="uneditable-property"><%- fieldName %></span>                <% } %>            </td>            <td class="col-type">                <% if(selected) { %>                    <span class="uneditable-property"><%- _("Time, Required").t() %></span>                <% } %>            </td>        '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/TrimmedTextareaControl":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("shim/splunk.util"),i("views/shared/controls/TextareaControl")],void 0===(l=function(e,t,i,a){return a.extend({moduleId:t.i,setValue:function(e,t,l){return a.prototype.setValue.call(this,i.trim(e),t,l)}})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/preview/DataModelPreviewView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/dataenrichment/preview/components/SearchResultsControlBar"),i("views/shared/eventsviewer/Master"),i("views/shared/results_table/ResultsTableMaster"),i("models/Base"),i("models/shared/fetchdata/ResultsFetchData"),i("models/services/saved/Search"),i("models/services/search/IntentionsParser"),i("models/services/search/jobs/Result"),i("models/services/search/jobs/ResultJsonRows"),i("models/services/search/jobs/Summary"),i("collections/Base"),i("collections/services/data/ui/WorkflowActions")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v){return l.extend({moduleId:a.i,ADHOC_SEARCH_LEVEL:"verbose",initialize:function(e){l.prototype.initialize.call(this,e),this.model.intentionsParser=new h,this.collection={},this.collection.workflowActions=new v,this.options.flashMessagesView.register(this.model.intentionsParser),this.model.searchJob.on("prepared",this.searchJobPrepared,this),this.model.searchJob.on("change:id",this.searchJobClear,this)},setModels:function(e,t){this.model.object=e,this.model.calculation=t},searchJobPrepared:function(){var e=this.model.searchJob.getSearch();this.model.searchJob.on("jobProgress",this.searchJobProgress,this),this.createSubViews(e)},searchJobClear:function(){this.model.searchJob.isNew()&&(this.model.searchJob.entry.links.off("change:summary",this.summaryChangeHandler),this.model.searchJob.off("jobProgress",this.searchJobProgress,this))},searchJobProgress:function(){e.when(this.workflowActionsDeferred,this.searchParseDeferred).then(function(){this.model.resultsModel.safeFetch(),this.model.summary&&this.model.summary.safeFetch()}.bind(this))},summaryChangeHandler:function(){this.model.summary.set("id",this.model.searchJob.entry.links.get("summary"))},createSubViews:function(t){this.searchParseDeferred=e.Deferred(),this.workflowActionsDeferred=e.Deferred(),delete this.model.summary,this.workflowActionsBootstrap(this.workflowActionsDeferred),this.intentionsParserBootstrap(this.searchParseDeferred,t),e.when(this.workflowActionsDeferred,this.searchParseDeferred).then(function(){var e;this.children.resultsView&&this.children.resultsView.remove(),this.children.resultsControlBar&&this.children.resultsControlBar.remove(),this.model.resultsFetchData=new r({segmentation:"full",count:"20",max_lines:20}),this.options.isCalculation||this.model.intentionsParser.isReportsSearch()?(e="results_preview",this.model.resultsModel=new u({},{fetchData:this.model.resultsFetchData}),this.model.resultsFetchData.set({output_mode:"json_rows"}),this.children.resultsView=new n({model:{searchData:this.model.resultsModel,searchDataParams:this.model.resultsFetchData,config:new d},enableTableDock:!0,className:"scrolling-table-wrapper"})):(e="events",this.model.resultsModel=new p({},{fetchData:this.model.resultsFetchData}),this.model.reportModel=new c,this.model.reportModel.entry.content.set("display.events.type","raw"),this.model.summary=new m,this.model.searchJob.entry.links.on("change:summary",this.summaryChangeHandler,this),this.children.resultsView=new s({model:{result:this.model.resultsModel,summary:this.model.summary,searchJob:this.model.searchJob,report:this.model.reportModel,application:this.model.application},collection:{selectedFields:new f,workflowActions:this.collection.workflowActions},selectableFields:!1,allowRowExpand:!1,allowModalize:!1,headerMode:"none"})),this.children.resultsControlBar=new o({model:{page:this.model.resultsFetchData,state:this.model.sampleSize,searchJob:this.model.searchJob,paginatorState:this.model.resultsFetchData},reportType:e}),this.children.resultsControlBar.render().appendTo(this.$(".results-control-bar-placeholder")),this.children.resultsView.render().appendTo(this.$(".preview-table-wrapper")),this.model.resultsModel.set("id",this.model.searchJob.entry.links.get(e))}.bind(this))},fetchPreviewSearchString:function(i,a){var l=e.Deferred();return this.model.dataModel.save({},{data:{provisional:!0}}).then(function(){var e,o=this.model.dataModel.objectByName(i);e=t(a).isUndefined()?o.get("previewSearch"):o.getCalculationPreviewSearch(a,!0,!0),l.resolve(e)}.bind(this)),l},intentionsParserBootstrap:function(e,t){this.model.intentionsParser.fetch({data:{q:t,adhoc_search_level:this.ADHOC_SEARCH_LEVEL,app:this.model.application.get("app"),owner:this.model.application.get("owner")},success:function(t,i){e.resolve()},error:function(t,i){e.reject()}})},workflowActionsBootstrap:function(e){this.collection.workflowActions.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),count:-1},success:function(t,i){e.resolve()},error:function(t,i){e.resolve()}})},cleanup:function(){},render:function(){return this.$el.html(this.compiledTemplate({})),this},template:'                <div class="results-control-bar-placeholder"></div>                <div class="preview-table-wrapper"></div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_components/preview/DataModelPreviewViewStack":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("models/Base"),i("models/services/search/jobs/Summary"),i("models/shared/fetchdata/ResultsFetchData"),i("models/services/search/jobs/ResultJsonRows"),i("views/Base"),i("views/shared/tabcontrols/TabbedViewStack"),i("views/shared/results_table/MatchResultsTableMaster"),i("views/shared/dataenrichment/preview/components/PreviewResultsPane"),i("views/shared/dataenrichment/preview/components/ViewValuesPane"),i("util/splunkd_utils"),i("util/datamodel/search_utils")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p){return s.extend({moduleId:t.i,initialize:function(e){s.prototype.initialize.call(this,e),this.model.searchJob.on("prepared",this.searchJobPrepared,this),this.model.searchJob.on("change:id",this.searchJobClear,this),this.model.summary=new a,this.model.searchJob.entry.links.on("change",(function(){this.model.summary.set("id",this.model.searchJob.entry.links.get("summary"))}),this)},createSubViews:function(){this.model.object;this.previewPane&&this.previewPane.remove(),this.viewValuesPanes&&e(this.viewValuesPanes).each((function(e){e.remove()}),this),this.children.viewStack&&this.children.viewStack.remove(),this.model.results&&this.options.flashMessagesView.unregister(this.model.results);var t={output_mode:"json_rows",segmentation:"full",count:20,max_lines:20};this.model.field&&(t.search=p.generateFieldSubSearch([this.model.field.get("fieldName")],"_raw")),this.model.fetchData=new l(t),this.model.results=new o({},{fetchData:this.model.fetchData}),this.options.flashMessagesView.register(this.model.results,[h.ERROR,h.FATAL]),this.model.results.set("id",this.model.searchJob.entry.links.get("results_preview")),this.previewPane=new r({model:{dataModel:this.model.dataModel,application:this.model.application,state:this.model.sampleSize,searchJob:this.model.searchJob,resultsFetchData:this.model.fetchData,results:this.model.results},flashMessagesView:this.options.flashMessagesView,label:e("Events").t(),noResultsMessage:{type:h.ERROR,html:e("No results found.").t()}}),this.viewValuesPanes=[];var i={type:h.WARNING,html:e("The field was not found in the events. Try changing the sample size or the regular expression.").t()};if(this.model.calculation){var a=this.model.calculation.outputFields.length>1;this.model.calculation.withEachField((function(t){var l=a?t.get("displayName"):e("Values").t();this.viewValuesPanes.push(new c({label:l,fieldName:t.get("fieldName"),model:{sampleSize:this.model.sampleSize,searchJob:this.model.searchJob,summary:this.model.summary},noResultsMessage:i}))}),this)}else this.viewValuesPanes.push(new c({label:e("Values").t(),fieldName:this.model.field.get("fieldName"),model:{state:this.model.sampleSize,searchJob:this.model.searchJob,summary:this.model.summary},noResultsMessage:i}));this.children.previewPanes=[this.previewPane].concat(this.viewValuesPanes),this.visitedPanes=[];for(var s=0;s<this.children.previewPanes.length;s++)this.visitedPanes[s]=!1;this.children.viewStack=new n({selectedIndex:0}),this.children.viewStack.on("change:selectedIndex",this.selectedIndexChangeHandler,this),this.children.viewStack.render().appendTo(this.$(".viewstack-placeholder")),this.toggleViewStackPanes()},setModels:function(e,t,i){this.model.object=e,this.model.calculation=t,this.model.field=i},searchJobPrepared:function(){this.previousHasEvents=void 0,this.model.searchJob.on("jobProgress",this.searchJobProgress,this),this.model.searchJob.entry.content.on("change:eventCount",this.toggleViewStackPanes,this),this.createSubViews()},searchJobClear:function(){this.model.searchJob.isNew()&&(this.model.searchJob.off("jobProgress",this.searchJobProgress,this),this.model.searchJob.entry.content.off("change:eventCount",this.toggleViewStackPanes,this),this.model.summary.clear())},searchJobProgress:function(){this.model.summary.safeFetch({data:{top_count:1e3}}),this.fetchDataForSelectedPane(this.children.viewStack.getSelectedIndex())},normalizeEventCount:function(e){return null!=e&&0!=(e=parseInt(e,10))},toggleViewStackPanes:function(){var e=this.normalizeEventCount(this.model.searchJob.entry.content.get("eventCount"));if(e!=this.previousHasEvents){var t=this.children.viewStack.getLength();if(e){if(t<=1)for(var i=this.children.previewPanes.length,a=t;a<i;a++){var l=this.children.previewPanes[a];this.children.viewStack.addPane(l)}}else if(t>1)for(var o=t-1;o>0;o--)this.children.viewStack.removePaneAt(o);else 0==t&&this.children.viewStack.addPane(this.children.previewPanes[0])}this.previousHasEvents=e},selectedIndexChangeHandler:function(){var e=this.children.viewStack.getSelectedIndex();!this.model.searchJob.isRunning()&&this.visitedPanes[e]||this.fetchDataForSelectedPane(e),this.visitedPanes[e]=!0},fetchDataForSelectedPane:function(e){0==e&&this.model.results.safeFetch()},generateFieldSubSearch:function(e,t){var i=" | fields "+e.join(","),a=[];return"_raw"!=t&&a.push("_raw"),"_time"!=t&&a.push("_time"),a.length>0&&(i+=" | fields - "+a.join(",")),i},render:function(){return this.$el.html(this.compiledTemplate({})),this},template:'                <div class="viewstack-placeholder"></div>            '},{SUMMARY_TOP_COUNT:1e3})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditEvalView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/data_model_editor/form_components/EvalOutputFieldView"),i("uri/route"),i("util/splunkd_utils"),e],void 0===(l=function(e,t,i,a,l,o,s,n){return i.extend({moduleId:n.i,className:"add-edit-view",initialize:function(e){if(i.prototype.initialize.call(this,e),this.model.objectModel=this.model.dataModel.objectByName(this.parentObjectName),t(this.model.objectModel).isUndefined())this.addObjectError(this.parentObjectName);else{if("add"==this.operation){this.model.calculation=this.model.objectModel.createCalculation({calculationType:"Eval"}),this.model.calculation.addField(),this.model.outputField=this.model.calculation.getFieldAt(0)}else{if(this.model.calculation=this.model.objectModel.getCalculation(this.calculationID),t(this.model.calculation).isUndefined())return void this.addCalculationError(this.calculationID);this.model.outputField=this.model.calculation.getFieldAt(0)}this.children.textareaExpression=new a({label:t("Eval Expression").t(),controlType:"Textarea",controlOptions:{model:this.model.calculation,modelAttribute:"expression"}}),this.children.outputFieldView=new l({model:this.model.outputField}),this.flashMessagesHelper.register(this.model.calculation),this.flashMessagesHelper.register(this.model.outputField)}},performLocalValidation:function(){var e=this.model.calculation.set({},{validate:!0});return this.model.outputField.set({},{validate:!0})&&e},_handlePreview:function(){return e.Deferred().resolve(this.model.objectModel.get("objectName"),this.model.calculation.getFieldNames(),this.model.calculation)},renderEditor:function(e){var i=o.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"search_app.assist.eval"),a=t(this.editorTemplate).template({type:this.type,operation:this.operation,docUrl:i});e.html(a),this.$(".eval-expression-placeholder").replaceWith(this.children.textareaExpression.render().el),this.$(".eval-output-field-placeholder").replaceWith(this.children.outputFieldView.render().el)},editorTemplate:'                        <form class="add-edit-form">                            <div class="eval-expression">                            <div class="eval-expression-placeholder"></div>                                <span class="help-block"><%- _("Examples:").t() %><br/>                                <span class="mono-space">case(error == 404, "Not found", error == 500, "Internal Server Error") <br>                                   if(cidrmatch("192.0.0.0/16", clientip), "local", "other")</span><br/>                                </span>                                <a href="<%- docUrl %>" target="_blank" rel="noopener noreferrer" class="external"><%- _("Learn More").t() %></a>                            </div>                            <div class="eval-output-field-placeholder"></div>                        </form>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditFieldView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/data_model_editor/form_components/SelectFieldFlags"),i("views/data_model_editor/form_components/SelectFieldType"),i("helpers/FlashMessagesHelper"),i("util/splunkd_utils"),i("util/datamodel/form_utils"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d,r){return i.extend({className:"view-add-edit-field",moduleId:r.i,initialize:function(e){(i.prototype.initialize.call(this,e),this.type=e.type,this.model.objectModel=this.model.dataModel.objectByName(this.parentObjectName),t(this.model.objectModel).isUndefined())?this.addObjectError(this.parentObjectName):(this.model.field=this.model.objectModel.getField(e.fieldName),t(this.model.field).isUndefined()?this.addFieldError(e.fieldName):(this.children.labelFieldName=new a({label:t("Field Name:").t(),controlType:"Label",controlOptions:{modelAttribute:"fieldName",model:this.model.field}}),"timestamp"!==this.model.field.get("type")&&(this.children.textDisplayName=new a({label:t("Display Name:").t(),controlType:"Text",controlOptions:{modelAttribute:"displayName",model:this.model.field}}),this.children.selectFieldType=new a({label:t("Type:").t(),controls:new o({model:this.model.field,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}})})),this.children.selectFieldFlags=new a({label:t("Flags:").t(),controls:new l({model:this.model.field,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}})}),this.flashMessagesHelper.register(this.model.field)))},performLocalValidation:function(){return this.model.field.set({},{validate:!0})},_handlePreview:function(){return e.Deferred().resolve(this.model.objectModel.get("objectName"),[],void 0,this.model.field)},renderEditor:function(e){var i=t(this.editorTemplate).template({type:this.type,operation:this.operation});return e.html(i),this.$(".field-name-placeholder").append(this.children.labelFieldName.render().el),this.children.textDisplayName&&this.$(".display-name-placeholder").append(this.children.textDisplayName.render().el),this.children.selectFieldType&&this.$(".field-type-placeholder").append(this.children.selectFieldType.render().el),this.$(".field-flags-placeholder").append(this.children.selectFieldFlags.render().el),this},editorTemplate:'                <form class="add-edit-form">                    <div class="field-view-form">                        <div class="field-name-placeholder"></div>                        <div class="display-name-placeholder"></div>                        <div class="field-type-placeholder"></div>                        <div class="field-flags-placeholder"></div>                    </div>                </form>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditGeoIPView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/data_model_editor/form_components/GeoIPOutputFieldView"),i("util/splunkd_utils"),e],void 0===(l=function(e,t,i,a,l,o,s){return i.extend({moduleId:s.i,className:"geoip-form-wrapper",initialize:function(e){var l;if(i.prototype.initialize.call(this,e),this.model.objectModel=this.model.dataModel.objectByName(this.parentObjectName),t(this.model.objectModel).isUndefined())this.addObjectError(this.parentObjectName);else if(l="add"==this.operation?this.model.objectModel.getAvailableIPV4Fields():this.model.objectModel.getIPV4Fields(),this.fieldNames=t(l).map((function(e){return{label:e.displayName,value:e.fieldName}})),this.fieldNames.length>0){if("add"==this.operation){var o={calculationType:"GeoIP",inputField:this.fieldNames[0].value,calculationID:""};this.model.calculation=this.model.objectModel.createCalculation(o)}else if(this.model.calculation=this.model.objectModel.getCalculation(this.calculationID),t(this.model.calculation).isUndefined())return void this.addCalculationError(this.calculationID);this.children.selectField=new a({label:t("IP").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.calculation,modelAttribute:"inputField",items:this.fieldNames,toggleClassName:"btn"}}),this.flashMessagesHelper.register(this.model.calculation)}},performLocalValidation:function(){var e=this.model.calculation.set({},{validate:!0});return this.model.calculation.withEachField((function(t){t.get("hidden")||(e=t.set({},{validate:!0})&&e)}),this),e},_handlePreview:function(){return e.Deferred().resolve(this.model.objectModel.get("objectName"),this.model.calculation.getFieldNames(),this.model.calculation)},renderEditor:function(e){if(this.fieldNames.length>0){this.children.selectField.detach(),this.outputFields=[];var i=t(this.editorTemplate).template({});e.html(i),this.$(".selectField-placeholder").append(this.children.selectField.render().el),this.model.calculation.withEachField((function(e,t){var i=new l({model:e,flashMessagesHelper:this.flashMessagesHelper});this.$(".table-output-fields tbody").append(i.render().el),this.outputFields.push(i)}),this)}else this.model.buttonSettings.set({save:"hide",preview:"hide"}),e.html(t(this.errorTemplate).template({}));return this},editorTemplate:'                    <div class="col-1">                        <div class="selectField-placeholder"></div>                    </div>                    <div class="col-2">                        <label class="control-label"><%- _("Field(s)").t() %></label>                        <table class="table table-output-fields">                            <tbody>                                <tr>                                    <td><%- _("Include:").t() %></td>                                    <td><%- _("Field in GeoIP:").t() %></td>                                    <td><%- _("Display Name:").t() %></td>                                </tr>                            </tbody>                        </table>                    </div>            ',errorTemplate:'                    <div><%- _("There are no IPv4 fields available in this dataset. Each IPv4 field can be associated with one GeoIP lookup.").t() %></div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditLookupView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("models/datamodel/SelectableLookupOutputField"),i("models/services/datamodel/private/LookupInput"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i("views/data_model_editor/form_components/LookupInputFieldsView"),i("views/data_model_editor/form_components/LookupOutputFieldsView"),e,i("shim/splunk.util"),i("util/console"),i("util/splunkd_utils"),i("uri/route"),i("util/react_render"),i(0),i(55),i(2413)],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v,g,b){return o.extend({moduleId:c.i,className:"add-edit-lookup-view",MISSING_OUTPUTFIELD_ID:"MISSING_OUTPUTFIELD_ID",MISSING_LOOKUPINPUT_ID:"MISSING_LOOKUPINPUT_ID",DUPLICATE_LOOKUPINPUT_ID:"DUPLICATE_LOOKUPINPUT_ID",addInputFieldHandler:function(){this.addLookupInput()},removeInputFieldHandler:function(e){this.collection.lookupInputs.remove(e)},lookupNameChangeHandler:function(e){const t=e;this.model.calculation.set("lookupName",e.value),this.selectedLookup=e,this.buildInputAndOutputViews(!0,t)},addLookupInput:function(){var e=this.model.objectModel.getAllowedInputFields(),t=this.collection.transformsLookups.get(this.selectedLookup.id);if(t){var i=t.getFieldsList();i.length>0&&e.length>0&&this.collection.lookupInputs.add({lookupField:i[0],inputField:e[0].fieldName})}},buildInputAndOutputViews:function(l,o){var s=[],n=[],d=[],r=this.selectedLookup;if(r){var c=this.collection.transformsLookups.get(r.id);if(c){var h=c.getFieldsList();t(h).each((function(t){var l,o=this.model.calculation.getFieldByLookup(t),r=this.model.calculation.getLookupInput(t),c=!!r,h=c?r.get("inputField"):void 0;if(o){var p=e.extend(o.attributes,{selected:!0,isInputField:c});l=new a(p)}else l=new a({lookupOutputFieldName:t,fieldName:t,selected:!1,isInputField:c});c&&n.push(new i.Model({lookupField:t,inputField:h})),s.push(l),d.push({id:t})}),this),this.collection.selectableLookupOutputFields.reset(s),this.collection.lookupFields.reset(d),this.collection.lookupInputs.reset(n),l&&(this.model.calculation.removeAllFields(),this.model.calculation.removeAllLookupInputs()),0==this.collection.lookupInputs.length&&this.addLookupInput(),this.showInputsAndOutputs=!0}else this.showInputsAndOutputs=!1}else this.showInputsAndOutputs=!1;this.toggleInputOutputVisibility()},lookupInputsChangeHandler:function(){this.collection.selectableLookupOutputFields.each((function(e){var i=!t(this.collection.lookupInputs.findWhere({lookupField:e.get("lookupOutputFieldName")})).isUndefined();e.set("isInputField",i),i&&e.set("selected",!1)}),this)},initialize:function(e){if(o.prototype.initialize.call(this,e),this.model.objectModel=this.model.dataModel.objectByName(this.parentObjectName),this.selectedLookup={},t(this.model.objectModel).isUndefined())this.addObjectError(this.parentObjectName);else{var l=this.collection.transformsLookups.map((function(e){var t=e.entry.get("name");return{label:t,value:t,id:e.get("id")}})),s=t(this.model.objectModel.getAllowedInputFields()).map((function(e){return{label:e.displayName,value:e.fieldName}}));if(this.collection.selectableLookupOutputFields=new i.Collection(void 0,{model:a}),this.collection.lookupInputs=new i.Collection,this.collection.lookupFields=new i.Collection,"add"==this.operation){this.model.calculation=this.model.objectModel.createCalculation({calculationType:"Lookup",calculationID:""})}else{this.model.calculation=this.model.objectModel.getCalculation(this.calculationID);const e=this.model.calculation.attributes.lookupName;if(this.selectedLookup=l.filter(t=>t.value===e)[0],t(this.model.calculation).isUndefined())return void this.addCalculationError(this.calculationID)}this.collection.lookupInputs.on("add remove reset change",this.lookupInputsChangeHandler,this),this.children.inputFields=new d({collection:{lookupFields:this.collection.lookupFields,lookupInputs:this.collection.lookupInputs},fieldNames:s,flashMessagesHelper:e.flashMessagesHelper}),this.children.inputFields.on("action:addInputField",this.addInputFieldHandler,this),this.children.inputFields.on("action:removeInputField",this.removeInputFieldHandler,this),this.children.outputFields=new r({collection:this.collection.selectableLookupOutputFields}),this.buildInputAndOutputViews(!1),this.flashMessagesHelper.register(this.model.calculation)}},performLocalValidation:function(){var e=this.model.calculation.set({},{validate:!0}),i=!0;return this.model.calculation.lookupInputs.reset([],{silent:!0}),this.flashMessagesHelper.removeGeneralMessage(this.DUPLICATE_LOOKUPINPUT_ID),this.collection.lookupInputs.each((function(i){var a=i.get("lookupField");this.model.calculation.getLookupInput(a)?(this.flashMessagesHelper.addGeneralMessage(this.DUPLICATE_LOOKUPINPUT_ID,{type:u.ERROR,html:h.sprintf(t('The Input "%s" can not be used for multiple input rows.').t(),a)}),e=!1):this.model.calculation.addLookupInput({lookupField:a,inputField:i.get("inputField")})}),this),0==this.model.calculation.lookupInputs.length?(this.flashMessagesHelper.addGeneralMessage(this.MISSING_LOOKUPINPUT_ID,{type:u.ERROR,html:t("Specify at least one Input Field.").t()}),e=!1):this.flashMessagesHelper.removeGeneralMessage(this.MISSING_LOOKUPINPUT_ID),this.model.calculation.withEachLookupInput((function(t){e=t.set({},{validate:!0})&&e}),this),this.collection.selectableLookupOutputFields.each((function(t){var a=this.model.calculation.getFieldByLookup(t.get("lookupOutputFieldName"));t.clearErrors(),this.flashMessagesHelper.unregister(t),t.get("selected")?(this.flashMessagesHelper.register(t),i=t.set({},{validate:!0}),e=i&&e,i?a?a.set({fieldName:t.get("fieldName"),displayName:t.get("displayName"),type:t.get("type"),hidden:t.get("hidden"),required:t.get("required"),lookupOutputFieldName:t.get("lookupOutputFieldName")}):this.model.calculation.addField({fieldName:t.get("fieldName"),displayName:t.get("displayName"),type:t.get("type"),hidden:t.get("hidden"),required:t.get("required"),lookupOutputFieldName:t.get("lookupOutputFieldName")}):this.model.calculation.removeFieldByLookup(t.get("lookupOutputFieldName"))):this.model.calculation.removeFieldByLookup(t.get("lookupOutputFieldName"))}),this),0==this.model.calculation.outputFields.length?(this.flashMessagesHelper.addGeneralMessage(this.MISSING_OUTPUTFIELD_ID,{type:u.ERROR,html:t("Specify at least one Output Field.").t()}),e=!1):this.flashMessagesHelper.removeGeneralMessage(this.MISSING_OUTPUTFIELD_ID),this.model.calculation.withEachField((function(t){e=t.set({},{validate:!0})&&e}),this),e},_handlePreview:function(){return e.Deferred().resolve(this.model.objectModel.get("objectName"),this.model.calculation.getFieldNames(),this.model.calculation)},toggleInputOutputVisibility:function(){this.showInputsAndOutputs?(this.$(".input-container").show(),this.$(".output-container").show()):(this.$(".input-container").hide(),this.$(".output-container").hide())},renderEditor:function(e){var i=t(this.editorTemplate).template({type:this.type,operation:this.operation});e.html(i);const a=this.$(".selectLookupName-placeholder");if(this.collection.transformsLookups.map((function(e){const t=e.entry.get("name");return{label:t,value:t,id:e.get("id")}})).length>0){const e=document.createElement("div");f(v.createElement(b.default,{onChange:this.lookupNameChangeHandler.bind(this),selectedLookup:this.selectedLookup}),e),a.replaceWith(e)}else a.replaceWith(t(this.noLookupsTemplate).template({manageLookupsHref:m.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"lookups")}));return this.$(".input-fields-placeholder").replaceWith(this.children.inputFields.render().el),this.$(".output-fields-placeholder").replaceWith(this.children.outputFields.render().el),this.toggleInputOutputVisibility(),this},editorTemplate:'                <div>                    <span class="selectLookupName-placeholder"></span>                    <div class="input-container">                        <label class="control-label"><%- _("Input").t() %></label>                        <div class="lookup-controls">                            <span class="input-fields-placeholder"></span>                        </div>                    </div>                </div>                <div class="output-container">                    <label class="control-label"><%- _("Output").t() %></label>                    <span class="output-fields-placeholder"></span>                </div>            ',noLookupsTemplate:'                <div>                    <%- _("No compatible lookups found.").t() %>                    <a href="<%- manageLookupsHref %>"><%- _("Manage Lookups").t() %></a>                </div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditObjectView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/TextControl"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/delegates/PairedTextControls"),i("helpers/FlashMessagesHelper"),i("shim/splunk.util"),i("util/splunkd_utils"),i("util/datamodel/form_utils"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c){return t.extend({className:"view-add-edit-object",moduleId:c.i,initialize:function(s){if(t.prototype.initialize.call(this,s),this.type=s.type,"child"==this.type&&0==this.model.dataModel.entry.content.objects.length)return this.flashMessagesHelper.addGeneralMessage(this.cid+"_missingObject",{type:d.ERROR,html:e(this.errorTemplate).template({})}),void this.disableSave();if("add"==this.operation){var n={objectName:"",displayName:""};if(""!=this.parentObjectName&&(n.parentName=this.parentObjectName),this.model.objectModel=this.model.dataModel.addObject(n),e.isUndefined(this.model.objectModel))throw"AddEditObjectView failed to create a new Object"}else this.model.objectModel=this.model.dataModel.objectByName(this.objectName);if(e(this.model.objectModel).isUndefined())this.addObjectError(this.objectName);else{if(this.textDisplayNameControl=new a({modelAttribute:"displayName",model:this.model.objectModel,save:!1}),this.textObjectNameControl=new a({modelAttribute:"objectName",model:this.model.objectModel,save:!1}),this.pairedTextControls=new o({sourceDelegate:this.textDisplayNameControl,destDelegate:this.textObjectNameControl,transformFunction:r.normalizeForID}),this.children.textDisplayName=new i({controls:this.textDisplayNameControl,label:e("Dataset Name").t()}),this.children.textObjectName=new i({controls:this.textObjectNameControl,label:e("Dataset ID").t(),tooltip:e("The ID is used in the data model search command. Cannot be changed later.").t(),help:e("The dataset ID can only contain letters, numbers, dashes, and underscores. Do not start the dataset ID with a period.").t()}),"child"==this.type){var c=this.model.dataModel.getFlattenedHierarchy(),h=[];e(c).each((function(t){var i="";this.model.objectModel.get("objectName")!=t.objectName&&(e(t.depth).times((function(){i+="--"})),h.push({value:t.objectName,label:i+t.displayName}))}),this),this.selectParentObjectControl=new l({model:this.model.objectModel,modelAttribute:"parentName",toggleClassName:"btn",items:h}),this.children.selectParentObject=new i({label:e("Inherit From").t(),controls:this.selectParentObjectControl})}this.flashMessagesHelper.register(this.model.objectModel)}},performLocalValidation:function(){var e=n.trim(this.$('textarea[name="object-constraints"]').val()),t=this.model.objectModel.get("objectName"),i={};return"add"==this.operation&&(i={objectName:t}),i.constraints=[{search:e,owner:t}],i.displayName=this.model.objectModel.get("displayName"),"child"==this.type?i.parentName=this.selectParentObjectControl.getValue():i.checkIndexScope=!0,this.model.objectModel.set(i,{validate:!0})},transformFunction:function(e){var t=e.replace(/\s/g,"_");return t=t.replace(/\W/g,"")},_handlePreview:function(){return this.model.objectModel.get("objectName")},renderEditor:function(t){var i=e(this.editorTemplate).template({type:this.type,operation:this.operation});if(t.html(i),"child"==this.type&&this.$(".parent-name-placeholder").append(this.children.selectParentObject.render().el),"edit"==this.operation){var a="",l=this.model.objectModel.getOwnConstraint();l&&(a=l.search),this.$('textArea[name="object-constraints"]').val(a)}else"add"==this.operation&&(this.$(".display-name-placeholder").append(this.children.textDisplayName.render().el),this.$(".object-name-placeholder").append(this.children.textObjectName.render().el))},editorTemplate:'                <div class="steps-wrapper">                    <form>                        <div class="object-wrapper">                            <div class="display-name-placeholder"></div>                            <div class="object-name-placeholder"></div>                            <div class="parent-name-placeholder"></div>                        </div>                        <div class="constraints-wrapper">                            <label><%- (type == "child") ? _("Additional Constraints").t() : _("Constraints").t() %></label>                            <textarea name="object-constraints" class="object-constraints"></textarea>                            <span class="help-block">                            <% if (type != "child") { %>                                <%- _("The search must have an explicit index constraint to maximize performance.").t() %><br/>                            <% } %>                                <%- _("Examples:").t() %><br/>                                <span class="example-text mono-space">                                <% if (type != "child") { %>                                    index=main uri="*.php*" OR uri="*.py*" <br>                                    index=main NOT (referer=null OR referer="-")                                <% } else { %>                                    uri="*.php*" OR uri="*.py*" <br>                                    NOT (referer=null OR referer="-")                                <% } %>                                </span>                            </span>                        </div>                    </form>                </div>            ',errorTemplate:'                    <div><%- _("To add a Child Dataset, the Data Model must have at least one Dataset.").t() %></div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditRexView":function(e,t,i){var a,l;a=[i("require/underscore"),i("models/Base"),i("models/search/Job"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/data_model_editor/form_components/TrimmedTextareaControl"),i("views/data_model_editor/form_components/RexOutputFieldsView"),i("views/shared/dataenrichment/preview/RexPreviewViewStack"),i("views/shared/dataenrichment/preview/PreviewJobController"),i("uri/route"),i("util/splunkd_utils"),i("util/field_extractor_utils"),i("util/console"),i("shim/splunk.util"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m){return a.extend({moduleId:m.i,className:"rex-form-view",MISSING_OUTPUTFIELD_ID:"MISSING_OUTPUTFIELD_ID",initialize:function(r){if(a.prototype.initialize.call(this,r),this.model.objectModel=this.model.dataModel.objectByName(this.parentObjectName),e(this.model.objectModel).isUndefined())this.addObjectError(this.parentObjectName);else{var c=e(this.model.objectModel.getAllowedInputFields()).map((function(e){return{label:e.displayName,value:e.fieldName}}));if("add"==this.operation){var p={calculationType:"Rex",inputField:c[0].value,calculationID:"",expression:""};this.model.calculation=this.model.objectModel.createCalculation(p)}else if(this.model.calculation=this.model.objectModel.getCalculation(this.calculationID),e(this.model.calculation).isUndefined())return void this.addCalculationError(this.calculationID);this.children.selectField=new l({label:e("Extract From").t(),controlType:"SyntheticSelect",controlOptions:{model:this.model.calculation,modelAttribute:"inputField",items:c,toggleClassName:"btn"}});var u=new o({model:this.model.calculation,modelAttribute:"expression"});this.children.textareaExpression=new l({label:e("Regular Expression").t(),controlType:"Textarea",controls:u}),u.on("change",this.textareaExpressionChangeHandler,this),this.children.outputFields=new s({model:this.model.calculation}),this.model.searchJob=new i({},{delay:1e3,processKeepAlive:!0}),this.model.state=new t({sampleSize:{head:1e3},clustering:h.CLUSTERING_NONE,eventsView:h.VIEW_ALL_EVENTS}),this.children.previewJobController=new d({model:{application:this.model.application,state:this.model.state,searchJob:this.model.searchJob}}),this.children.previewView=new n({model:{application:this.model.application,searchJob:this.model.searchJob,state:this.model.state},className:"preview-view-stack"}),this.listenTo(this.model.state,"change:filter change:clustering change:eventsView change:sampleSize",this.preview),this.flashMessagesHelper.register(this.model.calculation)}},textareaExpressionChangeHandler:function(t){t=u.trim(t);var i=h.getCaptureGroupNames(t);if(i.length>0){var a=[];this.model.calculation.withEachField((function(t){var l=t.get("fieldName");if(!e.isUndefined(l)){var o=e(i).find((function(e){return l==e}));e.isUndefined(o)&&a.push(l)}}),this),e(a).each((function(e){var t=this.model.calculation.getFieldByName(e);this.flashMessagesHelper.unregister(t),this.model.calculation.removeFieldByName(e)}),this),e(i).each((function(t){var i=this.model.calculation.getFieldByName(t);e.isUndefined(i)&&this.flashMessagesHelper.register(this.model.calculation.addField({fieldName:t}))}),this)}else this.model.calculation.withEachField((function(e){this.flashMessagesHelper.unregister(e)}),this),this.model.calculation.removeAllFields()},performLocalValidation:function(t){var i,a=!1,l=t.preview&&!this.model.calculation.get("expression");return l?(this.model.calculation.set({expression:"__fake_expression__"},{silent:!0}),i=this.model.calculation.set({},{validate:!0}),this.model.calculation.set({expression:""},{silent:!0})):i=this.model.calculation.set({},{validate:!0}),0!=this.model.calculation.outputFields.length||l?this.flashMessagesHelper.removeGeneralMessage(this.MISSING_OUTPUTFIELD_ID):(this.flashMessagesHelper.addGeneralMessage(this.MISSING_OUTPUTFIELD_ID,{type:c.ERROR,html:e("No fields were extracted. Provide a working Regular Expression with capturing groups.").t()}),i=!1,a=!0),this.model.calculation.withEachField((function(e){(i=i&&e.set({},{validate:!0}))||(a=!0)}),this),a?this.children.textareaExpression.error(!0,e("Regular Expression is in a bad state").t()):this.children.textareaExpression.error(!1,""),i},_handlePreview:function(){var t={};this.model.calculation.withEachField((function(e){t[e.get("fieldName")]=e.get("displayName")})),this.model.state.set({inputField:this.model.calculation.get("inputField"),regex:this.model.calculation.get("expression"),fieldAliases:t});var i=this.model.objectModel.get("objectName"),a=e.union([this.model.calculation.get("inputField")],this.model.calculation.getFieldNames());this.fetchPreviewSearchString(i,a).done(e((function(e){e=this._preprocessSearchString(e),this.children.previewJobController.preview(e,{data:{provenance:"UI:DataModel"}})})).bind(this))},_preprocessSearchString:function(e){var t=u.sprintf("(\\| rex field=%s %s[^|]*)\\|",u.searchEscape(this.model.calculation.get("inputField")),u.searchEscape(this.model.calculation.get("expression").replace(/[-[\]{}()*+?.,^$|#\s]/g,".").replace(/\\/g,".."),{forceQuotes:!0}));try{e=e.replace(new RegExp(t),"$1 offset_field="+h.OFFSET_FIELD_NAME+" | ")}catch(e){p.warn("Unable to add offset information for expression:",this.model.calculation.get("expression"))}return e},_performProvisionalSave:function(e){if(!this.model.calculation.get("expression")){var t=e.clone(),i=t.objectByName(this.model.objectModel.id),l=i.calculations.get(this.model.calculation.id);return i.calculations.remove(l),a.prototype._performProvisionalSave.call(this,t)}return a.prototype._performProvisionalSave.apply(this,arguments)},renderEditor:function(t){this.children.selectField.detach(),this.children.textareaExpression.detach();var i=r.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.about.regex"),a=e(this.editorTemplate).template({type:this.type,operation:this.operation,docUrl:i,hasAttributes:this.model.calculation.outputFields.length});t.html(a),this.$(".selectField-placeholder").replaceWith(this.children.selectField.render().el),this.$(".rex-expression-placeholder").replaceWith(this.children.textareaExpression.render().el),this.$(".output-fields-placeholder").append(this.children.outputFields.render().el)},renderPreview:function(e){this.children.previewView.render().appendTo(e),this.listenTo(this.children.previewView,"showDrillDownView",this.showDrillDownView),this.listenTo(this.children.previewView,"hideDrillDownView",this.hideDrillDownView)},editorTemplate:'                <form>                    <div class="col-1">                        <div class="selectField-placeholder"></div>                    </div>                    <div class="col-2">                            <div class="rex-expression-placeholder"></div>                            <span class="help-block"><%- _("Example:").t() %><br>                                <span class="mono-space">From: (?&lt;from&gt;.*) To: (?&lt;to&gt;.*)</span>                            </span>                            <a href="<%- docUrl %>" target="_blank" rel="noopener noreferrer" class="help-link external"><%- _("Learn More").t() %></a>                    </div>                    <div class="col-3">                        <label><%- _("Field(s)").t() %></label>                        <div class="output-fields-placeholder"></div>                    </div>                </form>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditSearchObjectView":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/TextControl"),i("views/shared/delegates/PairedTextControls"),i("views/shared/searchbar/Master"),i("helpers/FlashMessagesHelper"),i("models/Base"),i("models/services/datamodel/DataModel"),i("shim/splunk.util"),i("util/datamodel/form_utils"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h){return t.extend({className:"view-add-edit-search-object",moduleId:h.i,searchJob:void 0,saving:!1,initialize:function(s){if(t.prototype.initialize.call(this,s),this.type=s.type,"add"==this.operation){var d={objectName:"",displayName:"",parentName:"BaseSearch"};""!=this.parentObjectName&&(d.parentName=this.parentObjectName),this.model.objectModel=this.model.dataModel.addObject(d)}else this.model.objectModel=this.model.dataModel.objectByName(this.objectName);e(this.model.objectModel).isUndefined()?this.addObjectError(this.objectName):(this.model.searchModel=new n({search:this.model.objectModel.get("baseSearch")}),this.textDisplayNameControl=new a({modelAttribute:"displayName",model:this.model.objectModel,save:!1}),this.textObjectNameControl=new a({modelAttribute:"objectName",model:this.model.objectModel,save:!1}),this.pairedTextControls=new l({sourceDelegate:this.textDisplayNameControl,destDelegate:this.textObjectNameControl,transformFunction:c.normalizeForID}),this.children.textDisplayName=new i({controls:this.textDisplayNameControl,label:e("Dataset Name").t()}),this.children.textObjectName=new i({controls:this.textObjectNameControl,label:e("Dataset ID").t(),tooltip:e("The ID is used in the data model search command. Cannot be changed later.").t(),help:e("The dataset ID can only contain letters, numbers, dashes, and underscores. Do not start the dataset ID with a period.").t()}),this.children.searchBar=new o({model:{state:this.model.searchModel,application:this.model.application,user:this.model.user},collection:{searchBNFs:this.collection.searchBNFs},showTimeRangePicker:!1}),this.model.searchModel.on("change:search applied",this.searchBarChange,this),this.flashMessagesHelper.register(this.model.objectModel))},performLocalValidation:function(){var e=this.model.objectModel.get("displayName"),t=this.model.objectModel.get("objectName"),i={};return"add"==this.operation&&(i={objectName:t,parentName:d.BASE_SEARCH}),i.displayName=e,this.saving=!0,this.children.searchBar.submit(),this.saving=!1,i.baseSearch=this.getSearchValue(),i.checkIndexScope=!0,this.model.objectModel.set(i,{validate:!0})},getSearchValue:function(){var t=this.model.searchModel.get("search");return e(t).isUndefined()?"":r.trim(t)},searchBarChange:function(){this.saving||this.debouncedPreview()},_handlePreview:function(){return this.getSearchValue()},debouncedPreview:function(){this._debouncedPreview||(this._debouncedPreview=e.debounce(this.preview,0)),this._debouncedPreview.apply(this,arguments)},renderEditor:function(t){var i=e(this.editorTemplate).template({type:this.type,operation:this.operation});return t.html(i),"add"==this.operation&&(this.children.textDisplayName.render().appendTo(this.$(".display-name-placeholder")),this.children.textObjectName.render().appendTo(this.$(".object-name-placeholder"))),this.children.searchBar.render().appendTo(this.$(".search-bar-placeholder")),this},editorTemplate:'                <div class="steps-wrapper">                    <div class="display-name-placeholder"></div>                    <div class="object-name-placeholder"></div>                    <div class="search-bar-placeholder">                    <label class="control-label"><%- _("Search String").t() %></label>                    <span class="help-block"><%- _("The search must have an explicit index constraint to maximize performance.").t() %> </span>                    </div>                </div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddEditTransactionView":function(e,t,i){var a,l;a=[i("require/underscore"),i("require/backbone"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/data_model_editor/form_components/SimpleTimePicker"),i("views/data_model_editor/form_components/SelectMultipleItems"),i("views/data_model_editor/form_components/SelectMultipleObjects"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/TextControl"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/delegates/PairedTextControls"),i("helpers/FlashMessagesHelper"),i("models/services/datamodel/DataModel"),i("collections/Base"),i("collections/services/datamodel/private/Fields"),i("util/datamodel/form_utils"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f){return i.extend({className:"view-add-edit-transaction",moduleId:f.i,initialize:function(d){if(i.prototype.initialize.call(this,d),this.type=d.type,"add"==this.operation){this.model.objectModel=this.model.dataModel.addObject({objectName:"",displayName:"",parentName:"BaseTransaction"})}else this.model.objectModel=this.model.dataModel.objectByName(this.objectName);if(e(this.model.objectModel).isUndefined())this.addObjectError(this.objectName);else{var c=this.model.dataModel.getFlattenedHierarchy(),h=e(c).map((function(t){var i="";return e(t.depth).times((function(){i+="--"})),{value:t.objectName,label:i+t.displayName,rootParent:t.rootParent}}));if(h=e(h).reject((function(e){return e.value==this.model.objectModel.get("objectName")}),this),this.fieldCollection={},this.fieldCollection.itemsCollection=new p,this.fieldCollection.selectedItemsCollection=new p,this.objectCollection={},this.objectCollection.itemsCollection=new t.Collection(h),this.objectCollection.selectedItemsCollection=new t.Collection,this.objectCollection.selectedItemsCollection.on("add remove reset",this.updateFieldsCollections,this),this.updateFieldsCollections(),"edit"==this.operation){var u=this.model.objectModel.get("objectsToGroup");if(u.length>0){var f=e(this.model.objectModel.get("objectsToGroup")).map((function(e){var t=this.model.dataModel.objectByName(e);return{value:e,label:t.get("displayName"),rootParent:t.get("rootParent")}}),this);this.objectCollection.selectedItemsCollection.reset(f);var v=this.model.dataModel.objectByName(u[0]).getAllSearchFields(),g=this.model.objectModel.get("groupByFields");if(g.length>0){var b=[];e(g).each((function(t){var i=e(v).find((function(e){return e.fieldName==t}),this);i&&b.push(i)}),this),this.fieldCollection.selectedItemsCollection.reset(b)}}}this.textDisplayNameControl=new n({modelAttribute:"displayName",model:this.model.objectModel,save:!1}),this.textObjectNameControl=new n({modelAttribute:"objectName",model:this.model.objectModel,save:!1}),this.pairedTextControls=new r({sourceDelegate:this.textDisplayNameControl,destDelegate:this.textObjectNameControl,transformFunction:m.normalizeForID}),this.children.textDisplayName=new s({controls:this.textDisplayNameControl,label:e("Dataset Name").t()}),this.children.textObjectName=new s({controls:this.textObjectNameControl,label:e("Dataset ID").t(),tooltip:e("The ID is used in the data model search command. Cannot be changed later.").t(),help:e("The dataset ID can only contain letters, numbers, dashes, and underscores. Do not start the dataset ID with a period.").t()}),this.children.selectTransactionObjects=new o({collection:this.objectCollection,className:"selectTransactionObjects"}),this.children.selectTransactionFields=new l({collection:this.fieldCollection,valueAttribute:"fieldName",labelAttribute:"displayName",allowSorting:!0,className:"selectTransactionFields"}),this.children.selectMaxPause=new a({modelAttribute:"transactionMaxPause",model:this.model.objectModel,save:!1}),this.children.selectMaxSpan=new a({modelAttribute:"transactionMaxTimeSpan",model:this.model.objectModel,save:!1}),this.flashMessagesHelper.register(this.model.objectModel)}},updateFieldsCollections:function(){var t=[],i=[],a=[],l=[];this.objectCollection.selectedItemsCollection.each((function(a){var l=this.model.dataModel.objectByName(a.get("value")).getAllSearchFields();i.push(l),t.push(e(l).pluck("fieldName"))}),this),t.length>1?(a=e.intersection.apply(this,t),l=e(a).map((function(t){return e(i[0]).find((function(e){return e.fieldName==t}),this)}),this)):1==t.length&&(l=i[0]),this.fieldCollection.selectedItemsCollection.reset(),this.fieldCollection.itemsCollection.reset(l)},performLocalValidation:function(){var e={};e.objectsToGroup=this.objectCollection.selectedItemsCollection.pluck("value");var t=this.fieldCollection.selectedItemsCollection.pluck("fieldName");return"add"==this.operation&&(e.objectName=this.model.objectModel.get("objectName")),t.length>0?e.groupByFields=t:e.groupByFields="",e.displayName=this.model.objectModel.get("displayName"),this.model.objectModel.set(e,{validate:!0})},_handlePreview:function(){return this.model.objectModel.get("objectName")},renderEditor:function(t){var i=e(this.editorTemplate).template({});return t.html(i),this.$(".select-object-placeholder").replaceWith(this.children.selectTransactionObjects.render().el),this.$(".select-transaction-fields-placeholder").replaceWith(this.children.selectTransactionFields.render().el),"add"==this.operation&&(this.$(".display-name-placeholder").replaceWith(this.children.textDisplayName.render().el),this.$(".object-name-placeholder").replaceWith(this.children.textObjectName.render().el)),this.$(".max-pause-value-placeholder").replaceWith(this.children.selectMaxPause.render().el),this.$(".max-span-value-placeholder").replaceWith(this.children.selectMaxSpan.render().el),this},editorTemplate:'                <div class="steps-wrapper">                 <p>                    <%- _("You must specify at least one of the optional fields.").t() %>                </p>                    <form action="" method="get">                        <div class="object-wrapper pull-left">                            <div class="display-name-placeholder"></div>                            <div class="object-name-placeholder"></div>                        </div>                        <div class="group-wrapper pull-left">                            <label class="control-label"><%- _("Group Datasets").t() %></label>                            <div class="select-object-placeholder"></div>                            <label class="list-header"><%- _("Group by").t() %></label>                            <div class="select-transaction-fields-placeholder"></div>                        </div>                        <div class="durations-wrapper pull-left">                            <label class="control-label"><%- _("Duration").t() %></label>                            <div class="duration-option pull-left">                                <%- _("Max Pause:").t() %>                                <div class="max-pause-value-placeholder"></div>                            </div>                            <div class="duration-option pull-left">                                <%- _("Max Span:").t() %>                                <div class="max-span-value-placeholder"></div>                            </div>                         </div>                    </form>                </div>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/AddExtractedFieldsDialog":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("views/shared/dialogs/DialogBase"),i("views/shared/controls/ControlGroup"),i("views/shared/dataenrichment/preview/components/SelectSampleSize"),i("views/data_model_editor/form_components/FieldTable"),i("views/shared/jobstatus/Spinner"),i("views/shared/jobstatus/Count"),i("views/shared/FlashMessages"),i("models/datamodel/ExtractedField"),i("models/search/Job"),i("models/services/search/jobs/ResultSummary"),i("models/services/datamodel/DataModel"),i("util/splunkd_utils"),e,i("util/splunkd_utils"),i("util/console"),i("shim/bootstrap.tooltip")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v,g){return a.extend({moduleId:f.i,events:{"click .addFieldsBtn":function(){var e=new c({fieldName:"",displayName:"",type:"string",isNumeric:!1});this.collection.manualFields.add(e)}},className:"modal fade modal-wide",validSearch:!0,initialize:function(e){a.prototype.initialize.call(this,e),this.bodyClassName="modal-body-scrolling",this.errorMsgIds=[],this.selectSampleSize=new o({}),this.selectSampleSize.on("change",this.selectSampleSizeChangeHandler,this),this.children.selectSampleSizeGroup=new l({controls:[this.selectSampleSize]}),this.children.flashMessagesView=new r,this.collection={},this.collection.manualFields=new i.Collection([],{model:c}),this.collection.addedFields=new i.Collection([],{model:c}),this.startNewSearch(),this.settings.set("primaryButtonLabel",t("Save").t()),this.settings.set("cancelButtonLabel",t("Cancel").t()),this.settings.set("titleLabel",t("Add Auto-Extracted Field").t())},selectSampleSizeChangeHandler:function(e,t){this.startNewSearch(),this.debouncedRender()},summaryChangeHandler:function(){this.parseSummary()},startNewSearch:function(){var e,a=this.selectSampleSize.getValue();e=this.model.objectModel.get("rootParent")==u.BASE_SEARCH?this.model.objectModel.get("baseSearch"):this.model.objectModel.get("autoextractSearch"),this.validSearch=""!=e,this.destroySearchJob(),this.children.fieldTable&&this.children.fieldTable.remove(),this.children.spinner&&this.children.spinner.remove(),this.children.count&&this.children.count.remove(),this.collection.extractedFields=new i.Collection([],{model:c}),this.children.fieldTable=new s({collection:{extractedFields:this.collection.extractedFields,manualFields:this.collection.manualFields}}),this.model.searchJob=new h({},{delay:1e3,processKeepAlive:!0}),this.model.summary=new p;var l=[m.FATAL,m.ERROR,m.WARNING];this.children.flashMessagesView.flashMsgHelper.register(this.model.searchJob,l),this.children.flashMessagesView.flashMsgHelper.register(this.model.summary,l),this.children.flashMessagesView.flashMsgHelper.register(this.model.objectModel,l),this.children.flashMessagesView.flashMsgHelper.register(this.model.dataModel,l),this.model.searchJob.entry.links.on("change",(function(){this.model.summary.set("id",this.model.searchJob.entry.links.get("results_preview"))}),this),this.model.searchJob.on("jobProgress",(function(){this.model.summary.safeFetch()}),this);var o=t(this.summaryChangeHandler).debounce(0);this.model.summary.results.on("add remove reset",o,this),this.model.summary.on("sync",o,this);var r={search:e||"",earliest_time:a.earliest||null,latest_time:a.latest||null,auto_cancel:100,status_buckets:0,timeFormat:"%s.%Q",ui_dispatch_app:this.model.application.get("app"),rf:"*",preview:!0,adhoc_search_level:"verbose",app:this.model.application.get("app"),owner:this.model.application.get("owner"),provenance:"UI:DataModel"};a.head&&(r.search+=" | head "+a.head),r.search+=" | fieldSummary",this.model.searchJob.save({},{data:r}).done(function(){this.model.searchJob.startPolling()}.bind(this)),this.children.spinner=new n({model:this.model.searchJob}),this.children.count=new d({model:this.model.searchJob})},destroySearchJob:function(){this.model.searchJob&&(this.children.flashMessagesView.flashMsgHelper.unregister(this.model.searchJob),this.model.searchJob.destroy(),delete this.model.searchJob),this.model.summary&&this.children.flashMessagesView.flashMsgHelper.unregister(this.model.summary)},parseSummary:function(){if(this.model.summary)if(this.model.searchJob.isDone()&&0===this.model.summary.results.length)this.renderNoFieldsMessage();else if(this.model.summary.results.each((function(e){var i=e.get("field");if(!this.model.objectModel.getField(i)){var a=e.get("numeric_count")>e.get("count")/2,l=e.get("values");t(l).isUndefined()||(l=l.slice(0,10));var o=new c({fieldName:i,displayName:i,type:a?"number":"string",isNumeric:a,distinctValues:l});this.collection.extractedFields.add(o)}}),this),this.model.summary.results.length>0&&!this.model.objectModel.getField("_time")){var e=new c({fieldName:"_time",displayName:"_time",type:"timestamp",required:!0});this.collection.extractedFields.add(e,{at:0})}},clearErrorMessages:function(){for(var e=0;e<this.errorMsgIds.length;e++){var t=this.errorMsgIds[e];this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(t)}this.errorMsgIds=[]},createFieldFromExtracted:function(e){var t={fieldName:e.get("fieldName"),displayName:e.get("displayName"),type:e.get("type"),hidden:e.get("hidden"),required:e.get("required")};return this.model.objectModel.addField(t)},extractedField_ValidatedHandler:function(e,i,a){e||t.each(a,function(e,a){var l=i.get("fieldName")+"_"+a+"_validationError";this.errorMsgIds.push(l),this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(l,{type:v.ERROR,html:t(e).t()})}.bind(this)),i.off("validated",null,this)},primaryButtonClicked:function(){a.prototype.primaryButtonClicked.apply(this,arguments),this.clearErrorMessages();var e=!1;this.collection.extractedFields.each((function(t){t.get("selected")&&(t.on("validated",this.extractedField_ValidatedHandler,this),t.set({},{validate:!0})?this.createFieldFromExtracted(t)&&this.collection.addedFields.add(t):e=!0)}),this),e?this.revertModel():(this.collection.manualFields.each((function(i){if(i.on("validated",this.extractedField_ValidatedHandler,this),i.set({},{validate:!0})){if(this.model.objectModel.getField(i.get("fieldName"))){var a=i.get("fieldName")+"_duplicateError";this.errorMsgIds.push(a),this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(a,{type:v.ERROR,html:t("Field with name '"+i.get("fieldName")+"' already exists in data model").t()}),e=!0}}else e=!0}),this),e?this.revertModel():(this.collection.manualFields.each((function(e){this.createFieldFromExtracted(e)&&this.collection.addedFields.add(e)}),this),this.saveModel()))},revertModel:function(){this.collection.addedFields.each(function(e){this.model.objectModel.removeField({fieldName:e.get("fieldName")})}.bind(this)),this.collection.addedFields.reset()},saveModel:function(){this.model.dataModel.save({},{error:function(e,t){this.revertModel()}.bind(this),success:function(e,t){this.trigger("action:fetchDataModel"),this.hide()}.bind(this)})},renderBody:function(e){var i=t(this.bodyTemplate).template({_:t,validSearch:this.validSearch});e.html(i),this.children.spinner.render().appendTo(e.find(".job-status-placeholder")),this.children.count.render().appendTo(e.find(".job-status-placeholder")),e.find(".flash-messages-placeholder").append(this.children.flashMessagesView.render().el),e.find(".select-sample-size-placeholder").append(this.children.selectSampleSizeGroup.render().el),e.find(".field-table-placeholder").append(this.children.fieldTable.render().el)},renderFooter:function(e){a.prototype.renderFooter.call(this,e)},renderNoFieldsMessage:function(){this.$(".field-table-placeholder").append(t(this.noFieldsMessageTemplate).template({}))},remove:function(){a.prototype.remove.call(this),this.destroySearchJob()},bodyTemplate:'            <div class="flash-messages-placeholder"></div>            <div class="select-sample-size-placeholder"></div>            <div class="job-status-placeholder"></div>            <div class="add-fields-placeholder pull-right">                <div><%-_("Missing field?").t()%> <a href="#" class="addFieldsBtn"><%-_("Add by Name").t()%></a></div>            </div>            <% if (validSearch) { %>                <div class="field-table-placeholder"></div>            <% } else { %>                <div class="alert alert-error message-single"><i class="icon-alert"></i>                 <%- _("You must specify a constraint on either this Dataset or its ancestor Datasets").t() %></div>            <% } %>        ',noFieldsMessageTemplate:'            <div class="alert alert-error no-fields-message">                <i class="icon-alert"></i>                <%- _("No field summary information is available. This can mean that your search did not return any events, or that you are using a search command that does not provide summary information (i.e. inputcsv).").t() %>            </div>        '})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/DataModelAddEditForm":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/shared/dataenrichment/AddEditFormBase"),i("util/splunkd_utils"),i("shim/splunk.util")],void 0===(l=function(e,t,i,a){return t.extend({dataModel:void 0,objectName:"",parentObjectName:"",operation:"add",calculationID:"",initialize:function(e){t.prototype.initialize.call(this,e),e=e||{},this.objectName=e.objectName,this.parentObjectName=e.parentObjectName,this.operation=e.operation,this.calculationID=e.calculationID},_handleSave:function(){return this.model.dataModel.save({}).then(e((function(){return this.objectName})).bind(this))},fetchPreviewSearchString:function(t,i){return this._performProvisionalSave(this.model.dataModel).then(e((function(){var a=this.model.dataModel.objectByName(t);return e(i).isUndefined()?a.get("previewSearch"):a.getCalculationPreviewSearch(i,!0,!0)})).bind(this))},_performProvisionalSave:function(e){return e.save({},{data:{provisional:!0}})},disableSave:function(){this.model.buttonSettings.set({save:"hide",preview:"hide",delete:"hide"})},addObjectError:function(t){var l=a.sprintf(e("Could not find the Dataset <i>%s</i>").t(),encodeURIComponent(t));this.flashMessagesHelper.addGeneralMessage(this.cid+"_missingObject",{type:i.ERROR,html:l}),this.disableSave()},addCalculationError:function(t){var l=a.sprintf(e("Could not find the Calculation <i>%s</i>").t(),encodeURIComponent(t));this.flashMessagesHelper.addGeneralMessage(this.cid+"_missingCalculation",{type:i.ERROR,html:l}),this.disableSave()},addFieldError:function(t){var l=a.sprintf(e("Could not find the Field <i>%s</i>").t(),encodeURIComponent(t));this.flashMessagesHelper.addGeneralMessage(this.cid+"_missingField",{type:i.ERROR,html:l}),this.disableSave()}})}.apply(t,a))||(e.exports=l)},"views/data_model_editor/form_views/OverrideFieldView":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/data_model_editor/form_views/DataModelAddEditForm"),i("views/shared/controls/ControlGroup"),i("views/data_model_editor/form_components/SelectFieldFlags"),e],void 0===(l=function(e,t,i,a,l,o){return i.extend({className:"view-override-field",moduleId:o.i,initialize:function(e){i.prototype.initialize.call(this,e),this.type=e.type,this.model.objectModel=this.model.dataModel.objectByName(this.parentObjectName),t(this.model.objectModel).isUndefined()?this.addObjectError(this.parentObjectName):(this.model.field=this.model.objectModel.getAnyField(e.fieldName,this.calculationID),t(this.model.field).isUndefined()?this.addFieldError(e.fieldName):(this.children.labelDisplayName=new a({label:t("Display Name:").t(),controlType:"Label",controlOptions:{modelAttribute:"displayName",model:this.model.field}}),this.children.selectFieldFlags=new a({label:t("Flags:").t(),controls:new l({model:this.model.field,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}})}),this.flashMessagesHelper.register(this.model.field)))},performLocalValidation:function(){return this.model.field.set({},{validate:!0})},_handlePreview:function(){return e.Deferred().resolve(this.model.objectModel.get("objectName"),[],void 0,this.model.field)},renderEditor:function(e){var i=t(this.editorTemplate).template({type:this.type,operation:this.operation});e.html(i),this.$(".display-name-placeholder").append(this.children.labelDisplayName.render().el),this.$(".field-flags-placeholder").append(this.children.selectFieldFlags.render().el)},editorTemplate:'                <form class="add-edit-form">                    <div class="field-view-form">                        <div class="display-name-placeholder"></div>                        <div class="field-flags-placeholder"></div>                    </div>                </form>            '})}.apply(t,a))||(e.exports=l)},"views/data_model_manager/DataModelActionController":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("controllers/Base"),i("views/data_models/CreateDataModelDialog"),i("views/data_models/UploadDataModelDialog"),i("views/data_model_manager/components/AccelerationDialog"),i("views/data_model_manager/components/CloneDialog"),i("views/data_model_manager/components/TitleDescriptionDialog"),i("views/data_model_manager/components/PermissionsDialog"),i("views/shared/dialogs/TextDialog"),i("models/services/datamodel/DataModel"),i("models/ACLReadOnly"),i("models/shared/fetchdata/EAIFetchData"),i("collections/services/authorization/Roles"),i("util/splunkd_utils"),i("shim/splunk.util"),i("util/hash_utils")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v){return i.extend({initialize:function(e){i.prototype.initialize.apply(this,arguments),this.on("action:createDataModel",this.showCreateDataModelDialog,this),this.on("action:uploadDataModel",this.showUploadDataModelDialog,this),this.on("action:cloneDataModel",this.openCloneDialogHandler,this),this.on("action:deleteDataModel",this.deleteDataModelHandler,this),this.on("action:editDataModelTitle",this.editDataModelTitleHandler,this),this.on("action:editPermissions",this.openEditPermissionsDialogHandler,this),this.on("action:editAcceleration",this.openAccelerateDialogHandler,this),this.on("action:rebuildAcceleration",this.rebuildAccelerationHandler,this)},showCreateDataModelDialog:function(){this.children.createDataModelDialog=new a({model:{application:this.model.application},collection:{apps:this.collection.apps}}),this.children.createDataModelDialog.on("hidden",this.destroyCreateDataModelDialog,this),this.children.createDataModelDialog.on("action:createdDataModel",(function(e){this.trigger("action:createdDataModel",e)}),this),this.children.createDataModelDialog.show()},destroyCreateDataModelDialog:function(){this.children.createDataModelDialog.remove(),delete this.children.createDataModelDialog},showUploadDataModelDialog:function(){this.children.uploadDataModelDialog=new l({model:{application:this.model.application,user:this.model.user},collection:{apps:this.collection.apps}}),this.children.uploadDataModelDialog.on("hidden",this.destroyUploadDataModelDialog,this),this.children.uploadDataModelDialog.on("action:uploadedDataModel",(function(e){this.trigger("action:uploadedDataModel",e)}),this),this.children.uploadDataModelDialog.show()},destroyUploadDataModelDialog:function(){this.children.uploadDataModelDialog.remove(),delete this.children.uploadDataModelDialog},deleteDataModelHandler:function(i){this.children.deleteDialog=new r({id:"modal_delete"}),this.children.deleteDialog.settings.set("primaryButtonLabel",t("Delete").t()),this.children.deleteDialog.settings.set("cancelButtonLabel",t("Cancel").t()),this.children.deleteDialog.on("click:primaryButton",(function(){this.deleteDialogDeleteHandler(i)}),this),this.children.deleteDialog.on("hidden",this.destroyDeleteDialogHandler,this),this.children.deleteDialog.settings.set("titleLabel",t("Delete Data Model").t()),this.children.deleteDialog.setText(f.sprintf(t("Are you sure you want to delete %s?").t(),"<em>"+t(i.entry.content.get("displayName")).escape()+"</em>")),e("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()},deleteDialogDeleteHandler:function(e){var i=e.get("id"),a=e.destroy();a&&a.done(t((function(){this.children.deleteDialog.hide(),this.callTelemetry(i,"Delete Datamodel"),this.trigger("action:deletedDataModel",i)})).bind(this))},destroyDeleteDialogHandler:function(){this.children.deleteDialog.off("hidden",this.destroyDeleteDialogHandler),this.children.deleteDialog.remove()},callTelemetry:function(e,t){f.trackPageInteraction(this.model.application.get("app"),t,{name:v.hashSha256(e)})},setupEditDescriptionDialog:function(t){this.children.editTitleDescDialog=new n({model:this.dataModelToEdit}),this.children.editTitleDescDialog.on("hidden",(function(){this.callTelemetry(t,"Edit Title or Description - Cancel"),delete this.children.editTitleDescDialog,delete this.dataModelToEdit}),this),this.children.editTitleDescDialog.on("action:saveModel",this.saveDataModelHandler,this),e("body").append(this.children.editTitleDescDialog.render().el),this.children.editTitleDescDialog.show()},editDataModelTitleHandler:function(e){var i=e;this.fetchEditableDataModel(e).then(t.bind((function(){this.setupEditDescriptionDialog(i)}),this))},setupCloneDialog:function(){this.children.cloneDialog=new s({model:{source:this.dataModelToEdit,application:this.model.application},collection:{apps:this.collection.apps}}),this.children.cloneDialog.on("hidden",(function(){this.callTelemetry(this.dataModelToEdit.get("id"),"Cancel Clone Datamodel"),delete this.cloneDialog,delete this.dataModelToEdit}),this),this.children.cloneDialog.on("action:clonedDataModel",(function(e){this.callTelemetry(e,"Clone Datamodel"),this.trigger("action:clonedDataModel",e)}),this),this.appendToBody(this.children.cloneDialog),this.children.cloneDialog.show()},appendToBody:function(t){e("body").append(t.render().el)},openCloneDialogHandler:function(e){this.fetchEditableDataModel(e).then(t.bind((function(){this.setupCloneDialog()}),this))},openEditPermissionsDialogHandler:function(i){var a=new p({count:0}),l=new u(void 0,{fetchData:a});e.when(this.fetchEditableDataModel(i),l.fetch()).then(function(){this.dataModelToEdit.application=this.model.application,this.dataModelToEdit.on("updateCollection",this.dataModelPermissionsChange,this),this.children.permissionsDialog=new d({model:{document:this.dataModelToEdit,nameModel:this.dataModelToEdit.entry.content,user:this.model.user,application:this.model.application},collection:l,onHiddenRemove:!0,nameKey:"displayName",nameLabel:t("Data Model").t()}),e("body").append(this.children.permissionsDialog.render().el),this.children.permissionsDialog.show()}.bind(this))},dataModelPermissionsChange:function(){this.dataModelToEdit.off("updateCollection",this.dataModelPermissionsChange),new h(e.extend(!0,{},this.dataModelToEdit.entry.acl.toJSON())).get("sharing")===m.USER&&this.dataModelToEdit.entry.content.acceleration.set("enabled",0),this.saveDataModelHandler(null,!0),this.trigger("action:dataModelPermissionsChange",this.dataModelToEdit.get("id"),this.dataModelToEdit)},openAccelerateDialogHandler:function(i){this.fetchEditableDataModel(i).then(t.bind((function(){this.dataModelToEdit.getSourceGUID()?(this.children.warnSourceGUIDDialog=new r({id:"modal_sourceGUID"}),this.children.warnSourceGUIDDialog.settings.set("primaryButtonLabel",void 0),this.children.warnSourceGUIDDialog.settings.set("cancelButtonLabel",void 0),this.children.warnSourceGUIDDialog.on("hidden",this.destroyWarnSourceGUIDDialogHandler,this),this.children.warnSourceGUIDDialog.settings.set("titleLabel",t("Acceleration Warning").t()),this.children.warnSourceGUIDDialog.setText(t("Datamodels with a set source GUID cannot generate their own summaries. Remove the setting to alter acceleration.").t()),e("body").append(this.children.warnSourceGUIDDialog.render().el),this.children.warnSourceGUIDDialog.show()):this.dataModelToEdit.canAccelerate()?this.dataModelToEdit.isPrivate()?(this.children.warnPrivateDialog=new r({id:"modal_private"}),this.children.warnPrivateDialog.settings.set("primaryButtonLabel",t("Edit Permissions").t()),this.children.warnPrivateDialog.settings.set("cancelButtonLabel",t("Cancel").t()),this.children.warnPrivateDialog.on("click:primaryButton",(function(){this.warnPrivateSubmitHandler(i)}),this),this.children.warnPrivateDialog.on("hidden",this.destroyWarnPrivateDialogHandler,this),this.children.warnPrivateDialog.settings.set("titleLabel",t("Add Acceleration").t()),this.children.warnPrivateDialog.setText(t("Private models cannot be accelerated. Edit the permissions before enabling acceleration.").t()),e("body").append(this.children.warnPrivateDialog.render().el),this.children.warnPrivateDialog.show()):(this.children.accelerationDialog=new o({model:{dataModel:this.dataModelToEdit,application:this.model.application,user:this.model.user},collection:{vix:this.collection.vix,archives:this.collection.archives,workloadManagementStatus:this.collection.workloadManagementStatus}}),this.children.accelerationDialog.on("hidden",this.destroyAccelerationDialogHandler,this),this.children.accelerationDialog.on("action:saveModel",this.saveDataModelHandler,this),this.children.accelerationDialog.show()):(this.children.warnAccelerationDialog=new r({id:"modal_warn"}),this.children.warnAccelerationDialog.settings.set("primaryButtonLabel",void 0),this.children.warnAccelerationDialog.settings.set("cancelButtonLabel",void 0),this.children.warnAccelerationDialog.on("hidden",this.destroyWarnAccelerationDialogHandler,this),this.children.warnAccelerationDialog.settings.set("titleLabel",t("Acceleration Warning").t()),this.children.warnAccelerationDialog.setText(t("You can only accelerate data models that include at least one event-based dataset or one search-based dataset that does not use reporting commands.").t()),e("body").append(this.children.warnAccelerationDialog.render().el),this.children.warnAccelerationDialog.show())}),this))},destroyAccelerationDialogHandler:function(){if(this.children.accelerationDialog.remove(),delete this.children.accelerationDialog,this.dataModelToEdit){var e=this.dataModelToEdit.get("id");this.callTelemetry(e,"Edit Acceleration - Cancel"),this.fetchConciseDataModel(e),delete this.dataModelToEdit}},warnPrivateSubmitHandler:function(e){this.children.warnPrivateDialog.hide(),this.trigger("action:editPermissions",e)},destroyWarnPrivateDialogHandler:function(){this.children.warnPrivateDialog.remove(),delete this.children.warnPrivateDialog},destroyWarnAccelerationDialogHandler:function(){this.children.warnAccelerationDialog.remove(),delete this.children.warnAccelerationDialog},destroyWarnSourceGUIDDialogHandler:function(){this.children.warnsourceGUIDDialog.remove(),delete this.children.warnSourceGUIDDialog},rebuildAccelerationHandler:function(e){var i="";this.fetchEditableDataModel(e).then(t.bind((function(){this.dataModelToEdit.entry.content.set("accelerateModel",!1),i=this.dataModelToEdit.entry.content.get("accelerationWindow"),this.dataModelToEdit.save().done(t.bind((function(){var e={accelerationWindow:i,accelerateModel:!0};this.dataModelToEdit.entry.content.set(e),this.dataModelToEdit.save()}),this))}),this))},fetchEditableDataModel:function(e){return this.dataModelToEdit=new c({id:e}),this.dataModelToEdit.fetch({data:{app:this.model.application.get("app"),owner:this.model.application.get("owner")}})},fetchConciseDataModel:function(e){this.trigger("action:fetchDataModel",e)},updateDataModel:function(e,t,i){this.trigger("action:updateDataModel",e,t,i)},getAction:function(e){return t.isUndefined(e)?"Title or Description":"Acceleration"},saveDataModelHandler:function(i,a){if(this.dataModelToEdit){var l=this.dataModelToEdit.get("id");this.updateDataModel(l,{enabled:this.dataModelToEdit.entry.content.acceleration.get("enabled")},{displayName:this.dataModelToEdit.entry.content.get("displayName"),description:this.dataModelToEdit.entry.content.get("description")}),a||e.when(this.dataModelToEdit.save({},{skipDescription:!t.isUndefined(i)})).then(t.bind((function(){this.callTelemetry(l,"Edit "+this.getAction(i)+" - Save"),this.fetchConciseDataModel(l),delete this.dataModelToEdit}),this))}}})}.apply(t,a))||(e.exports=l)},"views/data_model_manager/components/CloneDialog":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("models/datamodel/CreateDataModel"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/TextControl"),i("views/shared/delegates/PairedTextControls"),i("views/shared/FlashMessages"),i("util/datamodel/form_utils")],void 0===(l=function(e,t,i,a,l,o,s,n,d){return a.extend({moduleId:t.i,events:Object.assign({},a.prototype.events,{"click .btn-primary":function(e){this.primaryButtonClicked(e)}}),initialize:function(t){a.prototype.initialize.apply(this,arguments),this.model.createDataModel=new i({displayName:this.model.source.entry.content.get("displayName"),modelName:this.model.source.entry.content.get("modelName"),description:this.model.source.entry.content.get("description"),app:this.model.source.entry.acl.get("app"),clonePermissions:!1}),this.children.flashMessages=new n({model:this.model.createDataModel}),this.children.nameLabel=new l({controlType:"Label",controlOptions:{modelAttribute:"displayName",model:this.model.source.entry.content},label:e("Data Model").t()}),this.textDisplayNameControl=new o({modelAttribute:"displayName",model:this.model.createDataModel}),this.textModelNameControl=new o({modelAttribute:"modelName",model:this.model.createDataModel}),this.children.titleField=new l({controls:this.textDisplayNameControl,label:e("New Title").t()}),this.children.idField=new l({controls:this.textModelNameControl,label:e("New ID").t(),tooltip:e("The ID is used as the filename on disk and used in the data model search command. Cannot be changed later.").t(),help:e("The data model ID can only contain letters, numbers, dashes, and underscores. Do not start the data model ID with a period.").t()}),this.pairedTextControls=new s({sourceDelegate:this.textDisplayNameControl,destDelegate:this.textModelNameControl,transformFunction:d.normalizeForID});var r=this.model.createDataModel.get("app"),c=!1,h=[];this.collection.apps.each((function(e){e.entry.acl.get("can_write")&&(h.push({label:e.entry.content.get("label"),value:e.entry.get("name")}),e.entry.get("name")==r&&(c=!0))}),this),c||(r=h.length>0?h[0].value:void 0),this.model.createDataModel.set("app",r),this.children.selectApp=new l({label:e("App").t(),controlType:"SyntheticSelect",controlOptions:{modelAttribute:"app",model:this.model.createDataModel,toggleClassName:"btn",items:h,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}}),this.children.descriptionField=new l({controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.createDataModel},label:e("New Description").t()}),this.children.clonePermissionsControl=new l({controlType:"SyntheticRadio",controlOptions:{modelAttribute:"clonePermissions",model:this.model.createDataModel,items:[{label:e("Private").t(),value:!1},{label:e("Clone").t(),value:!0}],save:!1,toggleClassName:"btn",labelPosition:"outside",elastic:!0},label:e("Permissions").t()})},primaryButtonClicked:function(e){if(this.clonedDataModel&&this.children.flashMessages.unregister(this.clonedDataModel),this.model.createDataModel.set({},{validate:!0})){this.clonedDataModel=this.model.source.clone();var t=this.model.createDataModel.get("clonePermissions");this.clonedDataModel.id;this.clonedDataModel.unset("id"),this.clonedDataModel.entry.content.acceleration.set({enabled:!1}),this.clonedDataModel.entry.content.set({name:this.model.createDataModel.get("modelName"),displayName:this.model.createDataModel.get("displayName"),description:this.model.createDataModel.get("description")}),this.children.flashMessages.register(this.clonedDataModel),this.clonedDataModel.save({},{data:{app:this.model.createDataModel.get("app"),owner:this.model.application.get("owner")},success:function(e,i){if(t){var a=e;this.clonedDataModel.acl.save({},{data:this.model.source.entry.acl.toDataPayload(),success:function(e,t){this.saveSuccess(a)}.bind(this)})}else this.saveSuccess(e)}.bind(this)},this)}},saveSuccess:function(e){this.hide(),this.trigger("action:clonedDataModel",e.id)},render:function(){return this.$el.html(a.TEMPLATE),this.$(a.HEADER_TITLE_SELECTOR).html(e("Clone Data Model").t()),this.$(a.BODY_SELECTOR).prepend(this.children.flashMessages.render().el),this.$(a.BODY_SELECTOR).append(a.FORM_HORIZONTAL_JUSTIFIED),this.$(a.BODY_FORM_SELECTOR).append(this.children.nameLabel.render().el),this.$(a.BODY_FORM_SELECTOR).append(this.children.titleField.render().el),this.$(a.BODY_FORM_SELECTOR).append(this.children.idField.render().el),this.$(a.BODY_FORM_SELECTOR).append(this.children.selectApp.render().el),this.$(a.BODY_FORM_SELECTOR).append(this.children.descriptionField.render().el),this.model.source.canChangePermissions()&&this.$(a.BODY_FORM_SELECTOR).append(this.children.clonePermissionsControl.render().el),this.$(a.FOOTER_SELECTOR).append(a.BUTTON_CANCEL),this.$(a.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+e("Clone").t()+"</a>"),this}})}.apply(t,a))||(e.exports=l)},"views/data_model_manager/components/TitleDescriptionDialog":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/shared/FlashMessages")],void 0===(l=function(e,t,i,a,l){return i.extend({moduleId:t.i,events:Object.assign({},i.prototype.events,{"click .btn-primary":function(e){this.trigger("action:saveModel"),this.hide()}}),initialize:function(t){i.prototype.initialize.apply(this,arguments),this.children.flashMessage=new l({model:this.model.complete}),this.children.titleField=new a({controlType:"Text",controlOptions:{modelAttribute:"displayName",model:this.model.entry.content},label:e("Title").t()}),this.children.descriptionField=new a({controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.entry.content},label:e("Description").t()})},render:function(){return this.$el.html(i.TEMPLATE),this.$(i.HEADER_TITLE_SELECTOR).html(e("Edit Title or Description").t()),this.$(i.BODY_SELECTOR).prepend(this.children.flashMessage.render().el),this.$(i.BODY_SELECTOR).append(i.FORM_HORIZONTAL),this.$(i.BODY_FORM_SELECTOR).append(this.children.titleField.render().el),this.$(i.BODY_FORM_SELECTOR).append(this.children.descriptionField.render().el),this.$(i.FOOTER_SELECTOR).append(i.BUTTON_CANCEL),this.$(i.FOOTER_SELECTOR).append(i.BUTTON_SAVE),this}})}.apply(t,a))||(e.exports=l)},"views/data_models/CreateDataModelDialog":function(e,t,i){var a,l;a=[i("require/underscore"),i("shim/splunk.util"),i("views/shared/dialogs/DialogBase"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/TextControl"),i("models/datamodel/CreateDataModel"),i("models/services/datamodel/DataModel"),i("views/shared/FlashMessages"),i("views/shared/delegates/PairedTextControls"),i("util/datamodel/form_utils"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c){return i.extend({moduleId:c.i,className:"modal fade modal-narrow create-data-model-dialog form form-horizontal",modelToControlGroupMap:{displayName:"textDisplayName"},initialize:function(t){i.prototype.initialize.call(this,t),this.settings.set("primaryButtonLabel",e("Create").t()),this.settings.set("cancelButtonLabel",e("Cancel").t()),this.settings.set("titleLabel",e("New Data Model").t());var c=this.model.application.get("app"),h=!1,p=[];this.collection.apps.each((function(e){e.entry.acl.get("can_write")&&(p.push({label:e.entry.content.get("label"),value:e.entry.get("name")}),e.entry.get("name")==c&&(h=!0))}),this),h||(c=p.length>0?p[0].value:void 0),this.model.createDataModel=new o({displayName:"",description:"",app:c}),this.textDisplayNameControl=new l({modelAttribute:"displayName",model:this.model.createDataModel}),this.textModelNameControl=new l({modelAttribute:"modelName",model:this.model.createDataModel}),this.children.textDisplayName=new a({label:e("Title").t(),controls:this.textDisplayNameControl}),this.children.textModelName=new a({label:e("ID").t(),tooltip:e("The ID is used as the filename on disk and used in the data model search command. Cannot be changed later.").t(),help:e("The data model ID can only contain letters, numbers, dashes, and underscores. Do not start the data model ID with a period.").t(),controls:this.textModelNameControl}),this.pairedTextControls=new d({sourceDelegate:this.textDisplayNameControl,destDelegate:this.textModelNameControl,transformFunction:r.normalizeForID}),this.children.selectApp=new a({label:e("App").t(),controlType:"SyntheticSelect",controlOptions:{modelAttribute:"app",model:this.model.createDataModel,toggleClassName:"btn",items:p,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}}),this.children.textAreaDescription=new a({label:e("Description").t(),controlType:"Textarea",controlOptions:{modelAttribute:"description",model:this.model.createDataModel,placeholder:e("optional").t()}}),this.model.newDataModel=new s,this.children.flashMessagesView=new n({model:[this.model.createDataModel,this.model.newDataModel]})},primaryButtonClicked:function(){if(i.prototype.primaryButtonClicked.apply(this,arguments),this.model.createDataModel.set({},{validate:!0})){this.model.newDataModel.entry.content.set({name:this.model.createDataModel.get("modelName"),displayName:this.model.createDataModel.get("displayName"),description:this.model.createDataModel.get("description")});var t=this.model.newDataModel.save({},{data:{app:this.model.createDataModel.get("app"),owner:this.model.application.get("owner")}});t&&t.done(e((function(){this.hide(),this.trigger("action:createdDataModel",this.model.newDataModel)})).bind(this))}},renderBody:function(t){var i=e(this.bodyTemplate).template({});t.html(i),t.find(".flash-messages-view-placeholder").append(this.children.flashMessagesView.render().el),t.find(".data-model-display-name-placeholder").append(this.children.textDisplayName.render().el),t.find(".data-model-model-name-placeholder").append(this.children.textModelName.render().el),t.find(".data-model-app-placeholder").append(this.children.selectApp.render().el),t.find(".data-model-description-placeholder").append(this.children.textAreaDescription.render().el)},bodyTemplate:'                    <div class="flash-messages-view-placeholder"></div>                    <div class="data-model-display-name-placeholder"></div>                    <div class="data-model-model-name-placeholder"></div>                    <div class="data-model-app-placeholder"></div>                    <div class="data-model-description-placeholder"></div>                '})}.apply(t,a))||(e.exports=l)},"views/data_models/FileUploadControl":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/controls/Control"),i("shim/splunk.util")],void 0===(l=function(e,t,i,a,l){return a.extend({moduleId:i.i,tagName:"form",className:"control control-upload",initialize:function(){var e={inputClassName:""};t.defaults(this.options,e),a.prototype.initialize.apply(this,arguments)},events:{"change input":function(e){this.$(".filename").text(e.currentTarget.value.split("\\").pop()),window.FileReader&&window.FileReader.prototype.readAsText?this.handleFileSelect(e):this.handleFileSelect_unsupportedBrowsers(e)},"focus .fileInput":function(e){this.$(".fileInputContainer").addClass("isFocused")},"focusout .fileInput":function(e){this.$(".fileInputContainer").removeClass("isFocused")}},disable:function(){this.$input.hide()},enable:function(){this.$input.show()},handleFileSelect_unsupportedBrowsers:function(t){var i=e("<iframe id='upload_iframe' name='upload_iframe' width='0' height='0' border='0' style='width:0; height:0; border:none; display:none'>"),a=e(t.target).closest("form");a.parent().append(i);var o=a[0],s=this;document.getElementById("upload_iframe").onload=function(){o.setAttribute("target","");var t=e("#upload_iframe").contents().find("body").html();s.setValue(t,!1)},o.setAttribute("target","upload_iframe");var n=l.make_url("manager/system/datamodel/upload");o.setAttribute("action",n),o.setAttribute("method","post"),o.setAttribute("enctype","multipart/form-data"),o.setAttribute("encoding","multipart/form-data"),o.submit()},handleFileSelect:function(e){var t=e.target.files;if(1==t.length){var i=t[0],a=new FileReader,l=this;a.onload=function(e){var t=a.result;l.setValue(t,!1)},a.readAsText(i)}},render:function(){if(!this.el.innerHTML){var e=t.template(this.template,{options:this.options,value:this._value||"",_:t,splunk_form_key:l.getFormKey()});this.$el.html(e),this.$input=this.$("input")}var i=this.options.additionalClassNames;return i&&this.$el.addClass(i),this},template:'          <label class="fileInputContainer">            <span class="filename uneditable-input"></span><span class="btn btn-file"><%-_("File...").t()%></span>            <input class="fileInput" type="file"                name="<%- options.modelAttribute || "" %>"                class="<%= options.inputClassName %>"                value="<%- value %>"                <% if(!options.enabled){ %>style="display:none"<%}%>>            <input type="hidden" name="splunk_form_key" value="<%=splunk_form_key%>">          </label>'})}.apply(t,a))||(e.exports=l)},"views/data_models/UploadDataModelDialog":function(e,t,i){var a,l;a=[i("require/underscore"),i("shim/splunk.util"),i("views/shared/dialogs/UploadDataModelDialogBase"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/controls/TextControl"),i("views/data_models/FileUploadControl"),i("views/shared/FlashMessages"),i("models/datamodel/UploadDataModel"),i("models/services/datamodel/DataModel"),i("util/datamodel/form_utils"),e],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p){return i.extend({moduleId:p.i,className:"modal fade modal-narrow create-data-model-dialog form form-horizontal",events:{"change #uploadedFile":function(e){this.handleFileSelect(e)}},modelToControlGroupMap:{displayName:"fileContents"},initialize:function(t){i.prototype.initialize.call(this,t),this.settings.set("primaryButtonLabel",e("Upload").t()),this.settings.set("cancelButtonLabel",e("Cancel").t()),this.settings.set("titleLabel",e("Upload New Data Model").t());var l=this.model.application.get("app"),o=!1,h=[];this.collection.apps.each((function(e){e.entry.acl.get("can_write")&&(h.push({label:e.entry.content.get("label"),value:e.entry.get("name")}),e.entry.get("name")==l&&(o=!0))}),this),o||(l=h.length>0?h[0].value:void 0),this.model.uploadDataModel=new r({fileContents:"",app:l}),this.fileNameControl=new n({modelAttribute:"fileContents",model:this.model.uploadDataModel}),this.textModelNameControl=new s({modelAttribute:"modelName",model:this.model.uploadDataModel}),this.children.fileName=new a({label:e("File").t(),controls:this.fileNameControl,controlOptions:{modelAttribute:"uploadedFile",model:this.model.uploadDataModel}}),this.model.uploadDataModel.on("change:fileContents",this.handleFileUploaded,this),this.children.textModelName=new a({label:e("ID").t(),tooltip:e("The ID is used as the filename on disk and used in the data model search command. Cannot be changed later.").t(),help:e("The data model ID can only contain letters, numbers, dashes, and underscores. Do not start the data model ID with a period.").t(),controls:this.textModelNameControl}),this.children.selectApp=new a({label:e("App").t(),controlType:"SyntheticSelect",controlOptions:{modelAttribute:"app",model:this.model.uploadDataModel,toggleClassName:"btn",items:h,popdownOptions:{attachDialogTo:".modal:visible",scrollContainer:".modal:visible .modal-body:visible"}}}),this.model.newDataModel=new c,this.children.flashMessagesView=new d({model:[this.model.uploadDataModel,this.model.newDataModel]}),this.model.uploadDataModel.set("dashPerm","private")},handleFileUploaded:function(){this.model.uploadDataModel.clearErrors();var e,t=this.model.uploadDataModel.get("fileContents");try{(e=JSON.parse(t)).description=t;var i={entry:[]};i.entry.push({content:e}),this.model.newDataModel.parseFile(i);var a=h.normalizeForID(this.model.newDataModel.entry.content.get("displayName"));this.model.uploadDataModel.set("modelName",a)}catch(e){return void this.model.uploadDataModel.trigger("error",this.model.uploadDataModel,"File contains invalid json")}},primaryButtonClicked:function(){if(i.prototype.primaryButtonClicked.apply(this,arguments),this.model.uploadDataModel.set({},{validate:!0})){var t=this.model.uploadDataModel.get("dashPerm"),a=this.model.application.getPermissions(t);a.app=this.model.uploadDataModel.get("app"),this.model.newDataModel.entry.content.set("name",this.model.uploadDataModel.get("modelName")),this.model.newDataModel.entry.content.isCreating=!0;var l=this.model.newDataModel.save({},{data:a});l&&l.done(e((function(){this.hide(),this.model.newDataModel.entry.content.isCreating=!1,this.trigger("action:uploadedDataModel",this.model.newDataModel)})).bind(this))}},renderBody:function(t){var i=e(this.bodyTemplate).template({});t.html(i),t.find(".flash-messages-view-placeholder").append(this.children.flashMessagesView.render().el),t.find(".data-model-file-name-placeholder").append(this.children.fileName.render().el),t.find(".data-model-model-name-placeholder").append(this.children.textModelName.render().el),t.find(".data-model-app-placeholder").append(this.children.selectApp.render().el)},bodyTemplate:'                    <div class="flash-messages-view-placeholder"></div>                    <div class="data-model-file-name-placeholder"></div>                    <div class="data-model-model-name-placeholder"></div>                    <div class="data-model-app-placeholder"></div>                '})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/AddEditFormBase":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),e,i("views/Base")],void 0===(l=function(e,t,i,a){return a.extend({initialize:function(){a.prototype.initialize.apply(this,arguments),this.flashMessagesHelper=this.options.flashMessagesHelper,this.listenTo(this.model.buttonSettings,"change",this._handleButtonVisibility)},events:{"click .cancel-button":function(e){e.preventDefault(),this.trigger("action:cancel")},"click .delete-button":function(e){e.preventDefault(),this.trigger("action:delete")},"click .preview-button":function(e){e.preventDefault(),this.preview()},"click .save-button":function(e){e.preventDefault(),this.save()}},performLocalValidation:function(e){return!0},preview:function(){this.performLocalValidation({preview:!0})&&e.when(this._handlePreview()).done(t((function(){this.trigger.apply(this,["action:preview"].concat(t(arguments).toArray()))})).bind(this))},_handlePreview:function(){},save:function(){this.performLocalValidation({preview:!1})&&e.when(this._handleSave()).done(t((function(){this.trigger.apply(this,["action:save"].concat(t(arguments).toArray()))})).bind(this))},_handleSave:function(){},render:function(){return this.flashMessagesHelper&&0!==this.flashMessagesHelper.getGeneralMessagesSize()||(this.$el.html(this.compiledTemplate({})),this.renderEditor(this.$(".editor-container")),this.renderPreview(this.$(".preview-container")),this._handleButtonVisibility()),this},renderEditor:function(e){throw new Error("Sub-classes of AddEditFormBase must implement the renderEditor method")},renderPreview:function(e){e.remove()},showDrillDownView:function(e){var t=this.$(".drill-down-view");e.replaceContentsOf(t),t.animate({marginRight:"0%"},350,(function(){e.invalidateReflow()})),this.$(".main-view").animate({marginLeft:"-100%"},350)},hideDrillDownView:function(t){e(".main-view").animate({marginLeft:"0%"},350),e(".drill-down-view").animate({marginRight:"-100%"},350,(function(){t.remove()}))},template:'            <div class="main-view-and-drill-down-view-container">                <div class="main-view">                    <div class="editor-container"></div>                    <div class="buttons-container">                        <a href="#" class="delete-button btn"><%- _("Delete").t() %></a>                        <a href="#" class="cancel-button btn"><%- _("Cancel").t() %></a>                        <a href="#" class="preview-button btn"><%- _("Preview").t() %></a>                        <a href="#" class="save-button btn btn-primary"><%- _("Save").t() %></a>                    </div>                    <div class="preview-container"></div>                </div>                <div class="drill-down-view"></div>            </div>        ',_handleButtonVisibility:function(){var e=t((function(e,t){var i=this.$(e);"show"===this.model.buttonSettings.get(t)?i.show():i.hide()})).bind(this);e(".delete-button","delete"),e(".cancel-button","cancel"),e(".preview-button","preview"),e(".save-button","save")}})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/PreviewJobController":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("controllers/Base"),i("util/field_extractor_utils"),i("shim/splunk.util"),i("util/splunkd_utils"),i("views/shared/dialogs/RiskyCommand"),i("stubs/splunk.config")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r){return l.extend({moduleId:a.i,ADHOC_SEARCH_LEVEL:"verbose",initialize:function(e){l.prototype.initialize.call(this,e),this.model.searchJob.on("change:id",(function(){this.model.searchJob.isNew()?(this.model.searchJob.fetchAbort(),this.model.searchJob.stopPolling(),this.model.searchJob.stopKeepAlive()):this.model.searchJob.startPolling()}),this),this.model.searchJob.on("error",(function(e){n.messagesContainsOneOfTypes(e.error.get("messages"),[n.RISKY_COMMAND])&&this.showRiskyWarning(e)}),this)},createJobAttributes:function(e){var t=this.model.state.get("sampleSize"),i=this.model.state.get("filter"),a=this.model.state.get("clustering"),l=[e],s={earliest_time:t.earliest||null,latest_time:t.latest||null,auto_cancel:100,auto_finalize_ec:0,status_buckets:0,timeFormat:"%s.%Q",ui_dispatch_app:this.model.application.get("app"),rf:"*",preview:!0,adhoc_search_level:this.ADHOC_SEARCH_LEVEL,app:this.model.application.get("app"),owner:this.model.application.get("owner"),check_risky_command:r.ENABLE_RISKY_COMMAND_CHECK};return i&&l.push(this.createFilterSubQuery(i)),t.head&&l.push("head "+t.head),a===o.CLUSTERING_DIVERSE?l.push(this.createClusterSubQuery({sort:"descending"})):a===o.CLUSTERING_OUTLIERS&&l.push(this.createClusterSubQuery({sort:"ascending"})),s.search=l.join(" | "),s},createFilterSubQuery:function(e){var t=e.split("=");if(2===t.length){if('"'!==e.charAt(0)||'"'!==e.charAt(e.length-1))return s.sprintf("search %s=%s",s.searchEscape(t[0]),s.searchEscape(t[1]));e=e.substr(1,e.length-2)}return s.sprintf("search *%s*",s.searchEscape(e))},createClusterSubQuery:function(e){return s.sprintf("cluster t=0.6 showcount=true field=%s labelonly=true | dedup 3 cluster_label | sort 100 %scluster_count | sort -_time | abstract maxlines=100",s.searchEscape(this.model.state.get("inputField")),"ascending"===e.sort?"+":"-")},preview:function(e,i){this._previewSearchString||(this._previewSearchString=e),i=i||{},this.resetSearchJob();var a=t.extend(this.createJobAttributes(e),i.data);return this.model.searchJob.save({},{data:a})},resetSearchJob:function(){this.model.searchJob.clear()},showRiskyWarning:function(i){this.riskyWarningDialog=new d({model:{searchJob:i,application:this.model.application},onHiddenRemove:!0,hideInvestigateBtn:!0,actionableText:t("Do you want to run the search string?").t()}),this.listenTo(this.riskyWarningDialog,"runSearch",function(){this.preview(this._previewSearchString,{data:{provenance:"UI:DataModel",check_risky_command:!1}})}.bind(this)),this.listenTo(this.riskyWarningDialog,"cancel",this.riskyWarningDialog.hide.bind(this.riskyWarningDialog)),this.riskyWarningDialog.render().appendTo(e("body")),this.riskyWarningDialog.show()}})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/RexPreviewViewStack":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/Base"),i("models/services/search/jobs/Summary"),i("models/shared/fetchdata/ResultsFetchData"),i("models/shared/dataenrichment/ExtractionEventsFetchData"),i("models/services/search/jobs/ResultJsonRows"),i("views/Base"),i("views/shared/tabcontrols/TabbedViewStack"),i("views/shared/results_table/MatchResultsTableMaster"),i("views/shared/dataenrichment/preview/components/PreviewResultsPane"),i("views/shared/dataenrichment/preview/components/MatchResultsControlBar"),i("views/shared/dataenrichment/preview/components/ViewValuesPane"),i("views/shared/dataenrichment/preview/components/DrillDownResultsTable"),i("util/splunkd_utils"),i("util/field_extractor_utils"),i("util/datamodel/search_utils"),i("shim/splunk.util")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f,v,g,b,w){return r.extend({moduleId:a.i,initialize:function(e){r.prototype.initialize.call(this,e),this.$el.addClass("rex-preview-view-stack"),this.model.searchJob.on("prepared",this.searchJobPrepared,this),this.model.searchJob.on("change:id",this.searchJobClear,this),this.model.summary=new o,this.model.searchJob.entry.links.on("change",(function(){this.model.summary.set("id",this.model.searchJob.entry.links.get("summary"))}),this),this.autoDrilldownEnabled=!1!==this.options.autoDrilldownEnabled},setAddSamplesEnabled:function(e){this.eventsPane&&this.eventsPane.setAddSamplesEnabled(e)},createSubViews:function(){this.eventsPane&&this.eventsPane.remove(),this.viewValuesPanes&&t(this.viewValuesPanes).each((function(e){e.remove()}),this),this.children.viewStack&&this.children.viewStack.remove(),this.model.eventsFetchData=new n({output_mode:"json_rows",segmentation:"full",count:"20",max_lines:g.MAX_EVENT_LINES,search:this.getEventsPostProcessSearch()}),this.model.drillDownFetchData=new s({output_mode:"json_rows",segmentation:"full",count:"20",max_lines:g.MAX_EVENT_LINES,search:""}),this.model.eventResults=new d({},{fetchData:this.model.eventsFetchData}),this.model.drillDownResults=new d({},{fetchData:this.model.drillDownFetchData}),this.model.eventResults.set("id",this.model.searchJob.entry.links.get("results_preview")),this.model.drillDownResults.set("id",this.model.searchJob.entry.links.get("results_preview"));var i=this.model.state.get("regex"),a=g.getCaptureGroupNames(i),l=this.model.state.get("inputField");this.eventsPane=new p({model:{application:this.model.application,state:this.model.state,searchJob:this.model.searchJob,resultsFetchData:this.model.eventsFetchData,results:this.model.eventResults},label:"_raw"===l?t("Events").t():l,resultsTableMasterOptions:e.extend(this.model.state.pick("regex","inputField","requiredText"),{enableTableDock:!1}),resultsTableMasterClass:h,resultsControlBarClass:u,controlBarOptions:{showMatchControl:!!i},noResultsMessage:{type:v.ERROR,html:t("No results found.").t()}}),this.listenTo(this.eventsPane,"action:removeExtraction",t(this.trigger).partial("action:removeExtraction")),this.listenTo(this.eventsPane,"action:selectEvent",t(this.trigger).partial("action:selectEvent")),this.listenTo(this.eventsPane,"action:nextStep",t(this.trigger).partial("action:nextStep")),this.viewValuesPanes=[],t(a).each((function(e){var i=new m({label:this.getFieldDisplayName(e),fieldName:e,model:{state:this.model.state,searchJob:this.model.searchJob,summary:this.model.summary},resultsControlBarClass:u,noResultsMessage:{type:v.WARNING,html:t("The attribute was not found in the events. Try changing the sample size or the regular expression.").t()}});this.viewValuesPanes.push(i),i.on("cellClick",this.handleCellClick,this)}),this),this.children.previewPanes=[this.eventsPane].concat(this.viewValuesPanes),this.visitedPanes=[];for(var o=0;o<this.children.previewPanes.length;o++)this.visitedPanes[o]=!1;this.children.viewStack&&this.stopListening(this.children.viewStack),this.children.viewStack=new c({selectedIndex:0}),this.children.viewStack.render().appendTo(this.$(".viewstack-placeholder")),this.toggleViewStackPanes()},getEventsPostProcessSearch:function(){var e=this.model.state.get("inputField"),i=this.model.state.get("regex"),a=g.getCaptureGroupNames(i),l=this.model.state.get("eventsView");if(i&&l===g.VIEW_MATCHING_EVENTS)return this.getPreviewMatchSearch(e,i)+b.generateFieldSubSearch(t.union([e],a),e);if(i&&l===g.VIEW_NON_MATCHING_EVENTS)return this.getPreviewNonMatchSearch(e,i)+b.generateFieldSubSearch([e],e);var o=t.union([e],a);return i&&o.unshift(g.MATCH_FIELD_NAME),this.getPreviewAllSearch(e,i)+b.generateFieldSubSearch(o,e)},getPreviewAllSearch:function(e,t){return t?w.sprintf("eval %s = if(match(%s, %s), 1, 0)",g.MATCH_FIELD_NAME,w.searchEscape(e),w.searchEscape(t,{forceQuotes:!0})):""},getPreviewMatchSearch:function(e,t){return w.sprintf("where match(%s, %s)",w.searchEscape(e),w.searchEscape(t,{forceQuotes:!0}))},getPreviewNonMatchSearch:function(e,t){return w.sprintf("where NOT match(%s, %s)",w.searchEscape(e),w.searchEscape(t,{forceQuotes:!0}))},getFieldDisplayName:function(e){var t=this.model.state.get("fieldAliases");return t&&t[e]?t[e]:e},handleCellClick:function(e){if(this.autoDrilldownEnabled){var a=this.model.state.get("inputField"),l=t.union(["_raw",a],g.getCaptureGroupNames(this.model.state.get("regex"))),o="search "+e.fieldName+'="'+e.value.replace(/"/g,'\\"')+'"'+b.generateFieldSubSearch(l,a);this.model.drillDownFetchData.set("search",o),this.model.drillDownResults.safeFetch(),this.model.rowInfo=new i.Model,this.drillDownTable=new f({model:{searchJob:this.model.searchJob,resultsFetchData:this.model.drillDownFetchData,rowInfo:this.model.rowInfo,results:this.model.drillDownResults},label:t("Drill-down").t(),tabClassName:"tab-results-last",noResultsMessage:{type:v.WARNING,html:t("None of the results match the selected row.").t()}}),this.drillDownTable.on("backToRegexClicked",(function(){this.trigger("hideDrillDownView",this.drillDownTable)}),this),this.model.rowInfo.set("field",e.fieldName),this.model.rowInfo.set("value",e.value),this.trigger("showDrillDownView",this.drillDownTable.render())}else this.trigger("action:valueDrilldown",e.fieldName,e.value)},searchJobPrepared:function(){this.previousHasEvents=void 0,this.model.searchJob.on("jobProgress",this.searchJobProgress,this),this.model.searchJob.entry.content.on("change:eventCount",this.toggleViewStackPanes,this),this.createSubViews()},searchJobClear:function(){this.model.searchJob.isNew()&&(this.model.searchJob.off("jobProgress",this.searchJobProgress,this),this.model.searchJob.entry.content.off("change:eventCount",this.toggleViewStackPanes,this),this.model.summary.clear())},searchJobProgress:function(){this.model.summary.safeFetch({data:{top_count:1e3,min_freq:0}}),this.model.eventResults.safeFetch()},normalizeEventCount:function(e){return null!=e&&0!=(e=parseInt(e,10))},toggleViewStackPanes:function(){var e=this.normalizeEventCount(this.model.searchJob.entry.content.get("eventCount"));if(e!=this.previousHasEvents){var t=this.children.viewStack.getLength();if(e){if(t<=1)for(var i=this.children.previewPanes.length,a=t;a<i;a++){var l=this.children.previewPanes[a];this.children.viewStack.addPane(l)}}else if(t>1)for(var o=t-1;o>0;o--)this.children.viewStack.removePaneAt(o);else 0==t&&this.children.viewStack.addPane(this.children.previewPanes[0])}this.previousHasEvents=e},render:function(){return this.$el.html(this.compiledTemplate({})),this},template:'                <div class="viewstack-placeholder"></div>            '},{SUMMARY_TOP_COUNT:1e3})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/DrillDownResultsControlBar":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/SearchResultsPaginator"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/jobstatus/Spinner"),i("views/shared/jobstatus/Count"),i("collections/Base")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c){return l.extend({moduleId:a.i,events:{"click .back-to-regex-link":function(e){this.trigger("backToRegexClicked")}},initialize:function(e){l.prototype.initialize.call(this,e),this.children.spinner=new d({model:this.model.searchJob}),this.children.count=new r({model:this.model.searchJob}),this.children.pageCount=new n({menuWidth:"narrow",className:"btn-group pull-left",items:[{value:10,label:"10 per page"},{value:20,label:"20 per page"},{value:50,label:"50 per page"},{value:100,label:"100 per page"}],model:this.model.page,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.paginator=new o({model:{state:this.model.paginatorState,searchJob:this.model.searchJob,results:this.model.results},collection:new c,mode:this.options.reportType}),this.model.rowInfo.on("change",this.renderValueStats,this),this.model.results.on("change:post_process_count",this.renderValueStats,this)},renderValueStats:function(){this.model.results.get("post_process_count")&&this.$(".value-stats").html(this.model.results.get("post_process_count")+" matches for "+this.model.rowInfo.get("field")+"="+this.model.rowInfo.get("value"))},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.pageCount.render().appendTo(this.$(".page-count-placeholder")),this.children.paginator.render().appendTo(this.$(".paginator-placeholder")),this.renderValueStats(),this},template:'                <div class="back-button-container">                        <a href="#" class="back-to-regex-link"><i class="icon-chevron-left icon-no-underline"></i><span><%- _("Back to regex").t() %></span></a>                </div>                <div class="divider"></div>                <div class="value-stats-container">                    <div class="value-stats pull-left"></div>                    <div class="page-count-placeholder"></div>                    <div class="paginator-placeholder pull-right"></div>                </div>'})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/DrillDownResultsTable":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/Base"),i("views/shared/dataenrichment/preview/components/DrillDownResultsControlBar"),i("views/shared/dataenrichment/preview/components/ResultsTableContainer"),i("views/Base"),i("views/shared/results_table/ResultsTableMaster"),i("mixins/ViewPane")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r){return n.extend({moduleId:a.i,REPORT_TYPE:"results_preview",initialize:function(e){t(e).defaults({resultsTableMasterClass:d}),n.prototype.initialize.call(this,e),this.children.resultsControlBar=new o({model:{page:this.model.resultsFetchData,searchJob:this.model.searchJob,paginatorState:this.model.resultsFetchData,rowInfo:this.model.rowInfo,results:this.model.results},reportType:this.REPORT_TYPE}),this.children.resultsControlBar.on("backToRegexClicked",(function(){this.trigger("backToRegexClicked")}),this),this.children.resultsView=new s({model:{searchData:this.model.results,searchDataParams:this.model.resultsFetchData,searchJob:this.model.searchJob,config:new l},resultsTableClass:this.options.resultsTableMasterClass,noResultsMessage:this.options.noResultsMessage})},render:function(){return this.children.resultsControlBar&&this.children.resultsControlBar.detach(),this.$el.html(this.compiledTemplate({})),this.children.resultsControlBar.render().appendTo(this.$(".results-control-bar-placeholder")),this.children.resultsView.render().appendTo(this.$(".drilldown-table-wrapper")),this},invalidateReflow:function(){n.prototype.invalidateReflow.apply(this,arguments),this.children.resultsView.invalidateReflow()},template:'                <div class="results-control-bar-placeholder"></div>                <div class="drilldown-table-wrapper"></div>            '})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/MatchResultsControlBar":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("collections/Base"),i("models/Base"),i("views/Base"),i("views/shared/jobstatus/Count"),i("views/shared/dataenrichment/preview/components/SelectPageCount"),i("views/shared/SearchResultsPaginator"),i("views/shared/jobstatus/Spinner"),i("views/shared/controls/TextControl"),i("views/shared/dataenrichment/preview/components/SelectSampleSize"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/controls/SyntheticRadioControl"),i("util/field_extractor_utils"),i("util/keyboard")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p,u,m,f){return l.extend({moduleId:t.i,className:"match-results-control-bar",events:{"click .apply-filter-button":function(e){e.preventDefault(),this.model.state.set(this.model.filterMediator.pick("filter"))},"keypress .filter-input":function(e){e.which===f.KEYS.ENTER&&this.model.state.set(this.model.filterMediator.pick("filter"))}},initialize:function(){l.prototype.initialize.apply(this,arguments),this.children.count=new o({model:this.model.searchJob}),this.children.spinner=new d({model:this.model.searchJob}),this.children.pageCount=new s({model:this.model.page}),this.options.paginator?this.children.paginator=this.options.paginator:this.children.paginator=new n({model:{state:this.model.paginatorState,searchJob:this.model.searchJob,results:this.model.results},collection:new i,mode:this.options.reportType}),this.model.filterMediator=new a(this.model.state.pick("filter")),this.children.filterInput=new r({model:this.model.filterMediator,modelAttribute:"filter",placeholder:e("filter").t(),className:"control filter-input-control input-append",inputClassName:"filter-input",updateOnKeyUp:!0}),this.listenTo(this.model.filterMediator,"change:filter",this.refreshFilterControl),this.listenTo(this.model.state,"change:filter",this.refreshFilterControl),this.children.selectSampleSize=new c({model:this.model.state,modelAttribute:"sampleSize"}),this.children.selectClustering=new p({model:this.model.state,modelAttribute:"clustering",toggleClassName:"btn",menuWidth:"narrow",items:[{label:e("All events").t(),value:m.CLUSTERING_NONE},{label:e("Diverse events").t(),value:m.CLUSTERING_DIVERSE},{label:e("Rare events").t(),value:m.CLUSTERING_OUTLIERS}]}),this.options.showMatchControl&&(this.children.selectMatch=new u({model:this.model.state,modelAttribute:"eventsView",items:[{label:e("All Events").t(),value:m.VIEW_ALL_EVENTS},{label:e("Matches").t(),value:m.VIEW_MATCHING_EVENTS},{label:e("Non-Matches").t(),value:m.VIEW_NON_MATCHING_EVENTS}]}))},render:function(){e(this.children).invoke("detach"),this.$el.html(this.compiledTemplate({})),this.children.pageCount.render().appendTo(this.$(".page-count-container")),this.children.paginator.render().appendTo(this.$(".pagination-container")),this.children.spinner.render().appendTo(this.$(".spinner-container")),this.children.count.render().appendTo(this.$(".count-container"));var t=this.$(".controls-row");if(this.children.filterInput.render().appendTo(t),this.children.filterInput.$el.append('<a href="#" class="apply-filter-button btn btn-primary">'+e("Apply").t()+"</a>"),this.children.selectSampleSize.render().appendTo(t),this.children.selectClustering.render().appendTo(t),this.children.selectMatch&&this.children.selectMatch.render().appendTo(t),this.model.state.has("useSearchFilter")&&this.model.state.get("hasSid")&&(this.model.state.get("mode")===m.SELECT_SAMPLE_MODE||this.model.state.get("mode")===m.SELECT_FIELDS_MODE||this.model.state.get("mode")===m.VALIDATE_FIELDS_MODE))this.$(".search-filter-container");return this.refreshFilterControl(),this},refreshFilterControl:function(){var e=this.model.state.get("filter"),t=e!==this.model.filterMediator.get("filter"),i=this.$(".apply-filter-button"),a=this.$(".filter-input");t?i.removeClass("disabled"):i.addClass("disabled"),t||e?a.addClass("active"):a.removeClass("active")},template:'            <div class="job-status-row">                <div class="spinner-container"></div>                <div class="count-container"></div>                <div class="pagination-container pull-right"></div>                <div class="page-count-container pull-right"></div>                <div class="search-filter-container pull-right"></div>            </div>            <div class="controls-row"></div>        '})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/PreviewResultsPane":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/Base"),i("views/shared/dataenrichment/preview/components/SearchResultsControlBar"),i("views/shared/dataenrichment/preview/components/ResultsTableContainer"),i("views/Base"),i("views/shared/results_table/ResultsTableMaster"),i("mixins/ViewPane")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r){var c=n.extend({moduleId:a.i,REPORT_TYPE:"results_preview",className:"tab-pane",initialize:function(e){t(e).defaults({resultsTableMasterClass:d,resultsControlBarClass:o}),n.prototype.initialize.call(this,e),this.viewPaneInitialize(e),this.children.resultsControlBar=new this.options.resultsControlBarClass(t.extend({model:{page:this.model.resultsFetchData,state:this.model.state,searchJob:this.model.searchJob,paginatorState:this.model.resultsFetchData,results:this.model.results},reportType:this.REPORT_TYPE},this.options.controlBarOptions)),this.children.resultsView=new s({model:{searchData:this.model.results,searchDataParams:this.model.resultsFetchData,searchJob:this.model.searchJob,state:this.model.state,config:new l},tableOptions:this.options.resultsTableMasterOptions,resultsTableClass:this.options.resultsTableMasterClass,noResultsMessage:this.options.noResultsMessage}),this.listenTo(this.children.resultsView,"all",this.trigger)},setAddSamplesEnabled:function(e){this.children.resultsView.setAddSamplesEnabled(e)},render:function(){return this.children.resultsControlBar&&this.children.resultsControlBar.detach(),this.children.resultsView&&this.children.resultsView.detach(),this.$el.html(this.compiledTemplate({})),this.children.resultsControlBar.render().appendTo(this.$(".results-control-bar-placeholder")),this.children.resultsView.render().appendTo(this.$(".preview-table-wrapper")),this},template:'                <div class="results-control-bar-placeholder"></div>                <div class="preview-table-wrapper"></div>            '});return t.extend(c.prototype,r),c}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/ResultsControlBar":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/dataenrichment/preview/components/SelectSampleSize"),i("views/shared/dataenrichment/preview/components/SelectPageCount"),i("views/shared/SearchResultsPaginator"),i("views/shared/controls/ControlGroup"),i("views/shared/jobstatus/Spinner"),i("views/shared/jobstatus/Count"),i("collections/Base")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h){return l.extend({moduleId:a.i,initialize:function(e){l.prototype.initialize.call(this,e),this.children.spinner=new r({model:this.model.searchJob}),this.initializeCount(e),this.children.selectSampleSize=new o({model:this.model.state,modelAttribute:"sampleSize"}),this.children.pageCount=new s({model:this.model.page}),this.children.paginator=this.options.paginator},initializeCount:function(e){this.children.count=new c({model:this.model.searchJob})},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.spinner.render().appendTo(this.$(".spinner-container")),this.children.count.render().appendTo(this.$(".count-container")),this.children.selectSampleSize.render().appendTo(this.$(".select-sample-size-placeholder")),this.children.pageCount.render().appendTo(this.$(".page-count-placeholder")),this.children.paginator.render().appendTo(this.$(".paginator-placeholder")),this},template:'                <div class="job-status-row">                    <div class="spinner-container"></div>                    <div class="count-container"></div>                    <div class="paginator-placeholder pull-right"></div>                    <div class="page-count-placeholder pull-right"></div>                </div>                <div class="controls-row">                    <div class="select-sample-size-placeholder pull-left"></div>                </div>'})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/ResultsTableContainer":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/results_table/ResultsTableMaster"),i("views/shared/FlashMessages"),i("util/splunkd_utils")],void 0===(l=function(e,t,i,a,l,o,s,n){var d=l.extend({moduleId:a.i,initialize:function(e){l.prototype.initialize.call(this,e),t(e).defaults({resultsTableClass:o,tableOptions:{}}),t(e.tableOptions).defaults({enableTableDock:!0,className:"scrolling-table-wrapper"}),e.tableOptions.model=this.model,this.model.searchData.on("sync",this.resultsRowsChangeHandler,this),this.children.resultsTable=new e.resultsTableClass(e.tableOptions),this.listenTo(this.children.resultsTable,"all",this.trigger),this.children.flashMessagesView=new s({model:[this.model.searchData],whitelist:[n.ERROR,n.INFO]})},setAddSamplesEnabled:function(e){t(this.children.resultsTable.setAddSamplesEnabled).isFunction()&&this.children.resultsTable.setAddSamplesEnabled(e)},resultsRowsChangeHandler:function(){var e=this.model.searchData.get("rows");e&&0!=e.length?(this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(d.NO_RESULTS_ID),this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(d.WAITING_ID)):this.model.searchJob.isDone()?(this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(d.WAITING_ID),this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(d.NO_RESULTS_ID,this.options.noResultsMessage)):(this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage(d.NO_RESULTS_ID),this.children.flashMessagesView.flashMsgHelper.addGeneralMessage(d.WAITING_ID,{type:n.INFO,html:t("Waiting for results...").t()}))},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.resultsTable.render().appendTo(this.$(".results-table-placeholder")),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-placeholder")),this},invalidateReflow:function(){l.prototype.invalidateReflow.apply(this,arguments),this.children.resultsTable.invalidateReflow()},template:'                <div class="results-table-placeholder"></div>                <div class="flash-messages-placeholder" style="height:100%;"></div>            '},{NO_RESULTS_ID:"__NO_RESULTS_ID__",WAITING_ID:"__WAITING_ID__",NO_RESULTS_MSG:"No results found."});return d}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/SearchResultsControlBar":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/shared/dataenrichment/preview/components/ResultsControlBar"),i("views/shared/jobstatus/Count"),i("views/shared/SearchResultsPaginator"),i("collections/Base")],void 0===(l=function(e,t,i,a,l,o,s,n){return l.extend({moduleId:a.i,initialize:function(e){var t=new s({model:{state:this.model.paginatorState,searchJob:this.model.searchJob,results:this.model.results},collection:new n,mode:this.options.reportType});e.paginator=t,l.prototype.initialize.call(this,e)},initializeCount:function(e){this.children.count=new o({model:this.model.searchJob,resultsModel:this.model.results})}})}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/SelectSampleSize":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/shared/controls/SyntheticSelectControl"),e],void 0===(l=function(e,t,i,a){var l={FIRST_1000:{head:1e3},FIRST_10000:{head:1e4},LAST_5_MINUTES:{earliest:"-5m",latest:"now"},LAST_24_HOURS:{earliest:"-1d@h",latest:"now"},LAST_7_DAY:{earliest:"-7d@h",latest:"now"}};return i.extend({moduleId:a.i,className:"control btn-group select-field-type",initialize:function(){var a=[{label:t("1,000 events").t(),value:l.FIRST_1000},{label:t("10,000 events").t(),value:l.FIRST_10000},{label:t("5 minutes").t(),value:l.LAST_5_MINUTES},{label:t("24 hours").t(),value:l.LAST_24_HOURS},{label:t("7 days").t(),value:l.LAST_7_DAY}];e.extend(this.options,{toggleClassName:"btn",menuWidth:"narrow",items:a,defaultValue:l.FIRST_1000,label:t("Sample:").t()}),i.prototype.initialize.call(this,this.options)}},l)}.apply(t,a))||(e.exports=l)},"views/shared/dataenrichment/preview/components/ViewValuesPane":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/Base"),i("models/shared/fetchdata/ResultsFetchData"),i("models/services/search/jobs/ResultJsonRows"),i("views/Base"),i("views/shared/dataenrichment/preview/components/ResultsControlBar"),i("views/shared/dataenrichment/preview/components/ResultsTableContainer"),i("views/shared/Paginator"),i("views/shared/results_table/FieldValuesTableMaster"),i("mixins/ViewPane")],void 0===(l=function(e,t,i,a,l,o,s,n,d,r,c,h,p){var u=n.extend({moduleId:a.i,className:"tab-pane",initialize:function(e){t(e).defaults({resultsControlBarClass:d}),n.prototype.initialize.call(this,e),this.viewPaneInitialize(e);var i=t(this.summaryChangeHandler).debounce(0);this.model.summary.fields.on("add remove reset",i,this),this.model.summary.on("sync",i,this),this.model.resultsFetchData=new o({count:"20",offset:0,sortKey:"Count",sortDirection:"desc"}),this.model.resultsFetchData.on("change:count change:offset change:sortKey change:sortDirection",this.resultsFetchDataChangeHandler,this),this.model.resultsModel=new l({rows:void 0,fields:[t("Values").t(),t("Count").t(),t("%").t()]});var a=new c({model:this.model.resultsFetchData});this.children.resultsControlBar=new this.options.resultsControlBarClass({model:{page:this.model.resultsFetchData,state:this.model.state,searchJob:this.model.searchJob,paginatorState:this.model.resultsFetchData},paginator:a}),this.children.resultsTable=new r({model:{searchData:this.model.resultsModel,searchDataParams:this.model.resultsFetchData,searchJob:this.model.searchJob,config:new l},resultsTableClass:h,noResultsMessage:this.options.noResultsMessage,tableOptions:{enableTableDock:!1}}),this.children.resultsTable.on("cellClick",(function(e){e.fieldName=this.options.fieldName,this.trigger("cellClick",e)}),this)},summaryChangeHandler:function(){this._modesSortedByValues=void 0;var e=this.options.fieldName,t=this.model.summary.findByFieldName(e);if(t){var i=this._modesSortedByCount=t.get("modes").slice(0);this._fieldCount=t.get("count"),this.model.resultsFetchData.set("length",this._modesSortedByCount.length),"Values"==this.model.resultsFetchData.get("sortKey")&&(i=this.getModesSortedByValues()),this.updateResultsModel(i)}else this.updateResultsModel([])},resultsFetchDataChangeHandler:function(){var e="Values"==this.model.resultsFetchData.get("sortKey")?this.getModesSortedByValues():this._modesSortedByCount;this.updateResultsModel(e)},getModesSortedByValues:function(){return null==this._modesSortedByValues&&(this._modesSortedByValues=this._modesSortedByCount.slice(0),this._modesSortedByValues.sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0}))),this._modesSortedByValues},updateResultsModel:function(e){var t,i,a,l,o=[],s=this.model.resultsFetchData.get("sortDirection"),n=parseInt(this.model.resultsFetchData.get("count"),10),d=this.model.resultsFetchData.get("offset");if("desc"==s)for(t=d,i=Math.min(n+t,e.length),a=t;a<i;a++)l=e[a],o.push({Values:l.value,Count:l.count,"%":l.count/Math.max(this._fieldCount,1)});else for(t=e.length-d-1,i=Math.max(t-n,-1),a=t;a>i;a--)l=e[a],o.push({Values:l.value,Count:l.count,"%":l.count/Math.max(this._fieldCount,1)});o.length>0?this.model.resultsModel.set("rows",o):this.model.resultsModel.set("rows",[])},render:function(){return this.$el.html(this.compiledTemplate({})),this.children.resultsControlBar.render().appendTo(this.$(".results-control-bar-placeholder")),this.children.resultsTable.render().appendTo(this.$(".preview-table-wrapper")),this},template:'                <div class="results-control-bar-placeholder"></div>                <div class="preview-table-wrapper"></div>            '});return t.extend(u.prototype,p),u}.apply(t,a))||(e.exports=l)},"views/shared/datamodel/dialogs/ViewValuesDialog":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),i("views/shared/dialogs/DialogBase"),e],void 0===(l=function(e,t,i,a){return i.extend({moduleId:a.i,initialize:function(e){i.prototype.initialize.call(this,e),this.settings.set("titleLabel","View Values for "+t(this.model.fieldModel.get("displayName")).escape()),this.initializeSampleValues()},initializeSampleValues:function(){this.model.sampleValues=this.model.objectModel.getSampleValuesModel(this.model.fieldModel.get("fieldName"),this.model.fieldModel.get("owner"),{data:{app:this.model.application.get("app"),owner:this.model.application.get("owner"),provenance:"UI:DataModel"}}),this.debouncedRender(),this.model.sampleValues.on("change:values",this.debouncedRender,this)},renderBody:function(e){e.html(t(this.bodyTemplate).template({values:this.model.sampleValues.get("values")}))},renderFooter:function(e){},bodyTemplate:'                <div class="content">                    <div class="sample-values">                        <% if (values) { %>                            <% if(values.length > 0) { %>                                <% _(values).each(function(value) { %>                                    <div class="sample-value"><%- value %></div>                                <% }); %>                            <% } else { %>                                <div class="alert alert-info">                                    <i class="icon-alert"></i>                                    No Sample Values found.                                </div>                             <% } %>                        <% } else { %>                            <div class="alert alert-info">                                <i class="icon-alert"></i>                                Loading sample values...                            </div>                        <% } %>                    </div>                </div>            '})}.apply(t,a))||(e.exports=l)},"views/shared/dialogs/UploadDataModelDialogBase":function(e,t,i){var a,l;a=[i("require/underscore"),i("views/shared/dialogs/DialogBase"),e],void 0===(l=function(e,t,i){return t.extend({moduleId:i.i,_text:"",initialize:function(e){t.prototype.initialize.call(this,e)},setFocus:function(){this.$("input:file:enabled:visible:first").focus()}})}.apply(t,a))||(e.exports=l)},"views/shared/jobstatus/Spinner":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("views/shared/waitspinner/Master"),i("shim/splunk.util")],void 0===(l=function(e,t,i,a){return i.extend({className:"pull-left",moduleId:t.i,initialize:function(){i.prototype.initialize.apply(this,arguments),this.activate()},startListening:function(){i.prototype.startListening.apply(this,arguments),this.listenTo(this.model.entry.content,"change:dispatchState change:isDone change:isPaused",this.debouncedRender)},render:function(){var e=!(this.model.isDone()||this.model.entry.content.get("isPaused")||this.model.isNew());return this.spinning===e||(this.$el[e?"show":"hide"]()[e?"addClass":"removeClass"]("active"),this[e?"start":"stop"](),this.spinning=e),this}})}.apply(t,a))||(e.exports=l)},"views/shared/pcss/data-enrichment.pcss":function(e,t,i){var a=i(641);"string"==typeof a&&(a=[[e.i,a,""]]);var l={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(a,l);a.locals&&(e.exports=a.locals)},"views/shared/results_table/FieldValuesTableHeader":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("views/shared/results_table/ResultsTableHeader")],void 0===(l=function(e,t,i){return i.extend({moduleId:t.i,template:'                <tr class="">                <% if(rowExpansion) { %>                    <th class="col-info" style="width: 15px;"><i class="icon-info"></i></th>                <% } %>                <% if(rowNumbers) { %>                    <th class="row-number"></th>                <% } %>                <% _(fields).each(function(field) { %>                    <% if (field == "%") { %>                        <th><%- field %></th>                    <% } else { %>                        <th class="sorts <%- columnClasses[field] %>" <%- sortKeyAttribute %>="<%- field %>">                        <a href="#"><%- field %><i class="icon-sorts "></i></a>                        </th>                    <% } %>                <% }) %>            </tr>            '})}.apply(t,a))||(e.exports=l)},"views/shared/results_table/FieldValuesTableMaster":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/results_table/ResultsTableMaster"),i("views/shared/results_table/FieldValuesTableHeader"),i("views/shared/results_table/renderers/PercentCellRenderer")],void 0===(l=function(e,t,i,a,l,o){return a.extend({moduleId:i.i,initialize:function(t){this.options=e.extend(!0,{headerClass:l},this.options),a.prototype.initialize.call(this,this.options),this.addCellRenderer(new o)}})}.apply(t,a))||(e.exports=l)},"views/shared/results_table/MatchResultsTableHeader":function(e,t,i){var a,l;a=[i("require/underscore"),e,i("views/shared/results_table/ResultsTableHeader")],void 0===(l=function(e,t,i){return i.extend({moduleId:t.i,template:'                <tr class="">                    <% if(rowExpansion) { %>                        <th class="col-info" style="width: 15px;"><i class="icon-info"></i></th>                    <% } %>                    <% if(rowNumbers) { %>                        <th class="row-number"></th>                    <% } %>                    <% _(fields).each(function(field) { %>                        <% if (field == viewOptions.matchFieldName) { %>                            <th></th>                        <% } else { %>                            <th class="sorts <%- columnClasses[field] %>" <%- sortKeyAttribute %>="<%- field %>">                                <a href="#"><%- field %><i class="icon-sorts "></i></a>                            </th>                        <% } %>                    <% }) %>                </tr>            '})}.apply(t,a))||(e.exports=l)},"views/shared/results_table/MatchResultsTableMaster":function(e,t,i){var a,l;a=[i("shim/jquery"),i("require/underscore"),e,i("views/shared/results_table/ResultsTableMaster"),i("views/shared/results_table/MatchResultsTableHeader"),i("views/shared/results_table/renderers/CheckmarkCellRenderer"),i("util/field_extractor_utils"),i("shim/bootstrap.tooltip")],void 0===(l=function(e,t,i,a,l,o,s){return a.extend({moduleId:i.i,events:t.extend({},a.prototype.events,{"click .remove-button":function(t){t.preventDefault();var i=e(t.currentTarget),a=i.closest("."+s.HIGHLIGHTED_MATCH_CLASS),l=i.closest("td");this.trigger("action:removeExtraction",{rawText:l.text(),fieldName:a.data("fieldName"),selectedText:a.text(),startIndex:a.data("startIndex"),endIndex:a.data("endIndex")})},"mouseenter tr.shared-resultstable-resultstablerow":function(i){var a=e(i.target),l=a.closest("tr"),o=l.children().first();if(this._getAddSampleEnabled()){t.invoke(e(".results-table").find(".add-sample-event-button"),"remove"),o.append(t(this.addSampleEventButton).template({}));var s=e(window).width()-200;a.find(".add-sample-event-button").css({"margin-left":s+"px"}),l.find("td:last").css({"padding-right":"20px"})}},"mouseleave tr.shared-resultstable-resultstablerow":function(t){var i=e(t.target);this._getAddSampleEnabled()&&i.closest("tr").find(".add-sample-event-button").remove()},"dblclick tbody td":function(t){this.handleCellClick(e(t.target),t),this.model.state.get("mode")===s.SELECT_SAMPLE_MODE&&this.model.state.get("interactiveMode")===s.INTERACTION_MODE&&this.trigger("action:nextStep")},"mousemove tbody td":function(e){this.model.state.get("mode")===s.SELECT_SAMPLE_MODE&&e.preventDefault()}}),initialize:function(i){var n=!this.model.state.get("errorState")&&!this.model.state.get("regexGenErrorState"),d=(this.model.state.get("sampleEvents")?this.model.state.get("sampleEvents").length:0)<s.SAMPLE_EVENT_LIMIT&&!0===n;this.options=e.extend(!0,{headerClass:l},this.options),this.setAddSamplesEnabled(d),a.prototype.initialize.call(this,this.options),this.addCellRenderer(t(this.highlightedFieldsCellRenderer).bind(this)),this.addCellRenderer(new o),this.listenTo(this.model.state,"change:mode change:interactiveMode",(function(){var e=this.model.state.get("mode"),t=this.model.state.previous("mode"),i=this.model.state.get("interactiveMode"),a=this.model.state.previous("interactiveMode");this.updateTableInteractivity(),(e===s.VALIDATE_FIELDS_MODE&&t===s.SELECT_FIELDS_MODE||t===s.VALIDATE_FIELDS_MODE&&e===s.SELECT_FIELDS_MODE||i===s.NO_INTERACTION_MODE&&e===s.VALIDATE_FIELDS_MODE||a===s.NO_INTERACTION_MODE&&e===s.VALIDATE_FIELDS_MODE||a!==i&&this.options.requiredText)&&this.debouncedRender()}))},setAddSamplesEnabled:function(e){this.addSamplesEnabled=e,this.updateTableInteractivity()},updateTableInteractivity:function(){this._getCellClickEnabled()?this.model.config.set({"display.statistics.drilldown":"row"}):(this.model.config.set({"display.statistics.drilldown":"none"}),this.$("tr").removeClass("highlighted"))},handleCellClick:function(i,a){if(0!==i.length&&this._getCellClickEnabled()){a.preventDefault(),i.blur(),i.closest("tr").blur();var l=i.closest("tr").attr("data-row-index"),o=[];if(this.model.state.get("mode")===s.SELECT_SAMPLE_MODE){var n=t(this.rawFields).indexOf("_raw");o=this.generateFieldBounds(l,s.OFFSET_FIELD_NAME)||[],this.trigger("action:selectEvent",this.rawRows[l][n],o)}else{var d=i.closest("tr").find(".interactive-extraction-cell");o=this.generateExistingFieldBounds(l,s.OFFSET_FIELD_NAME)||[],e(".add-sample-event-button").remove(),this.trigger("action:selectEvent",d.text(),o),e("html,body").animate({scrollTop:"0px"},300)}}},generateHeaderViewOptions:function(){return t.extend({matchFieldName:s.MATCH_FIELD_NAME},a.prototype.generateHeaderViewOptions.apply(this,arguments))},generateCellObjects:function(e,i,l,o){var n=t(a.prototype.generateCellObjects.apply(this,arguments)).map((function(e){return t.extend({matchFieldName:s.MATCH_FIELD_NAME,inputField:this.options.inputField,fieldBounds:this.generateFieldBounds(o,s.OFFSET_FIELD_NAME)},e)}),this),d=t(n).find((function(e){return e.field===s.OFFSET_FIELD_NAME}));return t(n).each((function(e){d&&!e.fieldBounds&&(e.fieldBounds=d.fieldBounds)})),n},generateExistingFieldBounds:function(e,i){var a=t(this.rawFields).indexOf(i+0);if(-1===a)return[];for(var l=[],o="",n=[],d=0,r=0,c=0,h=this.model.state.get("existingExtractions");-1!==a;){for(n=(o=this.rawRows[e][a])?s.parseBoundingGroupString(o,!0):[],r=0;r<n.length;r++){for(c=0;c<h.length;c++)if(h[c].fieldName===n[r].fieldName){n[r].hidden=h[c].hidden;break}l.push(n[r])}d++,a=t(this.rawFields).indexOf(i+d)}return t(l).sortBy("startIndex")},generateFieldBounds:function(e,i){var a=t(this.rawFields).indexOf(i),l=t(this.rawFields).indexOf(i+0);if(-1!==a||-1!==l){var o=[],n=this.rawRows[e][a],d=n?s.parseBoundingGroupString(n):[];return o=(o=o.concat(d)).concat(this.generateExistingFieldBounds(e,i)),t(o).sortBy("startIndex")}},isDataField:function(e){return e===s.MATCH_FIELD_NAME||a.prototype.isDataField.apply(this,arguments)},highlightedFieldsCellRenderer:function(i,a){if(a.field!==a.inputField)return!1;var l,o={text:this.options.requiredText};return this.options.regex||(o.text=""),l=this.model.state.get("interactiveMode")===s.NO_INTERACTION_MODE?s.replaceBoundingGroupsWithTemplate(a.value,a.fieldBounds):this.model.state.has("method")&&"delim"===this.model.state.get("method")?t.escape(a.value):s.replaceBoundingGroupsWithTemplate(a.value,a.fieldBounds,o,-1,s.highlightedContentTemplate),i.addClass(s.INTERACTIVE_CELL_CLASS).addClass("field-extraction").html(l),this.model.state.get("mode")===s.VALIDATE_FIELDS_MODE&&this.model.state.get("interactiveMode")===s.INTERACTION_MODE&&i.find("."+s.HIGHLIGHTED_MATCH_CLASS).append('<a class="remove-button" href="#"><i class="icon-x icon-large"></i></a>'),i.find(".highlighted-existing-match").each((function(t,i){e(i).tooltip({animation:!1,title:i.getAttribute("data-field-name"),container:i})})),!0},_getCellClickEnabled:function(){return(this._getAddSampleEnabled()||this.model.state.get("mode")===s.SELECT_SAMPLE_MODE)&&this.model.state.get("interactiveMode")===s.INTERACTION_MODE},_getAddSampleEnabled:function(){return this.model.state.get("mode")===s.SELECT_FIELDS_MODE&&this.model.state.get("interactiveMode")===s.INTERACTION_MODE&&this.addSamplesEnabled},addSampleEventButton:'<div class="add-sample-event-button"><i class="icon-plus" style="color:white"></i><%- _(" Add sample event").t() %></div>'})}.apply(t,a))||(e.exports=l)},"views/shared/results_table/renderers/CheckmarkCellRenderer":function(e,t,i){var a;void 0===(a=function(e,t,a){var l=i("require/underscore");i("stubs/i18n");return i("views/shared/results_table/renderers/BaseCellRenderer").extend({canRender:function(e){return e.field===e.matchFieldName},setup:function(e,t){e.addClass("checkmark")},teardown:function(e,t){e.removeClass("checkmark")},render:function(e,t){return e.html(l.template(this.template,t)),this},template:'            <% if (value == "1") { %>                <span class="font-icon" style="color: #487f22;">âœ“</span>            <% } else { %>                <i class="font-icon" style="color: #b00;">âœ—</i>            <% } %>                    '})}.call(t,i,t,e))||(e.exports=a)},"views/shared/results_table/renderers/PercentCellRenderer":function(e,t,i){var a;void 0===(a=function(e,t,a){var l=i("require/underscore");i("stubs/i18n"),i("util/time");return i("views/shared/results_table/renderers/BaseCellRenderer").extend({canRender:function(e){return"%"==e.field||"Percent"==e.field},setup:function(e,t){e.addClass("percent")},teardown:function(e,t){e.removeClass("percent")},render:function(e,t){return e.html(l.template(this.template,t)),this},template:'            <div style="width:5em; margin-right:8px" class="pull-left"><%- (value * 100).toFixed(3) %></div>            <div style="width:calc(100% - 5em - 8px)" class="pull-left">                <div style="width:<%- Math.round(value * 100) %>%;" class="graph-bar pull-left"></div>            <div>        '})}.call(t,i,t,e))||(e.exports=a)}});