!function(e){function t(t){for(var i,l,o=t[0],a=t[1],d=t[2],c=0,h=[];c<o.length;c++)l=o[c],Object.prototype.hasOwnProperty.call(r,l)&&r[l]&&h.push(r[l][0]),r[l]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);for(u&&u(t);h.length;)h.shift()();return n.push.apply(n,d||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],i=!0,o=1;o<s.length;o++){var a=s[o];0!==r[a]&&(i=!1)}i&&(n.splice(t--,1),e=l(l.s=s[0]))}return e}var i={},r={22:0},n=[];function l(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,l),s.l=!0,s.exports}l.e=function(e){var t=[],s=r[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,i){s=r[e]=[t,i]}));t.push(s[2]=i);var n,o=document.createElement("script");o.charset="utf-8",o.timeout=120,l.nc&&o.setAttribute("nonce",l.nc),o.src=function(e){return l.p+""+({}[e]||e)+".js"}(e);var a=new Error;n=function(t){o.onerror=o.onload=null,clearTimeout(d);var s=r[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+n+")",a.name="ChunkLoadError",a.type=i,a.request=n,s[1](a)}r[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:o})}),12e4);o.onerror=o.onload=n,document.head.appendChild(o)}return Promise.all(t)},l.m=e,l.c=i,l.d=function(e,t,s){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(l.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(s,i,function(t){return e[t]}.bind(null,i));return s},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var u=a;n.push([2069,0]),s()}({2069:function(e,t,s){var i,r;s.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,s,i="",r=0,n=arguments.length;r<n;r++)(s=(t=arguments[r].toString()).length)>1&&"/"==t.charAt(s-1)&&(t=t.substring(0,s-1)),"/"!=t.charAt(0)?i+="/"+t:i+=t;if("/"!=i){var l=i.split("/"),o=l[1];if("static"==o||"modules"==o){var a=i.substring(o.length+2,i.length);i="/"+o,window.$C.BUILD_NUMBER&&(i+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(i+="."+window.$C.BUILD_PUSH_NUMBER),"app"==l[2]&&(i+=":"+e("APP_BUILD",0)),i+="/"+a}}var d=e("MRSPARKLE_ROOT_PATH","/"),u=e("LOCALE","en-US"),c="/"+u+i;return""==d||"/"==d?c:d+c}("/static/build/pages/dark")+"/"}(),i=[s("routers/ClusteringPush"),s("util/router_utils")],void 0===(r=function(e,t){new e;t.start_backbone_history()}.apply(t,i))||(e.exports=r)},604:function(e,t){e.exports='<div class="section-padded">\n    <div class="success-info">\n        <h3><%- title %>\n            <%if (lastRunAction) {%>\n                <%if (lastActionSuccess) {%>\n                    <i class="icon-check"></i> <%= _(\'Successful\').t() %>\n                <%} else {%>\n                    <i class="icon-alert"></i> <%= _(\'Unsuccessful\').t() %>\n                <%} %>\n            <%}%>\n        </h3>\n        <dl class="list-dotted">\n            <% if ((lastRunAction === actions.CHECK_RESTART)) { %>\n                <% if (restartRequired) { %>\n                    <dt style=""><%= _(\'Restart\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The changes to the bundle require a restart of all peers.\').t() %>">?</a></sup></dt>\n                    <dd><%= _(\'Required\').t() %></dd>\n                <% } else { %>\n                    <dt style=""><%= _(\'Restart\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The changes to the bundle do not require a restart of all peers.\').t() %>">?</a></sup></dt>\n                    <dd><%= _(\'Not Required\').t() %></dd>\n                <% } %>\n            <% } %>\n            <dt style=""><%= _(\'Updated Time\').t() %></dt>\n            <dd><%-timeLastPush%></dd>\n            <dt style=""><%= _(\'Active Bundle ID\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the active configuration bundle used by all peers.\').t() %>">?</a></sup></dt>\n            <dd><%-activeBundleId%></dd>\n            <dt style=""><%= _(\'Latest Bundle ID\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the latest configuration bundle downloaded and validated by all peers.\').t() %>">?</a></sup></dt>\n            <dd><%-latestBundleId%></dd>\n            <dt style=""><%= _(\'Previous Bundle ID\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the previous configuration bundle downloaded and validated by all peers.\').t() %>">?</a></sup></dt>\n            <dd><%-previousBundleId%></dd>\n            <% if ((lastRunAction === actions.CHECK_RESTART) && checkRestartBundleId) { %>\n                <dt style=""><%= _(\'Latest Check Restart Bundle\').t() %><sup><a href="#" class="tooltip-link" rel="tooltip" data-title="<%= _(\'The Bundle ID denotes the latest configuration bundle validated and check restarted by all peers.\').t() %>">?</a></sup></dt>\n                <dd><%-checkRestartBundleId%></dd>\n            <% } %>\n        </dl>\n   </div>\n</div>'},605:function(e,t){e.exports='<div class="section-padded">\n    <div class="progress-label">\n    \t<%= label %>\n    \t<span class="peer-num"><%=count%></span> <%= _(\'of\').t() %> <%=total%>\n    </div>\n    <div class="job-bar">\n        <div class="progress progress-striped active">\n            <div class="bar" style="width: <%=100*count/total%>%;">\n                <div class="block"></div>\n            </div>\n        </div>\n    </div>\n</div>\n'},606:function(e,t,s){(e.exports=s(5)(!1)).push([e.i,".clustering-push-actionprogress .job-bar .progress .bar{background-color:#53a051}",""])},607:function(e,t){e.exports='<% if( errors.length > maxErrors) { %>\n    <div class="section-padded cluster-errors-short">\n        <% _.each(errors.slice(0, maxErrors), function(error) { %>\n            <p><span style="display:block;"><i class="icon-alert alert-error"></i><%- error %></span></p>\n        <% }); %>\n        <p><a href="#" class="cluster-errors-more"><%- _("More").t() %></a></p>\n    </div>\n    <div class="section-padded cluster-errors-full">\n        <% _.each(errors, function(error) { %>\n            <p><span style="display:block;"><i class="icon-alert alert-error"></i><%- error %></span></p>\n        <% }); %>\n        <p><a href="#" class="cluster-errors-less"><%- _("Less").t() %></a></p>\n    </div>\n<% } else { %>\n    <div class="section-padded cluster-errors">\n        <% _.each(errors, function(error) { %>\n            <p><span style="display:block;"><i class="icon-alert alert-error"></i><%- error %></span></p>\n        <% }); %>\n    </div>\n<% } %>'},608:function(e,t,s){(e.exports=s(5)(!1)).push([e.i,".alert-error{color:#dc4e41;font-size:1.2em;padding-right:5px}",""])},609:function(e,t){e.exports='\n<div class="section-header section-padded">\n    <div class="btn-toolbar pull-right">\n        <div class="btn-group">\n            <a href="<%=docLink%>" class="btn" target="_blank" rel="noopener noreferrer"><%= _(\'Documentation\').t() %> <i class="icon-external"></i></a>\n        </div>\n    </div>\n    <h1 class="section-title"><%= _(\'Configuration Bundle Actions\').t() %></h1>\n    <p class="section-description"><%= _(\'Click Push to distribute the configuration bundle to the set of peers. Optionally, validate the bundle and check if peer restart is required without distributing the bundle, or rollback to the previous bundle.\').t() %>\n        <a href=\'<%=learnMoreLink%>\' class=\'external\' target=\'_blank\' rel=\'noopener noreferrer\'><%= _(\'Learn More\').t() %></a>\n    </p>\n    <a href="clustering">\n        <i class="icon-chevron-left icon-no-underline"></i><span><%- _("Back to Manager Node").t() %></span>\n    </a>\n</div>\n\n<div class="divider"></div>\n<div class="section-bg"></div>\n'},610:function(e,t,s){(e.exports=s(5)(!1)).push([e.i,".success-info .icon-check{color:#53a051}.success-info .icon-alert{color:#dc4e41}.clustering-push-pushstatus>.alerts{padding-left:20px;padding-right:20px}.section-bg{background-color:#171d21;min-height:360px}.tooltip-link{padding:5px}.progress-msg{color:#5c6773;font-size:12px}.progress-msg,.progress.progress-striped{display:inline-block;vertical-align:middle}.progress.progress-striped{border-radius:2px;height:10px;margin-bottom:0;margin-left:5px;width:160px}.progress.progress-striped .bar{background-color:#c3cbd4;background-size:10px 10px;height:10px}.job-bar,.progress-label{display:inline-block;vertical-align:middle}.job-bar{width:200px}.job-bar .progress .bar{-webkit-transition:width .6s ease;transition:width .6s ease}.clustering-push-peernodes-table-moreinfo .wait-spinner,.clustering-push-pushstatus .wait-spinner{display:inline-block;margin-right:6px}.clustering-push-peernodes-table-moreinfo .bundle-status-message,.clustering-push-pushstatus .bundle-status-message{display:inline-block}.clustering-push-peernodes-table-moreinfo .list-dotted dt,.clustering-push-pushstatus .list-dotted dt{width:200px}.clustering-push-peernodes-table{margin-left:10px;margin-right:10px}.table-controls{margin-right:15px}",""])},"collections/services/cluster/master/Peers":function(e,t,s){var i,r;i=[s("models/services/cluster/master/Peer"),s("collections/SplunkDsBase")],void 0===(r=function(e,t){return t.extend({url:"cluster/master/peers",model:e,initialize:function(){t.prototype.initialize.apply(this,arguments)}})}.apply(t,i))||(e.exports=r)},"models/clustering/Actions":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i,r=s("models/Base"),n=(i=r)&&i.__esModule?i:{default:i};t.default=n.default.extend({initialize:function(e){n.default.prototype.initialize.call(this,e)}},{actions:{PUSH:"push",CHECK_RESTART:"check_restart",ROLLBACK:"rollback"}}),e.exports=t.default},"models/services/cluster/master/Control":function(e,t,s){var i,r;i=[s("shim/jquery"),s("require/backbone"),s("models/StaticIdBase"),s("util/splunkd_utils")],void 0===(r=function(e,t,s,i){return s.extend({initialize:function(){s.prototype.initialize.apply(this,arguments)},sync:function(s,r,n){var l={data:{output_mode:"json"}};switch(s){case"update":l.processData=!0,l.type="POST",l.url=i.fullpath(r.id),e.extend(!0,l,n);break;default:throw new Error("invalid method: "+s)}return t.sync.call(this,s,r,l)}},{id:"cluster/master/control/default/apply"})}.apply(t,i))||(e.exports=r)},"models/services/cluster/master/Info":function(e,t,s){var i,r;i=[s("require/underscore"),s("models/StaticIdSplunkDBase"),s("shim/splunk.util")],void 0===(r=function(e,t,s){return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments)},getAvailableSites:function(){var t=[];return e.has(this.entry.content.attributes,"available_sites")&&(t=this.entry.content.get("available_sites").replace("[","").replace("]","").split(",")),t},isMultiSite:function(){return s.normalizeBoolean(this.entry.content.get("multisite"))}},{id:"cluster/master/info/master"})}.apply(t,i))||(e.exports=r)},"models/services/cluster/master/Peer":function(e,t,s){var i,r;i=[s("require/underscore"),s("models/SplunkDBase"),s("shim/splunk.util")],void 0===(r=function(e,t,s){return t.extend({urlRoot:"cluster/master/peers/",url:"cluster/master/peers",initialize:function(){this.peerStatuses={Up:e("Up").t(),Pending:e("Pending").t(),Detention:e("Detention").t(),Restarting:e("Restarting").t(),ShuttingDown:e("Shutting down").t(),ReassigningPrimaries:e("Reassigning primaries").t(),Decommissioning:e("Decommissioning").t(),GracefulShutdown:e("Graceful shutdown").t(),Down:e("Down").t()},t.prototype.initialize.apply(this,arguments)},isSearchable:function(){return s.normalizeBoolean(this.entry.content.get("is_searchable"))},getTranslatedStatus:function(){var e=this.entry.content.get("status");return this.peerStatuses[e]||e},getSplunkdVersion:function(){return this.entry.content.get("splunk_version")}},{VALIDATED:"ValidationDone",RELOADING:"ReloadInProgress",CHECKING_RESTART:"DryRunInProgress",NONE:"None",PEER_STATUS_UP:"Up",PEER_STATUS_PENDING:"Pending",PEER_STATUS_DETENTION:"Detention",PEER_STATUS_RESTARTING:"Restarting",PEER_STATUS_SHUTTING_DOWN:"Shutting down",PEER_STATUS_REASSIGNING_PRIMARIES:"Reassigning primaries",PEER_STATUS_DECOMMISSIONING:"Decommissioning",PEER_STATUS_GRACEFUL_SHUTDOWN:"Graceful shutdown",PEER_STATUS_DOWN:"Down"})}.apply(t,i))||(e.exports=r)},"models/services/cluster/master/Rollback":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i=a(s("shim/jquery")),r=a(s("require/backbone")),n=a(s("models/StaticIdBase")),l=a(s("util/splunkd_utils")),o=a(s("shim/splunk.util"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.extend({initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];n.default.prototype.initialize.apply(this,t)},sync:function(e,t,s){var n={data:{output_mode:"json"}};switch(e){case"update":n.processData=!0,n.type="POST",n.url=l.default.fullpath(t.id),i.default.extend(!0,n,s);break;default:throw new Error(o.default.sprintf("invalid method: %s",e))}return r.default.sync.call(this,e,t,n)}},{id:"cluster/master/control/control/rollback"}),e.exports=t.default},"models/services/cluster/master/ValidateControl":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i=o(s("shim/jquery")),r=o(s("require/backbone")),n=o(s("models/StaticIdBase")),l=o(s("util/splunkd_utils"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.extend({initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];n.default.prototype.initialize.apply(this,t)},sync:function(e,t,s){var n={data:{output_mode:"json"}};switch(e){case"update":n.processData=!0,n.type="POST",n.url=l.default.fullpath(t.id),i.default.extend(!0,n,s);break;default:throw new Error("invalid method: "+e)}return r.default.sync.call(this,e,t,n)}},{id:"cluster/master/control/control/validate_bundle"}),e.exports=t.default},"routers/ClusteringPush":function(e,t,s){var i,r;i=[s("shim/jquery"),s("require/underscore"),s("require/backbone"),s("routers/Base"),s("models/services/cluster/master/Control"),s("models/services/cluster/master/ValidateControl"),s("models/services/cluster/master/Rollback"),s("models/services/cluster/master/Info"),s("models/clustering/Actions"),s("models/services/cluster/master/Peer"),s("collections/services/cluster/master/Peers"),s("views/clustering/push/Master"),s("shim/splunk.util")],void 0===(r=function(e,t,s,i,r,n,l,o,a,d,u,c,h){return i.extend({initialize:function(){i.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.setPageTitle(t("Distribute Configuration Bundle").t()),this.pushModel=new s.Model,this.masterControl=new r,this.checkRestartControl=new n,this.masterInfo=new o,this.peers=new u,this.rollbackModel=new l,this.masterActiveBundle=null,this.masterLatestBundle=null,this.errors=[],this.validationProgress=[],this.restartProgress=[],this.reloadProgress=[],this.dryRunProgress=[],this.peersChecksumUpdated=[],this.errorLabels={pushUnnecessary:t("Push Unnecessary").t(),rollingRestartError:t("Rolling Restart Error").t()},this.deferreds.masterInfo=e.Deferred(),this.deferreds.peers=e.Deferred(),this.clusteringPushView=new c({model:{application:this.model.application,pushModel:this.pushModel,masterInfo:this.masterInfo,masterControl:this.masterControl},collection:{peers:this.peers}}),this.firstRun=!0,this.pushModel.set("inProgress",!1),this.pushModel.set("peersValidated",0),this.pushModel.set("peersRestarted",0),this.pushModel.set("peersReloaded",0),this.pushModel.set("peersCheckRestarted",0),this.peers.on("reset change",(function(){if(this.masterActiveBundle&&this.masterLatestBundle){var e;if(0==this.validationProgress.length)for(e=0;e<this.peers.length;e++)this.validationProgress[e]=!1;if(0==this.restartProgress.length)for(e=0;e<this.peers.length;e++)this.restartProgress[e]=!1;if(0==this.reloadProgress.length)for(e=0;e<this.peers.length;e++)this.reloadProgress[e]=!1;if(0==this.dryRunProgress.length)for(e=0;e<this.peers.length;e++)this.dryRunProgress[e]=!1;"validation"==this.pushModel.get("state")&&(this.errors=[]),this.peers.each((function(e,t){var s=e.entry.content.get("active_bundle_id"),i=e.entry.content.get("restart_required_for_applying_dry_run_bundle"),r=e.entry.content.get("apply_bundle_status").invalid_bundle.bundle_validation_errors,n=e.entry.content.get("label"),l=this.getPeerState(e),o=this.getPeerBundleStatus(e);h.normalizeBoolean(i)&&this.pushModel.set("restartRequired",!0),this.isActionComplete(this.validationProgress)&&!this.firstRun||(r&&r.length&&this.errors.push({label:n,errors:r}),this.firstRun||(o===d.VALIDATING||l!==d.PEER_STATUS_UP)&&l===d.PEER_STATUS_UP||(this.validationProgress[t]=!0)),"restart"===this.pushModel.get("state")&&(l!==d.PEER_STATUS_RESTARTING&&l!==d.PEER_STATUS_DOWN||(this.restartProgress[t]=!0)),this.isActionComplete(this.validationProgress)&&o!==d.RELOADING&&(this.reloadProgress[t]=!0,this.isActionComplete(this.reloadProgress)&&o!==d.CHECKING_RESTART&&(this.dryRunProgress[t]=!0)),this.peersChecksumUpdated[t]=s===this.masterActiveBundle}),this),this.firstRun=!1;var t=this.getActionCount(this.validationProgress),s=this.getActionCount(this.restartProgress),i=this.getActionCount(this.reloadProgress),r=this.getActionCount(this.dryRunProgress);t>=this.pushModel.get("peersValidated")&&this.pushModel.set("peersValidated",t),s>=this.pushModel.get("peersRestarted")&&this.pushModel.set("peersRestarted",s),i>=this.pushModel.get("peersReloaded")&&this.pushModel.set("peersReloaded",i),r>=this.pushModel.get("peersCheckRestarted")&&this.pushModel.set("peersCheckRestarted",r),this.pushModel.set("peersTotal",this.peers.length),this.pushModel.set("errors",this.errors),this.pushModel.trigger("tick"),"idle"===this.pushModel.get("state")&&this.isActionComplete(this.validationProgress)&&-1===this.peersChecksumUpdated.indexOf(!1)&&(this.peers.stopPolling(),this.pushModel.set("lastActionSuccess",this.isActionSuccessful()),this.pushModel.set("inProgress",!1))}}),this),this.masterInfo.on("change",(function(){var e=this.masterInfo.entry.content.get("active_bundle"),s=this.masterInfo.entry.content.get("latest_bundle");if(e&&s){this.masterActiveBundle=e.checksum,this.masterLatestBundle=s.checksum;var i=this.masterInfo.entry.content.get("apply_bundle_status");this.masterApplyBundleStatus=i.status,this.masterValidationErrors=i.invalid_bundle.bundle_validation_errors_on_master;var r=this.masterInfo.entry.content.get("label");this.masterValidationErrors&&this.masterValidationErrors.length&&(t.find(this.masterValidationErrors,(function(e){return-1!==e.indexOf("[Critical]")}))&&(this.peers.stopPolling(),this.pushModel.set("lastActionSuccess",this.isActionSuccessful()),this.pushModel.set("inProgress",!1)),this.errors=[],this.errors.push({label:r,errors:this.masterValidationErrors}),this.pushModel.set("errors",this.errors),this.pushModel.trigger("tick"));var n=this.getState();this.pushModel.set("state",n),this.pushModel.trigger("action"),"idle"==n&&this.masterInfo.stopPolling()}}),this),this.pushModel.on(a.actions.PUSH,(function(){this.pushModel.set("lastRunAction",a.actions.PUSH),this.cleanupPushModel(),this.masterControl.save().done(function(){this.monitorPushStatus()}.bind(this)).fail(function(e){var t=e.responseJSON.messages[0].text;-1!==t.toLowerCase().indexOf("rolling restart")?this.handleFail(this.errorLabels.rollingRestartError,t):this.handleFail(this.errorLabels.pushUnnecessary,t)}.bind(this))}),this),this.pushModel.on(a.actions.CHECK_RESTART,(function(){this.pushModel.set("lastRunAction",a.actions.CHECK_RESTART),this.cleanupPushModel(),this.checkRestartControl.save({},{data:{"check-restart":"1"}}).done(function(){this.monitorPushStatus()}.bind(this)).fail(function(e){this.handleFail(t("Check Restart Unsuccessful").t(),e.responseJSON.messages[0].text)}.bind(this))}),this),this.pushModel.on(a.actions.ROLLBACK,(function(){this.pushModel.set("lastRunAction",a.actions.ROLLBACK),this.cleanupPushModel(),this.rollbackModel.save().done(function(){this.monitorPushStatus()}.bind(this)).fail(function(e){this.handleFail(t("Rollback Unsuccessful").t(),e.responseJSON.messages[0].text)}.bind(this))}),this)},handleFail:function(e,t){this.errors=[],this.errors.push({label:e,errors:t}),this.pushModel.set("lastActionSuccess",!1),this.pushModel.set("inProgress",!1),this.pushModel.set("errors",this.errors),this.pushModel.set("state","idle"),this.pushModel.trigger("tick"),this.pushModel.trigger("change:state"),this.peers.fetch(),this.masterInfo.fetch()},getPeerState:function(e){return e.entry.content.get("status")},getPeerBundleStatus:function(e){return e.entry.content.get("apply_bundle_status").status},getState:function(){var e=this.masterInfo.entry.content.get("apply_bundle_status").status,t="Bundle validation is in progress."===e,s="Bundle Creation is in progress."===e,i=this.masterInfo.entry.content.get("apply_bundle_status").reload_bundle_issued||"Bundle dryrun reload is in progress. Waiting for all peers to return the status."===e,r=this.masterInfo.entry.content.get("rolling_restart_flag");return t?"validation":i?"reload":r?"restart":s?"creation":"idle"},cleanupPushModel:function(){this.errors=[],this.pushModel.set("peersValidated",0),this.pushModel.set("errors",{}),this.pushModel.trigger("tick"),this.validationProgress.splice(0),this.reloadProgress.splice(0),this.dryRunProgress.splice(0),this.restartProgress.splice(0),this.pushModel.unset("restartRequired",{silent:!0})},getActionCount:function(e){return t.reduce(e,(function(e,t){return t?e+1:e}),0)},isActionComplete:function(e){return t.reduce(e,(function(e,t){return e&&t}),!0)},isActionSuccessful:function(){var e=!0,s=!0,i=!0;t.each(this.errors,(function(r){var n=r.errors;r.label===this.errorLabels.pushUnnecessary?s=!1:r.label===this.errorLabels.rollingRestartError&&(i=!1),t.isArray(n)&&t.each(n,(function(t){-1!==t.indexOf("[Critical]")&&(e=!1)}))}),this);var r=this.masterInfo.entry.content.get("apply_bundle_status"),n=!0;return r.invalid_bundle&&r.invalid_bundle.checksum&&(n=!1),this.masterActiveBundle===this.masterLatestBundle&&e&&s&&n&&i},monitorPushStatus:function(){this.pushModel.set("state","validation"),this.pushModel.set("inProgress",!0),this.masterInfo.startPolling({delay:1e3}),this.peers.startPolling({delay:500})},page:function(t,s,r){i.prototype.page.apply(this,arguments),this.masterInfo.fetch({data:{},success:function(e,t){this.deferreds.masterInfo.resolve()}.bind(this),error:function(e,t){this.deferreds.masterInfo.resolve()}.bind(this)}),this.peers.fetch({data:{count:10},success:function(e,t){this.peers.fetchData.set("count",this.peers.paging.get("perPage")),this.deferreds.peers.resolve()}.bind(this),error:function(e,t){this.deferreds.peers.resolve()}.bind(this)}),this.deferreds.pageViewRendered.done(function(){this.addPageViewEl(this.pageView.el),e.when(this.deferreds.masterInfo,this.deferreds.peers).then(function(){this.monitorPushStatus(),this.pageView.$(".main-section-body").append(this.clusteringPushView.render().el)}.bind(this))}.bind(this))}})}.apply(t,i))||(e.exports=r)},"views/clustering/push/ActionProgress":function(e,t,s){var i,r;i=[s("shim/jquery"),e,s("views/Base"),s(605),s("views/clustering/push/ActionProgress.pcss"),s("util/console")],void 0===(r=function(e,t,s,i,r,n){return s.extend({moduleId:t.i,template:i,initialize:function(e){e=e||{},s.prototype.initialize.call(this,e),this.model.pushModel.on("tick",this.render,this),this.peerActionTypeKey=e.peerActionTypeKey,this.label=e.label},reset:function(){this.model.pushModel.set(this.peerActionTypeKey,0),this.render()},render:function(){var e=this.compiledTemplate({count:this.model.pushModel.get(this.peerActionTypeKey),total:this.model.pushModel.get("peersTotal"),label:this.label});this.$el.html(e)}})}.apply(t,i))||(e.exports=r)},"views/clustering/push/ActionProgress.pcss":function(e,t,s){var i=s(606);"string"==typeof i&&(i=[[e.i,i,""]]);var r={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};s(6)(i,r);i.locals&&(e.exports=i.locals)},"views/clustering/push/ConfirmDialog":function(e,t,s){var i,r;i=[s("shim/jquery"),s("require/underscore"),s("require/backbone"),e,s("uri/route"),s("views/shared/Modal"),s("models/clustering/Actions")],void 0===(r=function(e,t,s,i,r,n,l){return n.extend({moduleId:i.i,className:n.CLASS_NAME,initialize:function(e){n.prototype.initialize.apply(this,arguments),this.action=this.options.action},events:e.extend({},n.prototype.events,{"click .btn-primary":function(e){this.model.pushModel.trigger("action"),this.model.pushModel.trigger(this.action),this.hide()}}),getTemplateContent:function(){var e={};switch(this.action){case l.actions.PUSH:e.header=t("Distribute Configuration Bundle").t(),e.select=t("Push Changes").t(),e.body=t("Some configuration changes might require a restart of all peers. Would you like to push the changes?").t();break;case l.actions.CHECK_RESTART:e.header=t("Validate and Check if Restart is Required").t(),e.select=t("Validate and Check Restart").t(),e.body=t("Some configuration changes might only be valid on certain versions of Splunk Enterprise, or might require a restart of all peers. Would you like to validate and check if these changes would require a restart? This will not push the changes.").t();break;case l.actions.ROLLBACK:e.header=t("Rollback Last Applied Configuration Bundle").t(),e.select=t("Rollback Changes").t(),e.body=t("Some configuration changes might require a restart of all peers. Would you like to rollback the last applied configuration bundle?").t()}return e},render:function(){var e=this.getTemplateContent();this.$el.html(n.TEMPLATE),this.$(n.HEADER_TITLE_SELECTOR).html(e.header);var t=this.model.application.get("root"),s=this.model.application.get("locale"),i=r.docHelp(t,s,"manager.clustering.bundle"),l=this.compiledTemplate({learnmoreLink:i,content:e});return this.$(n.BODY_SELECTOR).append(l),this.$(n.BODY_SELECTOR).show(),this.$(n.FOOTER_SELECTOR).append(n.BUTTON_CANCEL),this.$(n.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+e.select+"</a>"),this},template:"<%= content.body %> <a href='<%=learnmoreLink %>' class='external' target='_blank' rel='noopener noreferrer'><%= _('Learn More').t() %></a>"})}.apply(t,i))||(e.exports=r)},"views/clustering/push/Master":function(e,t,s){var i,r;i=[s("shim/jquery"),s("require/underscore"),e,s("models/Base"),s("models/clustering/Actions"),s("views/Base"),s("views/clustering/push/PushStatus"),s("views/clustering/push/ActionProgress"),s("views/clustering/push/PushErrors"),s("views/clustering/push/peer_nodes/table/Master"),s("views/clustering/push/peer_nodes/TableControls"),s("views/clustering/push/system/Actions"),s("views/clustering/push/StatusMessage"),s("uri/route"),s(609),s("views/clustering/push/Master.pcss")],void 0===(r=function(e,t,s,i,r,n,l,o,a,d,u,c,h,p,f,g){return n.extend({moduleId:s.i,template:f,initialize:function(e){n.prototype.initialize.call(this,e),this.children.pushStatus=new l({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo}}),this.children.validateProgress=new o({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersValidated",label:t("Peers Validated:").t()}),this.children.restartProgress=new o({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersRestarted",label:t("Restarting Peer:").t()}),this.children.reloadProgress=new o({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersReloaded",label:t("Peers Reloaded:").t()}),this.children.checkRestartProgress=new o({model:{pushModel:this.model.pushModel,masterInfo:this.model.masterInfo},peerActionTypeKey:"peersCheckRestarted",label:t("Peers Checked For Restart:").t()}),this.children.pushErrors=new a({model:{pushModel:this.model.pushModel}}),this.children.tableControls=new u({model:{state:this.collection.peers.fetchData,pushModel:this.model.pushModel},collection:{peers:this.collection.peers}}),this.children.statusTableView=new d({model:{state:this.collection.peers.fetchData,pushModel:this.model.pushModel},collection:{peers:this.collection.peers}}),this.children.actionsView=new c({model:this.model}),this.model.pushModel.on("action",(function(){this.children.statusMessage&&this.children.statusMessage.remove(),this.children.statusMessage=new h({model:{masterInfo:this.model.masterInfo}}),this.children.pushStatus.$el.hide(),this.children.actionsView.disableButtons(),this.$(".section-bg").prepend(this.children.statusMessage.render().el),this.children.statusMessage.$el.show()}),this),this.model.pushModel.on("change:state",(function(){var e=this.model.pushModel.get("state");if("idle"!==e){var t=this.model.pushModel.get("lastRunAction");t===r.actions.VALIDATE?(this.children.validateProgress.reset(),this.children.validateProgress.$el.show()):t===r.actions.CHECK_RESTART?(this.children.validateProgress.reset(),this.children.validateProgress.$el.show(),this.children.reloadProgress.reset(),this.children.reloadProgress.$el.show(),this.children.checkRestartProgress.reset(),this.children.checkRestartProgress.$el.show()):(t===r.actions.ROLLBACK||t===r.actions.PUSH)&&(this.children.validateProgress.reset(),this.children.validateProgress.$el.show(),this.children.reloadProgress.reset(),this.children.reloadProgress.$el.show(),"restart"===e&&(this.children.restartProgress.reset(),this.children.restartProgress.$el.show()))}else setTimeout(function(){this.children.pushStatus.$el.show(),this.children.validateProgress.$el.hide(),this.children.checkRestartProgress.$el.hide(),this.children.reloadProgress.$el.hide(),this.children.restartProgress.$el.hide(),this.children.statusMessage&&this.children.statusMessage.$el.hide(),this.children.actionsView.enableButtons()}.bind(this),1e3)}),this),this.model.pushModel.on("tick",(function(){t.isEmpty(this.model.pushModel.get("errors"))?this.children.pushErrors.$el.hide():this.children.pushErrors.$el.show()}),this)},render:function(){var e=this.model.application.get("root"),t=this.model.application.get("locale"),s=p.docHelp(e,t,"manager.clustering.bundle"),i=p.docHelp(e,t,"learnmore.clustering.bundle"),r=this.compiledTemplate({docLink:s,learnMoreLink:i});this.$el.html(r),this.$(".section-header").append(this.children.actionsView.render().el),this.$(".section-bg").append(this.children.pushStatus.render().el),this.$(".section-bg").append(this.children.validateProgress.render().el),this.$(".section-bg").append(this.children.reloadProgress.render().el),this.$(".section-bg").append(this.children.checkRestartProgress.render().el),this.$(".section-bg").append(this.children.restartProgress.render().el),this.$(".section-bg").append(this.children.pushErrors.render().el),this.$(".section-bg").append(this.children.tableControls.render().el),this.$(".section-bg").append(this.children.statusTableView.render().el),this.children.validateProgress.$el.hide(),this.children.reloadProgress.$el.hide(),this.children.checkRestartProgress.$el.hide(),this.children.restartProgress.$el.hide()}})}.apply(t,i))||(e.exports=r)},"views/clustering/push/Master.pcss":function(e,t,s){var i=s(610);"string"==typeof i&&(i=[[e.i,i,""]]);var r={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};s(6)(i,r);i.locals&&(e.exports=i.locals)},"views/clustering/push/PushErrors":function(e,t,s){var i,r;i=[s("shim/jquery"),s("require/underscore"),e,s("views/Base"),s(607),s("views/clustering/push/PushErrors.pcss")],void 0===(r=function(e,t,s,i,r,n){return i.extend({moduleId:s.i,template:r,events:{"click .cluster-errors-more, .cluster-errors-less":function(e){e.preventDefault(),this.$(".cluster-errors-full, .cluster-errors-short").toggle()}},initialize:function(e){i.prototype.initialize.call(this,e),this.model.pushModel.on("tick",this.render,this)},digestErrors:function(e){for(var s=[],i=0;i<e.length;i++)if(t.isArray(e[i].errors))for(var r=0;r<e[i].errors.length;r++)s.push([e[i].label,e[i].errors[r]]);else s.push([e[i].label,e[i].errors]);var n=[],l=[];t.each(s,(function(e){var t=l.indexOf(e[1]);-1!==t?e[0]&&n[t].push(e[0]):(n.push([e[0]]),l.push(e[1]))}));var o=[];for(i=0;i<n.length;i++){var a="",d=t.without(n[i],void 0);d.length>0&&d.length<=5?a=d.join(", ")+": ":d.length>5&&(a=d.slice(0,5).join(", ")+t(", and more").t()+": "),a+=l[i],o.push(a)}return o},render:function(){var e=this.model.pushModel.get("errors")||[],t=this.compiledTemplate({errors:this.digestErrors(e),maxErrors:3});this.$el.html(t),this.$(".cluster-errors-full").hide()}})}.apply(t,i))||(e.exports=r)},"views/clustering/push/PushErrors.pcss":function(e,t,s){var i=s(608);"string"==typeof i&&(i=[[e.i,i,""]]);var r={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};s(6)(i,r);i.locals&&(e.exports=i.locals)},"views/clustering/push/PushStatus":function(e,t,s){var i,r;i=[s("shim/jquery"),s("require/underscore"),e,s("views/Base"),s("views/shared/FlashMessages"),s("models/clustering/Actions"),s(604),s("util/time"),s("shim/bootstrap.tooltip")],void 0===(r=function(e,t,s,i,r,n,l,o,a){return i.extend({moduleId:s.i,template:l,initialize:function(e){i.prototype.initialize.call(this,e),this.children.flashMessages=new r({model:this.model.masterControl}),this.model.pushModel.on("reset change",this.render,this)},getTitle:function(){switch(this.model.pushModel.get("lastRunAction")){case n.actions.CHECK_RESTART:return t("Last Validate and Check Restart: ").t();case n.actions.PUSH:return t("Last Push: ").t();case n.actions.ROLLBACK:return t("Last Rollback: ").t();default:return t("Bundle Information: ").t()}},render:function(){if(this.model.masterInfo&&this.model.pushModel){var e=this.model.masterInfo.entry.content.get("active_bundle"),s=this.model.masterInfo.entry.content.get("latest_bundle"),i=this.model.masterInfo.entry.content.get("last_dry_run_bundle"),r=this.model.masterInfo.entry.content.get("previous_active_bundle"),l=s&&s.timestamp?o.convertToLocalTime(s.timestamp):t("N/A").t(),a=e&&e.checksum&&""!==e.checksum?e.checksum:t("N/A").t(),d=s&&s.checksum&&""!==s.checksum?s.checksum:t("N/A").t(),u=i&&i.checksum&&""!==i.checksum?i.checksum:t("N/A").t(),c=r&&r.checksum&&""!==r.checksum?r.checksum:t("N/A").t(),h=this.compiledTemplate({lastActionSuccess:this.model.pushModel.get("lastActionSuccess"),timeLastPush:l,activeBundleId:a,latestBundleId:d,checkRestartBundleId:u,previousBundleId:c,lastRunAction:this.model.pushModel.get("lastRunAction"),restartRequired:this.model.pushModel.get("restartRequired"),title:this.getTitle(),actions:n.actions});this.$el.html(h),this.$el.prepend(this.children.flashMessages.render().el),this.$(".tooltip-link").tooltip({animation:!1,container:"body"})}}})}.apply(t,i))||(e.exports=r)},"views/clustering/push/StatusMessage":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i=l(s("require/underscore")),r=l(s("views/Base")),n=l(s("views/shared/waitspinner/Master"));function l(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.extend({moduleId:e.i,initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];r.default.prototype.initialize.apply(this,t),this.listenTo(this.model.masterInfo.entry.content,"change:apply_bundle_status",this.render),this.firstRender=!0,this.children.spinner=new n.default},getStatusMessage:function(){var e=this.model.masterInfo.entry.content.get("apply_bundle_status"),t=e&&e.status;return("None"===t||i.default.isUndefined(t))&&(this.firstRender?(t="Initializing...",this.firstRender=!1):t=""),t},render:function(){var e=this.getStatusMessage(),t=this.compiledTemplate({applyBundleStatusMessage:e});return e&&this.$el.html(t),this.children.spinner.render().appendTo(this.$(".wait-spinner")),this.children.spinner.start(),this},template:'\n        <div class="section-padded">\n            <div class="wait-spinner"></div>\n            <h3 class="bundle-status-message">\n                <%- applyBundleStatusMessage %>\n            </h3>\n        </div>\n    '}),e.exports=t.default},"views/clustering/push/peer_nodes/TableControls":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i=a(s("shim/jquery")),r=a(s("require/underscore")),n=a(s("views/Base")),l=a(s("views/shared/CollectionPaginator")),o=a(s("views/shared/controls/SyntheticSelectControl"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.extend({moduleId:e.i,initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];n.default.prototype.initialize.apply(this,t),this.children.pageCount=new o.default({menuWidth:"narrow",className:"btn-group",items:[{value:10,label:(0,r.default)("10 per page").t()},{value:20,label:(0,r.default)("20 per page").t()},{value:50,label:(0,r.default)("50 per page").t()},{value:100,label:(0,r.default)("100 per page").t()}],model:this.collection.peers.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.paginator=new l.default({collection:this.collection.peers})},render:function(){var e=(0,i.default)(this.compiledTemplate({}));return e.find(".select-page-count").append(this.children.pageCount.render().el),e.find(".paginator-container").append(this.children.paginator.render().el),this.$el.html(e),this},template:'\n        <div class="table-controls">\n            <div class="select-page-count pull-right"></div>\n            <div class="clearfix"></div>\n            <div class="paginator-container"></div>\n        </div>\n    '}),e.exports=t.default},"views/clustering/push/peer_nodes/table/Master":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i=c(s("shim/jquery")),r=c(s("require/underscore")),n=c(s("views/Base")),l=c(s("views/shared/TableHead")),o=c(s("views/clustering/push/peer_nodes/table/TableRow")),a=c(s("views/shared/delegates/TableDock")),d=c(s("views/shared/delegates/TableRowToggle")),u=c(s("views/clustering/push/peer_nodes/table/MoreInfo"));function c(e){return e&&e.__esModule?e:{default:e}}t.default=n.default.extend({moduleId:e.i,initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];n.default.prototype.initialize.apply(this,t),this.children.tableRowToggle=new d.default({el:this.el,collapseOthers:!1}),this.tableHeaders=[],this.tableHeaders.push({label:(0,r.default)("i").t(),className:"col-info",html:'<i class="icon-info"></i>'}),this.tableHeaders.push({label:(0,r.default)("Peer").t(),sortKey:"label"}),this.tableHeaders.push({label:(0,r.default)("Site").t(),className:"col-actions"}),this.tableHeaders.push({label:(0,r.default)("Status").t(),className:"col-status"}),this.tableHeaders.push({label:(0,r.default)("Action Status").t(),className:"col-action-status"}),this.children.head=new l.default({model:this.model.state,columns:this.tableHeaders}),this.children.rows=this.rowsFromCollection(),this.activate(),this.children.tableDock=new a.default({el:this.el,offset:36,dockScrollBar:!1,defaultLayout:"fixed",flexWidthColumn:1})},startListening:function(){this.listenTo(this.collection.peers,"reset",this.updateAndRenderRows)},rowsFromCollection:function(){var e=this;return r.default.flatten(this.collection.peers.map((function(t,s){return[new o.default({model:{peer:t,state:e.model.state,pushModel:e.model.pushModel},index:s}),new u.default({model:{peer:t,pushModel:e.model.pushModel},index:s,colSpan:e.tableHeaders.length-1})]}),this))},renderRows:function(){var e=this;(0,r.default)(this.children.rows).each((function(t){t.render().appendTo(e.$(".peer-nodes"))}),this),this.children.tableDock.update()},updateAndRenderRows:function(){(0,r.default)(this.children.rows).each((function(e){e.remove()}),this),this.children.rows=this.rowsFromCollection(),this.renderRows()},render:function(){var e=(0,i.default)(this.compiledTemplate({}));return e.find(".item-table-head-placeholder").replaceWith(this.children.head.render().el),this.$el.html(e),this.renderRows(),this},template:'\n        <table class="table table-chrome table-striped table-row-expanding table-listing">\n        <thead class="item-table-head-placeholder"></thead>\n        <tbody class="peer-nodes"></tbody>\n        </table>\n    '}),e.exports=t.default},"views/clustering/push/peer_nodes/table/MoreInfo":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i=n(s("views/Base")),r=n(s("models/clustering/Actions"));function n(e){return e&&e.__esModule?e:{default:e}}t.default=i.default.extend({moduleId:e.i,tagName:"tr",className:"more-info",initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];i.default.prototype.initialize.apply(this,t),this.$el.addClass(this.options.index%2?"even":"odd").css("display","none"),this.activate()},render:function(){return this.$el.html(this.compiledTemplate({activeChecksum:this.model.peer.entry.content.get("active_bundle_id"),latestChecksum:this.model.peer.entry.content.get("latest_bundle_id"),lastValidatedChecksum:this.model.peer.entry.content.get("last_validated_bundle"),cols:this.options.colSpan,actions:r.default.actions})),this},template:'\n        <td class="details" colspan="<%= cols %>">\n            <dl class="list-dotted">\n                <dt class="active-checksum"><%- _("Active Bundle ID").t() %>\n                    <dd class="active-checksum">\n                        <%- activeChecksum %>\n                    </dd>\n                </dt>\n                <dt class="latest-checksum"><%- _("Latest Bundle ID").t() %>\n                    <dd class="latest-checksum">\n                        <%- latestChecksum %>\n                    </dd>\n                </dt>\n                <% if (this.model.pushModel.get(\'lastRunAction\') === actions.CHECK_RESTART) { %>\n                    <dt class="last-validated-checksum"><%- _("Last Validated Bundle ID").t() %>\n                        <dd class="last-validated-checksum">\n                            <%- lastValidatedChecksum %>\n                        </dd>\n                    </dt>\n                <% } %>\n            </dl>\n        </td>\n    '}),e.exports=t.default},"views/clustering/push/peer_nodes/table/TableRow":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});var i=l(s("require/underscore")),r=l(s("views/Base")),n=l(s("models/services/cluster/master/Peer"));function l(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.extend({moduleId:e.i,tagName:"tr",className:"expand",initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];r.default.prototype.initialize.apply(this,t),this.$el.addClass(this.options.index%2?"even":"odd"),this.activate()},getBundleActionStatus:function(){if(i.default.isUndefined(this.model.pushModel.get("lastRunAction")))return"None";var e=this.model.peer.entry.content.get("apply_bundle_status").status;switch(e){case n.default.VALIDATED:return(0,i.default)("Validation Done").t();case n.default.RELOADING:return(0,i.default)("Reload In Progress").t();case n.default.CHECKING_RESTART:return(0,i.default)("Validating and Checking For Restart").t();default:return e}},render:function(){return this.$el.html(this.compiledTemplate({peerLabel:this.model.peer.entry.content.get("label"),site:this.model.peer.entry.content.get("site"),bundleActionStatus:this.getBundleActionStatus(),peerStatus:this.model.peer.entry.content.get("status")})),this},template:'\n        <td class="expands">\n            <a href="#"><i class="icon-triangle-right-small"></i></a>\n        </td>\n        <td class="peer-label">\n            <%- peerLabel %>\n        </td>\n        <td class="site">\n            <%- site %>\n        </td>\n        <td class="peer-status">\n            <%- peerStatus %>\n        </td>\n        <td class="actions-status">\n            <%= bundleActionStatus %>\n        </td>\n    '}),e.exports=t.default},"views/clustering/push/system/Actions":function(e,t,s){"use strict";s(2),Object.defineProperty(t,"__esModule",{value:!0});o(s("require/underscore"));var i=o(s("shim/jquery")),r=o(s("views/Base")),n=o(s("views/clustering/push/ConfirmDialog")),l=o(s("models/clustering/Actions"));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.extend({moduleId:e.i,initialize:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];r.default.prototype.initialize.apply(this,t)},createConfirmDialog:function(e){this.children.confirmDialog&&this.children.confirmDialog.remove(),this.children.confirmDialog=new n.default({model:this.model,onHiddenRemove:!0,action:e}),(0,i.default)("body").append(this.children.confirmDialog.render().el),this.children.confirmDialog.show()},disableButtons:function(){(0,i.default)(".action-btn").addClass("disabled")},enableButtons:function(){(0,i.default)(".action-btn").removeClass("disabled"),this.disableUnavailableButtons()},disableUnavailableButtons:function(){this.model.masterInfo.entry.content.get("previous_active_bundle").checksum||(0,i.default)(".action-btn.rollback").addClass("disabled")},events:{"click a.apply:not(.disabled)":function(e){e.preventDefault(),this.createConfirmDialog(l.default.actions.PUSH)},"click a.check-restart:not(.disabled)":function(e){e.preventDefault(),this.createConfirmDialog(l.default.actions.CHECK_RESTART)},"click a.rollback:not(.disabled)":function(e){this.createConfirmDialog(l.default.actions.ROLLBACK),e.preventDefault()}},render:function(){return this.$el.html(this.compiledTemplate({})),this.disableUnavailableButtons(),this},template:'\n        <div class="btn-toolbar">\n            <a class="btn btn-primary action-btn check-restart" href="#"><%= _(\'Validate and Check Restart\').t() %></a>\n            <a class="btn btn-primary action-btn apply"><%= _(\'Push\').t() %></a>\n            <a class="btn btn-primary action-btn rollback" href="#"><%= _(\'Rollback\').t() %></a>\n        </div>\n    '}),e.exports=t.default}});