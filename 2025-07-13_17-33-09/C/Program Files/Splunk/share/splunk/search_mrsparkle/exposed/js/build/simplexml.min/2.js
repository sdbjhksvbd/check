(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1034:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(2)(!1)).push([module.i,".splunk-mapping-Map .leaflet-popup-content-wrapper{background:#000;border-radius:3px;-webkit-box-shadow:0 3px 10px #888;box-shadow:0 3px 10px #888;padding:6px 12px}.splunk-mapping-Map .leaflet-popup-content{color:#fff;font-family:Splunk Platform Sans,Proxima Nova,Roboto,Droid,Helvetica Neue,Helvetica,Arial,sans-serif;margin:0}.splunk-mapping-Map .map-tooltip-table{border:0;border-collapse:collapse;border-spacing:0}.splunk-mapping-Map .map-tooltip-table td{padding:0;white-space:nowrap}.splunk-mapping-Map .map-tooltip-table td.tooltip-column-left{text-align:left}.splunk-mapping-Map .map-tooltip-table td.tooltip-column-right{text-align:right}",""])},1035:function(module,exports,__webpack_require__){(module.exports=__webpack_require__(2)(!1)).push([module.i,".leaflet-reset-zoom-icon{display:block;margin:auto;padding-top:2px}@media print{.leaflet-reset-zoom{display:none}}.leaflet-control-zoom-in:focus,.leaflet-control-zoom-out:focus{border-collapse:separate;-webkit-box-shadow:0 0 1px 3px #006eaa;box-shadow:0 0 1px 3px #006eaa;outline:0}.leaflet-control-zoom-in:focus:active:not([disabled]),.leaflet-control-zoom-out:focus:active:not([disabled]){-webkit-box-shadow:none;box-shadow:none}.leaflet-control-zoom-in:focus,.leaflet-control-zoom-out:focus{text-decoration:none}",""])},"contrib/jg_lib/properties/ObjectProperty":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Property=__webpack_require__("contrib/jg_lib/properties/Property"),Class=__webpack_require__("contrib/jg_lib/Class"),ObjectUtil=__webpack_require__("contrib/jg_lib/utils/ObjectUtil");return Class(module.i,Property,(function(ObjectProperty,base){this._itemType=null,this._itemTypeChecker=null,this._itemNullValue=null,this._allowNull=!1,this._itemReadFilter=null,this._itemWriteFilter=null,this.constructor=function(name,itemType,defaultValue){if(null!=itemType&&!Class.isFunction(itemType))throw new Error("Parameter itemType must be of type Function.");this._itemType=itemType||null,this._itemTypeChecker=itemType?Class.getTypeChecker(itemType):null,itemType===Number?this._itemNullValue=NaN:itemType===Boolean?this._itemNullValue=!1:this._itemNullValue=null,null==defaultValue&&(defaultValue={}),base.constructor.call(this,name,Object,defaultValue)},this.itemType=function(){return this._itemType},this.allowNull=function(value){if(!arguments.length)return this._allowNull;if(null!=value&&!Class.isBoolean(value))throw new Error("Parameter allowNull must be of type Boolean.");return this._allowNull=!0===value,this},this.itemReadFilter=function(value){if(!arguments.length)return this._itemReadFilter;if(null!=value&&!Class.isFunction(value))throw new Error("Parameter itemReadFilter must be of type Function.");return this._itemReadFilter=value||null,this},this.itemWriteFilter=function(value){if(!arguments.length)return this._itemWriteFilter;if(null!=value&&!Class.isFunction(value))throw new Error("Parameter itemWriteFilter must be of type Function.");return this._itemWriteFilter=value||null,this},this.get=function(target){var itemValue,itemFilterValue,value=base.get.call(this,target),itemNullValue=this._itemNullValue,itemReadFilter=this._itemReadFilter,itemValueMap={};for(var p in value)if(ObjectUtil.has(value,p)){if(itemValue=value[p],itemReadFilter&&(itemFilterValue=itemReadFilter.call(target,itemValue))!==itemValue){if(!this.isValidItemType(itemFilterValue))throw new Error('Value returned from itemReadFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");itemValue=itemFilterValue}null==itemValue&&(itemValue=itemNullValue),itemValueMap[p]=itemValue}return itemValueMap},this.set=function(target,value){var itemValue,itemFilterValue,allowNull=this._allowNull,itemNullValue=this._itemNullValue,itemWriteFilter=this._itemWriteFilter,itemValueMap={};for(var p in value)if(ObjectUtil.has(value,p)){if(null==(itemValue=value[p])){if(!allowNull)continue;itemValue=itemNullValue}if(itemWriteFilter&&(itemFilterValue=itemWriteFilter.call(target,itemValue))!==itemValue){if(!this.isValidItemType(itemFilterValue))throw new Error('Value returned from itemWriteFilter for property "'+this.name()+'" must be of type '+this.getItemTypeName()+".");itemValue=itemFilterValue}itemValueMap[p]=itemValue}base.set.call(this,target,itemValueMap)},this.getTypeName=function(){return"Object<"+this.getItemTypeName()+">"},this.getItemTypeName=function(){return this._itemType?Class.getName(this._itemType)||this.name()+".itemType":"*"},this.isValidType=function(value){if(null==value)return!0;if(!Class.isObject(value))return!1;for(var p in value)if(ObjectUtil.has(value,p)&&!this.isValidItemType(value[p]))return!1;return!0},this.isValidItemType=function(value){return null==value||!this._itemTypeChecker||this._itemTypeChecker(value)}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"contrib/jg_lib/properties/ObservableObjectProperty":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*!
 * Copyright (c) 2007-2016 Jason Gatt
 * 
 * Released under the MIT license:
 * http://opensource.org/licenses/MIT
 */void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var MObservableProperty=__webpack_require__("contrib/jg_lib/properties/MObservableProperty"),ObjectProperty=__webpack_require__("contrib/jg_lib/properties/ObjectProperty"),Class=__webpack_require__("contrib/jg_lib/Class"),ObjectUtil=__webpack_require__("contrib/jg_lib/utils/ObjectUtil"),Set=__webpack_require__("contrib/jg_lib/utils/Set");return Class(module.i,ObjectProperty,(function(ObservableObjectProperty,base){Class.mixin(this,MObservableProperty),this._defaultValueSet=null,this._itemChangeComparator=null,this.constructor=function(name,itemType,defaultValue){base.constructor.call(this,name,itemType,defaultValue);var defaultValueSet=this._defaultValueSet=new Set;if(defaultValue)for(var p in defaultValue)ObjectUtil.has(defaultValue,p)&&defaultValueSet.add(defaultValue[p]);this.initChangeEvent()},this.itemChangeComparator=function(value){if(!arguments.length)return this._itemChangeComparator;if(null!=value&&!Class.isFunction(value))throw new Error("Parameter itemChangeComparator must be of type Function.");return this._itemChangeComparator=value||null,this},this.setupContext=function(context){base.setupContext.call(this,context),this.setupDependencySupport(context)},this.teardownContext=function(context){this.teardownDependencySupport(context),base.teardownContext.call(this,context)},this.writeValue=function(context,value){var oldValue=context.value;if(this.teardownDependencyChangeHandler(context),base.writeValue.call(this,context,value),null!=value){var itemValue,dependencyList=[],defaultValueSet=this._defaultValueSet;for(var p in value)ObjectUtil.has(value,p)&&null!=(itemValue=value[p])&&itemValue.isEventTarget&&itemValue.isObservableTarget&&!defaultValueSet.has(itemValue)&&dependencyList.push({target:itemValue,event:itemValue.change});dependencyList.length>0&&this.setupDependencyChangeHandler(context,dependencyList)}this.notifyChange(context,oldValue,value)},this.needsWrite=function(context,value){return this.hasChange(context,context.value,value)},this.hasChange=function(context,oldValue,newValue){var p,changeComparator=this.changeComparator();if(changeComparator)return!!changeComparator.call(context.target,oldValue,newValue);if(oldValue===newValue)return!1;if(null==oldValue||null==newValue)return!0;for(p in oldValue)if(ObjectUtil.has(oldValue,p)&&(!ObjectUtil.has(newValue,p)||this.hasItemChange(context,oldValue[p],newValue[p])))return!0;for(p in newValue)if(ObjectUtil.has(newValue,p)&&!ObjectUtil.has(oldValue,p))return!0;return!1},this.hasItemChange=function(context,oldValue,newValue){return this._itemChangeComparator?!!this._itemChangeComparator.call(context.target,oldValue,newValue):oldValue!==newValue&&(oldValue==oldValue||newValue==newValue)}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},legend:function(module,exports){Splunk.Legend={_numLabels:0,_targetMap:{},_targetList:[],_labelMap:{},_labelList:[],_isLabelMapValid:!0,_timeoutID:0,_listeners:{},numLabels:function(){return this._validateLabelMap(),this._numLabels},register:function(id){if(null==id)throw new Error("Parameter id must be non-null.");var targetData=this._getOwn(this._targetMap,id);targetData||(targetData={id:id,labels:null,sortIndex:+id.match(/\d+/g).join("")},this._targetMap[id]=targetData,this._targetList.push(targetData),this._targetList.sort((function(a,b){return a.sortIndex-b.sortIndex})))},unregister:function(id){var targetData=this._getOwn(this._targetMap,id);if(targetData){for(var i=this._targetList.length-1;i>=0;i--)if(this._targetList[i]===targetData){this._targetList.splice(i,1);break}delete this._targetMap[id],this._invalidateLabelMap()}},setLabels:function(id,labels){var targetData=this._getOwn(this._targetMap,id);targetData&&(targetData.labels=labels?labels.concat():null,this._invalidateLabelMap())},getLabelIndex:function(label){this._validateLabelMap();var index=this._getOwn(this._labelMap,label);return null!=index?index:-1},getLabelAt:function(index){return this._validateLabelMap(),(index=Math.floor(index))>=0&&index<this._labelList.length?this._labelList[index]:null},addEventListener:function(event,closure){var listeners=this._getOwn(this._listeners,event);listeners||(listeners=this._listeners[event]=[]);for(var numListeners=listeners.length,i=0;i<numListeners;i++)if(listeners[i]===closure)return;listeners.push(closure)},removeEventListener:function(event,closure){var listeners=this._getOwn(this._listeners,event);if(listeners)for(var numListeners=listeners.length,i=0;i<numListeners;i++)if(listeners[i]===closure)return void listeners.splice(i,1)},dispatchEvent:function(event){var listeners=this._getOwn(this._listeners,event);if(listeners){var i;listeners=listeners.concat();var eventParams=[],numArguments=arguments.length;for(i=1;i<numArguments;i++)eventParams.push(arguments[i]);var closure,numListeners=listeners.length;for(i=0;i<numListeners;i++){closure=listeners[i];try{closure.apply(null,eventParams)}catch(e){}}}},_invalidateLabelMap:function(){if(this._isLabelMapValid){this._isLabelMapValid=!1;var self=this;this._timeoutID=setTimeout((function(){self._validateLabelMap()}),0)}},_validateLabelMap:function(){this._isLabelMapValid||(this._updateLabelMap(),this._isLabelMapValid=!0,clearTimeout(this._timeoutID))},_updateLabelMap:function(){var targetLabels,targetLabelsLength,targetLabel,numLabels,i,j,currentLabelList=this._labelList,changed=!1,labelMap={},labelList=[],targetList=this._targetList,targetListLength=targetList.length;for(i=0;i<targetListLength;i++)if(targetLabels=targetList[i].labels)for(targetLabelsLength=targetLabels.length,j=0;j<targetLabelsLength;j++)targetLabel=targetLabels[j],null==this._getOwn(labelMap,targetLabel)&&(labelMap[targetLabel]=labelList.length,labelList.push(targetLabel));if((numLabels=labelList.length)!==currentLabelList.length)changed=!0;else for(i=0;i<numLabels;i++)if(labelList[i]!==currentLabelList[i]){changed=!0;break}changed&&(this._labelMap=labelMap,this._labelList=labelList,this._numLabels=numLabels,this.dispatchEvent("labelIndexMapChanged"))},_getOwn:function(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)?obj[key]:void 0}}},"shim/splunk.legend":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__("shim/splunk"),__webpack_require__("legend")],void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(Splunk){return Splunk.Legend}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/charting/ExternalLegend":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var SplunkLegend=__webpack_require__("shim/splunk.legend"),Class=__webpack_require__("contrib/jg_lib/Class"),FunctionUtil=__webpack_require__("contrib/jg_lib/utils/FunctionUtil"),Legend=__webpack_require__("splunk/charting/Legend");return Class(module.i,Legend,(function(ExternalLegend,base){var _instanceCount=0;this._id=null,this._isConnected=!1,this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,this.constructor=function(){base.constructor.call(this),this._external_setLabels=FunctionUtil.bind(this._external_setLabels,this),this._external_labelIndexMapChanged=FunctionUtil.bind(this._external_labelIndexMapChanged,this),this._id="splunk-charting-ExternalLegend-"+ ++_instanceCount},this.connect=function(){this.close(),SplunkLegend.register(this._id),SplunkLegend.addEventListener("setLabels",this._external_setLabels),SplunkLegend.addEventListener("labelIndexMapChanged",this._external_labelIndexMapChanged),this._isConnected=!0},this.close=function(){this._isConnected&&(this._isConnected=!1,SplunkLegend.removeEventListener("labelIndexMapChanged",this._external_labelIndexMapChanged),SplunkLegend.removeEventListener("setLabels",this._external_setLabels),SplunkLegend.unregister(this._id))},this.isConnected=function(){return this._isConnected},this.getNumLabelsOverride=function(){if(this._isConnected){var value=this._cachedExternalNumLabels;return value<0&&(value=this._cachedExternalNumLabels=SplunkLegend.numLabels()),value}return-1},this.getLabelIndexOverride=function(label){if(this._isConnected){var labelMap=this._cachedExternalLabelMap;labelMap||(labelMap=this._cachedExternalLabelMap={});var index=labelMap[label];return null==index&&(index=labelMap[label]=SplunkLegend.getLabelIndex(label)),index}return-1},this.updateLabelsOverride=function(labels){return!!this._isConnected&&(this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,SplunkLegend.setLabels(this._id,labels),!0)},this._external_setLabels=function(){this.notifySettingLabels()},this._external_labelIndexMapChanged=function(){this._cachedExternalNumLabels=-1,this._cachedExternalLabelMap=null,this.notifyLabelIndexMapChanged()}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/charting/Legend":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),ChainedEvent=__webpack_require__("contrib/jg_lib/events/ChainedEvent"),Event=__webpack_require__("contrib/jg_lib/events/Event"),EventData=__webpack_require__("contrib/jg_lib/events/EventData"),MEventTarget=__webpack_require__("contrib/jg_lib/events/MEventTarget"),MListenerTarget=__webpack_require__("contrib/jg_lib/events/MListenerTarget"),MObservableTarget=__webpack_require__("contrib/jg_lib/events/MObservableTarget"),MPropertyTarget=__webpack_require__("contrib/jg_lib/properties/MPropertyTarget"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),ArrayUtil=__webpack_require__("contrib/jg_lib/utils/ArrayUtil"),Map=__webpack_require__("contrib/jg_lib/utils/Map");return Class(module.i,Object,(function(Legend,base){Class.mixin(this,MEventTarget,MListenerTarget,MObservableTarget,MPropertyTarget),this.settingLabels=new Event("settingLabels",EventData),this.labelIndexMapChanged=new ChainedEvent("labelIndexMapChanged",this.change),this.labels=new ObservableProperty("labels",Array,[]).readFilter((function(value){return value.concat()})).writeFilter((function(value){return value?value.concat():[]})).onChange((function(e){this._updateLabelMap()})),this.actualLabels=new ObservableProperty("actualLabels",Array,[]).readOnly(!0).readFilter((function(value){return value.concat()})),this._targetMap=null,this._targetList=null,this._labelMap=null,this._labelList=null,this._isSettingLabels=!1,this.constructor=function(){base.constructor.call(this),this._targetMap=new Map,this._targetList=[],this._labelMap={},this._labelList=[]},this.register=function(target){if(null==target)throw new Error("Parameter target must be non-null.");var targetData=this._targetMap.get(target);targetData||(targetData={labels:null},this._targetMap.set(target,targetData),this._targetList.push(targetData))},this.unregister=function(target){if(null==target)throw new Error("Parameter target must be non-null.");var targetData=this._targetMap.get(target);if(targetData){var targetIndex=ArrayUtil.indexOf(this._targetList,targetData);targetIndex>=0&&this._targetList.splice(targetIndex,1),this._targetMap.del(target),this._updateLabelMap()}},this.setLabels=function(target,labels){if(null==target)throw new Error("Parameter target must be non-null.");if(null!=labels&&!Class.isArray(labels))throw new Error("Parameter labels must be of type Array.");var targetData=this._targetMap.get(target);targetData&&(targetData.labels=labels?labels.concat():null,this.notifySettingLabels())},this.getLabelIndex=function(label){if(null==label)throw new Error("Parameter label must be non-null.");if(!Class.isString(label))throw new Error("Parameter label must be of type String.");var index=this.getLabelIndexOverride(label);if(index<0){var labelIndex=this._labelMap[label];index=null!=labelIndex?labelIndex:-1}return index},this.getNumLabels=function(){var value=this.getNumLabelsOverride();return value<0&&(value=this._labelList.length),value},this.notifySettingLabels=function(){if(!this._isSettingLabels)try{this._isSettingLabels=!0,this.fire(this.settingLabels,new EventData),this._updateLabelMap()}finally{this._isSettingLabels=!1}},this.notifyLabelIndexMapChanged=function(){this.fire(this.labelIndexMapChanged,new EventData)},this.getNumLabelsOverride=function(){return-1},this.getLabelIndexOverride=function(label){return-1},this.updateLabelsOverride=function(labels){return!1},this._updateLabelMap=function(){var targetLabels,targetLabel,i,j,l,m,currentLabelList=this._labelList,changed=!1,labelMap={},labelList=[],targetList=this._targetList;for(i=0,l=(targetLabels=this.getInternal("labels")).length;i<l;i++)null==labelMap[targetLabel=String(targetLabels[i])]&&(labelMap[targetLabel]=labelList.length,labelList.push(targetLabel));for(i=0,l=targetList.length;i<l;i++)if(targetLabels=targetList[i].labels)for(j=0,m=targetLabels.length;j<m;j++)null==labelMap[targetLabel=String(targetLabels[j])]&&(labelMap[targetLabel]=labelList.length,labelList.push(targetLabel));if(labelList.length!=currentLabelList.length)changed=!0;else for(i=0,l=labelList.length;i<l;i++)if(labelList[i]!==currentLabelList[i]){changed=!0;break}changed&&(this._labelMap=labelMap,this._labelList=labelList,this.setInternal("actualLabels",labelList.concat()),this.updateLabelsOverride(labelList.concat())||this.notifyLabelIndexMapChanged())}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/LatLon":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Leaflet=__webpack_require__("shim/leaflet");return __webpack_require__("contrib/jg_lib/Class")(module.i,Object,(function(LatLon,base){LatLon.fromLeaflet=function(latLng){return new LatLon(latLng.lat,latLng.lng)},this.lat=0,this.lon=0,this.constructor=function(lat,lon){this.lat=null!=lat?+lat:0,this.lon=null!=lon?+lon:0},this.normalize=function(center){var lat=+this.lat;lat<-90?lat=-90:lat>90&&(lat=90);var centerLon=center?center.lon:0,lon=(this.lon-centerLon)%360;return lon<-180?lon+=360:lon>180&&(lon-=360),new LatLon(lat,lon+=centerLon)},this.isFinite=function(){return this.lat-this.lat==0&&this.lon-this.lon==0},this.equals=function(latLon){return this.lat==latLon.lat&&this.lon==latLon.lon},this.clone=function(){return new LatLon(this.lat,this.lon)},this.toString=function(){return"("+ +this.lat+","+ +this.lon+")"},this.toLeaflet=function(){var latLng=new Leaflet.LatLng(0,0);return latLng.lat=+this.lat,latLng.lng=+this.lon,latLng}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/LatLonBounds":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Leaflet=__webpack_require__("shim/leaflet"),Class=__webpack_require__("contrib/jg_lib/Class"),LatLon=__webpack_require__("splunk/mapping/LatLon");return Class(module.i,Object,(function(LatLonBounds,base){LatLonBounds.fromLeaflet=function(latLngBounds){var sw=latLngBounds.getSouthWest(),ne=latLngBounds.getNorthEast();return new LatLonBounds(sw.lat,sw.lng,ne.lat,ne.lng)},this.s=0,this.w=0,this.n=0,this.e=0,this.constructor=function(s,w,n,e){this.s=null!=s?+s:0,this.w=null!=w?+w:0,this.n=null!=n?+n:0,this.e=null!=e?+e:0},this.getSW=function(){return new LatLon(this.s,this.w)},this.getSE=function(){return new LatLon(this.s,this.e)},this.getNW=function(){return new LatLon(this.n,this.w)},this.getNE=function(){return new LatLon(this.n,this.e)},this.getCenter=function(){return new LatLon((+this.s+ +this.n)/2,(+this.w+ +this.e)/2)},this.expand=function(latLon){var lat=+latLon.lat,lon=+latLon.lon,s=+this.s,w=+this.w,n=+this.n,e=+this.e;lat<s&&(this.s=lat),lat>n&&(this.n=lat),lon<w&&(this.w=lon),lon>e&&(this.e=lon)},this.contains=function(latLon){var lat=+latLon.lat,lon=+latLon.lon,s=+this.s,w=+this.w,n=+this.n,e=+this.e;return lat>=s&&lat<=n&&lon>=w&&lon<=e},this.normalize=function(center){var s=+this.s;s<-90?s=-90:s>90&&(s=90);var n=+this.n;n<s?n=s:n>90&&(n=90);var centerLon=center?center.lon:0,w=this.w-centerLon,e=this.e-centerLon;return e-w>=360?(w=-180,e=180):((w%=360)<-180?w+=360:w>180&&(w-=360),(e%=360)<-180?e+=360:e>180&&(e-=360),e<w&&(e>-w?w-=360:e+=360)),new LatLonBounds(s,w+=centerLon,n,e+=centerLon)},this.isFinite=function(){return this.s-this.s==0&&this.w-this.w==0&&this.n-this.n==0&&this.e-this.e==0},this.equals=function(bounds){return this.s==bounds.s&&this.w==bounds.w&&this.n==bounds.n&&this.e==bounds.e},this.clone=function(){return new LatLonBounds(this.s,this.w,this.n,this.e)},this.toString=function(){return"("+ +this.s+","+ +this.w+","+ +this.n+","+ +this.e+")"},this.toLeaflet=function(){var sw=new Leaflet.LatLng(0,0);sw.lat=+this.s,sw.lng=+this.w;var ne=new Leaflet.LatLng(0,0);return ne.lat=+this.n,ne.lng=+this.e,new Leaflet.LatLngBounds(sw,ne)}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/Map":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),Leaflet=(__webpack_require__("require/underscore"),__webpack_require__("shim/leaflet")),Class=__webpack_require__("contrib/jg_lib/Class"),Pass=__webpack_require__("contrib/jg_lib/async/Pass"),ChainedEvent=__webpack_require__("contrib/jg_lib/events/ChainedEvent"),Event=__webpack_require__("contrib/jg_lib/events/Event"),EventData=__webpack_require__("contrib/jg_lib/events/EventData"),ObservableArrayProperty=__webpack_require__("contrib/jg_lib/properties/ObservableArrayProperty"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),Property=__webpack_require__("contrib/jg_lib/properties/Property"),ArrayUtil=__webpack_require__("contrib/jg_lib/utils/ArrayUtil"),FunctionUtil=__webpack_require__("contrib/jg_lib/utils/FunctionUtil"),NumberUtil=__webpack_require__("contrib/jg_lib/utils/NumberUtil"),StringUtil=__webpack_require__("contrib/jg_lib/utils/StringUtil"),GenericEventData=__webpack_require__("splunk/events/GenericEventData"),LatLon=__webpack_require__("splunk/mapping/LatLon"),LatLonBounds=__webpack_require__("splunk/mapping/LatLonBounds"),ControlBase=__webpack_require__("splunk/mapping/controls/ControlBase"),LayerBase=__webpack_require__("splunk/mapping/layers/LayerBase"),VizBase=__webpack_require__("splunk/viz/VizBase"),HTMLCleaner=__webpack_require__("util/htmlcleaner");return __webpack_require__("shim/jquery.resize"),__webpack_require__("splunk/mapping/Map.pcss"),Class(module.i,VizBase,(function(Map,base){this.updateLeafletMapSizePass=new Pass("updateLeafletMapSize",.001),this.updateTilesPass=new Pass("updateTiles",.002),this.boundsChanged=new ChainedEvent("boundsChanged",this.change),this.mapClicked=new Event("mapClicked",GenericEventData),this.center=new Property("center",LatLon).getter((function(){return LatLon.fromLeaflet(this.leafletMap.getCenter())})).setter((function(value){value=value&&value.isFinite()?value.clone():new LatLon,this.validate(),this.leafletMap.setView(value.toLeaflet(),this.leafletMap.getZoom(),!0),this._checkBoundsChanged(),clearTimeout(this._setCenterTimeout),this._setCenterTimeout=setTimeout(FunctionUtil.bind((function(){this.leafletMap.setView(value.toLeaflet(),this.leafletMap.getZoom(),!0),this._checkBoundsChanged()}),this),500)})),this.zoom=new Property("zoom",Number).getter((function(){return this.leafletMap.getZoom()})).setter((function(value){value=value>=0&&value<1/0?value:0,this.validate(),this.leafletMap.setView(this.leafletMap.getCenter(),value,!0),this._checkBoundsChanged()})),this.tileURL=new ObservableProperty("tileURL",String,null).onChange((function(e){this.invalidate("updateTilesPass")})),this.tileSubdomains=new ObservableArrayProperty("tileSubdomains",String,["a","b","c"]).onChange((function(e){this.invalidate("updateTilesPass")})),this.tileMinZoom=new ObservableProperty("tileMinZoom",Number,0).writeFilter((function(value){return value>=0&&value<1/0?Math.floor(value):0})).onChange((function(e){this.invalidate("updateTilesPass")})),this.tileMaxZoom=new ObservableProperty("tileMaxZoom",Number,1/0).writeFilter((function(value){return value>=0&&value<1/0?Math.floor(value):1/0})).onChange((function(e){this.invalidate("updateTilesPass")})),this.tileInvertY=new ObservableProperty("tileInvertY",Boolean,!1).onChange((function(e){this.invalidate("updateTilesPass")})),this.tileOpacity=new ObservableProperty("tileOpacity",Number,1).writeFilter((function(value){return value>0&&value<1/0?Math.min(value,1):0})).onChange((function(e){this.invalidate("updateTilesPass")})),this.tileAttribution=new ObservableProperty("tileAttribution",String,null).onChange((function(e){this.invalidate("updateTilesPass")})),this.showTiles=new ObservableProperty("showTiles",Boolean,!0).onChange((function(e){this.invalidate("updateTilesPass")})),this.tilesLoaded=new ObservableProperty("tilesLoaded",Boolean,!1).readOnly(!0),this.leafletMap=null,this.formatNumber=null,this.formatDegrees=null,this.isCategorical=!1,this._tooltip=null,this._tooltipMetadata=null,this._tileLayer=null,this._layers=null,this._controls=null,this._width=0,this._height=0,this._bounds=null,this._setCenterTimeout=0,this._clicks=0,this._doubleClickTimeout=null,this.constructor=function(){base.constructor.call(this),this.addStyleClass("splunk-mapping-Map"),this.setStyle({position:"relative",width:"100%",height:"100%",overflow:"hidden",background:"none"}),this.updateSize=FunctionUtil.bind(this.updateSize,this),this._leafletMap_moveend=FunctionUtil.bind(this._leafletMap_moveend,this),this._leafletMap_zoomend=FunctionUtil.bind(this._leafletMap_zoomend,this),this._self_mouseOver=FunctionUtil.bind(this._self_mouseOver,this),this._self_mouseOut=FunctionUtil.bind(this._self_mouseOut,this),this._self_mouseMove=FunctionUtil.bind(this._self_mouseMove,this),this._self_click=FunctionUtil.bind(this._self_click,this),this._self_dbl_click=FunctionUtil.bind(this._self_dbl_click,this),this.leafletMap=new Leaflet.Map(this.element,{center:new Leaflet.LatLng(0,0),zoom:0,trackResize:!1,worldCopyJump:!1}),this.leafletMap.attributionControl.setPrefix(""),this.leafletMap.on("moveend",this._leafletMap_moveend),this.leafletMap.on("zoomend",this._leafletMap_zoomend),this._tooltip=new LeafletTooltip,this._layers=[],this._controls=[],this.$element.bind("mouseover",this._self_mouseOver),this.$element.bind("mouseout",this._self_mouseOut),this.$element.bind("mousemove",this._self_mouseMove),this.$element.bind("click",this._self_click),this.$element.bind("dblclick",this._self_dbl_click)},this.updateLeafletMapSize=function(){this.isValid("updateLeafletMapSizePass")||(this.leafletMap.invalidateSize(),clearTimeout(this.leafletMap._sizeTimer),this.leafletMap.fire("moveend"),this.markValid("updateLeafletMapSizePass"))},this.updateTiles=function(){if(!this.isValid("updateTilesPass")){var leafletMap=this.leafletMap,tileLayer=this._tileLayer;tileLayer&&(tileLayer.off("load"),tileLayer.off("unload"),leafletMap.removeLayer(tileLayer),this._tileLayer=null);var tileOptions={};tileOptions.opacity=this.getInternal("tileOpacity"),tileOptions.subdomains=this.getInternal("tileSubdomains"),tileOptions.minZoom=this.getInternal("tileMinZoom"),tileOptions.maxZoom=Math.max(this.getInternal("tileMinZoom"),this.getInternal("tileMaxZoom")),tileOptions.tms=this.getInternal("tileInvertY"),tileOptions.attribution=this.getInternal("tileAttribution");var tileURL=this.getInternal("showTiles")?this.getInternal("tileURL"):null;tileURL&&((tileLayer=this._tileLayer=new Leaflet.TileLayer(tileURL,tileOptions)).on("load",(function(){this.setInternal("tilesLoaded",!0)}),this),tileLayer.on("unload",(function(){this.setInternal("tilesLoaded",!1)}),this),leafletMap.addLayer(tileLayer,!0)),leafletMap.options.minZoom=tileOptions.minZoom,leafletMap.options.maxZoom=tileOptions.maxZoom,leafletMap.setZoom(leafletMap.getZoom()),this.markValid("updateTilesPass"),this._checkBoundsChanged()}},this.addLayer=function(layer){if(null==layer)throw new Error("Parameter layer must be non-null.");if(!(layer instanceof LayerBase))throw new Error("Parameter layer must be of type "+Class.getName(LayerBase)+".");var layers=this._layers;ArrayUtil.indexOf(layers,layer)>=0||(layers.push(layer),this.leafletMap.addLayer(layer.leafletLayer),layer.onAddedToMap(this))},this.removeLayer=function(layer){if(null==layer)throw new Error("Parameter layer must be non-null.");if(!(layer instanceof LayerBase))throw new Error("Parameter layer must be of type "+Class.getName(LayerBase)+".");var layers=this._layers,index=ArrayUtil.indexOf(layers,layer);index<0||(layer.onRemovedFromMap(this),this.leafletMap.removeLayer(layer.leafletLayer),layers.splice(index,1))},this.addControl=function(control){if(null===control)throw new Error("Parameter control must be non-null.");if(!(control instanceof ControlBase))throw new Error("Parameter control must be of type "+Class.getName(ControlBase)+".");var controls=this._controls;ArrayUtil.indexOf(controls,control)>=0||(controls.push(control),this.leafletMap.addControl(control.leafletControl),control.onAddedToMap(this))},this.removeControl=function(control){if(null===control)throw new Error("Parameter control must be non-null.");if(!(control instanceof ControlBase))throw new Error("Parameter control must be of type "+Class.getName(ControlBase)+".");var controls=this._controls,index=ArrayUtil.indexOf(controls,control);index<0||(control.onRemovedFromMap(this),this.leafletMap.removeControl(control.leafletControl),controls.splice(index,1))},this.fitWorld=function(viewportInside){if(null!=viewportInside&&!Class.isBoolean(viewportInside))throw new Error("Parameter viewportInside must be of type Boolean.");this.fitBounds(new LatLonBounds(-60,-180,85,180),viewportInside)},this.fitBounds=function(latLonBounds,viewportInside){if(null==latLonBounds)throw new Error("Parameter latLonBounds must be non-null.");if(!(latLonBounds instanceof LatLonBounds))throw new Error("Parameter latLonBounds must be of type "+Class.getName(LatLonBounds)+".");if(null!=viewportInside&&!Class.isBoolean(viewportInside))throw new Error("Parameter viewportInside must be of type Boolean.");latLonBounds=latLonBounds.isFinite()?latLonBounds:new LatLonBounds(-60,-180,85,180),viewportInside=!0===viewportInside,clearTimeout(this._setCenterTimeout);var zoom=this.leafletMap.getBoundsZoom(latLonBounds.toLeaflet(),viewportInside);this.leafletMap.setView(this.leafletMap.getCenter(),zoom,!0);var tl=this.leafletMap.latLngToLayerPoint(latLonBounds.getNW().toLeaflet()),br=this.leafletMap.latLngToLayerPoint(latLonBounds.getSE().toLeaflet()),centerPoint=new Leaflet.Point((tl.x+br.x)/2,(tl.y+br.y)/2),center=this.leafletMap.layerPointToLatLng(centerPoint);this.leafletMap.setView(center,zoom,!0),this._checkBoundsChanged()},this.getLatLonBounds=function(){return LatLonBounds.fromLeaflet(this.leafletMap.getBounds())},this.updateSize=function(){var width=this.$element.width(),height=this.$element.height();width===this._width&&height===this._height||this.$element.is(":visible")&&(this._width=width,this._height=height,this.leafletMap.invalidateSize(),this.invalidate("updateLeafletMapSizePass"),this._checkBoundsChanged())},this.dispose=function(){clearTimeout(this._setCenterTimeout);for(var layers=this._layers.concat(),i=layers.length-1;i>=0;i--)this.removeLayer(layers[i]);for(var controls=this._controls.concat(),j=controls.length-1;j>=0;j--)this.removeControl(controls[j]);this.$element.off("elementResize"),base.dispose.call(this)},this.onAppend=function(){this.updateSize(),this.$element.on("elementResize",this.updateSize)},this._checkBoundsChanged=function(){var oldBounds=this._bounds,newBounds=this.getLatLonBounds();oldBounds&&oldBounds.equals(newBounds)||(this._bounds=newBounds,this.fire("boundsChanged",new EventData))},this._checkBoundsDefault=function(bounds){return 0!==bounds.e&&(0!==bounds.w&&(0!==bounds.n&&0!==bounds.s))},this._updateTooltip=function(element){var tooltip=this._tooltip,metadata=this._getMetadataFromElement(element);if(metadata&&metadata!==this._tooltipMetadata){this._tooltipMetadata=metadata;var data=metadata.data,fields=metadata.fields,sliceList=metadata.sliceList,tooltipFields=metadata.tooltipFields,tooltipLatLng=metadata.tooltipLatLng,tooltipOffsetRadius=metadata.tooltipOffsetRadius;if(data&&(fields||tooltipFields)&&tooltipLatLng){var field,slice,i,l,content="";if(content+='<table class="map-tooltip-table">',sliceList){for(i=0,l=Math.min(fields.length,2);i<l;i++)field=fields[i],content+="<tr>",content+='<td class="tooltip-column-left">'+StringUtil.escapeHTML(field)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+StringUtil.escapeHTML(this._formatDegrees(data[field],0===i?"ns":"ew"))+"</td>",content+="</tr>";for(i=0,l=sliceList.length;i<l;i++)content+="<tr>",content+='<td class="tooltip-column-left" style="color: #'+(16777216|(slice=sliceList[i]).series.color).toString(16).substring(1)+';">'+StringUtil.escapeHTML(slice.series.name)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+StringUtil.escapeHTML(this._formatNumber(slice.value))+"</td>",content+="</tr>"}else if(tooltipFields)for(i=0,l=tooltipFields.length;i<l;i++){var fieldContent=data[field=tooltipFields[i]];fieldContent=field!==metadata.valueFieldName||this.isCategorical||isNaN(parseFloat(fieldContent))?StringUtil.escapeHTML(fieldContent):this._formatNumber(fieldContent),content+="<tr>",content+='<td class="tooltip-column-left">'+StringUtil.escapeHTML(field)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+fieldContent+"</td>",content+="</tr>"}else for(i=0,l=fields.length;i<l;i+=2)field=fields[i],content+="<tr>",content+='<td class="tooltip-column-left">'+StringUtil.escapeHTML(field)+':&nbsp;&nbsp;</td><td class="tooltip-column-right">'+StringUtil.escapeHTML(data[field])+"</td>",content+="</tr>";content+="</table>",tooltip.setLatLng(tooltipLatLng),tooltip.setOffsetRadius(tooltipOffsetRadius),tooltip.setContent(content),this.leafletMap.openPopup(tooltip)}else this.leafletMap.closePopup()}else if(!metadata&&this._tooltipMetadata){$.contains(this._tooltip._container,element)&&this._tooltip!==element||(this._tooltipMetadata=null,this.leafletMap.closePopup())}},this._getMetadataFromElement=function(element){for(;element;){if(element[LayerBase.METADATA_KEY])return element[LayerBase.METADATA_KEY];element=element.parentNode}return null},this._formatNumber=function(num){var format=this.formatNumber;return"function"==typeof format?format(Number(num)):String(num)},this._formatDegrees=function(degrees,orientation){var format=this.formatDegrees;return"function"==typeof format?format(Number(degrees),orientation):String(degrees)},this._leafletMap_moveend=function(e){this._checkBoundsChanged()},this._leafletMap_zoomend=function(e){this._checkBoundsChanged()},this._self_mouseOver=function(e){this._updateTooltip(e.target)},this._self_mouseOut=function(e){this._updateTooltip(e.relatedTarget)},this._self_mouseMove=function(e){this._updateTooltip(e.target)},this._self_dbl_click=function(e){clearTimeout(this._doubleClickTimeout)},this._self_click=function(e){if(!this.leafletMap.dragging||!this.leafletMap.dragging.moved()){var metadata=this._getMetadataFromElement(e.target);if(metadata&&metadata.data&&metadata.fields){e.preventDefault();var data={};for(var p in metadata.data)data[p]=metadata.data[p];var fields=metadata.fields.concat();clearTimeout(this._doubleClickTimeout),this._doubleClickTimeout=setTimeout(function(){this.fire("mapClicked",new GenericEventData({data:data,fields:fields,altKey:e.altKey,ctrlKey:e.ctrlKey||e.metaKey,shiftKey:e.shiftKey,jQueryEvent:e,originalEvent:e.originalEvent}))}.bind(this),500)}}};var LeafletTooltip=Leaflet.Popup.extend({options:{paddingX:5,paddingY:5},_offsetRadius:0,initialize:function(options){options=Leaflet.Util.extend(options||{},{maxWidth:1/0,maxHeight:1/0,autoPan:!1,closeButton:!1}),Leaflet.Popup.prototype.initialize.call(this,options)},setOffsetRadius:function(offsetRadius){return this._offsetRadius=offsetRadius,this._update(),this},_initLayout:function(){Leaflet.Popup.prototype._initLayout.call(this),this._tipContainer.style.display="none",this._container.style.pointerEvents="none"},_updatePosition:function(){var map=this._map,mapTL=map.containerPointToLayerPoint(new Leaflet.Point(0,0)),mapBR=map.containerPointToLayerPoint(map.getSize()),mapLeft=mapTL.x,mapTop=mapTL.y,mapRight=mapBR.x,mapBottom=mapBR.y,container=this._container,containerWidth=container.offsetWidth,containerHeight=container.offsetHeight,is3d=Leaflet.Browser.any3d,offsetRadius=this._offsetRadius,paddingX=this.options.paddingX,paddingY=this.options.paddingY,centerPoint=map.latLngToLayerPoint(this._latlng),offsetX=centerPoint.x>(mapLeft+mapRight)/2?-containerWidth-offsetRadius-paddingX:offsetRadius+paddingX,offsetY=NumberUtil.maxMin(centerPoint.y-containerHeight/2,mapBottom-containerHeight-paddingY,mapTop+paddingY)-centerPoint.y;is3d&&Leaflet.DomUtil.setPosition(container,centerPoint);var x=offsetX+(is3d?0:centerPoint.x),y=offsetY+(is3d?0:centerPoint.y);container.style.left=Math.round(x)+"px",container.style.top=Math.round(y)+"px"}});Leaflet.Control.Attribution.include({_update:function(){if(this._map){var attribs=[];for(var i in this._attributions)this._attributions.hasOwnProperty(i)&&this._attributions[i]&&attribs.push(i);var prefixAndAttribs=[];this.options.prefix&&prefixAndAttribs.push(this.options.prefix),attribs.length&&prefixAndAttribs.push(attribs.join(", "));var text=HTMLCleaner.clean(prefixAndAttribs.join(" &#8212; "));this._container.innerHTML=text,this._container.style.display=text?"":"none"}}})}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/Map.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1034);"string"==typeof content&&(content=[[module.i,content,""]]);var options={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(3)(content,options);content.locals&&(module.exports=content.locals)},"splunk/mapping/axis/BaseAxis":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),MPassTarget=__webpack_require__("contrib/jg_lib/async/MPassTarget"),Pass=__webpack_require__("contrib/jg_lib/async/Pass"),ChainedEvent=__webpack_require__("contrib/jg_lib/events/ChainedEvent"),EventData=__webpack_require__("contrib/jg_lib/events/EventData"),MEventTarget=__webpack_require__("contrib/jg_lib/events/MEventTarget"),MListenerTarget=__webpack_require__("contrib/jg_lib/events/MListenerTarget"),MObservableTarget=__webpack_require__("contrib/jg_lib/events/MObservableTarget"),MPropertyTarget=__webpack_require__("contrib/jg_lib/properties/MPropertyTarget"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),Map=__webpack_require__("contrib/jg_lib/utils/Map");return Class(module.i,Object,(function(BaseAxis,base){Class.mixin(this,MEventTarget,MListenerTarget,MObservableTarget,MPropertyTarget,MPassTarget),this.processContainedValuesPass=new Pass("processContainedValues",.11),this.processContainedRangePass=new Pass("processContainedRange",.12),this.processExtendedRangePass=new Pass("processExtendedRange",.13),this.processActualRangePass=new Pass("processActualRange",.14),this.absoluteMapChanged=new ChainedEvent("absoluteMapChanged",this.change),this.relativeMapChanged=new ChainedEvent("relativeMapChanged",this.change),this.minimum=new ObservableProperty("minimum",Number,NaN).writeFilter((function(value){return value>-1/0&&value<1/0?value:NaN})).onChange((function(e){this.invalidate("processActualRangePass")})),this.maximum=new ObservableProperty("maximum",Number,NaN).writeFilter((function(value){return value>-1/0&&value<1/0?value:NaN})).onChange((function(e){this.invalidate("processActualRangePass")})),this.preliminaryMinimum=new ObservableProperty("preliminaryMinimum",Number,1/0).readOnly(!0),this.preliminaryMaximum=new ObservableProperty("preliminaryMaximum",Number,-1/0).readOnly(!0),this.containedMinimum=new ObservableProperty("containedMinimum",Number,1/0).readOnly(!0),this.containedMaximum=new ObservableProperty("containedMaximum",Number,-1/0).readOnly(!0),this.extendedMinimum=new ObservableProperty("extendedMinimum",Number,1/0).readOnly(!0),this.extendedMaximum=new ObservableProperty("extendedMaximum",Number,-1/0).readOnly(!0),this.actualMinimum=new ObservableProperty("actualMinimum",Number,1/0).readOnly(!0),this.actualMaximum=new ObservableProperty("actualMaximum",Number,-1/0).readOnly(!0),this._vizStore=null,this._actualMaximum=0,this._actualMinimum=0,this.constructor=function(){this._vizStore=new Map},this.register=function(key){this._vizStore.has(key)||this._vizStore.set(key,{values:[],extendedRange:{absolute1:NaN,absolute2:NaN},containedRange:{absolute1:NaN,absolute2:NaN}})},this.unregister=function(key){this._vizStore.has(key)&&(this._vizStore.del(key),this.invalidate(this.processContainedRangePass))},this.provideContainedValues=function(key,values){var viz=this._vizStore.get(key);viz&&(viz.values=values.slice(),this._vizStore.set(key,viz),this.invalidate(this.processContainedValuesPass))},this.provideContainedRange=function(key,min,max){var viz=this._vizStore.get(key);if(min>max){var tempMax=max;max=min,min=tempMax}viz&&(viz.containedRange.absolute1=min,viz.containedRange.absolute2=max,this.invalidate(this.processContainedRangePass))},this.provideExtendedRange=function(key,min,max){var viz=this._vizStore.get(key);if(min>max){var tempMax=max;max=min,min=tempMax}viz&&(viz.extendedRange.absolute1=min,viz.extendedRange.absolute2=max,this.invalidate(this.processExtendedRangePass))},this.processContainedValues=function(){var i,visualizations=this._vizStore.values(),values=[],preliminaryMinimum=1/0,preliminaryMaximum=-1/0;for(i=0;i<visualizations.length;i++)values=values.concat(visualizations[i].values);for(values=this.processValues(values),i=0;i<values.length;i++){var currentValue=this.valueToAbsolute(values[i]);currentValue<preliminaryMinimum&&(preliminaryMinimum=currentValue),currentValue>preliminaryMaximum&&(preliminaryMaximum=currentValue)}this.setInternal("preliminaryMinimum",preliminaryMinimum),this.setInternal("preliminaryMaximum",preliminaryMaximum),this.invalidate("processContainedRangePass")},this.processContainedRange=function(){for(var previousComputedMinimum=this.getInternal("preliminaryMinimum"),previousComputedMaximum=this.getInternal("preliminaryMaximum"),values=this._vizStore.values(),i=0;i<values.length;i++)values[i].containedRange.absolute1<previousComputedMinimum&&(previousComputedMinimum=values[i].containedRange.absolute1),values[i].containedRange.absolute2>previousComputedMaximum&&(previousComputedMaximum=values[i].containedRange.absolute2);this.setInternal("containedMaximum",previousComputedMaximum),this.setInternal("containedMinimum",previousComputedMinimum),this.invalidate("processExtendedRangePass")},this.processExtendedRange=function(){for(var previousContainedMinimum=this.getInternal("containedMinimum"),previousContainedMaximum=this.getInternal("containedMaximum"),values=this._vizStore.values(),i=0;i<values.length;i++)values[i].extendedRange.absolute1<previousContainedMinimum&&(previousContainedMinimum=values[i].extendedRange.absolute1),values[i].extendedRange.absolute2>previousContainedMaximum&&(previousContainedMaximum=values[i].extendedRange.absolute2);this.setInternal("extendedMinimum",previousContainedMinimum),this.setInternal("extendedMaximum",previousContainedMaximum),this.invalidate("processActualRangePass")},this.processActualRange=function(){var minimum=this.getInternal("minimum"),maximum=this.getInternal("maximum"),previousMin=this._actualMinimum,previousMax=this._actualMaximum;isNaN(minimum)&&(minimum=this.getInternal("extendedMinimum")),isNaN(maximum)&&(maximum=this.getInternal("extendedMaximum")),this._actualMinimum=minimum,this._actualMaximum=maximum,this.setInternal("actualMaximum",maximum),this.setInternal("actualMinimum",minimum),this._actualMaximum===previousMax&&this._actualMinimum===previousMin||this.fire("relativeMapChanged",new EventData)},this.valueToAbsolute=function(value){throw new Error("Must implement valueToAbsolute method")},this.absoluteToValue=function(absolute){throw new Error("Must implement absoluteToValue method")},this.absoluteToRelative=function(absVal){return this._actualMaximum===this._actualMinimum?0:(absVal-this._actualMinimum)/(this._actualMaximum-this._actualMinimum)},this.relativeToAbsolute=function(relativeVal){return relativeVal*(this._actualMaximum-this._actualMinimum)+this._actualMinimum},this.processValues=function(values){throw new Error("Must implement processValues mehod")}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/axis/NumericAxis":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),BaseAxis=__webpack_require__("splunk/mapping/axis/BaseAxis");return Class(module.i,BaseAxis,(function(NumericAxis,base){this.valueToAbsolute=function(value){if(null===value||""===value)return NaN;var absoluteVal=Number(value);return absoluteVal>-1/0&&absoluteVal<1/0?absoluteVal:NaN},this.absoluteToValue=function(absolute){return absolute},this.processValues=function(values){for(var processedValues=[],i=0;i<values.length;i++){var processedValue=this.valueToAbsolute(values[i]);isNaN(processedValue)||processedValues.push(processedValue)}return processedValues}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/controls/CategoricalVisualLegend":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),Leaflet=__webpack_require__("shim/leaflet"),Class=__webpack_require__("contrib/jg_lib/Class"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),Legend=__webpack_require__("splunk/charting/Legend"),ControlBase=__webpack_require__("splunk/mapping/controls/ControlBase"),ColorPalette=__webpack_require__("splunk/palettes/ColorPalette"),svgUtil=__webpack_require__("util/svg");return Class(module.i,ControlBase,(function(CategoricalVisualLegend,base){this.colorPalette=new ObservableProperty("colorPalette",ColorPalette,null).onChange((function(e){this.invalidate("renderPass")})),this.legend=new ObservableProperty("legend",Legend,null).onChange((function(e){this.invalidate("renderPass")})),this.maxHeight=new ObservableProperty("maxHeight",Number,1/0).onChange((function(e){this.invalidate("renderPass")})),this.clip=new ObservableProperty("clip",Boolean,!1).onChange((function(e){this.invalidate("renderPass")})),this.selectedField=new ObservableProperty("selectedField",String,null).onChange((function(e){this.invalidate("renderPass")})),this.render=function(){var container=this.leafletControl.getContainer();if($(container).empty(),this.getInternal("isVisible")){var legend=this.getInternal("legend"),labels=[];if(legend&&(labels=legend.get("actualLabels")),labels&&labels.length>0){var height=16*labels.length+20-12+5;height=Math.min(height,this.getInternal("maxHeight")-20-5),this.svg=svgUtil.createElement("svg").attr("height",height);var labelsGroup=svgUtil.createElement("g").attr("class","svg-labels").attr("height",height),colorsGroup=svgUtil.createElement("g").attr("class","svg-colors"),backgroundRect=svgUtil.createElement("rect").attr("class","background").attr("height",height).attr("fill","rgb(255,255,255)").attr("fill-opacity","0.75");this.getInternal("clip")&&(this.svg.append('                        <defs>                            <clipPath id="choropleth-legend-clip">                                <rect class="clip" x="0" y="0"></rect>                            </clipPath>                        </defs>'),this.svg.find(".clip").attr("height",height),labelsGroup.attr("clip-path","url(#choropleth-legend-clip)"),colorsGroup.attr("clip-path","url(#choropleth-legend-clip)"));for(var selectedField=this.getInternal("selectedField"),width=12,longestLabel="",i=0;i<labels.length;i++){0==i&&(longestLabel=labels[i]),labels[i].length>longestLabel.length&&(longestLabel=labels[i]);var y=20+16*i;labelsGroup.append(this._drawRow({label:labels[i],y:y},selectedField)),colorsGroup.append(this._drawColor(y-10,i,labels[i],selectedField))}width+=47+7*longestLabel.length,$(this.svg).attr("width",width),$(backgroundRect).attr("width",width),height>165&&($(container).css("overflow-y","scroll"),$(container).css("overflow-x","hidden"),$(container).css("height",165)),this.svg.append(backgroundRect),this.svg.append(labelsGroup),this.svg.append(colorsGroup),$(container).append(this.svg),this._adjustLegend()}}},this.getContainer=function(){return this.leafletControl.getContainer()},this.createLeafletControl=function(){return new LeafletCategoricalLegend(this.leafletOptions)},this._adjustLegend=function(){for(var labels=$(this.svg[0]).find(".svg-label text"),longestLabelElem=labels[0],longestLabelWidth=0,i=0;i<labels.length;i++)labels[i].getBBox().width>longestLabelWidth&&(longestLabelWidth=(longestLabelElem=labels[i]).getBBox().width);if(longestLabelElem){var newWidth=47+longestLabelWidth;$(this.svg).attr("width",newWidth),$(this.svg).find(".background").attr("width",newWidth),this.getInternal("clip")&&this.svg.find(".clip").attr("width",newWidth)}},this._drawColor=function(y,i,label,selectedField){var isUnselected=null!=selectedField&&selectedField!==""+label,legend=this.getInternal("legend");if(legend){var colorPalette=this.getInternal("colorPalette"),color="rgb(0,0,0)";if(colorPalette){var paletteSpan=Math.max(legend.getNumLabels()-1,0),paletteRatio=paletteSpan>0?legend.getLabelIndex(label)/paletteSpan:0;color=(colorPalette.getItem(paletteRatio,paletteSpan,label)||new Color).toString("rgb")}var rect=svgUtil.createElement("rect").attr("height",12).attr("width",16).attr("y",y).attr("x",12).attr("class","legend-color legend-elem").attr("stroke",isUnselected?"rgb(51,51,51)":color).attr("stroke-opacity",isUnselected?.1:1).attr("fill",isUnselected?"rgb(51,51,51)":color).attr("fill-opacity",isUnselected?.1:1).data("fieldName",label).css("cursor","default");return"rgb(255,255,255)"===color&&rect.attr("stroke","rgb(204,204,204)"),rect}},this._drawRow=function(value,selectedField){var labelGroup,labelText,isUnselected=null!=selectedField&&selectedField!==""+value.label;return labelGroup=svgUtil.createElement("g").attr("class","svg-label legend-label legend-elem").data("fieldName",value.label),labelText=svgUtil.createElement("text").attr({y:value.y,x:35}).attr("fill-opacity",isUnselected?.3:1).text(value.label).css({"font-size":"12px",fill:"#333333","font-weight":"regular","padding-top":"12px",cursor:"default"}),labelGroup.append(labelText),labelGroup};var LeafletCategoricalLegend=Leaflet.Control.extend({options:{position:"bottomright"},initialize:function(options){this.container=Leaflet.DomUtil.create("div","legend"),Leaflet.DomEvent.disableClickPropagation(this.container),$(this.container).css("pointer-events","visiblepainted")},onAdd:function(map){return this.container},getContainer:function(){return this.container}})}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/controls/ControlBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),MPassTarget=__webpack_require__("contrib/jg_lib/async/MPassTarget"),MEventTarget=__webpack_require__("contrib/jg_lib/events/MEventTarget"),MListenerTarget=__webpack_require__("contrib/jg_lib/events/MListenerTarget"),MObservableTarget=__webpack_require__("contrib/jg_lib/events/MObservableTarget"),MPropertyTarget=__webpack_require__("contrib/jg_lib/properties/MPropertyTarget"),MRenderTarget=__webpack_require__("splunk/viz/MRenderTarget"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty");return Class(module.i,Object,(function(ControlBase,base){Class.mixin(this,MEventTarget,MListenerTarget,MObservableTarget,MPropertyTarget,MPassTarget,MRenderTarget),this.isVisible=new ObservableProperty("isVisible",Boolean,!0).onChange((function(e){this.invalidate("renderPass")})),this.constructor=function(){if(this.leafletControl=this.createLeafletControl(),!this.leafletControl)throw new Error("Value returned from createLeafletControl() must be non-null.")},this.render=function(){},this.createLeafletControl=function(){throw new Error("Must implement method createLeafletControl.")},this.onAddedToMap=function(map){this.map=map},this.onRemovedFromMap=function(map){this.map=null}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/controls/NumericalLegend":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),_=__webpack_require__("require/underscore"),i18n=__webpack_require__("stubs/i18n"),Leaflet=__webpack_require__("shim/leaflet"),Class=__webpack_require__("contrib/jg_lib/Class"),Pass=__webpack_require__("contrib/jg_lib/async/Pass"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),BaseAxis=__webpack_require__("splunk/mapping/axis/BaseAxis"),ControlBase=__webpack_require__("splunk/mapping/controls/ControlBase"),ColorPalette=__webpack_require__("splunk/palettes/ColorPalette"),MathUtils=(__webpack_require__("splunk/palettes/ListColorPalette"),__webpack_require__("util/math_utils")),svgUtil=__webpack_require__("util/svg");return Class(module.i,ControlBase,(function(NumericalLegend,base){this.computeExtendedPass=new Pass("computeExtended",.121),this.axis=new ObservableProperty("axis",BaseAxis,null).onChange((function(e){e.target===this?(e.oldValue&&e.oldValue.unregister(this),e.newValue&&(e.newValue.register(this),this.invalidate("computeExtendedPass")),this.invalidate("renderPass")):!e.property||e.property!==e.target.containedMinimum&&e.property!==e.target.containedMaximum?!e.property||e.property!==e.target.extendedMinimum&&e.property!==e.target.extendedMaximum||this.invalidate("renderPass"):this.invalidate("computeExtendedPass")})),this.bins=new ObservableProperty("bins",Number,5).writeFilter((function(value){return isNaN(value)?5:Math.min(Math.max(Math.floor(value),1),9)})).onChange((function(e){this.invalidate("computeExtendedPass"),this.invalidate("renderPass")})),this.neutralPoint=new ObservableProperty("neutralPoint",Number,NaN).writeFilter((function(value){return value>-1/0&&value<1/0?value:NaN})).onChange((function(e){this.invalidate("computeExtendedPass"),this.invalidate("renderPass")})),this.colorPalette=new ObservableProperty("colorPalette",ColorPalette,null).onChange((function(e){this.invalidate("renderPass")})),this.selectedField=new ObservableProperty("selectedField",String,null).onChange((function(e){this.invalidate("renderPass")})),this.constructor=function(options){this.leafletOptions=options||{},base.constructor.call(this)},this.computeExtended=function(){var axis=this.get("axis");if(axis){var containedMinimum=axis.get("containedMinimum"),containedMaximum=axis.get("containedMaximum");if(_.isFinite(containedMinimum)&&_.isFinite(containedMaximum)){var nearestPowerOfTen,extendedBinSize,bestFitMultiplier,extendedMinimum,extendedMaximum,halfRange,bins=this.getInternal("bins"),neutralPoint=this.getInternal("neutralPoint"),useNeutralPoint=!_.isNaN(neutralPoint),axisHasRange=containedMaximum>containedMinimum,allowedMultipliers=[1,2,2.5,3,4,5,6,7,7.5,8,9,10];if(axisHasRange){var rawBinSize=(containedMaximum-containedMinimum)/bins;nearestPowerOfTen=MathUtils.nearestPowerOfTen(rawBinSize),extendedBinSize=(bestFitMultiplier=_(allowedMultipliers).find((function(multiplier){return multiplier*nearestPowerOfTen>=rawBinSize})))*nearestPowerOfTen}else extendedBinSize=MathUtils.nearestPowerOfTen(containedMinimum||1);if(axisHasRange)if(useNeutralPoint)extendedMinimum=neutralPoint-(halfRange=extendedBinSize*(bins/2)),extendedMaximum=neutralPoint+halfRange;else for(extendedMaximum=(extendedMinimum=Math.floor(containedMinimum/nearestPowerOfTen)*nearestPowerOfTen)+bins*extendedBinSize;extendedMaximum<containedMaximum;)extendedMaximum=extendedMinimum+bins*(extendedBinSize=(bestFitMultiplier=allowedMultipliers[_(allowedMultipliers).indexOf(bestFitMultiplier)+1]||bestFitMultiplier+1)*nearestPowerOfTen);else extendedMinimum=containedMinimum-(halfRange=extendedBinSize*(bins/2)),extendedMaximum=containedMinimum+halfRange;axis.provideExtendedRange(this,extendedMinimum,extendedMaximum)}else axis.provideExtendedRange(this,NaN,NaN)}},this.render=function(){var container=this.leafletControl.getContainer();if($(container).empty(),this.getInternal("isVisible")){var axis=this.get("axis");if(axis){var minimum=axis.get("extendedMinimum"),maximum=axis.get("extendedMaximum");if(minimum!==1/0&&maximum!==-1/0){var bins=this.getInternal("bins"),height=16*bins+20-12+5,width=12;this.svg=svgUtil.createElement("svg").attr("height",height).attr("fill","rgba(0,0,0,1)");for(var y,swatchColor,swatchLabel,lower,upper,paletteRatio,labelsGroup=svgUtil.createElement("g").attr("class","svg-labels").attr("height",height),colorsGroup=svgUtil.createElement("g").attr("class","svg-colors"),backgroundRect=svgUtil.createElement("rect").attr("class","background").attr("height",height).attr("fill","rgb(255,255,255)").attr("fill-opacity","0.75"),binSize=(maximum-minimum)/bins,colorPalette=this.getInternal("colorPalette"),selectedField=this.getInternal("selectedField"),longestLabel="",paletteSpan=Math.max(bins-1,0),i=0;i<bins;i++)y=20+16*i,lower=MathUtils.stripFloatingPointErrors(minimum+i*binSize),upper=MathUtils.stripFloatingPointErrors(lower+binSize),swatchLabel=i18n.format_decimal(lower)+" - "+i18n.format_decimal(upper),colorPalette?(paletteRatio=paletteSpan>0?i/paletteSpan:0,swatchColor=colorPalette.getItem(paletteRatio,paletteSpan)||new Color):swatchColor=new Color,labelsGroup.append(this._drawRow({label:swatchLabel,y:y,lower:lower},selectedField)),colorsGroup.append(this._drawColor(y-10,swatchColor,lower,selectedField)),swatchLabel.length>longestLabel.length&&(longestLabel=swatchLabel);width+=47+7*longestLabel.length,$(this.svg).attr("width",width),$(backgroundRect).attr("width",width),this.svg.append(backgroundRect),this.svg.append(labelsGroup),this.svg.append(colorsGroup),$(container).append(this.svg),this._adjustLegend(width)}}}},this.getContainer=function(){return this.leafletControl.getContainer()},this.createLeafletControl=function(){return new LeafletNumericalLegend(this.leafletOptions)},this._adjustLegend=function(){for(var labels=$(this.svg[0]).find(".svg-label text"),longestLabelElem=labels[0],longestLabelWidth=0,i=0;i<labels.length;i++)labels[i].getBBox().width>longestLabelWidth&&(longestLabelWidth=(longestLabelElem=labels[i]).getBBox().width);if(longestLabelElem){var newWidth=47+longestLabelWidth;$(this.svg).attr("width",newWidth),$(this.svg).find(".background").attr("width",newWidth)}},this._drawRow=function(value,selectedField){var labelGroup,labelText,isUnselected=null!=selectedField&&selectedField!==""+value.lower;return labelGroup=svgUtil.createElement("g").attr("class","svg-label legend-label legend-elem").data("fieldName",value.lower),labelText=svgUtil.createElement("text").attr({y:value.y,x:35}).attr("fill-opacity",isUnselected?.3:1).text(value.label).css({"font-size":"12px","font-weight":"regular",fill:"#333333","padding-top":"12px",cursor:"default"}),labelGroup.append(labelText),labelGroup},this._drawColor=function(y,color,fieldName,selectedField){var isUnselected=null!=selectedField&&selectedField!==""+fieldName,fillColor=color.toString("rgb"),rect=svgUtil.createElement("rect").attr("height",12).attr("width",16).attr("y",y).attr("x",12).attr("fill",isUnselected?"rgb(51,51,51)":fillColor).attr("fill-opacity",isUnselected?.1:1).attr("class","legend-color legend-elem").data("fieldName",fieldName).attr("stroke",isUnselected?"rgb(51,51,51)":fillColor).attr("stroke-opacity",isUnselected?.1:1).css("cursor","default");return"rgb(255,255,255)"===fillColor&&rect.attr("stroke","rgb(204,204,204)"),rect};var LeafletNumericalLegend=Leaflet.Control.extend({options:{position:"bottomright"},initialize:function(options){this.container=Leaflet.DomUtil.create("div","legend"),$(this.container).css("pointer-events","visiblepainted")},onAdd:function(map){return this.container},getContainer:function(){return this.container}})}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/controls/ResetZoomControl":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),_=__webpack_require__("require/underscore"),Leaflet=__webpack_require__("shim/leaflet"),Class=__webpack_require__("contrib/jg_lib/Class"),LatLon=__webpack_require__("splunk/mapping/LatLon"),ControlBase=__webpack_require__("splunk/mapping/controls/ControlBase");__webpack_require__("splunk/vectors/Rect"),__webpack_require__("splunk/vectors/Text"),__webpack_require__("splunk/vectors/Viewport");return Class(module.i,ControlBase,(function(ResetZoomControl,base){this.constructor=function(options){this.leafletOptions=options,base.constructor.call(this)},this.setOriginalZoom=function(originalZoom){this.leafletControl.originalZoom=parseInt(originalZoom,10)},this.setOriginalCenter=function(originalCenter){var latLonArr=(originalCenter=(originalCenter=originalCenter.replace("(","")).replace(")","")).split(","),lat=parseFloat(latLonArr[0]),lon=parseFloat(latLonArr[1]);this.leafletControl.originalCenter=new LatLon(lat,lon)},this.createLeafletControl=function(){return new LeafletResetZoom(this.leafletOptions)},this.onAddedToMap=function(map){base.onAddedToMap.call(this,map),this.leafletControl.setMap(map)};var LeafletResetZoom=Leaflet.Control.extend({options:{position:"topleft"},linkTemplate:'<a class="leaflet-reset-zoom" href="#" title="<%= resetZoomText %>" style="width: 15px; height:15px; padding: 2px; "> <svg version="1.1"                    id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"                    width="15px" height="15px" viewBox="0 0 15 15" enable-background="new 0 0 15 15" xml:space="preserve">                    <g>                        <ellipse fill="#333333" cx="7.586" cy="7.287" rx="2.313" ry="2.33"/>                        <path fill="#333333" d="M7.586,13.525c-3.384,0-6.136-2.753-6.136-6.136s2.753-6.136,6.136-6.136c3.385,0,6.136,2.753,6.136,6.136                            S10.969,13.525,7.586,13.525z M7.586,2.712c-2.579,0-4.677,2.098-4.677,4.677s2.098,4.677,4.677,4.677                            c2.58,0,4.677-2.098,4.677-4.677S10.165,2.712,7.586,2.712z"/>                        <rect y="6.429" fill="#333333" width="2.143" height="2.143"/>                        <rect x="12.857" y="6.429" fill="#333333" width="2.143" height="2.143"/>                        <rect x="6.429" y="12.857" fill="#333333" width="2.143" height="2.143"/>                        <rect x="6.429" fill="#333333" width="2.143" height="2.143"/>                    </g>                </svg></a>',initialize:function(options){this._button={},this.setButton();var mouseOverText=_("Reset to original position and zoom").t();if(this.linkTemplate=_.template(this.linkTemplate),this.linkTemplate=this.linkTemplate({resetZoomText:mouseOverText}),this.originalZoom=options.originalZoom?parseInt(options.originalZoom,10):2,options.originalCenter){this.originalCenter=options.originalCenter.replace("(",""),this.originalCenter=this.originalCenter.replace(")","");var latLonArr=this.originalCenter.split(","),lat=parseFloat(latLonArr[0]),lon=parseFloat(latLonArr[1]);this.originalCenter=new LatLon(lat,lon)}else this.originalZoom=2},onAdd:function(map){this._map=map;var container=Leaflet.DomUtil.create("div","leaflet-reset-zoom leaflet-control-zoom");return this._container=container,this._update(),this._container},setButton:function(){var button={text:_("Reset Zoom").t()};this._button=button,this._update()},_update:function(){this._map&&(this._container.innerHTML="",this._makeButton(this._button))},_makeButton:function(button){var newButton=Leaflet.DomUtil.create("div","leaflet-reset-zoom",this._container);""!==button.text&&$(newButton).append(this.linkTemplate),$(newButton).find("a").on("focus",(function(){$(this).css("background-color","rgba(212, 221, 254, 0.75)")})),$(newButton).find("a").on("focusout",(function(){$(this).css("background-color","rgba(255, 255, 255, 0.75")})),$(newButton).on("click",function(e){e.stopPropagation(),e.preventDefault(),this.map.set("center",this.originalCenter),this.map.set("zoom",this.originalZoom)}.bind(this)),$(newButton).dblclick((function(e){e.stopPropagation()}))},setMap:function(map){this.map=map}})}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/layers/ChoroplethLayer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var _=__webpack_require__("require/underscore"),Class=__webpack_require__("contrib/jg_lib/Class"),Pass=__webpack_require__("contrib/jg_lib/async/Pass"),Event=__webpack_require__("contrib/jg_lib/events/Event"),EventData=__webpack_require__("contrib/jg_lib/events/EventData"),Rectangle=__webpack_require__("contrib/jg_lib/geom/Rectangle"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),ObjectUtil=(__webpack_require__("contrib/jg_lib/utils/NumberUtil"),__webpack_require__("contrib/jg_lib/utils/ObjectUtil")),LatLon=__webpack_require__("splunk/mapping/LatLon"),LatLonBounds=__webpack_require__("splunk/mapping/LatLonBounds"),BaseAxis=__webpack_require__("splunk/mapping/axis/BaseAxis"),LayerBase=__webpack_require__("splunk/mapping/layers/LayerBase"),VectorLayerBase=__webpack_require__("splunk/mapping/layers/VectorLayerBase"),ColorPalette=__webpack_require__("splunk/palettes/ColorPalette"),DataUtil=(__webpack_require__("splunk/palettes/ListColorPalette"),__webpack_require__("splunk/utils/DataUtil")),Path=__webpack_require__("splunk/vectors/Path"),MDataTarget=__webpack_require__("splunk/viz/MDataTarget"),MathUtil=__webpack_require__("util/math_utils");return Class(module.i,VectorLayerBase,(function(ChoroplethLayer,base){Class.mixin(this,MDataTarget),ChoroplethLayer.parseFieldTypes=function(fields,featureIdFieldName){var fieldsWithoutFeatureId=featureIdFieldName?_(fields).without(featureIdFieldName):fields;return{count:fieldsWithoutFeatureId[0],geom:fieldsWithoutFeatureId[1],area:fieldsWithoutFeatureId.length>2?fieldsWithoutFeatureId[2]:null}};this.computeContainedRangePass=new Pass("computeContainedRange",.111),this.rendered=new Event("rendered",EventData),this.axis=new ObservableProperty("axis",BaseAxis,null).onChange((function(e){e.target===this?(e.oldValue&&e.oldValue.unregister(this),e.newValue&&e.newValue.register(this),this.invalidate("processDataPass"),this.invalidate("computeContainedRangePass")):!e.property||e.property!==e.target.preliminaryMinimum&&e.property!==e.target.preliminaryMaximum?!e.property||e.property!==e.target.extendedMinimum&&e.property!==e.target.extendedMaximum?!e.property||e.property!==e.target.actualMinimum&&e.property!==e.target.actualMaximum||this.invalidate("renderPass"):this.invalidate("renderDataPass"):this.invalidate("computeContainedRangePass")})),this.bins=new ObservableProperty("bins",Number,5).writeFilter((function(value){return isNaN(value)?5:Math.min(Math.max(Math.floor(value),1),9)})).onChange((function(e){this.invalidate("renderDataPass")})),this.neutralPoint=new ObservableProperty("neutralPoint",Number,NaN).writeFilter((function(value){return value>-1/0&&value<1/0?value:NaN})).onChange((function(e){this.invalidate("computeContainedRangePass")})),this.sharedMinimum=new ObservableProperty("sharedMinimum",Number,-1/0).writeFilter((function(value){return value>-1/0&&value<1/0?value:-1/0})).onChange((function(e){this.invalidate("computeContainedRangePass")})),this.sharedMaximum=new ObservableProperty("sharedMaximum",Number,1/0).writeFilter((function(value){return value>-1/0&&value<1/0?value:1/0})).onChange((function(e){this.invalidate("computeContainedRangePass")})),this.colorPalette=new ObservableProperty("colorPalette",ColorPalette,null).onChange((function(e){this.invalidate("renderDataPass")})),this.shapeOpacity=new ObservableProperty("shapeOpacity",Number,.75).writeFilter((function(value){return isNaN(value)?.75:value>=0?Math.min(value,1):0})).onChange((function(e){this.invalidate("renderDataPass")})),this.borderColor=new ObservableProperty("borderColor",Color,Color.fromNumber(15329769)).readFilter((function(value){return value.clone()})).writeFilter((function(value){return value?value.clone().normalize():Color.fromNumber(15329769)})).changeComparator((function(oldValue,newValue){return!oldValue.equals(newValue)})).onChange((function(e){this.invalidate("renderDataPass")})),this.borderOpacity=new ObservableProperty("borderOpacity",Number,.75).writeFilter((function(value){return isNaN(value)?.75:value>=0?Math.min(value,1):0})).onChange((function(e){this.invalidate("renderDataPass")})),this.borderWidth=new ObservableProperty("borderWidth",Number,1).writeFilter((function(value){return value<1/0?Math.max(value,0):0})).onChange((function(e){this.invalidate("renderDataPass")})),this.showDensity=new ObservableProperty("showDensity",Boolean,!1).onChange((function(e){this.invalidate("processDataPass")})),this.wrapX=new ObservableProperty("wrapX",Boolean,!0).onChange((function(e){this.invalidate("renderPass")})),this.wrapY=new ObservableProperty("wrapY",Boolean,!1).onChange((function(e){this.invalidate("renderPass")})),this.featureIdFieldName=new ObservableProperty("featureIdFieldName",String,"").onChange((function(e){this.invalidate("processDataPass")})),this.selectedField=new ObservableProperty("selectedField",String,null).onChange((function(e){this.invalidate("renderDataPass")})),this._colorPalette=null,this._polygonMap=null,this._polygonList=null,this._labelValues=[],this.constructor=function(){base.constructor.call(this),this._polygonMap={},this._polygonList=[]},this.getLatLonBounds=function(center){if(null!=center&&!(center instanceof LatLon))throw new Error("Parameter center must be of type "+Class.getName(LatLon)+".");this.validate();for(var polygonBounds,bounds=new LatLonBounds(1/0,1/0,-1/0,-1/0),polygonList=this._polygonList,i=0,l=polygonList.length;i<l;i++)polygonBounds=polygonList[i].getLatLonBounds(),bounds.expand(polygonBounds.getSW().normalize(center)),bounds.expand(polygonBounds.getNE().normalize(center));return bounds.isFinite()?bounds:null},this.processDataOverride=function(data,fields){this.invalidate("renderPass");var i,p,oldPolygonMap=this._polygonMap,newPolygonMap=this._polygonMap={},polygonList=this._polygonList=[],numRows=data.length,numFields=fields.length,counts=[],axis=this.getInternal("axis");if(numRows>0&&numFields>1){var obj,polygonId,valueGeom,valueCount,polygon,showDensity=this.getInternal("showDensity"),vectorContainer=this.vectorContainer,fieldName=this.getInternal("featureIdFieldName"),parsedFields=ChoroplethLayer.parseFieldTypes(fields,fieldName),fieldCount=parsedFields.count,fieldGeom=parsedFields.geom,fieldArea=showDensity?parsedFields.area:null;for(i=0;i<numRows;i++)if(null!=(obj=data[i])){if(valueGeom=obj[fieldGeom],polygonId=fieldName&&obj[fieldName]?obj[fieldName]:valueGeom,valueCount=null!=obj[fieldCount]?obj[fieldCount]:"NULL",counts.push(valueCount),fieldArea?DataUtil.parseNumber(obj[fieldArea]):0,(polygon=oldPolygonMap[polygonId])&&polygon.geom!==valueGeom&&(polygon.dispose(),polygon=null,delete oldPolygonMap[polygonId]),!polygon){if(!(polygon=MultiPolygon.fromJSON(valueGeom)))continue;polygon.appendTo(vectorContainer)}delete oldPolygonMap[polygonId],newPolygonMap[polygonId]=polygon,polygonList.push(polygon),polygon.data=obj,polygon.count=valueCount,polygon.geom=valueGeom,polygon.fields=fields,polygon.tooltipFields=fieldName&&obj[fieldName]?[fieldName,fieldCount]:[fieldCount],polygon.valueFieldName=fieldCount}axis?(this._labelValues=null,axis.provideContainedValues(this,counts)):this._labelValues=counts}for(p in oldPolygonMap)ObjectUtil.has(oldPolygonMap,p)&&oldPolygonMap[p].dispose()},this.computeContainedRange=function(){var axis=this.get("axis");if(axis){var sharedMinimum=this.getInternal("sharedMinimum"),sharedMaximum=this.getInternal("sharedMaximum"),hasSharedExtremes=_.isFinite(sharedMinimum)&&_.isFinite(sharedMaximum),preliminaryMinimum=hasSharedExtremes?sharedMinimum:axis.get("preliminaryMinimum"),preliminaryMaximum=hasSharedExtremes?sharedMaximum:axis.get("preliminaryMaximum");if(_.isFinite(preliminaryMinimum)&&_.isFinite(preliminaryMaximum)){var neutralPoint=this.getInternal("neutralPoint"),hasNeutralPoint=!_.isNaN(neutralPoint);if(preliminaryMaximum!==preliminaryMinimum||hasNeutralPoint&&preliminaryMinimum!==neutralPoint)if(hasNeutralPoint){var maxDataDifferenceFromNeutral=Math.max(neutralPoint-preliminaryMinimum,preliminaryMaximum-neutralPoint);axis.provideContainedRange(this,neutralPoint-maxDataDifferenceFromNeutral,neutralPoint+maxDataDifferenceFromNeutral)}else hasSharedExtremes?axis.provideContainedRange(this,preliminaryMinimum,preliminaryMaximum):axis.provideContainedRange(this,NaN,NaN);else axis.provideContainedRange(this,NaN,NaN)}else axis.provideContainedRange(this,NaN,NaN)}},this.updateLegendLabelsOverride=function(data,fields){return this.getInternal("axis")?null:this._labelValues},this.renderDataOverride=function(data,fields,legend){var axis=this.getInternal("axis");if(axis||legend){var bins,shapeOpacity=this.getInternal("shapeOpacity"),borderColor=this.getInternal("borderColor"),borderOpacity=this.getInternal("borderOpacity"),borderWidth=this.getInternal("borderWidth"),colorPalette=this.getInternal("colorPalette"),polygonList=this._polygonList;if(axis)var extendedMin=axis.get("extendedMinimum"),extendedMax=axis.get("extendedMaximum");var numericBins=this.getInternal("bins"),selectedField=this.get("selectedField");bins=axis?numericBins:legend.getNumLabels();for(var paletteRatio,polygon,polygonCount,polygonBin,polygonSelectedCount,paletteSpan=Math.max(bins-1,0),i=0,l=polygonList.length;i<l;i++)polygon=polygonList[i],colorPalette?axis?(polygonCount=axis.valueToAbsolute(polygon.count),polygonBin=Math.floor(MathUtil.stripFloatingPointErrors((polygonCount-extendedMin)/((extendedMax-extendedMin)/bins))),paletteRatio=paletteSpan>0?polygonBin/paletteSpan:0,selectedField?(polygonSelectedCount=axis.valueToAbsolute(selectedField),polygonBin===Math.floor(MathUtil.stripFloatingPointErrors((polygonSelectedCount-extendedMin)/((extendedMax-extendedMin)/bins)))?polygon.fillColor((colorPalette.getItem(paletteRatio,paletteSpan,String(polygonCount))||new Color).toNumber()):polygon.fillColor(13750737)):isNaN(polygonCount)?polygon.fillColor(13750737):polygon.fillColor((colorPalette.getItem(paletteRatio,paletteSpan,String(polygonCount))||new Color).toNumber())):selectedField?(polygonCount=polygon.count)===selectedField?(polygonBin=legend.getLabelIndex(polygonCount),paletteRatio=paletteSpan>0?polygonBin/paletteSpan:0,polygon.fillColor((colorPalette.getItem(paletteRatio,paletteSpan,String(polygonCount))||new Color).toNumber())):polygon.fillColor(13750737):(polygonCount=polygon.count,polygonBin=legend.getLabelIndex(polygonCount),paletteRatio=paletteSpan>0?polygonBin/paletteSpan:0,polygon.fillColor((colorPalette.getItem(paletteRatio,paletteSpan,String(polygonCount))||new Color).toNumber())):polygon.fillColor(0),polygon.fillOpacity(shapeOpacity),borderWidth>0?(polygon.strokeColor(borderColor.toNumber()),polygon.strokeOpacity(borderOpacity),polygon.strokeWidth(borderWidth)):(polygon.strokeColor(NaN),polygon.strokeOpacity(NaN),polygon.strokeWidth(NaN));this.isValid("renderPass")&&this.fire("rendered",new EventData)}},this.renderOverride=function(map){var axis=this.getInternal("axis");base.renderOverride.call(this,map);for(var polygon,polygonPixelBounds,polygonCenter,polygonLatLng,polygonLatLngWrapped,polygonPoint,polygonPointWrapped,polygonOffsetX,polygonOffsetY,leafletMap=map.leafletMap,centerLatLng=leafletMap.getCenter(),wrapX=this.getInternal("wrapX"),wrapY=this.getInternal("wrapY"),vectorBounds=this.vectorBounds,minX=vectorBounds.minX,minY=vectorBounds.minY,maxX=vectorBounds.maxX,maxY=vectorBounds.maxY,polygonList=this._polygonList,i=0,l=polygonList.length;i<l;i++){var count=polygonList[i].count;count=axis?axis.absoluteToRelative(count):0,(polygon=polygonList[i]).render(leafletMap),polygonPixelBounds=polygon.getPixelBounds(),polygonLatLng=(polygonCenter=polygon.getLatLonBounds().getCenter()).toLeaflet(),polygonLatLngWrapped=polygonCenter.toLeaflet(),wrapX&&(polygonLatLngWrapped.lng-=centerLatLng.lng,polygonLatLngWrapped.lng%=360,polygonLatLngWrapped.lng>180?polygonLatLngWrapped.lng-=360:polygonLatLngWrapped.lng<-180&&(polygonLatLngWrapped.lng+=360),polygonLatLngWrapped.lng+=centerLatLng.lng),wrapY&&(polygonLatLngWrapped.lat-=centerLatLng.lat,polygonLatLngWrapped.lat%=180,polygonLatLngWrapped.lat>90?polygonLatLngWrapped.lat-=180:polygonLatLngWrapped.lat<-90&&(polygonLatLngWrapped.lat+=180),polygonLatLngWrapped.lat+=centerLatLng.lat),polygon.tooltipLatLng=polygonLatLngWrapped,polygonPoint=leafletMap.latLngToLayerPoint(polygonLatLng),polygonOffsetX=(polygonPointWrapped=leafletMap.latLngToLayerPoint(polygonLatLngWrapped)).x-polygonPoint.x,polygonOffsetY=polygonPointWrapped.y-polygonPoint.y,polygon.translate(polygonOffsetX,polygonOffsetY),polygonOffsetX+polygonPixelBounds.x+polygonPixelBounds.width<minX||polygonOffsetX+polygonPixelBounds.x>maxX||polygonOffsetY+polygonPixelBounds.y+polygonPixelBounds.height<minY||polygonOffsetY+polygonPixelBounds.y>maxY||count<0||count>1?polygon.display("none"):polygon.display(null)}this.fire("rendered",new EventData)};var MultiPolygon=Class(Path,(function(MultiPolygon,base){MultiPolygon.fromJSON=function(json){if(null==json)return null;if("string"==typeof json&&(json=JSON.parse(json)),!json||"MultiPolygon"!==json.type)return null;var coordinates=json.coordinates;return coordinates&&(coordinates=_processCoordinates(coordinates))?(_normalizeCoordinates(coordinates),new MultiPolygon(coordinates)):null};var _processCoordinates=function(coordinates,processed,path){if(!coordinates)return null;var length=coordinates.length;if(!length)return null;if(processed||(processed=[]),2===length&&"number"==typeof coordinates[0]&&"number"==typeof coordinates[1])path?path.push(new LatLon(coordinates[1],coordinates[0])):processed.push([new LatLon(coordinates[1],coordinates[0])]);else{path=[];for(var i=0;i<length;i++)_processCoordinates(coordinates[i],processed,path);path.length>0&&processed.push(path)}return processed.length>0?processed:null},_normalizeCoordinates=function(coordinates){var path,latLon,ci,pi,pl,length=coordinates.length,lonSum=0,lonCount=0;for(ci=0;ci<length;ci++)for(pi=0,pl=(path=coordinates[ci]).length;pi<pl;pi++)lonSum+=(latLon=path[pi]).lon,lonCount++;var lonAvg=lonSum/lonCount;for(ci=0;ci<length;ci++)if((latLon=(path=coordinates[ci])[0]).lon-lonAvg>180)for(pi=0,pl=path.length;pi<pl;pi++)(latLon=path[pi]).lon-=360;else if(latLon.lon-lonAvg<-180)for(pi=0,pl=path.length;pi<pl;pi++)(latLon=path[pi]).lon+=360};this.magnitude=0,this.scale=0,this.data=null,this.fields=null,this.tooltipFields=null,this.tooltipLatLng=null,this.tooltipOffsetRadius=0,this._coordinates=null,this._bounds=null,this._boundsPixels=new Rectangle(NaN,NaN,NaN,NaN),this.constructor=function(coordinates){if(null==coordinates)throw new Error("Parameter coordinates must be non-null.");base.constructor.call(this),this._coordinates=coordinates,this.element[LayerBase.METADATA_KEY]=this},this.getLatLonBounds=function(){var bounds=this._bounds;if(!bounds){bounds=this._bounds=new LatLonBounds(1/0,1/0,-1/0,-1/0);var path,ci,cl,pi,pl,coordinates=this._coordinates;for(ci=0,cl=coordinates.length;ci<cl;ci++)for(pi=0,pl=(path=coordinates[ci]).length;pi<pl;pi++)bounds.expand(path[pi])}return bounds},this.getPixelBounds=function(){return this._boundsPixels},this.render=function(leafletMap){var coordinates=this._coordinates,bounds=this.getLatLonBounds(),pointPixelsNW=leafletMap.latLngToLayerPoint(bounds.getNW().toLeaflet()),pointPixelsSE=leafletMap.latLngToLayerPoint(bounds.getSE().toLeaflet()),boundsPixels=new Rectangle(pointPixelsNW.x,pointPixelsNW.y,pointPixelsSE.x-pointPixelsNW.x,pointPixelsSE.y-pointPixelsNW.y);if(!boundsPixels.equals(this._boundsPixels)){var path,point0,pointI,ci,cl,pi,pl;for(this._boundsPixels=boundsPixels,this.beginPath(),ci=0,cl=coordinates.length;ci<cl;ci++){for(path=coordinates[ci],point0=leafletMap.latLngToLayerPoint(path[0].toLeaflet()),this.moveTo(point0.x,point0.y),pi=1,pl=path.length;pi<pl;pi++)pointI=leafletMap.latLngToLayerPoint(path[pi].toLeaflet()),this.lineTo(pointI.x,pointI.y);this.lineTo(point0.x,point0.y)}this.endPath()}},this.dispose=function(){this.element[LayerBase.METADATA_KEY]=null,base.dispose.call(this)}}))}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/layers/LayerBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),MPassTarget=__webpack_require__("contrib/jg_lib/async/MPassTarget"),MEventTarget=__webpack_require__("contrib/jg_lib/events/MEventTarget"),MListenerTarget=__webpack_require__("contrib/jg_lib/events/MListenerTarget"),MObservableTarget=__webpack_require__("contrib/jg_lib/events/MObservableTarget"),MPropertyTarget=__webpack_require__("contrib/jg_lib/properties/MPropertyTarget"),Property=__webpack_require__("contrib/jg_lib/properties/Property"),FunctionUtil=__webpack_require__("contrib/jg_lib/utils/FunctionUtil"),MRenderTarget=__webpack_require__("splunk/viz/MRenderTarget");return Class(module.i,Object,(function(LayerBase,base){Class.mixin(this,MEventTarget,MListenerTarget,MObservableTarget,MPropertyTarget,MPassTarget,MRenderTarget),LayerBase.METADATA_KEY="__splunk_mapping_layers_LayerBase_metadata",this.map=new Property("map",Object,null).readOnly(!0),this.leafletLayer=null,this.constructor=function(){if(this._map_boundsChanged=FunctionUtil.bind(this._map_boundsChanged,this),this.leafletLayer=this.createLeafletLayer(),!this.leafletLayer)throw new Error("Value returned from createLeafletLayer() must be non-null.")},this.render=function(){if(!this.isValid("renderPass")){var map=this.getInternal("map");map&&this.renderOverride(map),this.markValid("renderPass")}},this.createLeafletLayer=function(){throw new Error("Must implement method createLeafletLayer.")},this.renderOverride=function(map){},this.onAddedToMap=function(map){this.setInternal("map",map),map.on("boundsChanged",this._map_boundsChanged),this.invalidate("renderPass")},this.onRemovedFromMap=function(map){map.off("boundsChanged",this._map_boundsChanged),this.setInternal("map",null)},this._map_boundsChanged=function(e){this.invalidate("renderPass")}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/layers/PieMarkerLayer":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){__webpack_require__("shim/leaflet");var Class=__webpack_require__("contrib/jg_lib/Class"),Event=__webpack_require__("contrib/jg_lib/events/Event"),EventData=__webpack_require__("contrib/jg_lib/events/EventData"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),NumberUtil=__webpack_require__("contrib/jg_lib/utils/NumberUtil"),LatLon=__webpack_require__("splunk/mapping/LatLon"),LatLonBounds=__webpack_require__("splunk/mapping/LatLonBounds"),LayerBase=__webpack_require__("splunk/mapping/layers/LayerBase"),VectorLayerBase=__webpack_require__("splunk/mapping/layers/VectorLayerBase"),ColorPalette=__webpack_require__("splunk/palettes/ColorPalette"),ListColorPalette=__webpack_require__("splunk/palettes/ListColorPalette"),DataUtil=__webpack_require__("splunk/utils/DataUtil"),Group=__webpack_require__("splunk/vectors/Group"),Wedge=__webpack_require__("splunk/vectors/Wedge"),MDataTarget=__webpack_require__("splunk/viz/MDataTarget");return Class(module.i,VectorLayerBase,(function(PieMarkerLayer,base){Class.mixin(this,MDataTarget),this.rendered=new Event("rendered",EventData),this.markerColorPalette=new ObservableProperty("markerColorPalette",ColorPalette,new ListColorPalette([Color.fromNumber(52224),Color.fromNumber(13421568),Color.fromNumber(13369344)],!0)).onChange((function(e){this.invalidate("renderDataPass")})),this.markerOpacity=new ObservableProperty("markerOpacity",Number,1).writeFilter((function(value){return isNaN(value)?1:value>=0&&value<=1/0?Math.min(value,1):0})).onChange((function(e){this.invalidate("renderDataPass")})),this.markerMinSize=new ObservableProperty("markerMinSize",Number,10).writeFilter((function(value){return value>=0&&value<1/0?value:0})).onChange((function(e){this.invalidate("renderDataPass")})),this.markerMaxSize=new ObservableProperty("markerMaxSize",Number,50).writeFilter((function(value){return value>=0&&value<1/0?value:0})).onChange((function(e){this.invalidate("renderDataPass")})),this.wrapX=new ObservableProperty("wrapX",Boolean,!0).onChange((function(e){this.invalidate("renderPass")})),this.wrapY=new ObservableProperty("wrapY",Boolean,!1).onChange((function(e){this.invalidate("renderPass")})),this._seriesList=null,this._markerList=null,this.constructor=function(){base.constructor.call(this),this._seriesList=[],this._markerList=[]},this.getLatLonBounds=function(center){if(null!=center&&!(center instanceof LatLon))throw new Error("Parameter center must be of type "+Class.getName(LatLon)+".");this.validate();for(var bounds=new LatLonBounds(1/0,1/0,-1/0,-1/0),markerList=this._markerList,i=0,l=markerList.length;i<l;i++)bounds.expand(markerList[i].latLon.normalize(center));return bounds.isFinite()?bounds:null},this.processDataOverride=function(data,fields){var series,marker,sliceList,numSlices,slice,i,j,seriesList=this._seriesList,numSeries=0,markerList=this._markerList,numMarkers=0,numRows=data.length,numFields=fields.length;if(numRows>0&&numFields>2){var fieldSeries,obj,valueLat,valueLon,valueSeries,magSpan,mag,sum,angle1,angle2,vectorContainer=this.vectorContainer,fieldLat=fields[0],fieldLon=fields[1],magMin=1/0,magMax=-1/0;for(i=2;i<numFields;i++)fieldSeries=fields[i],numSeries<seriesList.length?series=seriesList[numSeries]:(series=new Series,seriesList.push(series)),series.name=fieldSeries,numSeries++;for(i=0;i<numRows;i++)if(null!=(obj=data[i])&&(valueLat=DataUtil.parseNumber(obj[fieldLat]),valueLon=DataUtil.parseNumber(obj[fieldLon]),!isNaN(valueLat)&&!isNaN(valueLon))){for(numMarkers<markerList.length?marker=markerList[numMarkers]:((marker=new PieMarker).appendTo(vectorContainer),markerList.push(marker)),sliceList=marker.sliceList,numSlices=0,mag=0,j=0;j<numSeries;j++)series=seriesList[j],valueSeries=DataUtil.parseNumber(obj[series.name]),isNaN(valueSeries)||valueSeries<=0||(numSlices<sliceList.length?slice=sliceList[numSlices]:((slice=new PieSlice).appendTo(marker),sliceList.push(slice)),slice.series=series,slice.value=valueSeries,mag+=valueSeries,numSlices++);if(0!==numSlices){for(marker.latLon=new LatLon(valueLat,valueLon),marker.data=obj,marker.fields=fields,marker.magnitude=mag,mag<magMin&&(magMin=mag),mag>magMax&&(magMax=mag),sum=0,angle1=0,angle2=0,j=0;j<numSlices;j++)angle1=angle2,angle2=(sum+=(slice=sliceList[j]).value)/mag*360,slice.startAngle=angle1-90,slice.arcAngle=angle2-angle1;for(j=sliceList.length-1;j>=numSlices;j--)(slice=sliceList.pop()).dispose();numMarkers++}}for(magSpan=magMax-magMin,i=0;i<numMarkers;i++)(marker=markerList[i]).scale=magSpan>0?NumberUtil.minMax((marker.magnitude-magMin)/magSpan,0,1):1/numMarkers}for(i=markerList.length-1;i>=numMarkers;i--)(marker=markerList.pop()).dispose();for(i=seriesList.length-1;i>=numSeries;i--)seriesList.pop()},this.updateLegendLabelsOverride=function(data,fields){for(var seriesList=this._seriesList,numSeries=seriesList.length,labels=numSeries>0?new Array(numSeries):null,i=0;i<numSeries;i++)labels[i]=seriesList[i].name;return labels},this.renderDataOverride=function(data,fields,legend){this.invalidate("renderPass");var series,seriesIndex,seriesCount,marker,sliceList,numSlices,slice,i,j,paletteSpan,paletteRatio,seriesList=this._seriesList,numSeries=seriesList.length,markerColorPalette=this.getInternal("markerColorPalette"),markerOpacity=this.getInternal("markerOpacity"),markerMinSize=this.getInternal("markerMinSize"),markerMaxSize=this.getInternal("markerMaxSize"),markerList=this._markerList,numMarkers=markerList.length;for(seriesCount=legend?legend.getNumLabels():numSeries,paletteSpan=Math.max(seriesCount-1,0),i=0;i<numSeries;i++)series=seriesList[i],seriesIndex=legend?legend.getLabelIndex(series.name):i,paletteRatio=paletteSpan>0?seriesIndex/paletteSpan:0,series.color=markerColorPalette?(markerColorPalette.getItem(paletteRatio,paletteSpan,series.name)||new Color).toNumber():0;for(i=0;i<numMarkers;i++)for(numSlices=(sliceList=(marker=markerList[i]).sliceList).length,marker.radius=Math.round(NumberUtil.interpolate(markerMinSize,markerMaxSize,marker.scale))/2,marker.tooltipOffsetRadius=marker.radius,marker.display("none"),j=0;j<numSlices;j++)(slice=sliceList[j]).fillColor(slice.series.color),slice.fillOpacity(markerOpacity),slice.draw(0,0,marker.radius,marker.radius,slice.startAngle,slice.arcAngle)},this.renderOverride=function(map){base.renderOverride.call(this,map);for(var marker,markerLatLng,markerPoint,leafletMap=map.leafletMap,centerLatLng=leafletMap.getCenter(),wrapX=this.getInternal("wrapX"),wrapY=this.getInternal("wrapY"),vectorBounds=this.vectorBounds,minX=vectorBounds.minX,minY=vectorBounds.minY,maxX=vectorBounds.maxX,maxY=vectorBounds.maxY,markerList=this._markerList,i=0,l=markerList.length;i<l;i++)markerLatLng=(marker=markerList[i]).latLon.toLeaflet(),wrapX&&(markerLatLng.lng-=centerLatLng.lng,markerLatLng.lng%=360,markerLatLng.lng>180?markerLatLng.lng-=360:markerLatLng.lng<-180&&(markerLatLng.lng+=360),markerLatLng.lng+=centerLatLng.lng),wrapY&&(markerLatLng.lat-=centerLatLng.lat,markerLatLng.lat%=180,markerLatLng.lat>90?markerLatLng.lat-=180:markerLatLng.lat<-90&&(markerLatLng.lat+=180),markerLatLng.lat+=centerLatLng.lat),marker.tooltipLatLng=markerLatLng,markerPoint=leafletMap.latLngToLayerPoint(markerLatLng),marker.translate(markerPoint.x,markerPoint.y),markerPoint.x+marker.radius<minX||markerPoint.x-marker.radius>maxX||markerPoint.y+marker.radius<minY||markerPoint.y-marker.radius>maxY?marker.display("none"):marker.display(null);this.fire("rendered",new EventData)};var Series=Class(Object,(function(Series,base){this.name=null,this.color=0,this.constructor=function(){}})),PieMarker=Class(Group,(function(PieMarker,base){this.sliceList=null,this.latLon=null,this.data=null,this.fields=null,this.magnitude=0,this.scale=0,this.radius=0,this.tooltipLatLng=null,this.tooltipOffsetRadius=0,this.constructor=function(){base.constructor.call(this),this.element[LayerBase.METADATA_KEY]=this,this.sliceList=[]},this.dispose=function(){for(var sliceList=this.sliceList,i=sliceList.length-1;i>=0;i--)sliceList[i].dispose();this.element[LayerBase.METADATA_KEY]=null,base.dispose.call(this)}})),PieSlice=Class(Wedge,(function(PieSlice,base){this.series=null,this.value=0,this.startAngle=0,this.arcAngle=0,this.constructor=function(){base.constructor.call(this)}}))}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/layers/VectorLayerBase":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Leaflet=__webpack_require__("shim/leaflet"),Class=__webpack_require__("contrib/jg_lib/Class"),Rectangle=__webpack_require__("contrib/jg_lib/geom/Rectangle"),FunctionUtil=__webpack_require__("contrib/jg_lib/utils/FunctionUtil"),LayerBase=__webpack_require__("splunk/mapping/layers/LayerBase"),Group=__webpack_require__("splunk/vectors/Group"),Viewport=__webpack_require__("splunk/vectors/Viewport");return Class(module.i,LayerBase,(function(VectorLayerBase,base){this.vectorContainer=null,this.vectorBounds=null,this._isZooming=!1,this.constructor=function(){base.constructor.call(this),this._leafletMap_move=FunctionUtil.bind(this._leafletMap_move,this),this._leafletMap_zoomstart=FunctionUtil.bind(this._leafletMap_zoomstart,this),this._leafletMap_zoomend=FunctionUtil.bind(this._leafletMap_zoomend,this),this.vectorContainer=this.leafletLayer.vectorContainer,this.vectorBounds={minX:0,minY:0,maxX:0,maxY:0}},this.createLeafletLayer=function(){return new LeafletVectorLayer},this.renderOverride=function(map){this._isZooming||this.vectorContainer.display(null)},this.onAddedToMap=function(map){base.onAddedToMap.call(this,map);var leafletMap=map.leafletMap;this.vectorContainer.hasSVG?leafletMap.on("move",this._leafletMap_move):leafletMap.on("moveend",this._leafletMap_move),leafletMap.on("viewreset",this._leafletMap_move),leafletMap.on("zoomstart",this._leafletMap_zoomstart),leafletMap.on("zoomend",this._leafletMap_zoomend),this.vectorBounds=leafletMap._vectorLayerBounds,this.vectorContainer.display("none")},this.onRemovedFromMap=function(map){var leafletMap=map.leafletMap;this.vectorContainer.hasSVG?leafletMap.off("move",this._leafletMap_move):leafletMap.off("moveend",this._leafletMap_move),leafletMap.off("viewreset",this._leafletMap_move),leafletMap.off("zoomstart",this._leafletMap_zoomstart),leafletMap.off("zoomend",this._leafletMap_zoomend),this.vectorBounds={minX:0,minY:0,maxX:0,maxY:0},base.onRemovedFromMap.call(this,map)},this._leafletMap_move=function(e){this.invalidate("renderPass")},this._leafletMap_zoomstart=function(e){this._isZooming=!0,this.vectorContainer.display("none")},this._leafletMap_zoomend=function(e){this._isZooming=!1,this.invalidate("renderPass")};var LeafletVectorLayer=Leaflet.Class.extend({includes:[Leaflet.Mixin.Events],options:{clickable:!0},vectorContainer:null,initialize:function(options){Leaflet.Util.setOptions(this,options),this.vectorContainer=new Group},onAdd:function(map){this._map=map,map._initVectorLayerViewport(),this.vectorContainer.appendTo(map._vectorLayerViewport)},onRemove:function(map){this._map=null,this.vectorContainer.remove()}});Leaflet.Map.include({_initVectorLayerViewport:function(){if(!this._vectorLayerRoot){var root=this._vectorLayerRoot=document.createElement("div");root.style.position="absolute",this._panes.overlayPane.appendChild(root);var viewport=this._vectorLayerViewport=new Viewport;viewport.appendTo(root),this._vectorLayerBounds={minX:0,minY:0,maxX:0,maxY:0},viewport.hasSVG?this.on("move",this._updateVectorLayerBounds):this.on("moveend",this._updateVectorLayerBounds),this._updateVectorLayerBounds()}},_updateVectorLayerBounds:function(){var root=this._vectorLayerRoot,viewport=this._vectorLayerViewport,bounds=this._vectorLayerBounds,padding=viewport.hasSVG?0:.5,size=this.getSize(),min=Leaflet.DomUtil.getPosition(this._mapPane).multiplyBy(-1)._subtract(size.multiplyBy(padding)),max=min.add(size.multiplyBy(1+2*padding)),width=max.x-min.x,height=max.y-min.y;bounds.minX=min.x,bounds.minY=min.y,bounds.maxX=max.x,bounds.maxY=max.y,Leaflet.DomUtil.setPosition(root,min),viewport.width(width),viewport.height(height),viewport.viewBox(new Rectangle(min.x,min.y,width,height))}})}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/parsers/LatLonBoundsParser":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),LatLonBounds=__webpack_require__("splunk/mapping/LatLonBounds"),NumberParser=__webpack_require__("splunk/parsers/NumberParser"),Parser=__webpack_require__("splunk/parsers/Parser"),ParseUtils=__webpack_require__("splunk/parsers/ParseUtils");return Class(module.i,Parser,(function(LatLonBoundsParser,base){var _instance=null;LatLonBoundsParser.getInstance=function(){return _instance||(_instance=new LatLonBoundsParser),_instance},this.numberParser=null,this.constructor=function(){this.numberParser=NumberParser.getInstance()},this.stringToValue=function(str){var values=ParseUtils.prepareTuple(str);if(!values)return null;var latLonBounds=new LatLonBounds,numValues=values.length;return numValues>0&&(latLonBounds.s=this.numberParser.stringToValue(values[0])),numValues>1&&(latLonBounds.w=this.numberParser.stringToValue(values[1])),numValues>2&&(latLonBounds.n=this.numberParser.stringToValue(values[2])),numValues>3&&(latLonBounds.e=this.numberParser.stringToValue(values[3])),latLonBounds},this.valueToString=function(value){var latLonBounds=value instanceof LatLonBounds?value:null;if(!latLonBounds)return null;var str="";return str+=this.numberParser.valueToString(latLonBounds.s)+",",str+=this.numberParser.valueToString(latLonBounds.w)+",",str+=this.numberParser.valueToString(latLonBounds.n)+",","("+(str+=this.numberParser.valueToString(latLonBounds.e))+")"}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/parsers/LatLonParser":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),LatLon=__webpack_require__("splunk/mapping/LatLon"),NumberParser=__webpack_require__("splunk/parsers/NumberParser"),Parser=__webpack_require__("splunk/parsers/Parser"),ParseUtils=__webpack_require__("splunk/parsers/ParseUtils");return Class(module.i,Parser,(function(LatLonParser,base){var _instance=null;LatLonParser.getInstance=function(){return _instance||(_instance=new LatLonParser),_instance},this.numberParser=null,this.constructor=function(){this.numberParser=NumberParser.getInstance()},this.stringToValue=function(str){var values=ParseUtils.prepareTuple(str);if(!values)return null;var latLon=new LatLon,numValues=values.length;return numValues>0&&(latLon.lat=this.numberParser.stringToValue(values[0])),numValues>1&&(latLon.lon=this.numberParser.stringToValue(values[1])),latLon},this.valueToString=function(value){var latLon=value instanceof LatLon?value:null;if(!latLon)return null;var str="";return str+=this.numberParser.valueToString(latLon.lat)+",","("+(str+=this.numberParser.valueToString(latLon.lon))+")"}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/mapping/utils/GeoJsonUtils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return __webpack_require__("contrib/jg_lib/Class")(module.i,(function(GeoJsonUtils){GeoJsonUtils.createFromBoundingBox=function(s,w,n,e){return s=Number(s),w=Number(w),n=Number(n),{type:"MultiPolygon",coordinates:[[[[w,s],[e=Number(e),s],[e,n],[w,n]]]]}}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/palettes/ColorPalette":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),Palette=__webpack_require__("splunk/palettes/Palette");return Class(module.i,Palette,(function(ColorPalette,base){this.constructor=function(){base.constructor.call(this,Color)}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/palettes/FieldColorPalette":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),ObservableObjectProperty=__webpack_require__("contrib/jg_lib/properties/ObservableObjectProperty"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),ObjectUtil=__webpack_require__("contrib/jg_lib/utils/ObjectUtil"),ColorPalette=__webpack_require__("splunk/palettes/ColorPalette");return Class(module.i,ColorPalette,(function(FieldColorPalette,base){this.fieldColors=new ObservableObjectProperty("fieldColors",Color,{}).itemReadFilter((function(value){return value.clone()})).itemWriteFilter((function(value){return value?value.clone().normalize():new Color})).itemChangeComparator((function(oldValue,newValue){return!oldValue.equals(newValue)})),this.defaultColorPalette=new ObservableProperty("defaultColorPalette",ColorPalette,null),this.constructor=function(fieldColors,defaultColorPalette){base.constructor.call(this),null!=fieldColors&&this.set("fieldColors",fieldColors),null!=defaultColorPalette&&this.set("defaultColorPalette",defaultColorPalette)},this.getItemOverride=function(properties,ratio,span,value){if(null!=value){var color=ObjectUtil.get(properties.fieldColors,""+value);if(color)return color.clone()}var defaultColorPalette=properties.defaultColorPalette;return defaultColorPalette?defaultColorPalette.getItem(ratio,span,value):null}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/palettes/ListColorPalette":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),ObservableArrayProperty=__webpack_require__("contrib/jg_lib/properties/ObservableArrayProperty"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),ColorPalette=__webpack_require__("splunk/palettes/ColorPalette");return Class(module.i,ColorPalette,(function(ListColorPalette,base){this.colors=new ObservableArrayProperty("colors",Color,[]).itemReadFilter((function(value){return value.clone()})).itemWriteFilter((function(value){return value?value.clone().normalize():new Color})).itemChangeComparator((function(oldValue,newValue){return!oldValue.equals(newValue)})),this.interpolate=new ObservableProperty("interpolate",Boolean,!1),this.constructor=function(colors,interpolate){base.constructor.call(this),null!=colors&&this.set("colors",colors),null!=interpolate&&this.set("interpolate",interpolate)},this.getItemOverride=function(properties,ratio,span,value){var index,colors=properties.colors,numColors=colors.length;if(0===numColors)return null;if(index=span>=0?Math.round(span*ratio):(span=numColors-1)*ratio,!properties.interpolate)return colors[(index=Math.round(index))%numColors].clone();ratio=span>0?index/span*(numColors-1):0;var index1=Math.floor(ratio),index2=Math.min(index1+1,numColors-1);return ratio-=index1,Color.interpolate(colors[index1],colors[index2],ratio)}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/palettes/Palette":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),MEventTarget=__webpack_require__("contrib/jg_lib/events/MEventTarget"),MListenerTarget=__webpack_require__("contrib/jg_lib/events/MListenerTarget"),MObservableTarget=__webpack_require__("contrib/jg_lib/events/MObservableTarget"),MPropertyTarget=__webpack_require__("contrib/jg_lib/properties/MPropertyTarget"),Property=__webpack_require__("contrib/jg_lib/properties/Property"),NumberUtil=__webpack_require__("contrib/jg_lib/utils/NumberUtil");return Class(module.i,Object,(function(Palette,base){Class.mixin(this,MEventTarget,MListenerTarget,MObservableTarget,MPropertyTarget),this._itemType=null,this._itemTypeChecker=null,this._itemNullValue=null,this._cachedProperties=null,this._hasChangeListener=!1,this.constructor=function(itemType){if(null==itemType)throw new Error("Parameter itemType must be non-null.");if(!Class.isFunction(itemType))throw new Error("Parameter itemType must be of type Function.");this._itemType=itemType,this._itemTypeChecker=Class.getTypeChecker(itemType),itemType===Number?this._itemNullValue=NaN:itemType===Boolean?this._itemNullValue=!1:this._itemNullValue=null},this.itemType=function(){return this._itemType},this.dispose=function(){this.listenOff(),this.off(),this._cachedProperties=null},this.getItem=function(ratio,span,value){if(null==ratio)throw new Error("Parameter ratio must be non-null.");ratio=(ratio=+ratio)<=1/0?NumberUtil.minMax(ratio,0,1):0,span=(span=null!=span?+span:NaN)>=0&&span<1/0?Math.floor(span):NaN,this._cachedProperties||(this._hasChangeListener||(this.on("change",this._selfChange,this,1/0),this._hasChangeListener=!0),this._cachedProperties=this._getProperties(),this.extendProperties(this._cachedProperties));var item=this.getItemOverride(this._cachedProperties,ratio,span,value);if(null==item)item=this._itemNullValue;else if(!this._itemTypeChecker(item))throw new Error("Value returned from getItemOverride must be of type "+(Class.getName(this._itemType)||"itemType")+".");return item},this.extendProperties=function(properties){},this.getItemOverride=function(properties,ratio,span,value){return null},this._getProperties=function(){var property,properties={};for(var p in this)(property=this[p])instanceof Property&&(properties[p]=this.getInternal(property));return properties},this._selfChange=function(e){this._cachedProperties=null}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/parsers/ColorParser":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Color=__webpack_require__("contrib/jg_lib/graphics/Color"),Parser=__webpack_require__("splunk/parsers/Parser"),ParseUtils=__webpack_require__("splunk/parsers/ParseUtils");return Class(module.i,Parser,(function(ColorParser,base){var _instance=null;ColorParser.getInstance=function(){return _instance||(_instance=new ColorParser),_instance},this.stringToValue=function(str){return(str=ParseUtils.trimWhiteSpace(str))?Color.fromString(str):null},this.valueToString=function(value){return value instanceof Color?value.toString(value.a<1?"rgba":"hex"):null}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/parsers/NumberParser":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Parser=__webpack_require__("splunk/parsers/Parser"),ParseUtils=__webpack_require__("splunk/parsers/ParseUtils");return Class(module.i,Parser,(function(NumberParser,base){var _instance=null;NumberParser.getInstance=function(){return _instance||(_instance=new NumberParser),_instance},this.stringToValue=function(str){return(str=ParseUtils.trimWhiteSpace(str))?Number(str):NaN},this.valueToString=function(value){return null!=value&&Class.isNumber(value)?String(value):String(NaN)}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/Group":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),VectorElement=__webpack_require__("splunk/vectors/VectorElement");return Class(module.i,VectorElement,(function(Group,base){this.constructor=function(){base.constructor.call(this)};var SVGGroup=Class((function(SVGGroup){this.constructor=function(){base.constructor.call(this,"g")}})),VMLGroup=Class((function(VMLGroup){this.constructor=function(){base.constructor.call(this,"group"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize="1,1"}}));VectorElement.mixin(this,SVGGroup,VMLGroup)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/Path":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Shape=__webpack_require__("splunk/vectors/Shape"),VectorElement=__webpack_require__("splunk/vectors/VectorElement");return Class(module.i,Shape,(function(Path,base){this.constructor=function(){base.constructor.call(this)},this.beginPath=function(){return this},this.endPath=function(){return this},this.moveTo=function(x,y){return this},this.lineTo=function(x,y){return this},this.curveTo=function(cx,cy,x,y){return this};var SVGPath=Class((function(SVGPath){this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this.constructor=function(){base.constructor.call(this,"path")},this.beginPath=function(){return null!=this._pathData&&this.endPath(),this._pathData="",this},this.endPath=function(){return null==this._pathData||(this._pathData?("M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" Z"),this.element.setAttribute("d",this._pathData.substring(1))):this.element.removeAttribute("d"),this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null),this},this.moveTo=function(x,y){return null==this._pathData||(x=null!=x&&x>-1/0&&x<1/0?x:0,y=null!=y&&y>-1/0&&y<1/0?y:0,this._pathData&&"M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" Z"),"M"!==this._lastCommand&&(this._lastCommand="M"),this._penX=x,this._penY=y,this._startX=x,this._startY=y,this._pathData+=" M"+x+","+y),this},this.lineTo=function(x,y){return null==this._pathData||(x=null!=x&&x>-1/0&&x<1/0?x:0,y=null!=y&&y>-1/0&&y<1/0?y:0,this._lastCommand||this.moveTo(0,0),"L"!==this._lastCommand?(this._lastCommand="L",this._pathData+=" L"):this._pathData+=" ",this._penX=x,this._penY=y,this._pathData+=x+","+y),this},this.curveTo=function(cx,cy,x,y){return null==this._pathData||(cx=null!=cx&&cx>-1/0&&cx<1/0?cx:0,cy=null!=cy&&cy>-1/0&&cy<1/0?cy:0,x=null!=x&&x>-1/0&&x<1/0?x:0,y=null!=y&&y>-1/0&&y<1/0?y:0,this._lastCommand||this.moveTo(0,0),"Q"!==this._lastCommand?(this._lastCommand="Q",this._pathData+=" Q"):this._pathData+=" ",this._penX=x,this._penY=y,this._pathData+=cx+","+cy+" "+x+","+y),this}})),VMLPath=Class((function(VMLPath){this._pathElement=null,this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null,this.constructor=function(){base.constructor.call(this,"shape"),this._pathElement=this.createElement("path"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize="64,64",this.element.appendChild(this._pathElement)},this.dispose=function(){base.dispose.call(this),this._pathElement=null},this.beginPath=function(){return null!=this._pathData&&this.endPath(),this._pathData="",this},this.endPath=function(){return null==this._pathData||(this._pathData?("m"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" x"),this._pathElement.v=this._pathData.substring(1)):this._pathElement.v=" ",this._penX=0,this._penY=0,this._startX=0,this._startY=0,this._pathData=null,this._lastCommand=null),this},this.moveTo=function(x,y){return null==this._pathData||(x=null!=x&&x>-1/0&&x<1/0?Math.round(64*x):0,y=null!=y&&y>-1/0&&y<1/0?Math.round(64*y):0,this._pathData&&"M"!==this._lastCommand&&this._penX===this._startX&&this._penY===this._startY&&(this._pathData+=" x"),"m"!==this._lastCommand&&(this._lastCommand="m"),this._penX=x,this._penY=y,this._startX=x,this._startY=y,this._pathData+=" m "+x+","+y),this},this.lineTo=function(x,y){return null==this._pathData||(x=null!=x&&x>-1/0&&x<1/0?Math.round(64*x):0,y=null!=y&&y>-1/0&&y<1/0?Math.round(64*y):0,this._lastCommand||this.moveTo(0,0),"l"!==this._lastCommand?(this._lastCommand="l",this._pathData+=" l "):this._pathData+=", ",this._penX=x,this._penY=y,this._pathData+=x+","+y),this},this.curveTo=function(cx,cy,x,y){return null==this._pathData||(cx=null!=cx&&cx>-1/0&&cx<1/0?Math.round(64*cx):0,cy=null!=cy&&cy>-1/0&&cy<1/0?Math.round(64*cy):0,x=null!=x&&x>-1/0&&x<1/0?Math.round(64*x):0,y=null!=y&&y>-1/0&&y<1/0?Math.round(64*y):0,this._lastCommand||this.moveTo(0,0),"qb"!==this._lastCommand&&(this._lastCommand="qb"),this._penX=x,this._penY=y,this._pathData+=" qb "+cx+","+cy+" l "+x+","+y),this}}));VectorElement.mixin(this,SVGPath,VMLPath)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/Rect":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Shape=__webpack_require__("splunk/vectors/Shape"),VectorElement=__webpack_require__("splunk/vectors/VectorElement");return Class(module.i,Shape,(function(Rect,base){this.constructor=function(x,y,width,height){base.constructor.call(this)},this.x=function(value){return this},this.y=function(value){return this},this.width=function(value){return this},this.height=function(value){return this};var SVGRect=Class((function(SVGRect){this.constructor=function(x,y,width,height){base.constructor.call(this,"rect"),null!=x&&this.x(x),null!=y&&this.y(y),null!=width&&this.width(width),null!=height&&this.height(height)},this.x=function(value){return null!=value&&value>-1/0&&value<1/0?this.element.setAttribute("x",value):this.element.removeAttribute("x"),this},this.y=function(value){return null!=value&&value>-1/0&&value<1/0?this.element.setAttribute("y",value):this.element.removeAttribute("y"),this},this.width=function(value){return null!=value&&value<1/0?this.element.setAttribute("width",Math.max(value,0)):this.element.removeAttribute("width"),this},this.height=function(value){return null!=value&&value<1/0?this.element.setAttribute("height",Math.max(value,0)):this.element.removeAttribute("height"),this}})),VMLRect=Class((function(VMLRect){this.constructor=function(x,y,width,height){base.constructor.call(this,"rect"),null!=x&&this.x(x),null!=y&&this.y(y),null!=width&&this.width(width),null!=height&&this.height(height)},this.x=function(value){return this.element.style.left=null!=value&&value>-1/0&&value<1/0?Math.round(value)+"px":"",this},this.y=function(value){return this.element.style.top=null!=value&&value>-1/0&&value<1/0?Math.round(value)+"px":"",this},this.width=function(value){return this.element.style.width=null!=value&&value<1/0?Math.round(Math.max(value,0))+"px":"",this},this.height=function(value){return this.element.style.height=null!=value&&value<1/0?Math.round(Math.max(value,0))+"px":"",this}}));VectorElement.mixin(this,SVGRect,VMLRect)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/Shape":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),NumberUtil=__webpack_require__("contrib/jg_lib/utils/NumberUtil"),VectorElement=__webpack_require__("splunk/vectors/VectorElement");return Class(module.i,VectorElement,(function(Shape,base){this.constructor=function(tagName){base.constructor.call(this,tagName)},this.fillColor=function(value){return this},this.fillOpacity=function(value){return this},this.strokeColor=function(value){return this},this.strokeOpacity=function(value){return this},this.strokeWidth=function(value){return this},this.strokeLineCap=function(value){return this},this.strokeLineJoin=function(value){return this},this.strokeMiterLimit=function(value){return this};var SVGShape=Class((function(SVGShape){this.constructor=function(tagName){base.constructor.call(this,tagName),this.fillColor(NaN),this.strokeColor(NaN),this.strokeLineCap("none"),this.strokeLineJoin("miter")},this.fillColor=function(value){return null==value||isNaN(value)?this.element.setAttribute("fill","none"):(value=NumberUtil.minMax(Math.floor(value),0,16777215),this.element.setAttribute("fill","#"+(16777216|value).toString(16).substring(1))),this},this.fillOpacity=function(value){return null==value||isNaN(value)?this.element.removeAttribute("fill-opacity"):this.element.setAttribute("fill-opacity",NumberUtil.minMax(value,0,1)),this},this.strokeColor=function(value){return null==value||isNaN(value)?this.element.removeAttribute("stroke"):(value=NumberUtil.minMax(Math.floor(value),0,16777215),this.element.setAttribute("stroke","#"+(16777216|value).toString(16).substring(1))),this},this.strokeOpacity=function(value){return null==value||isNaN(value)?this.element.removeAttribute("stroke-opacity"):this.element.setAttribute("stroke-opacity",NumberUtil.minMax(value,0,1)),this},this.strokeWidth=function(value){return null!=value&&value<1/0?this.element.setAttribute("stroke-width",Math.max(value,1)):this.element.removeAttribute("stroke-width"),this},this.strokeLineCap=function(value){return"round"===value?this.element.setAttribute("stroke-linecap","round"):"square"===value?this.element.setAttribute("stroke-linecap","square"):this.element.removeAttribute("stroke-linecap"),this},this.strokeLineJoin=function(value){return"round"===value?this.element.setAttribute("stroke-linejoin","round"):"bevel"===value?this.element.setAttribute("stroke-linejoin","bevel"):this.element.removeAttribute("stroke-linejoin"),this},this.strokeMiterLimit=function(value){return null!=value&&value<1/0?this.element.setAttribute("stroke-miterlimit",Math.max(value,1)):this.element.removeAttribute("stroke-miterlimit"),this}})),VMLShape=Class((function(VMLShape){this._fillElement=null,this._strokeElement=null,this.constructor=function(tagName){base.constructor.call(this,tagName),this._fillElement=this.createElement("fill"),this._strokeElement=this.createElement("stroke"),this.element.appendChild(this._fillElement),this.element.appendChild(this._strokeElement),this.fillColor(NaN),this.strokeColor(NaN),this.strokeLineCap("none"),this.strokeLineJoin("miter")},this.dispose=function(){base.dispose.call(this),this._fillElement=null,this._strokeElement=null},this.fillColor=function(value){return null==value||isNaN(value)?(this._fillElement.on=!1,this._fillElement.color="#000000"):(value=NumberUtil.minMax(Math.floor(value),0,16777215),this._fillElement.on=!0,this._fillElement.color="#"+(16777216|value).toString(16).substring(1)),this},this.fillOpacity=function(value){return null==value||isNaN(value)?this._fillElement.opacity=1:this._fillElement.opacity=NumberUtil.minMax(value,0,1),this},this.strokeColor=function(value){return null==value||isNaN(value)?(this._strokeElement.on=!1,this._strokeElement.color="#000000"):(value=NumberUtil.minMax(Math.floor(value),0,16777215),this._strokeElement.on=!0,this._strokeElement.color="#"+(16777216|value).toString(16).substring(1)),this},this.strokeOpacity=function(value){return null==value||isNaN(value)?this._strokeElement.opacity=1:this._strokeElement.opacity=NumberUtil.minMax(value,0,1),this},this.strokeWidth=function(value){return this._strokeElement.weight=null!=value&&value<1/0?Math.max(value,1)+"px":"1px",this},this.strokeLineCap=function(value){return this._strokeElement.endcap="round"===value?"round":"square"===value?"square":"flat",this},this.strokeLineJoin=function(value){return this._strokeElement.joinstyle="round"===value?"round":"bevel"===value?"bevel":"miter",this},this.strokeMiterLimit=function(value){return this._strokeElement.miterlimit=null!=value&&value<1/0?Math.max(value,1):4,this}}));VectorElement.mixin(this,SVGShape,VMLShape)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/Text":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Rectangle=__webpack_require__("contrib/jg_lib/geom/Rectangle"),Shape=__webpack_require__("splunk/vectors/Shape"),VectorElement=__webpack_require__("splunk/vectors/VectorElement");return Class(module.i,Shape,(function(Text,base){this.constructor=function(x,y,text){base.constructor.call(this)},this.x=function(value){return this},this.y=function(value){return this},this.text=function(value){return this},this.alignmentBaseline=function(value){return this},this.baselineShift=function(value){return this},this.direction=function(value){return this},this.dominantBaseline=function(value){return this},this.fontFamily=function(value){return this},this.fontSize=function(value){return this},this.fontSizeAdjust=function(value){return this},this.fontStretch=function(value){return this},this.fontStyle=function(value){return this},this.fontVariant=function(value){return this},this.fontWeight=function(value){return this},this.glyphOrientationHorizontal=function(value){return this},this.glyphOrientationVertical=function(value){return this},this.kerning=function(value){return this},this.letterSpacing=function(value){return this},this.textAnchor=function(value){return this},this.textDecoration=function(value){return this},this.textRendering=function(value){return this},this.unicodeBidi=function(value){return this},this.wordSpacing=function(value){return this},this.writingMode=function(value){return this},this.getBounds=function(){return new Rectangle};var SVGText=Class((function(SVGText){this.constructor=function(x,y,text){base.constructor.call(this,"text"),this.fillColor(0),null!=x&&this.x(x),null!=y&&this.y(y),null!=text&&this.text(text)},this.x=function(value){return null!=value&&value>-1/0&&value<1/0?this.element.setAttribute("x",value):this.element.removeAttribute("x"),this},this.y=function(value){return null!=value&&value>-1/0&&value<1/0?this.element.setAttribute("y",value):this.element.removeAttribute("y"),this},this.text=function(value){return this.element.textContent=value||"",this},this.alignmentBaseline=function(value){return value?this.element.setAttribute("alignment-baseline",value):this.element.removeAttribute("alignment-baseline"),this},this.baselineShift=function(value){return value?this.element.setAttribute("baseline-shift",value):this.element.removeAttribute("baseline-shift"),this},this.direction=function(value){return value?this.element.setAttribute("direction",value):this.element.removeAttribute("direction"),this},this.dominantBaseline=function(value){return value?this.element.setAttribute("dominant-baseline",value):this.element.removeAttribute("dominant-baseline"),this},this.fontFamily=function(value){return value?this.element.setAttribute("font-family",value):this.element.removeAttribute("font-family"),this},this.fontSize=function(value){return value?this.element.setAttribute("font-size",value):this.element.removeAttribute("font-size"),this},this.fontSizeAdjust=function(value){return value?this.element.setAttribute("font-size-adjust",value):this.element.removeAttribute("font-size-adjust"),this},this.fontStretch=function(value){return value?this.element.setAttribute("font-stretch",value):this.element.removeAttribute("font-stretch"),this},this.fontStyle=function(value){return value?this.element.setAttribute("font-style",value):this.element.removeAttribute("font-style"),this},this.fontVariant=function(value){return value?this.element.setAttribute("font-variant",value):this.element.removeAttribute("font-variant"),this},this.fontWeight=function(value){return value?this.element.setAttribute("font-weight",value):this.element.removeAttribute("font-weight"),this},this.glyphOrientationHorizontal=function(value){return value?this.element.setAttribute("glyph-orientation-horizontal",value):this.element.removeAttribute("glyph-orientation-horizontal"),this},this.glyphOrientationVertical=function(value){return value?this.element.setAttribute("glyph-orientation-vertical",value):this.element.removeAttribute("glyph-orientation-vertical"),this},this.kerning=function(value){return value?this.element.setAttribute("kerning",value):this.element.removeAttribute("kerning"),this},this.letterSpacing=function(value){return value?this.element.setAttribute("letter-spacing",value):this.element.removeAttribute("letter-spacing"),this},this.textAnchor=function(value){return value?this.element.setAttribute("text-anchor",value):this.element.removeAttribute("text-anchor"),this},this.textDecoration=function(value){return value?this.element.setAttribute("text-decoration",value):this.element.removeAttribute("text-decoration"),this},this.textRendering=function(value){return value?this.element.setAttribute("text-rendering",value):this.element.removeAttribute("text-rendering"),this},this.unicodeBidi=function(value){return value?this.element.setAttribute("unicode-bidi",value):this.element.removeAttribute("unicode-bidi"),this},this.wordSpacing=function(value){return value?this.element.setAttribute("word-spacing",value):this.element.removeAttribute("word-spacing"),this},this.writingMode=function(value){return value?this.element.setAttribute("writing-mode",value):this.element.removeAttribute("writing-mode"),this},this.getBounds=function(){try{var box=this.element.getBBox();return new Rectangle(box.x,box.y,box.width,box.height)}catch(e){return new Rectangle}}})),VMLText=Class((function(VMLText){}));VectorElement.mixin(this,SVGText,VMLText)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/VectorElement":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class");return Class(module.i,Object,(function(VectorElement,base){var _HAS_SVG="function"==typeof document.createElementNS,_HAS_VML=!_HAS_SVG&&function(){try{document.namespaces.add("splvml","urn:schemas-microsoft-com:vml");var styleText=".splvml { behavior: url(#default#VML); display: inline-block; position: absolute; }",styleNode=document.createElement("style");return styleNode.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(styleNode),styleNode.styleSheet?styleNode.styleSheet.cssText=styleText:styleNode.appendChild(document.createTextNode(styleText)),!0}catch(e){return!1}}();VectorElement.mixin=function(target,sourceSVG,sourceVML){_HAS_SVG?(Class.mixin(target,sourceSVG),sourceSVG.constructor!==Object&&"function"==typeof sourceSVG.constructor&&(target.constructor=sourceSVG.constructor)):_HAS_VML&&(Class.mixin(target,sourceVML),sourceVML.constructor!==Object&&"function"==typeof sourceVML.constructor&&(target.constructor=sourceVML.constructor))},this.hasSVG=_HAS_SVG,this.hasVML=_HAS_VML,this.element=null,this.constructor=function(tagName){if(null!=tagName&&!Class.isString(tagName))throw new Error("Parameter tagName must be of type String.");this.element=this.createElement(tagName||null)},this.appendTo=function(parentElement){if(null==parentElement)throw new Error("Parameter parentElement must be non-null.");if(!(parentElement instanceof VectorElement))throw new Error("Parameter parentElement must be of type "+Class.getName(VectorElement)+".");return parentElement.element.appendChild(this.element),this},this.remove=function(){return this.element.parentNode&&this.element.parentNode.removeChild(this.element),this},this.dispose=function(){this.remove(),this.element=null},this.display=function(value){return this.element.style.display=value||"",this},this.visibility=function(value){return this.element.style.visibility=value||"",this},this.translate=function(x,y){return x=null!=x&&x>-1/0&&x<1/0?x:0,y=null!=y&&y>-1/0&&y<1/0?y:0,this.element.style.left=0!=x?x+"px":"",this.element.style.top=0!=y?y+"px":"",this},this.createElement=function(tagName){var dummy=document.createElement("div");return dummy.style.position="absolute",dummy};var SVGVectorElement=Class((function(SVGVectorElement){this.display=function(value){return value?this.element.setAttribute("display",value):this.element.removeAttribute("display"),this},this.visibility=function(value){return value?this.element.setAttribute("visibility",value):this.element.removeAttribute("visibility"),this},this.translate=function(x,y){return y=null!=y&&y>-1/0&&y<1/0?y:0,0!=(x=null!=x&&x>-1/0&&x<1/0?x:0)||0!=y?this.element.setAttribute("transform","translate("+x+","+y+")"):this.element.removeAttribute("transform"),this},this.createElement=function(tagName){return document.createElementNS("http://www.w3.org/2000/svg",tagName||"g")}})),VMLVectorElement=Class((function(VMLVectorElement){this.createElement=function(tagName){return document.createElement("<splvml:"+(tagName||"group")+' class="splvml">')}}));VectorElement.mixin(this,SVGVectorElement,VMLVectorElement)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/VectorUtils":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){return __webpack_require__("contrib/jg_lib/Class")(module.i,(function(VectorUtils){VectorUtils.toSVGString=function(element){var clonedElement=element.cloneNode(!0),containerElement=document.createElement("div");containerElement.appendChild(clonedElement);var svgString=containerElement.innerHTML;return clonedElement=null,containerElement=null,svgString=(svgString=(svgString=svgString.replace(/xlink:href=|href=/g,"x:href=")).replace(/<image([\S\s]*?)\s*\/?>\s*(<\/image>)?/g,"<image$1></image>")).replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg" xmlns:x="http://www.w3.org/1999/xlink"')},VectorUtils.concatSVGStrings=function(){for(var svgString,viewBoxMatch,viewBox,concatString="",width=0,height=0,i=0,l=arguments.length;i<l;i++)(viewBoxMatch=(svgString=arguments[i]).match(/^<svg[^>]*viewBox=\"([^ ]+) ([^ ]+) ([^ ]+) ([^\"]+)\"[^>]*>/))&&5==viewBoxMatch.length?(viewBox={x:Number(viewBoxMatch[1]),y:Number(viewBoxMatch[2]),width:Number(viewBoxMatch[3]),height:Number(viewBoxMatch[4])},width=Math.max(width,viewBox.width),height=Math.max(height,viewBox.height)):viewBox=null,concatString+=svgString=(svgString=!viewBox||0==viewBox.x&&0==viewBox.y?svgString.replace(/^<svg[^>]*>/,"<g>"):svgString.replace(/^<svg[^>]*>/,'<g transform="translate('+-viewBox.x+", "+-viewBox.y+')">')).replace(/<\/svg>$/,"</g>");return svgString="<svg",svgString+=' xmlns="http://www.w3.org/2000/svg"',svgString+=' xmlns:x="http://www.w3.org/1999/xlink"',svgString+=' width="'+width+'"',svgString+=' height="'+height+'"',svgString+=' viewBox="0 0 '+width+" "+height+'"',svgString+=">",svgString+=concatString,svgString+="</svg>"}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/Viewport":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Rectangle=__webpack_require__("contrib/jg_lib/geom/Rectangle"),VectorElement=__webpack_require__("splunk/vectors/VectorElement"),VectorUtils=__webpack_require__("splunk/vectors/VectorUtils");return Class(module.i,VectorElement,(function(Viewport,base){this.constructor=function(width,height,viewBox,preserveAspectRatio){base.constructor.call(this)},this.width=function(value){return this},this.height=function(value){return this},this.viewBox=function(value){return this},this.preserveAspectRatio=function(value){return this},this.toSVGString=function(){return""};var SVGViewport=Class((function(SVGViewport){this.constructor=function(width,height,viewBox,preserveAspectRatio){base.constructor.call(this,"svg"),this.width(null!=width?width:0),this.height(null!=height?height:0),null!=viewBox&&this.viewBox(viewBox),null!=preserveAspectRatio&&this.preserveAspectRatio(preserveAspectRatio)},this.appendTo=function(parentElement){if(null==parentElement)throw new Error("Parameter parentElement must be non-null.");if(null==parentElement.appendChild)throw new Error("Parameter parentElement must be a DOM node.");return parentElement.appendChild(this.element),this},this.width=function(value){return null!=value&&value<1/0?this.element.setAttribute("width",Math.max(value,0)):this.element.setAttribute("width",0),this},this.height=function(value){return null!=value&&value<1/0?this.element.setAttribute("height",Math.max(value,0)):this.element.setAttribute("height",0),this},this.viewBox=function(value){return value&&value instanceof Rectangle&&value.isFinite()?this.element.setAttribute("viewBox",value.x+" "+value.y+" "+value.width+" "+value.height):this.element.removeAttribute("viewBox"),this},this.preserveAspectRatio=function(value){return value?this.element.setAttribute("preserveAspectRatio",value):this.element.removeAttribute("preserveAspectRatio"),this},this.toSVGString=function(){return VectorUtils.toSVGString(this.element)}})),VMLViewport=Class((function(VMLViewport){this._containerElement=null,this._width=0,this._height=0,this._viewBox=null,this.constructor=function(width,height,viewBox,preserveAspectRatio){base.constructor.call(this,"group"),this._containerElement=document.createElement("div"),this._containerElement.style.position="relative",this._containerElement.style.overflow="hidden",this._containerElement.appendChild(this.element),this.width(null!=width?width:0),this.height(null!=height?height:0),null!=viewBox&&this.viewBox(viewBox),null!=preserveAspectRatio&&this.preserveAspectRatio(preserveAspectRatio)},this.appendTo=function(parentElement){if(null==parentElement)throw new Error("Parameter parentElement must be non-null.");if(null==parentElement.appendChild)throw new Error("Parameter parentElement must be a DOM node.");return parentElement.appendChild(this._containerElement),this},this.remove=function(){return this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement),this},this.dispose=function(){base.dispose.call(this),this._containerElement=null},this.display=function(value){return this._containerElement.style.display=value||"",this},this.visibility=function(value){return this._containerElement.style.visibility=value||"",this},this.translate=function(x,y){return x=null!=x&&x>-1/0&&x<1/0?x:0,y=null!=y&&y>-1/0&&y<1/0?y:0,this._containerElement.style.left=0!=x?x+"px":"",this._containerElement.style.top=0!=y?y+"px":"",this},this.width=function(value){return this._width=null!=value&&value<1/0?Math.max(value,0):0,this._updateView(),this},this.height=function(value){return this._height=null!=value&&value<1/0?Math.max(value,0):0,this._updateView(),this},this.viewBox=function(value){return this._viewBox=value&&value instanceof Rectangle&&value.isFinite()?value.clone():null,this._updateView(),this},this.preserveAspectRatio=function(value){return this},this._updateView=function(){var width=Math.round(this._width),height=Math.round(this._height),viewBox=this._viewBox,viewX=viewBox?Math.round(viewBox.x):0,viewY=viewBox?Math.round(viewBox.y):0,viewWidth=viewBox?Math.round(Math.max(viewBox.width,1)):width,viewHeight=viewBox?Math.round(Math.max(viewBox.height,1)):height,element=this.element,style=element.style,containerStyle=this._containerElement.style;style.display="none",element.coordorigin=viewX+","+viewY,element.coordsize=viewWidth+","+viewHeight,style.width=width+"px",style.height=height+"px",containerStyle.width=width+"px",containerStyle.height=height+"px",style.display=""}}));VectorElement.mixin(this,SVGViewport,VMLViewport)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/vectors/Wedge":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),NumberUtil=__webpack_require__("contrib/jg_lib/utils/NumberUtil"),Shape=__webpack_require__("splunk/vectors/Shape"),VectorElement=__webpack_require__("splunk/vectors/VectorElement");return Class(module.i,Shape,(function(Wedge,base){this.constructor=function(){base.constructor.call(this)},this.draw=function(x,y,radiusX,radiusY,startAngle,arcAngle){return this};var SVGWedge=Class((function(SVGWedge){this.constructor=function(){base.constructor.call(this,"path")},this.draw=function(x,y,radiusX,radiusY,startAngle,arcAngle){if(x=null!=x&&x>-1/0&&x<1/0?x:0,y=null!=y&&y>-1/0&&y<1/0?y:0,radiusX=null!=radiusX&&radiusX<1/0?Math.max(radiusX,0):0,radiusY=null!=radiusY&&radiusY<1/0?Math.max(radiusY,0):0,startAngle=null!=startAngle&&startAngle>-1/0&&startAngle<1/0?startAngle:0,arcAngle=null==arcAngle||null==arcAngle||isNaN(arcAngle)?0:NumberUtil.minMax(arcAngle,-360,360),0==radiusX||0==radiusY||0==arcAngle)return this.element.removeAttribute("d"),this;var a1=startAngle/180*Math.PI,x1=x+Math.cos(a1)*radiusX,y1=y+Math.sin(a1)*radiusY,a2=(startAngle+arcAngle/2)/180*Math.PI,x2=x+Math.cos(a2)*radiusX,y2=y+Math.sin(a2)*radiusY,a3=(startAngle+arcAngle)/180*Math.PI,sweepFlag=arcAngle<0?0:1,pathData="";return arcAngle>-360&&arcAngle<360?(pathData+="M"+x+","+y,pathData+=" L"+x1+","+y1):pathData+="M"+x1+","+y1,pathData+=" A"+radiusX+","+radiusY+" 0 0 "+sweepFlag+" "+x2+","+y2,pathData+=" "+radiusX+","+radiusY+" 0 0 "+sweepFlag+" "+(x+Math.cos(a3)*radiusX)+","+(y+Math.sin(a3)*radiusY),pathData+=" Z",this.element.setAttribute("d",pathData),this}})),VMLWedge=Class((function(VMLWedge){this._pathElement=null,this.constructor=function(){base.constructor.call(this,"shape"),this._pathElement=this.createElement("path"),this.element.style.width="1px",this.element.style.height="1px",this.element.coordsize="64,64",this.element.appendChild(this._pathElement)},this.dispose=function(){base.dispose.call(this),this._pathElement=null},this.draw=function(x,y,radiusX,radiusY,startAngle,arcAngle){if(x=null!=x&&x>-1/0&&x<1/0?x:0,y=null!=y&&y>-1/0&&y<1/0?y:0,radiusX=null!=radiusX&&radiusX<1/0?Math.max(radiusX,0):0,radiusY=null!=radiusY&&radiusY<1/0?Math.max(radiusY,0):0,startAngle=null!=startAngle&&startAngle>-1/0&&startAngle<1/0?startAngle:0,arcAngle=null==arcAngle||null==arcAngle||isNaN(arcAngle)?0:NumberUtil.minMax(arcAngle,-360,360),0==radiusX||0==radiusY||0==arcAngle)return this._pathElement.v=" ",this;var a1=startAngle/180*Math.PI,x1=x+Math.cos(a1)*radiusX,y1=y+Math.sin(a1)*radiusY,a2=(startAngle+arcAngle/2)/180*Math.PI,x2=x+Math.cos(a2)*radiusX,y2=y+Math.sin(a2)*radiusY,a3=(startAngle+arcAngle)/180*Math.PI,x3=x+Math.cos(a3)*radiusX,y3=y+Math.sin(a3)*radiusY,left=Math.round(64*(x-radiusX)),top=Math.round(64*(y-radiusY)),right=Math.round(64*(x+radiusX)),bottom=Math.round(64*(y+radiusY));x=Math.round(64*x),y=Math.round(64*y),x1=Math.round(64*x1),y1=Math.round(64*y1);var pathData="";return arcAngle>-360&&arcAngle<360?(pathData+="m "+x+","+y,pathData+=" l "+x1+","+y1):pathData+="m "+x1+","+y1,pathData+=arcAngle<0?" at":" wa",pathData+=" "+left+","+top+","+right+","+bottom+", "+x1+","+y1+", "+(x2=Math.round(64*x2))+","+(y2=Math.round(64*y2)),pathData+=", "+left+","+top+","+right+","+bottom+", "+x2+","+y2+", "+(x3=Math.round(64*x3))+","+(y3=Math.round(64*y3)),pathData+=" x",this._pathElement.v=pathData,this}}));VectorElement.mixin(this,SVGWedge,VMLWedge)}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/viz/MDataTarget":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Pass=__webpack_require__("contrib/jg_lib/async/Pass"),ObservableArrayProperty=__webpack_require__("contrib/jg_lib/properties/ObservableArrayProperty"),ObservableProperty=__webpack_require__("contrib/jg_lib/properties/ObservableProperty"),Legend=__webpack_require__("splunk/charting/Legend");return Class(module.i,(function(MDataTarget){this.processDataPass=new Pass("processData",.1),this.updateLegendLabelsPass=new Pass("updateLegendLabels",.2),this.renderDataPass=new Pass("renderData",.3),this.data=new ObservableProperty("data",Array,null).onChange((function(e){this.invalidate("processDataPass")})),this.fields=new ObservableArrayProperty("fields",String,null).onChange((function(e){this.invalidate("processDataPass")})),this.legend=new ObservableProperty("legend",Legend,null).onChange((function(e){if(e.target===this){var oldLegend=e.oldValue,newLegend=e.newValue;return oldLegend&&(oldLegend.off("settingLabels",this._legend_settingLabels,this),oldLegend.unregister(this)),newLegend&&(newLegend.register(this),newLegend.on("settingLabels",this._legend_settingLabels,this)),void this.invalidate("updateLegendLabelsPass")}e.event!==e.target.labelIndexMapChanged||this.invalidate("renderDataPass")})),this._cachedData=null,this._cachedFields=null,this._cachedLegend=null,this.processData=function(){if(!this.isValid("processDataPass")){this.invalidate("updateLegendLabelsPass");var data=this._cachedData=this.getInternal("data")||[],fields=this._cachedFields=this.getInternal("fields")||[];this.processDataOverride(data,fields),this.markValid("processDataPass")}},this.updateLegendLabels=function(){if(!this.isValid("updateLegendLabelsPass")){this.invalidate("renderDataPass");var legend=this._cachedLegend=this.getInternal("legend"),labels=null;legend&&(labels=this.updateLegendLabelsOverride(this._cachedData,this._cachedFields)),this.markValid("updateLegendLabelsPass"),legend&&legend.setLabels(this,labels)}},this.renderData=function(){this.isValid("renderDataPass")||(this.renderDataOverride(this._cachedData,this._cachedFields,this._cachedLegend),this.markValid("renderDataPass"))},this.processDataOverride=function(data,fields){},this.updateLegendLabelsOverride=function(data,fields){return null},this.renderDataOverride=function(data,fields,legend){},this._legend_settingLabels=function(e){this.validate("updateLegendLabelsPass"),this.updateLegendLabels()}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"splunk/viz/MRenderTarget":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var Class=__webpack_require__("contrib/jg_lib/Class"),Pass=__webpack_require__("contrib/jg_lib/async/Pass");return Class(module.i,(function(MRenderTarget){this.renderPass=new Pass("render",3,"topDown"),this.render=function(){}}))}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"views/shared/map/Master":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(require,exports,module){var $=__webpack_require__("shim/jquery"),SplunkI18N=__webpack_require__("stubs/i18n"),_=__webpack_require__("require/underscore"),SplunkUtil=__webpack_require__("shim/splunk.util"),sprintf=SplunkUtil.sprintf,Color=__webpack_require__("contrib/jg_lib/graphics/Color"),FunctionUtil=__webpack_require__("contrib/jg_lib/utils/FunctionUtil"),BaseModel=__webpack_require__("models/Base"),ExternalLegend=__webpack_require__("splunk/charting/ExternalLegend"),Map=__webpack_require__("splunk/mapping/Map"),ChoroplethLayer=__webpack_require__("splunk/mapping/layers/ChoroplethLayer"),PieMarkerLayer=__webpack_require__("splunk/mapping/layers/PieMarkerLayer"),LatLonBoundsParser=__webpack_require__("splunk/mapping/parsers/LatLonBoundsParser"),LatLonParser=__webpack_require__("splunk/mapping/parsers/LatLonParser"),ColorCodes=__webpack_require__("splunk/palettes/ColorCodes"),FieldColorPalette=__webpack_require__("splunk/palettes/FieldColorPalette"),ListColorPalette=__webpack_require__("splunk/palettes/ListColorPalette"),ArrayParser=__webpack_require__("splunk/parsers/ArrayParser"),BooleanParser=__webpack_require__("splunk/parsers/BooleanParser"),ColorParser=__webpack_require__("splunk/parsers/ColorParser"),NumberParser=__webpack_require__("splunk/parsers/NumberParser"),ObjectParser=__webpack_require__("splunk/parsers/ObjectParser"),StringParser=__webpack_require__("splunk/parsers/StringParser"),VisualizationBase=(__webpack_require__("splunk/mapping/utils/GeoJsonUtils"),__webpack_require__("views/shared/viz/Base")),console=__webpack_require__("util/console"),ResetZoomControl=__webpack_require__("splunk/mapping/controls/ResetZoomControl"),NumericAxis=__webpack_require__("splunk/mapping/axis/NumericAxis"),NumericLegend=__webpack_require__("splunk/mapping/controls/NumericalLegend"),GeneralUtils=__webpack_require__("util/general_utils"),CategoricalVisualLegend=__webpack_require__("splunk/mapping/controls/CategoricalVisualLegend"),themeUtils=__webpack_require__("util/theme_utils"),_DEFAULT_DATA_PARAMS=(__webpack_require__("views/shared/map/Master.pcss"),{output_mode:"json_cols",show_metadata:"true",offset:"0"}),_DEFAULT_PROPERTY_VALUES={fieldColors:"",seriesColors:"["+ColorCodes.toPrefixed(ColorCodes.CATEGORICAL,"0x").join(",")+"]","data.maxClusters":"100",showTiles:"1","tileLayer.tileOpacity":"1","tileLayer.url":"/splunkd/__raw/services/mbtiles/splunk-tiles/{z}/{x}/{y}","tileLayer.subdomains":"[a,b,c]","tileLayer.minZoom":"0","tileLayer.maxZoom":"7","tileLayer.invertY":"false","tileLayer.attribution":"","map.scrollZoom":0,"map.panning":!0,"markerLayer.markerOpacity":"1","markerLayer.markerMinSize":"10","markerLayer.markerMaxSize":"50",drilldown:"all","choroplethLayer.colorMode":"auto","choroplethLayer.maximumColor":"0xAF575A","choroplethLayer.minimumColor":"0x2F25BA","choroplethLayer.neutralPoint":"0","choroplethLayer.shapeOpacity":"0.75","choroplethLayer.colorBins":"5","choroplethLayer.showBorder":"1",layerType:"marker"},_THEMABLE_PROPERTY_VALUES="dark"===themeUtils.getCurrentTheme().colorScheme?{"tileLayer.url":"/splunkd/__raw/services/mbtiles/splunk-tiles-dark/{z}/{x}/{y}"}:{"tileLayer.url":"/splunkd/__raw/services/mbtiles/splunk-tiles/{z}/{x}/{y}"},_THEMED_DEFAULT_PROPERTY_VALUES=_.extend({},_DEFAULT_PROPERTY_VALUES,_THEMABLE_PROPERTY_VALUES),_R_PROPERTY_PREFIX=/^display\.visualizations\.mapping\./;return VisualizationBase.extend({moduleId:module.i,_map:null,_markerLayer:null,_choroplethLayer:null,_externalLegend:null,_fieldColorPalette:null,_seriesColorPalette:null,_choroplethColorPalette:null,_choroplethColorMode:null,_choroplethAutoDetectedColorMode:"sequential",_choroplethMinimumColor:Color.fromNumber(0),_choroplethNeutralColor:Color.fromNumber(16777215),_choroplethMaximumColor:Color.fromNumber(0),_choroplethNullColor:Color.fromNumber(13750737),_numericLegend:null,_numericAxis:null,_propertyValues:null,_booleanParser:null,_numberParser:null,_stringParser:null,_colorParser:null,_numberArrayParser:null,_stringArrayParser:null,_colorArrayParser:null,_numberObjectParser:null,_colorObjectParser:null,_latLonParser:null,_latLonBoundsParser:null,_maxClusters:100,_maxShapes:1e4,_isPrinting:!1,_prePrintCenter:null,_prePrintZoom:0,_drilldown:"all",_layerType:null,initialize:function(options){this.model.config||(this.model.config=new BaseModel),VisualizationBase.prototype.initialize.apply(this,arguments),this.options=options||{},this.$el.width(this.options.width||"100%"),this.$el.height(this.options.height||"100%");var configShapeLimit=parseInt(SplunkUtil.getConfigValue("CHOROPLETH_SHAPE_LIMIT",this._maxShapes)||0,10);_.isNaN(configShapeLimit)||(this._maxShapes=configShapeLimit),this._map_boundsChanged=FunctionUtil.bind(this._map_boundsChanged,this),this._map_mapClicked=FunctionUtil.bind(this._map_mapClicked,this),this._propertyValues={},this._booleanParser=BooleanParser.getInstance(),this._numberParser=NumberParser.getInstance(),this._stringParser=StringParser.getInstance(),this._colorParser=ColorParser.getInstance(),this._numberArrayParser=ArrayParser.getInstance(this._numberParser),this._stringArrayParser=ArrayParser.getInstance(this._stringParser),this._colorArrayParser=ArrayParser.getInstance(this._colorParser),this._numberObjectParser=ObjectParser.getInstance(this._numberParser),this._colorObjectParser=ObjectParser.getInstance(this._colorParser),this._latLonParser=LatLonParser.getInstance(),this._latLonBoundsParser=LatLonBoundsParser.getInstance(),this._seriesColorPalette=new ListColorPalette,this._fieldColorPalette=new FieldColorPalette(null,this._seriesColorPalette),this._externalLegend=new ExternalLegend,this._categoricalVisualLegend=new CategoricalVisualLegend,this._externalLegend.connect(),this._markerLayer=new PieMarkerLayer,this._markerLayer.set("legend",this._externalLegend),this._markerLayer.set("markerColorPalette",this._fieldColorPalette),this._numericAxis=new NumericAxis,this._numericLegend=new NumericLegend,this._choroplethColorPalette=new ListColorPalette(null,!0),this._updateChoroplethColorPalette(),this._choroplethLayer=new ChoroplethLayer,this._choroplethLayer.set("colorPalette",this._choroplethColorPalette),this._numericLegend.set("axis",this._numericAxis),this._categoricalVisualLegend.set("colorPalette",this._fieldColorPalette),this._categoricalVisualLegend.set("legend",this._externalLegend),this._choroplethLayer.set("legend",this._externalLegend),this._numericLegend.set("colorPalette",this._choroplethColorPalette),this._map=new Map,this._updateDataBounds(),this._map.formatNumber=this._formatNumber,this._map.formatDegrees=this._formatDegrees;var originalZoom=this.model.config.get("display.visualizations.mapping.map.zoom"),originalCenter=this.model.config.get("display.visualizations.mapping.map.center");this._map.on("boundsChanged",this._map_boundsChanged.bind(this)),this._map.on("mapClicked",this._map_mapClicked),this._map.appendTo(this.$el),this._map.fitWorld(!0),this._reset_zoom=new ResetZoomControl({originalZoom:originalZoom,originalCenter:originalCenter}),this._map.addControl(this._reset_zoom),this.$el.find(".leaflet-top").css("z-index","50"),this.$el.on("mouseenter",".legend-elem",function(e){var fieldName=$(e.currentTarget).data().fieldName;this._choroplethLayer.set("selectedField",""+fieldName),this._numericLegend.set("selectedField",""+fieldName),this._categoricalVisualLegend.set("selectedField",""+fieldName)}.bind(this)),this.$el.on("mouseleave",".legend-elem",function(e){this._choroplethLayer.set("selectedField",null),this._numericLegend.set("selectedField",null),this._categoricalVisualLegend.set("selectedField",null)}.bind(this))},getCenter:function(){return this._map.get("center").normalize()},getZoom:function(){return this._map.get("zoom")},getLatLonBounds:function(){return this._map.getLatLonBounds().normalize()},getScrollWheelZoom:function(){return this._map.leafletMap.scrollWheelZoom._enabled},getPostProcessSearch:function(){var bounds=this._map.getLatLonBounds().normalize();return"marker"===this._layerType?"geofilter south="+bounds.s+" west="+bounds.w+" north="+bounds.n+" east="+bounds.e+" maxclusters="+this._maxClusters:"geomfilter min_y="+bounds.s+" min_x="+bounds.w+" max_y="+bounds.n+" max_x="+bounds.e},hasNonZeroBounds:function(){var bounds=this._map.getLatLonBounds().normalize();return!(0===bounds.s&&0===bounds.w&&0===bounds.n&&0===bounds.e)},getResultsCount:function(){return"marker"===this._layerType?this._maxClusters:this._maxShapes},formatData:function(){var extractedData=null,searchResults=this.getPrimaryDataSource().searchResults;extractedData=searchResults.has("rows")?this._extractRowData(searchResults):this._extractColumnData(searchResults),console.debug("Updating map data to",extractedData);var values=[];if(this._layerType=this.model.config.get("display.visualizations.mapping.type"),"marker"===this._layerType&&this._markerLayer)this._markerLayer.set("data",extractedData?extractedData.data:null),this._markerLayer.set("fields",extractedData?this._filterFields(extractedData.fields):null);else if("choropleth"===this._layerType&&this._choroplethLayer){if(!_(extractedData.fields).contains("geom"))return this._choroplethLayer.set("featureIdFieldName",null),this._choroplethLayer.set("data",null),void this._choroplethLayer.set("fields",null);var filteredFields,featureIdField=extractedData.data[0]._featureIdField;if(featureIdField&&(filteredFields=_.union([featureIdField],this._filterFields(extractedData.fields))),filteredFields&&filteredFields.length>1){for(var fieldToExtract=filteredFields[1],j=0;j<extractedData.data.length;j++)values.push(extractedData.data[j][fieldToExtract]);values.length>0&&(this._choroplethAutoDetectedColorMode=GeneralUtils.valuesAreNumeric(values)?"sequential":"categorical"),this.model.config.set({autoDetectedColorMode:this._choroplethAutoDetectedColorMode},{transient:!0}),"auto"===this._choroplethColorMode&&this._updateChoroplethToMatchColorMode()}this._choroplethLayer.set("featureIdFieldName",filteredFields?filteredFields[0]:null),this._choroplethLayer.set("data",extractedData?extractedData.data:null),this._choroplethLayer.set("fields",extractedData?filteredFields:null)}else console.log("cannot update layer data because of incorrect layerType, OR the _layerType hasn't been initialized!")},provideScaleValues:function(data,config){var emptyScale={color:[]};if("choropleth"!==this._layerType)return emptyScale;var choroplethFields=this._choroplethLayer.get("fields"),featureIdField=this._choroplethLayer.get("featureIdFieldName");if(!choroplethFields||!featureIdField)return emptyScale;var countField=ChoroplethLayer.parseFieldTypes(choroplethFields,featureIdField).count;return{color:_(this._choroplethLayer.get("data")).pluck(countField)}},updateView:function(data,props,async){async();var p,curValues=this._propertyValues,newValues={};for(p in curValues)curValues.hasOwnProperty(p)&&(newValues[p]=null);var defaultValues=_THEMED_DEFAULT_PROPERTY_VALUES;for(p in defaultValues)defaultValues.hasOwnProperty(p)&&(newValues[p]=defaultValues[p]);var stateValue,stateValues=this.model.config?this.model.config.toJSON():{};for(p in stateValues)stateValues.hasOwnProperty(p)&&_R_PROPERTY_PREFIX.test(p)&&null!=(stateValue=stateValues[p])&&""!==stateValue&&(newValues[p.replace(_R_PROPERTY_PREFIX,"")]=stateValue);newValues.hasOwnProperty("map.zoom")&&(this._setMapProperty("map.zoom",newValues["map.zoom"]),this._reset_zoom.setOriginalZoom(newValues["map.zoom"])),newValues.hasOwnProperty("map.center")&&(this._setMapProperty("map.center",newValues["map.center"]),this._reset_zoom.setOriginalCenter(newValues["map.center"])),newValues.hasOwnProperty("map.fitBounds")&&this._setMapProperty("map.fitBounds",newValues["map.fitBounds"]);var newColorMode=newValues["choroplethLayer.colorMode"];if("auto"===newColorMode||"sequential"===newColorMode||"divergent"===newColorMode||"categorical"===newColorMode?this._choroplethColorMode=newColorMode:delete newValues["choroplethLayer.colorMode"],"divergent"!==this._getComputedColorMode()&&(newValues["choroplethLayer.minimumColor"]=null,newValues["choroplethLayer.neutralPoint"]=null),"categorical"!==this._getComputedColorMode()&&this.getScale("color")){var sharedColorScale=this.getScale("color");this._choroplethLayer.set("sharedMinimum",sharedColorScale.get("actualMinimum")),this._choroplethLayer.set("sharedMaximum",sharedColorScale.get("actualMaximum"))}else this._choroplethLayer.set("sharedMinimum",-1/0),this._choroplethLayer.set("sharedMaximum",1/0);for(p in newValues)newValues.hasOwnProperty(p)&&this._setMapProperty(p,newValues[p])},onAddedToDocument:function(){this._map.updateSize()},remove:function(){return this._map.off("boundsChanged",this._map_boundsChanged),this._map.off("mapClicked",this._map_mapClicked),this._map.dispose(),this._markerLayer.off("rendered",this._onDataLayerRendered,this),this._choroplethLayer.off("rendered",this._onDataLayerRendered,this),this._externalLegend.close(),VisualizationBase.prototype.remove.apply(this,arguments)},onShow:function(){this._map.updateSize(),this._map.validate(),VisualizationBase.prototype.onShow.call(this)},_updateDataBounds:function(){var model=this.model.config;if(model){var bounds=this._map.getLatLonBounds().normalize();model.set({"display.visualizations.mapping.data.bounds":this._latLonBoundsParser.valueToString(bounds)})}},_needsPropertyUpdate:function(changedProperties){if(!changedProperties)return!1;for(var p in changedProperties)if(changedProperties.hasOwnProperty(p)&&"display.visualizations.mapping.data.bounds"!==p)return!0;return!1},_extractRowData:function(model){var extractedData={},fields=this._getNormalizedFieldNames(model),rows=model.get("rows");if(fields&&rows){var numEntries,row,obj,i,j,numFields=fields.length,numRows=rows.length;for(extractedData.fields=fields.concat(),extractedData.data=[],i=0;i<numRows;i++){for(row=rows[i],numEntries=Math.min(row.length,numFields),obj={},j=0;j<numEntries;j++)obj[fields[j]]=row[j];extractedData.data.push(obj)}}return extractedData},_extractColumnData:function(model){var extractedData={},fields=this._getNormalizedFieldNames(model),columns=model.get("columns");if(fields&&columns){var obj,i,j,numColumns=Math.min(fields.length,columns.length),numRows=numColumns>0?columns[0].length:0;for(i=1;i<numColumns;i++)numRows=Math.min(numRows,columns[i].length);for(extractedData.fields=fields.slice(0,numColumns),extractedData.data=[],i=0;i<numRows;i++){for(obj={},j=0;j<numColumns;j++)obj[fields[j]]=columns[j][i];extractedData.data.push(obj)}}return extractedData},_getNormalizedFieldNames:function(model){return _(model.get("fields")).map((function(field){return _.isString(field)?field:field.name}))},_filterFields:function(fields){if(!fields)return null;for(var field,filteredFields=[],i=0,l=fields.length;i<l;i++)(field=fields[i])&&"_"!==field.charAt(0)&&filteredFields.push(field);return filteredFields},_setMapProperty:function(propertyName,propertyValue){if(propertyValue=null!=propertyValue?String(propertyValue):null,this._propertyValues[propertyName]!=propertyValue)switch(null!=propertyValue?this._propertyValues[propertyName]=propertyValue:delete this._propertyValues[propertyName],propertyName){case"fieldColors":var fieldColors=_.extend({NULL:this._choroplethNullColor},this._colorObjectParser.stringToValue(propertyValue));this._fieldColorPalette.set("fieldColors",fieldColors);break;case"seriesColors":this._seriesColorPalette.set("colors",this._colorArrayParser.stringToValue(propertyValue));break;case"data.maxClusters":var maxClusters=this._numberParser.stringToValue(propertyValue);this._maxClusters=maxClusters<1/0?Math.max(Math.floor(maxClusters),64):100,this._updateDataParams();break;case"map.center":var center=this._latLonParser.stringToValue(propertyValue);center&&this._map.set("center",center);break;case"map.zoom":var zoom=this._numberParser.stringToValue(propertyValue);isNaN(zoom)||this._map.set("zoom",zoom);break;case"map.fitBounds":var fitBounds=this._latLonBoundsParser.stringToValue(propertyValue);fitBounds&&this._map.fitBounds(fitBounds);break;case"map.scrollZoom":this._booleanParser.stringToValue(propertyValue)?this._map.leafletMap.scrollWheelZoom.enable():this._map.leafletMap.scrollWheelZoom.disable();break;case"map.panning":this._booleanParser.stringToValue(propertyValue)?this._map.leafletMap.dragging.enable():this._map.leafletMap.dragging.disable();break;case"drilldown":this._drilldown=this._stringParser.stringToValue(propertyValue);break;case"showTiles":this._map.set("showTiles",this._booleanParser.stringToValue(propertyValue));break;case"tileLayer.tileOpacity":this._map.set("tileOpacity",this._numberParser.stringToValue(propertyValue));break;case"tileLayer.url":this._map.set("tileURL",this._resolveURL(propertyValue));break;case"tileLayer.subdomains":this._map.set("tileSubdomains",this._stringArrayParser.stringToValue(propertyValue));break;case"tileLayer.minZoom":this._map.set("tileMinZoom",this._numberParser.stringToValue(propertyValue));break;case"tileLayer.maxZoom":this._map.set("tileMaxZoom",this._numberParser.stringToValue(propertyValue));break;case"tileLayer.invertY":this._map.set("tileInvertY",this._booleanParser.stringToValue(propertyValue));break;case"tileLayer.attribution":this._map.set("tileAttribution",this._stringParser.stringToValue(propertyValue));break;case"markerLayer.markerOpacity":this._markerLayer.set("markerOpacity",this._numberParser.stringToValue(propertyValue));break;case"markerLayer.markerMinSize":this._markerLayer.set("markerMinSize",this._numberParser.stringToValue(propertyValue));break;case"markerLayer.markerMaxSize":this._markerLayer.set("markerMaxSize",this._numberParser.stringToValue(propertyValue));break;case"choroplethLayer.colorMode":var computedColorMode=this._getComputedColorMode();"sequential"!==computedColorMode&&"divergent"!==computedColorMode||this._updateChoroplethColorPalette(),this._updateChoroplethToMatchColorMode();break;case"choroplethLayer.maximumColor":this._choroplethMaximumColor=this._colorParser.stringToValue(propertyValue),this._updateChoroplethColorPalette();break;case"choroplethLayer.minimumColor":this._choroplethMinimumColor=this._colorParser.stringToValue(propertyValue),this._updateChoroplethColorPalette();break;case"choroplethLayer.colorBins":var numBins=this._numberParser.stringToValue(propertyValue);this._choroplethLayer.set("bins",numBins),this._numericLegend.set("bins",numBins);break;case"choroplethLayer.neutralPoint":var neutralPoint=null!=propertyValue?this._numberParser.stringToValue(propertyValue):NaN;this._choroplethLayer.set("neutralPoint",neutralPoint),this._numericLegend.set("neutralPoint",neutralPoint);break;case"choroplethLayer.shapeOpacity":this._choroplethLayer.set("shapeOpacity",this._numberParser.stringToValue(propertyValue));break;case"choroplethLayer.showBorder":var show=this._booleanParser.stringToValue(propertyValue);this._choroplethLayer.set("borderWidth",show?1:0);break;case"legend.placement":var isVisible="none"!==propertyValue;this._numericLegend.set("isVisible",isVisible),this._categoricalVisualLegend.set("isVisible",isVisible);break;case"type":"marker"===propertyValue?(this._map.removeLayer(this._choroplethLayer),this._choroplethLayer.off("rendered",this._onDataLayerRendered,this),this._map.addLayer(this._markerLayer),this._markerLayer.on("rendered",this._onDataLayerRendered,this),this._map.removeControl(this._numericLegend),this._map.removeControl(this._categoricalVisualLegend),this._updateDataParams()):"choropleth"===propertyValue?(this._map.removeLayer(this._markerLayer),this._markerLayer.off("rendered",this._onDataLayerRendered,this),this._map.addLayer(this._choroplethLayer),this._choroplethLayer.on("rendered",this._onDataLayerRendered,this),this._updateChoroplethToMatchColorMode(),this._updateDataParams()):console.log("cannot initialize customize layer because of incorrect _layerType!")}},_updateChoroplethColorPalette:function(){"divergent"===this._getComputedColorMode()?this._choroplethColorPalette.set("colors",[this._choroplethMinimumColor,this._choroplethNeutralColor,this._choroplethMaximumColor]):this._choroplethColorPalette.set("colors",[this._choroplethNeutralColor,this._choroplethMaximumColor])},_updateChoroplethToMatchColorMode:function(){"categorical"===this._getComputedColorMode()?(this._map.isCategorical=!0,this._choroplethLayer.set("axis",null),this._choroplethLayer.set("legend",this._externalLegend),this._choroplethLayer.set("colorPalette",this._fieldColorPalette),this._map.removeControl(this._numericLegend),this._map.addControl(this._categoricalVisualLegend)):(this._map.isCategorical=!1,this._choroplethLayer.set("legend",null),this._choroplethLayer.set("axis",this._numericAxis),this._choroplethLayer.set("colorPalette",this._choroplethColorPalette),this._map.removeControl(this._categoricalVisualLegend),this._map.addControl(this._numericLegend))},_getComputedColorMode:function(){return"auto"===this._choroplethColorMode?this._choroplethAutoDetectedColorMode:this._choroplethColorMode},_resolveURL:function(propertyValue){var propertyValue2=propertyValue?SplunkUtil.trim(propertyValue):propertyValue;if(propertyValue2&&"/"===propertyValue2.charAt(0)){var hadTrailingSlash="/"===propertyValue2.charAt(propertyValue2.length-1);"/"===(propertyValue2=SplunkUtil.make_url(propertyValue2)).charAt(propertyValue2.length-1)!=hadTrailingSlash&&(propertyValue2=hadTrailingSlash?propertyValue2+"/":propertyValue2.substring(0,propertyValue2.length-1)),propertyValue=propertyValue2}return propertyValue},_formatNumber:function(num){var pos=Math.abs(num);return pos>0&&(pos<.001||pos>=1e9)?SplunkI18N.format_scientific(num,"##0E0"):SplunkI18N.format_decimal(num)},_formatDegrees:function(degrees,orientation){var deg=Math.abs(degrees),degInt=Math.floor(deg),degStr=""+degInt,min=60*(deg-degInt),minInt=Math.floor(min),minStr=minInt<10?"0"+minInt:""+minInt,sec=60*(min-minInt),secInt=Math.floor(sec),secStr=secInt<10?"0"+secInt:""+secInt,dirStr="";return degrees>0?dirStr="ns"===orientation?_("N").t():_("E").t():degrees<0&&(dirStr="ns"===orientation?_("S").t():_("W").t()),secInt>0?sprintf("%(degrees)s%(minutes)s'%(seconds)s\"%(direction)s",{degrees:degStr,minutes:minStr,seconds:secStr,direction:dirStr}):minInt>0?sprintf("%(degrees)s%(minutes)s'%(direction)s",{degrees:degStr,minutes:minStr,direction:dirStr}):sprintf("%(degrees)s%(direction)s",{degrees:degStr,direction:dirStr})},onConfigChange:function(changedAttributes){_(changedAttributes).chain().keys().any((function(key){return 0===key.indexOf("display.visualizations.mapping.")})).value()&&(changedAttributes.hasOwnProperty("display.visualizations.mapping.type")&&this.invalidate("formatDataPass"),this.invalidate("updateViewPass"))},_shouldUpdateViewOnDataChange:function(){return!1},_map_boundsChanged:function(e){this._isPrinting||(this._updateDataBounds(),this._updateDataParams(),this.model.config.set({currentMapZoom:this.getZoom(),currentMapCenter:this.getCenter().clone()},{transient:!0}),this.trigger("boundsChanged",{}))},_map_mapClicked:function(e){this._isPrinting||"none"===this._drilldown||this.trigger("drilldown",{data:e.data,fields:e.fields,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,type:"geoviz"})},onPrintStart:function(e){this._isPrinting||(this._isPrinting=!0,this._prePrintCenter=this._map.get("center"),this._prePrintZoom=this._map.get("zoom"),this._map.updateSize(),this._map.validate())},onPrintEnd:function(e){this._isPrinting&&(this._map.set("center",this._prePrintCenter),this._map.set("zoom",this._prePrintZoom),this._prePrintCenter=null,this._prePrintZoom=0,this._isPrinting=!1,this._map.updateSize(),this._map.validate())},_onDataLayerRendered:function(){this._map.off("tilesLoaded.change",this._handleTileLoadOnce,this),this._map.get("tilesLoaded")?this._onViewUpdated():this._map.on("tilesLoaded.change",this._handleTileLoadOnce,this)},_handleTileLoadOnce:function(){this._onViewUpdated(),this._map.off("tilesLoaded.change",this._handleTileLoadOnce,this)},_updateDataParams:function(){this._layerType=this.model.config.get("display.visualizations.mapping.type"),this._layerType&&this.hasNonZeroBounds()&&this.getPrimaryDataSource().updateFetchParams(_.extend({},_DEFAULT_DATA_PARAMS,{search:this.getPostProcessSearch(),count:String(this.getResultsCount())}))}},{DEFAULT_PROPERTY_VALUES:_THEMED_DEFAULT_PROPERTY_VALUES})}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},"views/shared/map/Master.pcss":function(module,exports,__webpack_require__){var content=__webpack_require__(1035);"string"==typeof content&&(content=[[module.i,content,""]]);var options={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};__webpack_require__(3)(content,options);content.locals&&(module.exports=content.locals)}}]);