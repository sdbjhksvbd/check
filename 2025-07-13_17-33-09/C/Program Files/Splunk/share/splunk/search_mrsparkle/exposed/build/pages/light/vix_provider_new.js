!function(e){function t(t){for(var r,s,a=t[0],l=t[1],d=t[2],c=0,p=[];c<a.length;c++)s=a[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(h&&h(t);p.length;)p.shift()();return n.push.apply(n,d||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],r=!0,a=1;a<i.length;a++){var l=i[a];0!==o[l]&&(r=!1)}r&&(n.splice(t--,1),e=s(s.s=i[0]))}return e}var r={},o={77:0},n=[];function s(t){if(r[t])return r[t].exports;var i=r[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.e=function(e){var t=[],i=o[e];if(0!==i)if(i)t.push(i[2]);else{var r=new Promise((function(t,r){i=o[e]=[t,r]}));t.push(i[2]=r);var n,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=function(e){return s.p+""+({}[e]||e)+".js"}(e);var l=new Error;n=function(t){a.onerror=a.onload=null,clearTimeout(d);var i=o[e];if(0!==i){if(i){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",l.name="ChunkLoadError",l.type=r,l.request=n,i[1](l)}o[e]=void 0}};var d=setTimeout((function(){n({type:"timeout",target:a})}),12e4);a.onerror=a.onload=n,document.head.appendChild(a)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(i,r,function(t){return e[t]}.bind(null,r));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var h=l;n.push([2623,0]),i()}({2623:function(e,t,i){var r,o;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,r="",o=0,n=arguments.length;o<n;o++)(i=(t=arguments[o].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?r+="/"+t:r+=t;if("/"!=r){var s=r.split("/"),a=s[1];if("static"==a||"modules"==a){var l=r.substring(a.length+2,r.length);r="/"+a,window.$C.BUILD_NUMBER&&(r+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(r+="."+window.$C.BUILD_PUSH_NUMBER),"app"==s[2]&&(r+=":"+e("APP_BUILD",0)),r+="/"+l}}var d=e("MRSPARKLE_ROOT_PATH","/"),h=e("LOCALE","en-US"),c="/"+h+r;return""==d||"/"==d?c:d+c}("/static/build/pages/light")+"/"}(),r=[i("routers/VixProviderNew"),i("util/router_utils")],void 0===(o=function(e,t){new e;t.start_backbone_history()}.apply(t,r))||(e.exports=o)},2624:function(e,t){e.exports='<div class="provider-setup section-padded section-header">\n    <div class="ManagerBar">\n        <h1 class="ManagerPageTitle section-title">\n            <%- actionText %>\n        </h1>\n        <div class="breadcrumb section-description">\n            <a href="<%- managerRoute(\'virtual_indexes\') %>"><%= _(\'Virtual indexes\').t() %></a> Â»\n            <%- actionText %>\n        </div>\n    </div>\n\n    <div class="admin-content dashboard-panel clearfix"></div>\n</div>\n'},2625:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,"#settings th{margin-bottom:5px;text-align:left}#settings td{padding-bottom:10px;padding-right:5px}#additional-settings h5{margin-bottom:0}.prov-secure-cluster .checkbox,.prov-secure-cluster .control,.prov-secure-cluster .control-label,.prov-secure-cluster .controls{display:inline}.prov-secure-cluster .checkbox{margin-left:1em}.subsection{font-weight:700;margin-bottom:10px;margin-top:10px}.key-text-control-placeholder .shared-controls-textcontrol{float:right}.shared-controls-keyvaluecontrol{margin-bottom:10px}.form-horizontal .control-label{width:300px}.form-horizontal .controls{margin-left:310px}.bandwidth-throttling{display:inline-block;margin:3px 0 16px}.bandwidth-throttling .shared-controls-textcontrol{vertical-align:middle}.bandwidth-throttling .shared-controls-textcontrol input{padding-right:6px;width:8em}.bandwidth-throttling .select-time-unit{display:inline-block}.bandwidth-throttling .select-time-unit.shared-controls-syntheticselectcontrol{float:right;width:auto}.bandwidth-throttling .control{display:inline-block}.virtualindexes-config-forms-provideradditionalsettings .shared-controls-textcontrol .control-clear{right:10px}.virtualindexes-config-forms-providernewsettingrow{margin-bottom:10px}.virtualindexes-config-forms-providernewsettingrow .key-text-control-placeholder{width:310px}.virtualindexes-config-forms-providernewsettingrow .key-text-control-placeholder .shared-controls-textcontrol{width:270px}.virtualindexes-config-forms-providernewsettingrow .key-value-control-placeholder{float:left}.virtualindexes-config-forms-providernewsettingrow .value-text-control-placeholder{width:470px}.virtualindexes-config-forms-providernewsettingrow .close-row{color:#999;cursor:pointer;font-size:16px;line-height:26px}",""])},"collections/services/configs/Indexes":function(e,t,i){var r,o;r=[i("models/services/configs/Indexes"),i("collections/SplunkDsBase")],void 0===(o=function(e,t){return t.extend({url:"configs/conf-indexes",model:e,initialize:function(){t.prototype.initialize.apply(this,arguments)}})}.apply(t,r))||(e.exports=o)},"models/services/configs/Indexes":function(e,t,i){var r,o;r=[i("models/SplunkDBase")],void 0===(o=function(e){return e.extend({url:"configs/conf-indexes",urlRoot:"configs/conf-indexes",initialize:function(){e.prototype.initialize.apply(this,arguments)}})}.apply(t,r))||(e.exports=o)},"models/virtual_indexes/ProviderThrottling":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),i("models/Base")],void 0===(o=function(e,t,i){var r="vix.output.buckets.max.network.bandwidth";return i.extend({defaults:{maxBandwidth:void 0,enableThrottling:!1},validation:{maxBandwidth:"validateMaxBandwidth"},validateMaxBandwidth:function(e,i,r){if(r.enableThrottling&&(!t.isNumber(e)||isNaN(e)||e<=0))return t("Max Archiving Bandwidth must be a positive number.").t()},initializeAttributesFromProvider:function(e){var t=Number(e.get(r));isNaN(t)&&(t=0);var i=0!=t;this.set({enableThrottling:i,maxBandwidth:t})},getAttributesForProvider:function(){var e=0;this.get("enableThrottling")&&(e=this.get("maxBandwidth"));var t={};return t[r]=e,t},initialize:function(e,t){i.prototype.initialize.call(this,e,t)}})}.apply(t,r))||(e.exports=o)},"routers/VixProviderNew":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),i("routers/Base"),i("models/services/data/vix/Provider"),i("models/classicurl"),i("collections/services/configs/Indexes"),i("views/virtual_indexes/config/ProviderSetup")],void 0===(o=function(e,t,i,r,o,n,s){return i.extend({initialize:function(){i.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.providerModel=new r,this.indexesConfCollection=new n},page:function(r,n,a){i.prototype.page.apply(this,arguments),this.deferreds.pageViewRendered.done(function(){this.addPageViewEl(this.pageView.el)}.bind(this)),o.fetch({success:function(i,r){var n,a=this.indexesConfCollection.fetch({data:{search:"name=provider-family*",f:"name"}});e.when(a).done(t((function(){var i=o.get("id"),r=o.get("mode");if(i&&r&&"clone"===r)this.providerModel.set(this.providerModel.idAttribute,i),n=this.providerModel.fetch(),this.mode="clone",this.setPageTitle(t("Clone provider").t());else if(i)this.providerModel.set(this.providerModel.idAttribute,i),n=this.providerModel.fetch(),this.mode="edit",this.setPageTitle(t("Edit provider").t());else{this.mode="new";var a={};if(this.indexesConfCollection.length&&this.indexesConfCollection.at(0).entry.get("name"))a={data:{"vix.family":this.indexesConfCollection.at(0).entry.get("name").match(/provider-family:(.*)/)[1]}};n=this.providerModel.fetch(a),this.setPageTitle(t("Add new provider").t())}e.when(n,this.deferreds.pageViewRendered).done(t((function(){if(r&&"clone"===r){var e=this.providerModel.clone();e.unset("id"),e.entry.unset("id"),e.entry.unset("name"),e.entry.content.unset("name"),this.providerModel=e}this.providerSetup=new s({model:{provider:this.providerModel,application:this.model.application},collection:{indexesConf:this.indexesConfCollection},mode:this.mode}),this.providerSetup.render().appendTo(this.pageView.$(".main-section-body"))})).bind(this))})).bind(this))}.bind(this)})}})}.apply(t,r))||(e.exports=o)},"views/shared/controls/Section":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),e,i("views/Base")],void 0===(o=function(e,t,i,r){return r.extend({moduleId:i.i,initialize:function(){r.prototype.initialize.apply(this,arguments);var i={id:"",label:"",children:[],isVisible:!0};t.defaults(this.options,i),this.order=this.options.order,this.children=this.options.children,this.loadStatusDfd=e.Deferred(),this.waitingList=[],this.doneList=[],t.each(this.order,(function(e){this.children.hasOwnProperty(e)||this.waitingList.push(e)}),this),0==this.waitingList.length&&this.loadStatusDfd.resolve(),this.model=this.model||{},this.model.form&&this.model.form.on("update",(function(t){e("#"+t+"-placeholder").replaceWith(this.children[t].render().el),e.inArray(t,this.waitingList)>-1&&this.doneList.push(t),this.doneList.length==this.waitingList.length&&this.loadStatusDfd.resolve()}),this)},events:{"click .section-toggle":function(t){e(t.currentTarget).toggle(),t.preventDefault()}},getLoadStatusDfd:function(){return this.loadStatusDfd},getChildren:function(){return t.map(this.order,(function(e){if(this.children.hasOwnProperty(e))return this.children[e]}),this)},show:function(e){this.options.isVisible=!0,e?this.$el.show():this.$el.show("fast"),this.model.data&&this.model.data.hasOwnProperty("enableAttr")&&t.each(this.order,(function(e){this.children.hasOwnProperty(e)&&this.children[e].hasOwnProperty("getModelAttributes")&&t.each(this.children[e].getModelAttributes(),(function(e){this.model.data.enableAttr(e)}),this)}),this)},hide:function(e){this.options.isVisible=!1,e?this.$el.hide():this.$el.hide("fast"),this.model.data&&this.model.data.hasOwnProperty("disableAttr")&&t.each(this.order,(function(e){this.children.hasOwnProperty(e)&&this.children[e].hasOwnProperty("getModelAttributes")&&t.each(this.children[e].getModelAttributes(),(function(e){this.model.data.disableAttr(e)}),this)}),this)},clear:function(){t.each(this.getChildren(),(function(e){t.each(e.children,(function(e){e.model.set(e.options.modelAttribute,"",{silent:!0})}),this)}),this)},isHidden:function(){return!this.options.isVisible},render:function(){var e=this.compiledTemplate({options:this.options});return this.$el.html(e),t.each(this.order,(function(e){var t;t=this.children.hasOwnProperty(e)?this.children[e].render().el:'<div id="'+e+'-placeholder"></div>',this.$(".children").append(t)}),this),this},template:'                <h5 class="section"><%- options.label %></h5>                <p><%- options.description %></p>                <div class="children"></div>                '})}.apply(t,r))||(e.exports=o)},"views/virtual_indexes/config/ProviderSetup":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("models/virtual_indexes/ProviderThrottling"),i("views/virtual_indexes/config/forms/ProviderAdditionalSettings"),i("views/virtual_indexes/config/forms/ProviderNewSettings"),i("views/virtual_indexes/custom_controls/BandwidthControl"),i("views/Base"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/Section"),i("views/shared/FlashMessages"),i(2624),i("uri/route"),i("views/virtual_indexes/shared.pcss"),i("views/virtual_indexes/config/ProviderSetup.pcss")],void 0===(o=function(e,t,i,r,o,n,s,a,l,d,h,c,p,u,m,v){var g="$SPLUNK_HOME/bin/jars/SplunkMR-h2.jar",f="$SPLUNK_HOME/bin/jars/SplunkMR-h3.jar",b="vix.hadoop.security.authorization",y="vix.javaprops.java.security.krb5.realm",w="$SPLUNK_HOME/bin/jars/thirdparty/common/avro-1.7.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/avro-mapred-1.7.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/commons-compress-1.21.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/commons-io-2.4.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/libfb303-0.9.2.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/parquet-hive-bundle-1.10.1.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/snappy-java-1.1.1.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive_1_2/hive-exec-1.2.1.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive_1_2/hive-metastore-1.2.1.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive_1_2/hive-serde-1.2.1.jar",x="$SPLUNK_HOME/bin/jars/thirdparty/common/avro-1.7.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/avro-mapred-1.7.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/commons-compress-1.21.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/commons-io-2.4.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/libfb303-0.9.2.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/parquet-hive-bundle-1.10.1.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/snappy-java-1.1.1.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive_3_1/hive-exec-3.1.2.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive_3_1/hive-metastore-3.1.2.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive_3_1/hive-serde-3.1.2.jar";return l.extend({moduleId:r.i,template:p,initialize:function(){l.prototype.initialize.apply(this,arguments);this.model.provider.entry.content.get("vix.output.buckets.max.network.bandwidth");this.formModel=new i.Model,this.model.throttling=new o,this.model.throttling.initializeAttributesFromProvider(this.model.provider.entry.content),this.sections={},this._initFlashMessage(),this._initBasic(),this._initThrottling(),this._initEnvVars(),this._initProviderPaths(),this._initSplunkSettings(),this._initKerberosSettings(),this._initAdditionalSettings();var r=t.map(this.sections,(function(e){return e.getLoadStatusDfd()}),this);e.when.apply(e,r).then(function(e){this.formModel.trigger("loadComplete")}.bind(this)),this.model.provider.entry.content.on("change:vix.family",this._onChangeFamily,this),this.model.provider.on("change",(function(){"edit"!==this.options.mode&&this.model.provider.entry.set("name","");var e=this.$(".admin-content").detach();this.render(),this.$(".admin-content").replaceWith(e)}),this),this.listenTo(this.model.provider.entry.content,"change:"+b,this._toggleKerberosSectionAndMode),this.listenTo(this.model.provider.entry.content,"change:vix.command.arg.3",this._onChangeHadoopVersion),this.listenTo(this.model.provider.entry.content,"change:vix.java.security.krb5.kdc change:vix.java.security.krb5.realm",this._syncOldKerberosAttributes),this.listenTo(this.formModel,"change:kerberos.config",this._onChooseKerberosConfigSwitch),this.listenTo(this.model.throttling,"change:enableThrottling",this._onEnableThrottlingChanged)},events:{"click .btn-primary":function(t){t.preventDefault(),this.model.provider.entry.content.set(this.model.additionalSettings.attributes),this.model.provider.entry.content.set(this.model.newSettings.attributes);var i=this.model.throttling.set({},{validate:!0}),r=this.model.provider.entry.set({},{validate:!0}),o=this.model.provider.entry.content.set({},{validate:!0});i&&r&&o&&(this.model.provider.entry.content.set(this.model.throttling.getAttributesForProvider()),this.model.provider.save({},{silent:!0}).done(function(){window.location.href=this._getVirtualIndexesRoute()}.bind(this)),e("html, body").animate({scrollTop:0},"fast"))},"click .cancel":function(e){e.preventDefault(),window.location.href=this._getVirtualIndexesRoute()}},onAddedToDocument:function(){l.prototype.onAddedToDocument.apply(this,arguments),this._onChangeFamily()},_getChildrenAttributes:function(){return t.map(this.children,(function(e){return e.hasOwnProperty("childList")?e.childList[0].getModelAttribute():""}))},_managerRoute:function(e,t){return u.manager(this.model.application.get("root"),this.model.application.get("locale"),"system",e,t)},_getVirtualIndexesRoute:function(){return u.manager(this.model.application.get("root"),this.model.application.get("locale"),"system","virtual_indexes",{data:{t:"providers"}})},_initFlashMessage:function(){this.children.flashMessages=new c({model:{provider:this.model.provider,content:this.model.provider.entry.content,throttling:this.model.throttling}})},_initBasic:function(){this.children.name=new d({className:"prov-name control-group",controlType:"Text",controlOptions:{modelAttribute:"name",model:this.model.provider.entry.content,save:!1},label:t("Name").t()}),this.children.description=new d({className:"provider-description control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.description",model:this.model.provider.entry.content,save:!1,placeholder:"optional"},label:t("Description").t()}),this.familyNames=this.collection.indexesConf.map((function(e){var t=e.entry.get("name").match(/provider-family:(.*)/)[1];return{label:t,value:t}})),this.children.family=new d({className:"prov-family control-group",controlType:"SyntheticSelect",controlOptions:{modelAttribute:"vix.family",model:this.model.provider.entry.content,items:this.familyNames,additionalClassNames:"view-count",menuWidth:"narrow",toggleClassName:"btn"},label:t("Provider Family").t()}),this.formModel.trigger("update","family"),!this.model.provider.entry.content.get("vix.family")&&this.familyNames&&this.familyNames.length>0&&this.model.provider.entry.content.set("vix.family",this.familyNames[0].value),this.familyNames.length<=1?this.children.family.disable():this.children.family.enable(),this.sections.basic=new h({label:"",id:"basic",children:this.children,model:{form:this.formModel,data:this.model.provider},order:["name","description","family"]})},_initThrottling:function(){this.children.enableThrottling=new d({className:"prov-enable-throttling control-group",controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"enableThrottling",model:this.model.throttling,save:!1,label:t("Enable Archive Bandwidth Throttling").t()}}),this.children.throttling=new d({className:"bandwidth-throttling control-group",controls:[new a({model:this.model.throttling,modelAttribute:"maxBandwidth"})],label:t("Max Archiving Bandwidth").t(),tooltip:t("Specify the amount of bandwidth to give to archived indexes associated with this provider").t()}),this.sections.archiving=new h({label:t("Archiving Settings").t(),id:"archiving",children:this.children,order:["enableThrottling","throttling"]})},_initEnvVars:function(){this.children.javaHome=new d({className:"prov-java-home control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.env.JAVA_HOME",model:this.model.provider.entry.content,save:!1},label:t("Java Home").t(),help:t("Example: /usr/jdk").t()}),this.children.hadoopHome=new d({className:"prov-hadoop-home control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.env.HADOOP_HOME",model:this.model.provider.entry.content,save:!1},label:t("Hadoop Home").t(),help:t("Example: /usr/hadoop").t()}),this.sections.envVars=new h({label:t("Environment Variables").t(),id:"env-vars",children:this.children,model:{data:this.model.provider},order:["javaHome","hadoopHome"]})},_initProviderPaths:function(){this.children.hadoopVersion=new d({className:"prov-hadoop-version control-group",controlType:"SyntheticSelect",controlOptions:{modelAttribute:"vix.command.arg.3",model:this.model.provider.entry.content,items:[{label:t("Hadoop 1.x, (MRv1)").t(),value:"$SPLUNK_HOME/bin/jars/SplunkMR-h1.jar"},{label:t("Hadoop 2.x, (MRv1)").t(),value:g},{label:t("Hadoop 2.x, (Yarn)").t(),value:"$SPLUNK_HOME/bin/jars/SplunkMR-hy2.jar"},{label:t("Hadoop 3.x, (MRv1)").t(),value:f},{label:t("Hadoop 3.x, (Yarn)").t(),value:"$SPLUNK_HOME/bin/jars/SplunkMR-hy3.jar"}],additionalClassNames:"view-count",menuWidth:"narrow",toggleClassName:"btn"},label:t("Hadoop Version").t()}),this.children.jobTracker=new d({className:"prov-job-tracker control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.mapred.job.tracker",model:this.model.provider.entry.content,save:!1,placeholder:"optional"},label:t("Job Tracker").t(),help:t("Example: jobtracker.example.com:8021").t()}),this.children.fileSystem=new d({className:"prov-file-system control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.fs.default.name",model:this.model.provider.entry.content,save:!1},label:t("File System").t(),help:t("Example: hdfs://namenode.example.com:8020").t()}),this.children.enablePassThrough=new d({className:"control-group",controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"vix.splunk.impersonation",model:this.model.provider.entry.content,label:t("Enable Pass Through Authentication").t()}}),this.children.resourceManager=new d({className:"prov-resource-manager control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.yarn.resourcemanager.address",model:this.model.provider.entry.content,save:!1},label:t("Resource Manager Address").t(),help:""}),this.children.resourceScheduler=new d({className:"prov-resource-scheduler control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.yarn.resourcemanager.scheduler.address",model:this.model.provider.entry.content,save:!1},label:t("Resource Scheduler Address").t(),help:""}),this.sections.providerPaths=new h({label:t("Hadoop Cluster Information").t(),id:"provider-paths",children:this.children,model:{data:this.model.provider},order:["hadoopVersion","jobTracker","fileSystem","enablePassThrough","resourceManager","resourceScheduler"]})},_initSplunkSettings:function(){this.children.homeHdfs=new d({className:"prov-home-hdfs control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.splunk.home.hdfs",model:this.model.provider.entry.content,save:!1},label:t("HDFS Working Directory").t(),help:t("Example: /user/splunk/hunk-01.example.com/").t(),tooltip:t("Path in HDFS that you want this provider to use as it's workspace").t()}),this.children.jobQueue=new d({className:"prov-job-queue control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.mapred.job.queue.name",model:this.model.provider.entry.content,save:!1},label:t("Job Queue").t(),help:t("Example: highPriorityQ").t(),tooltip:t("Job queue where MapReduce jobs of this provider get submitted to").t()}),this.sections.splunkSettings=new h({label:t("Splunk Settings").t(),id:"splunk-settings",children:this.children,model:{data:this.model.provider},order:["homeHdfs","jobQueue"]})},_initKerberosSettings:function(){this.children.addSecureCluster=new d({className:"prov-secure-cluster control-group",controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:b,model:this.model.provider.entry.content,save:!1},label:t("Add Secure Cluster").t()}),this.children.kerberosMode=new d({className:"prov-kerberos-mode control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.hadoop.security.authentication",model:this.model.provider.entry.content,placeholder:"kerberos",useSyntheticPlaceholder:!0,defaultValue:"kerberos",save:!1},label:t("Mode").t(),help:"",tooltip:""}),this.children.kerberosConfig=new d({className:"prov-kerberos-config control-group",controlType:"SyntheticSelect",controlOptions:{modelAttribute:"kerberos.config",model:this.formModel,items:[{label:t("------ Choose ------ ").t(),value:null,enabled:!1},{label:t("Server Name and Realm").t(),value:"1"},{label:t("Configuration File Path").t(),value:"2"}],additionalClassNames:"view-count",toggleClassName:"btn"},label:""}),this.children.kerberosServerName=new d({className:"prov-kerberos-server-name control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.javaprops.java.security.krb5.kdc",model:this.model.provider.entry.content,save:!1},label:t("Kerberos Server Name").t(),help:"",tooltip:""}),this.children.kerberosDefaultRealm=new d({className:"prov-kerberos-default-realm control-group",controlType:"Text",controlOptions:{modelAttribute:y,model:this.model.provider.entry.content,save:!1},label:t("Kerberos Default Realm").t(),help:"",tooltip:""}),this.children.kerberosConfigurationFilePath=new d({className:"prov-kerberos-configuration-file-path control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.javaprops.java.security.krb5.conf",model:this.model.provider.entry.content,save:!1},label:t("Kerberos Configuration File Path").t(),help:"",tooltip:""}),this.children.kerberosPrincipalName=new d({className:"prov-kerberos-principal-name control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.kerberos.principal",model:this.model.provider.entry.content,save:!1},label:t("Kerberos Principal Name").t(),help:"",tooltip:""}),this.children.kerberosKeytabPath=new d({className:"prov-kerberos-keytab-path control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.kerberos.keytab",model:this.model.provider.entry.content,save:!1},label:t("Kerberos Keytab Path").t(),help:"",tooltip:""}),this.children.hdfsPrincipal=new d({className:"prov-hdfs-principal control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.dfs.namenode.kerberos.principal",model:this.model.provider.entry.content,save:!1},label:t("HDFS Principal").t(),help:"",tooltip:""}),this.children.mapreducePrincipal=new d({className:"prov-mapreduce-principal control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.mapreduce.jobtracker.kerberos.principal",model:this.model.provider.entry.content,save:!1},label:t("MapReduce Principal").t(),help:"",tooltip:""}),this.children.resourcemanagerPrincipal=new d({className:"prov-resourcemanager-principal control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.yarn.resourcemanager.principal",model:this.model.provider.entry.content,save:!1},label:t("Resource Manager Principal").t(),help:"",tooltip:""}),this.children.nodemanagerPrincipal=new d({className:"prov-nodemanager-principal control-group",controlType:"Text",controlOptions:{modelAttribute:"vix.yarn.nodemanager.principal",model:this.model.provider.entry.content,save:!1},label:t("Node Manager Principal").t(),help:"",tooltip:""}),this.sections.kerberosSettings=new h({label:t("Security Settings").t(),id:"kerberos-settings",children:this.children,model:{data:this.model.provider.entry.content},order:["kerberosMode","kerberosConfig","kerberosServerName","kerberosDefaultRealm","kerberosConfigurationFilePath","kerberosPrincipalName","kerberosKeytabPath","hdfsPrincipal","mapreducePrincipal","resourcemanagerPrincipal","nodemanagerPrincipal"]})},_initAdditionalSettings:function(){var e=this.model.provider.entry.content.keys().filter((function(e){return 0==e.indexOf("vix.")})),r=t(this.model.provider.entry.content.omit(this._getChildrenAttributes())).pick(e);this.model.additionalSettings=new i.Model(r),this.model.newSettings=new i.Model,this.children.additionalSettingsView=new n({model:this.model.additionalSettings}),this.children.newSettingsView=new s({model:this.model.newSettings}),this.sections.additionalSettings=new h({label:t("Additional Settings").t(),id:"additional-settings",description:t("Additional settings for hadoop configuration. Refer to Hadoop mapred documentation for setting name and description.").t(),children:this.children,order:["additionalSettingsView","newSettingsView"]}),this.sections.additionalSettings.loadStatusDfd.resolve()},_onChangeHadoopVersion:function(){this.isYarn()?(this.setJobTracker(""),this.children.jobTracker.$el.hide("fast"),this.children.resourceManager.$el.show("fast"),this.children.resourceScheduler.$el.show("fast"),this.model.provider.entry.content.get("vix.mapreduce.framework.name")||this.model.provider.entry.content.set("vix.mapreduce.framework.name","yarn"),this.isYarn3x()?this.updateHunkThirdpartyJars(x):this.updateHunkThirdpartyJars(w),this.setKerberosMapReducePrincipla(""),this.children.mapreducePrincipal.$el.hide("fast"),this.children.resourcemanagerPrincipal.$el.show("fast"),this.children.nodemanagerPrincipal.$el.show("fast")):(this.children.jobTracker.$el.show("fast"),this.model.provider.entry.content.set("vix.yarn.resourcemanager.address",""),this.model.provider.entry.content.set("vix.yarn.resourcemanager.scheduler.address",""),this.children.resourceManager.$el.hide(),this.children.resourceScheduler.$el.hide(),this.model.provider.entry.content.set("vix.mapreduce.framework.name",""),this.isHadoop3x()?this.updateHunkThirdpartyJars(x):this.isHadoop2x()?this.updateHunkThirdpartyJars(w):this.updateHunkThirdpartyJars("$SPLUNK_HOME/bin/jars/thirdparty/common/avro-1.7.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/avro-mapred-1.7.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/commons-compress-1.21.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/commons-io-2.4.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/libfb303-0.9.2.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/parquet-hive-bundle-1.10.1.jar,$SPLUNK_HOME/bin/jars/thirdparty/common/snappy-java-1.1.1.7.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive/hive-exec-0.12.0.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive/hive-metastore-0.12.0.jar,$SPLUNK_HOME/bin/jars/thirdparty/hive/hive-serde-0.12.0.jar"),this.children.mapreducePrincipal.$el.show("fast"),this.model.provider.entry.content.set("vix.yarn.resourcemanager.principal",""),this.model.provider.entry.content.set("vix.yarn.nodemanager.principal",""),this.children.resourcemanagerPrincipal.$el.hide("fast"),this.children.nodemanagerPrincipal.$el.hide("fast"))},_onChangeFamily:function(){"hadoop"!==this.model.provider.entry.content.get("vix.family")?(this.sections.envVars.hide(),this.sections.providerPaths.hide(),this.sections.splunkSettings.hide(),e("#additional-settings p").hide()):(this.sections.envVars.show(),this.sections.providerPaths.show(),this.sections.splunkSettings.show(),e("#additional-settings p").show())},_onChooseKerberosConfigSwitch:function(){var e=this.formModel.get("kerberos.config");"1"===e&&(this.setKerberosConfigFilePath(""),this.children.kerberosConfigurationFilePath.$el.hide("fast"),this.children.kerberosServerName.$el.show("fast"),this.children.kerberosDefaultRealm.$el.show("fast")),"2"===e&&(this.setKerberosServerName(""),this.setKerberosRealm(""),this.children.kerberosServerName.$el.hide("fast"),this.children.kerberosDefaultRealm.$el.hide("fast"),this.children.kerberosConfigurationFilePath.$el.show("fast"))},_syncOldKerberosAttributes:function(){var e=this.model.provider.entry.content.get("vix.java.security.krb5.kdc"),t=this.model.provider.entry.content.get("vix.java.security.krb5.realm"),i=this.model.provider.entry.content.get("vix.javaprops.java.security.krb5.kdc"),r=this.model.provider.entry.content.get(y);i=i||e,r=r||t,this.setKerberosServerName(i),this.setKerberosRealm(r)},_toggleKerberosSectionAndMode:function(){this.model.provider.entry.content.get(b)?(this.sections.kerberosSettings.show(),this.setKerberosMode("kerberos")):(this.sections.kerberosSettings.hide(),this.setKerberosMode(""))},_onEnableThrottlingChanged:function(){this.model.throttling.get("enableThrottling")?this.children.throttling.show():this.children.throttling.hide()},isYarn:function(){return this.isYarn2x()||this.isYarn3x()},isYarn2x:function(){return"$SPLUNK_HOME/bin/jars/SplunkMR-hy2.jar"===this.model.provider.entry.content.get("vix.command.arg.3")},isYarn3x:function(){return"$SPLUNK_HOME/bin/jars/SplunkMR-hy3.jar"===this.model.provider.entry.content.get("vix.command.arg.3")},isHadoop2x:function(){return this.model.provider.entry.content.get("vix.command.arg.3")===g},isHadoop3x:function(){return this.model.provider.entry.content.get("vix.command.arg.3")===f},updateHunkThirdpartyJars:function(e){this.model.additionalSettings.set("vix.env.HUNK_THIRDPARTY_JARS",e),this.children.additionalSettingsView.$el.find("input[name='vix.env.HUNK_THIRDPARTY_JARS']").val(e)},setKerberosMode:function(e){this.model.provider.entry.content.set("vix.hadoop.security.authentication",e)},setKerberosServerName:function(e){this.model.provider.entry.content.set("vix.javaprops.java.security.krb5.kdc",e)},setKerberosRealm:function(e){this.model.provider.entry.content.set(y,e)},setKerberosMapReducePrincipla:function(e){this.model.provider.entry.content.set("vix.mapreduce.jobtracker.kerberos.principal",e)},setJobTracker:function(e){this.model.provider.entry.content.set("vix.mapred.job.tracker",e)},setKerberosConfigFilePath:function(e){this.model.provider.entry.content.set("vix.javaprops.java.security.krb5.conf",e)},getActionText:function(){switch(this.options.mode){case"edit":return t("Edit provider").t();case"clone":return t("Clone provider").t();case"new":default:return t("Add new provider").t()}},render:function(){var i=this.compiledTemplate({actionText:this.getActionText(),managerRoute:this._managerRoute.bind(this)}),r=e(i);return this.el.innerHTML||(r.find(".admin-content").append(this.children.flashMessages.render().el),r.find(".admin-content").append(this.sections.basic.render().el),r.find(".admin-content").append(this.sections.envVars.render().el),r.find(".admin-content").append(this.sections.providerPaths.render().el),r.find(".admin-content").append(this.sections.splunkSettings.render().el),r.find(".admin-content").append(this.children.addSecureCluster.render().el),r.find(".admin-content").append(this.sections.kerberosSettings.render().el),r.find(".admin-content").append(this.sections.archiving.render().el),r.find(".admin-content").append(this.sections.additionalSettings.render().el),r.find(".admin-content").append('<div class="button-wrapper" />'),r.find(".admin-content .button-wrapper").append('<a href="#" class="btn btn-primary pull-right">'+t("Save").t()+"</a>"),r.find(".admin-content .button-wrapper").append('<a href="#" class="btn btn-secondary cancel pull-right">'+t("Cancel").t()+"</a>")),this.$el.html(r),this.isYarn()?(this.children.jobTracker.$el.hide(),this.children.jobTracker.$el.hide()):(this.children.resourceManager.hide(),this.children.resourceScheduler.hide()),this.children.kerberosServerName.$el.hide(),this.children.kerberosDefaultRealm.$el.hide(),this.children.kerberosConfigurationFilePath.$el.hide(),"1"!==this.model.provider.entry.content.get(b)&&this.sections.kerberosSettings.$el.hide(),this._onEnableThrottlingChanged(),this.children.kerberosMode.childList[0].disable(),0===this.children.kerberosConfig.$el.children(".subsection").length&&this.children.kerberosConfig.$el.prepend('<div class="subsection">'+t("Kerberos Server Configuration:").t()+"</div>"),0===this.children.kerberosPrincipalName.$el.children(".subsection").length&&this.children.kerberosPrincipalName.$el.prepend('<div class="subsection">'+t("Hadoop Kerberos Credentials:").t()+"</div>"),"edit"===this.options.mode&&(this.children.name.childList[0].disable(),this.children.family&&this.children.family.childList[0].disable()),this}})}.apply(t,r))||(e.exports=o)},"views/virtual_indexes/config/ProviderSetup.pcss":function(e,t,i){var r=i(2625);"string"==typeof r&&(r=[[e.i,r,""]]);var o={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(r,o);r.locals&&(e.exports=r.locals)},"views/virtual_indexes/config/forms/ProviderAdditionalSettings":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/controls/ControlGroup")],void 0===(o=function(e,t,i,r,o,n){return o.extend({moduleId:r.i,initialize:function(e){o.prototype.initialize.call(this,e)},createSetting:function(e){return new n({controlType:"Text",controlOptions:{modelAttribute:e,model:this.model,canClear:!0},label:e})},render:function(){return this.children&&t(this.children).each((function(e){e.detach()}),this),this.$el.html(this.compiledTemplate({})),t(this.model.keys()).each((function(e){t(this.children).has(e)||(this.children[e]=this.createSetting(e))}),this),t(this.children).each((function(e,t){this.model.has(t)?this.children[t].render().appendTo(this.$(".controls-placeholder")):delete this.children[t]}),this),this},template:'                <div class="controls-placeholder form form-horizontal"></div>            '})}.apply(t,r))||(e.exports=o)},"views/virtual_indexes/config/forms/ProviderNewSettingRow":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/shared/controls/KeyValueControl")],void 0===(o=function(e,t,i,r,o,n){return o.extend({moduleId:r.i,className:"clearfix",events:{"click .close-row":"onCloseRow","keypress .close-row":function(e){13===e.keyCode&&this.onCloseRow(e)}},initialize:function(e){o.prototype.initialize.call(this,e),this.children.keyValueControl=new n({model:this.model,keyTextControlOptions:{modelAttribute:"vix.newSetting.key"+this.options.numRow},valueTextControlOptions:{modelAttribute:"vix.newSetting.value"+this.options.numRow}})},onCloseRow:function(e){var t=this.children.keyValueControl.getKey();this.children.keyValueControl.unsetKey(),this.trigger("closeRow",this,t)},render:function(){return this.children.keyValueControl&&this.children.keyValueControl.detach(),this.$el.html(this.compiledTemplate({})),this.children.keyValueControl.render().appendTo(this.$(".key-value-control-placeholder")),this},template:'                <span class="key-value-control-placeholder" ></span>                <span tabindex="0" class="font-icon close-row">âŠ—</span>            '})}.apply(t,r))||(e.exports=o)},"views/virtual_indexes/config/forms/ProviderNewSettings":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/Base"),i("views/virtual_indexes/config/forms/ProviderNewSettingRow")],void 0===(o=function(e,t,i,r,o,n){return o.extend({moduleId:r.i,events:{"click .create-new-setting":function(e){e.preventDefault();var t=new n({model:this.model,numRow:this.settingRows.length});this.settingRows.push(t),t.render().appendTo(this.$(".new-setting-placeholder")),this.listenTo(t,"closeRow",this.onCloseRow)}},initialize:function(e){o.prototype.initialize.call(this,e),this.settingRows=[]},onCloseRow:function(e,i){var r=t(this.settingRows).indexOf(e);this.stopListening(e),e.detach(),-1!=r&&this.settingRows.splice(r,1)},render:function(){return this.$el.html(this.compiledTemplate({})),this},template:'                <div class="new-setting-placeholder"></div>                <div><a href="#" class="create-new-setting"><%- _("New Setting").t() %></a></div>            '})}.apply(t,r))||(e.exports=o)},"views/virtual_indexes/custom_controls/BandwidthControl":function(e,t,i){var r,o;r=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("views/shared/controls/ValueInUnitsBaseControl")],void 0===(o=function(e,t,i,r,o){var n=1e6,s=1e9,a=1e12;return o.extend({moduleId:r.i,className:"bandwidth-control input-append",initialize:function(e){(e=e||{}).items=[{label:t("Kbit/s").t(),value:1e3},{label:t("Mbit/s").t(),value:n},{label:t("Gbit/s").t(),value:s},{label:t("Tbit/s").t(),value:a}],o.prototype.initialize.call(this,e)},applyValueToChildren:function(e){var t=parseInt(e,10)||0,i=t>=a&&t%a==0?a:t>=s&&t%s==0?s:t>=n&&t%n==0?n:1e3,r=t/i;this.children.textNumber._setValue(r,!0,!0),this.children.selectUnit._setValue(i,!0,!0)},getValueFromChildren:function(){if(""!=this.children.textNumber.getValue())return this.children.textNumber.getValue()*this.children.selectUnit.getValue()}})}.apply(t,r))||(e.exports=o)}});