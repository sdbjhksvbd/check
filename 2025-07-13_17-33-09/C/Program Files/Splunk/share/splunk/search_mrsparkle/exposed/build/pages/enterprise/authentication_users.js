!function(e){function t(t){for(var s,r,o=t[0],a=t[1],d=t[2],h=0,u=[];h<o.length;h++)r=o[h],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(c&&c(t);u.length;)u.shift()();return l.push.apply(l,d||[]),i()}function i(){for(var e,t=0;t<l.length;t++){for(var i=l[t],s=!0,o=1;o<i.length;o++){var a=i[o];0!==n[a]&&(s=!1)}s&&(l.splice(t--,1),e=r(r.s=i[0]))}return e}var s={},n={16:0},l=[];function r(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,s){i=n[e]=[t,s]}));t.push(i[2]=s);var l,o=document.createElement("script");o.charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.src=function(e){return r.p+""+({}[e]||e)+".js"}(e);var a=new Error;l=function(t){o.onerror=o.onload=null,clearTimeout(d);var i=n[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+l+")",a.name="ChunkLoadError",a.type=s,a.request=l,i[1](a)}n[e]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:o})}),12e4);o.onerror=o.onload=l,document.head.appendChild(o)}return Promise.all(t)},r.m=e,r.c=s,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(i,s,function(t){return e[t]}.bind(null,s));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var o=window.webpackJsonp=window.webpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=a;l.push([2013,0]),i()}({2013:function(e,t,i){var s,n;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,s="",n=0,l=arguments.length;n<l;n++)(i=(t=arguments[n].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?s+="/"+t:s+=t;if("/"!=s){var r=s.split("/"),o=r[1];if("static"==o||"modules"==o){var a=s.substring(o.length+2,s.length);s="/"+o,window.$C.BUILD_NUMBER&&(s+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(s+="."+window.$C.BUILD_PUSH_NUMBER),"app"==r[2]&&(s+=":"+e("APP_BUILD",0)),s+="/"+a}}var d=e("MRSPARKLE_ROOT_PATH","/"),c=e("LOCALE","en-US"),h="/"+c+s;return""==d||"/"==d?h:d+h}("/static/build/pages/enterprise")+"/"}(),s=[i("routers/Users"),i("routers/AuthenticationUsers"),i("util/router_utils")],void 0===(n=function(e,t,i){new e,i.start_backbone_history()}.apply(t,s))||(e.exports=n)},2017:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".users-editdialog .password-req-title{padding-left:180px}.users-editdialog .mismatch-msg{margin-bottom:15px;margin-top:10px;padding-left:180px}.users-editdialog .password-req-title label.control-label{text-align:left;width:auto}.users-editdialog .password-req-section{margin-top:-5px;padding-left:180px}.users-editdialog .password-req-section li{display:inline;padding-right:5px}.users-editdialog .samlgroup-roles .accumulator{width:auto}.users-gridrow .cell-actions{white-space:nowrap}",""])},2018:function(e,t){e.exports='<td class="col-username">\n    <a href="<%- editURL %>" class="model-username"><%- username %></a>\n</td>\n<td class="col-auth">\n    <span class="model-auth"><%- auth %></span>\n</td>\n<td class="col-fullname">\n    <span class="model-fullname"><%- fullname %></span>\n</td>\n<td class="col-email">\n    <span class="model-email"><%- email %></span>\n</td>\n<td class="col-timezone">\n    <span class="model-timezone"><%- timeZone %></span>\n</td>\n<td class="col-app">\n    <span class="model-app"><%- defaultApp %></span>\n</td>\n<td class="col-inherited">\n    <span class="model-inherited"><%- inheritedApp %></span>\n</td>\n<td class="col-roles">\n    <span class="model-roles"><%- roles %></span>\n</td>\n<td class="col-actions">\n    <a href="<%- cloneURL %>" class="btn-clone"><%- _("Clone").t() %></a>\n    <% if (showDelete) { %>\n        | <a href="#" class="btn-delete"><%- _("Delete").t() %></a>\n    <% } %>\n</td>\n'},2019:function(e,t){e.exports='<table class="table table-chrome table-striped table-row-expanding">\n    <thead class="item-table-head-placeholder"></thead>\n    <tbody class="item-table-body"></tbody>\n</table>\n'},2020:function(e,t){e.exports='<div class="section-header section-padded">\n    <h2 class="section-title"><%- _("Access controls").t() %></h2>\n    <%- _("Specify authentication method, manage user settings, and manage roles").t() %>\n</div>\n<div class="section-toolbar section-padded clearfix">\n    <div class="toolbar-left pull-left">\n        <a href="<%- newURL %>" class="btn btn-primary new-user-button"><%- _("New").t() %></a>\n    </div>\n    <div class="toolbar-right pull-right"></div>\n</div>\n'},2021:function(e,t){e.exports='<div class="pull-left">\n    <% if (canEditUsers && (maxUsers > 1)) { %>\n        <h2 class="section-title"><%- _("Manage Accounts").t() %></h2>\n        <% if (isSplunkAuth) { %>\n            <%- sprintf(_("You can manage up to %s accounts").t(), maxUsers) %>\n        <% } %>\n    <% } else { %>\n        <h2 class="section-title"><%- _("Manage Account").t() %></h2>\n    <% } %>\n</div>\n\n<% if (canEditUsers && isSplunkAuth) { %>\n\t<a class="btn btn-primary password-management" href="<%-passwordManagementUrl%>"><%- _("Password management").t() %></a>\n\t<% if (numUsers < maxUsers) { %>\n    \t<button class="btn btn-primary pull-right add-new"><%- _("Add new account").t() %></button>\n    <% } %>\n<% } %>\n'},2022:function(e,t){e.exports='<div>\n    <table class="detail-table">\n        <tr>\n            <td></td>\n            <td class="detail-messages"></td>\n        </tr>\n        <tr class="detail-pair-roles">\n            <td class="detail-name"><%- _("Role").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <tr class="detail-pair-username">\n            <td class="detail-name"><%- _("Username").t() %></td>\n            <td class="detail-value"><%- username %></td>\n        </tr>\n        <tr class="detail-pair-email">\n            <td class="detail-name"><%- _("Email address").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <tr class="detail-pair-oldpassword">\n            <td class="detail-name"><%- _("Old password").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <tr class="detail-pair-password">\n            <td class="detail-name"><%- _("Password").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <tr class="detail-pair-confirmpassword">\n            <td class="detail-name"><%- _("Confirm password").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <tr class="detail-pair-passwordreq">\n            <td class="detail-name"></td>\n            <td class="detail-value"></td>\n        </tr>\n        <tr class="detail-pair-fullname">\n            <td class="detail-name"><%- _("Full name").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <tr class="detail-pair-candelete">\n            <td class="detail-name"><%- _("Permission to Delete Data").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <% if (lockedOut && canEditUsers && isSplunkAuth && !isSelf) { %>\n        <tr class="detail-unlock">\n            <td class="detail-name"><%- _("Select to unlock user").t() %></td>\n            <td class="detail-value"></td>\n        </tr>\n        <% } %>\n        <tr>\n            <td></td>\n            <td class="detail-buttons">\n                <% if (isNew) { %>\n                    <button class="btn detail-cancel"><%- _("Cancel").t() %></button>\n                <% } else if (canEditUsers && isSplunkAuth && !isSelf) { %>\n                    <button class="btn detail-delete"><%- _("Delete").t() %></button>\n                <% } %>\n                <button class="btn btn-primary detail-save"><%- _("Save").t() %></button>\n            </td>\n        </tr>\n    </table>\n</div>\n'},2023:function(e,t){e.exports='<div class="tile-shape"></div>\n<p class="tile-name"><%- _("New user").t() %></p>\n'},2024:function(e,t){e.exports='<svg class="scroll-arrow" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="36" viewBox="0 0 20 36">\n    <polygon fill="#676767" points="1.868,35.678 0.454,34.264 16.718,18 0.454,1.736 1.868,0.322 19.546,18"\n        <% if (direction === "left") { %>\n            transform="translate(20) scale(-1 1)"\n        <% } %>\n    />\n</svg>\n'},2025:function(e,t){e.exports='<div class="tile-shape">\n    <span class="tile-icon"><%- initials %></span>\n</div>\n<p class="tile-name"><%- fullname %></p>\n'},2026:function(e,t){e.exports='<div class="tile-list-wrapper">\n    <div class="tile-list-container"></div>\n</div>\n'},2027:function(e,t,i){var s=i(133);(e.exports=i(5)(!1)).push([e.i,".authenticationusers-table .toolbar-left>*{float:left}.authenticationusers-table .toolbar-right>*{float:right}.authenticationusers-table .page-label{margin-left:12px;margin-right:12px}.authenticationusers-tiles{background-color:#e1e6eb;color:#3c444d}.authenticationusers-tiles .section-header{padding-left:20px;padding-right:30px}.authenticationusers-tiles .section-header .add-new{margin-top:20px}.authenticationusers-tiles .section-header .password-management{float:right;margin-left:10px;margin-top:20px}.authenticationusers-tiles-usertilelist{position:relative}.authenticationusers-tiles-usertilelist .authenticationusers-tiles-scrollbutton{bottom:0;position:absolute;text-align:center;top:0;width:60px}.authenticationusers-tiles-usertilelist .authenticationusers-tiles-scrollbutton .scroll-arrow{margin-top:62px}.authenticationusers-tiles-usertilelist .authenticationusers-tiles-scrollbutton.scroll-button-left{left:0}.authenticationusers-tiles-usertilelist .authenticationusers-tiles-scrollbutton.scroll-button-right{right:0}.authenticationusers-tiles-usertilelist .tile-list-wrapper{margin:0 60px;overflow:hidden}.authenticationusers-tiles-usertilelist .tile-list-wrapper .tile-list-container{margin:0 -30px -30px;overflow-x:scroll;padding-bottom:30px;position:relative;white-space:nowrap}.authenticationusers-tiles-usertilelist .tile-list-wrapper .tile-list-container .highlighter{background-color:#3c444d;bottom:0;height:2px;margin:0 30px 30px;position:absolute;width:120px}.authenticationusers-tiles-usertile{cursor:pointer;display:inline-block;margin:20px 30px 10px;vertical-align:top}.authenticationusers-tiles-usertile.active{cursor:default}.authenticationusers-tiles-usertile .tile-shape{background-color:#3c444d;border-radius:2px;color:#fff;height:120px;width:120px}.authenticationusers-tiles-usertile .tile-icon{display:inline-block;font-size:50px;line-height:120px;text-align:center;vertical-align:middle;width:120px}.authenticationusers-tiles-usertile .tile-name{font-size:18px;margin:25px 0 0;text-align:center;white-space:normal;width:120px}.authenticationusers-tiles-emptytile{cursor:pointer;display:inline-block;margin:20px 30px 10px;vertical-align:top}.authenticationusers-tiles-emptytile .tile-shape{background-image:url("+s(i("views/authentication_users/empty_tile_bg_small.png"))+");background-position:50%;background-repeat:no-repeat;height:120px;width:120px}.authenticationusers-tiles-emptytile .tile-name{color:#6b7785;font-size:18px;margin:25px 0 0;text-align:center;white-space:normal;width:120px}.authenticationusers-tiles-userform{background-color:#fff;padding:25px 60px 35px}.authenticationusers-tiles-userform .detail-table .detail-messages{padding:8px 10px}.authenticationusers-tiles-userform .detail-table .detail-messages .alert{margin:0}.authenticationusers-tiles-userform .detail-table .detail-name{padding:8px 20px;text-align:right}.authenticationusers-tiles-userform .detail-table .detail-value{padding:8px 10px}.authenticationusers-tiles-userform .detail-table .detail-pair-timezone .dropdown-toggle{min-width:213px}.authenticationusers-tiles-userform .detail-table .detail-buttons{padding:16px 6px}.authenticationusers-tiles-userform .detail-table .detail-buttons .btn{margin:0 4px}",""])},596:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,".user-edit-form-wrapper h2{color:#53a051;font-size:12px}.user-edit-form-wrapper .control-label{padding-right:10px;padding-top:5px}.user-edit-form-wrapper .exampleText{margin-top:5px;padding-right:4px}",""])},"collections/services/federated_search/FederatedFlag":function(e,t,i){var s,n;s=[i("models/services/federated_search/FederatedFlag"),i("collections/SplunkDsBase")],void 0===(n=function(e,t){return t.extend({url:"data/federated/settings/general",model:e})}.apply(t,s))||(e.exports=n)},"models/services/federated_search/FederatedFlag":function(e,t,i){"use strict";i(2),Object.defineProperty(t,"__esModule",{value:!0});var s,n=i("models/SplunkDBase"),l=(s=n)&&s.__esModule?s:{default:s};t.default=l.default.extend({url:"data/federated/settings/general",hasConsentFlag:function(){return this.entry.content.get("needs_consent")}}),e.exports=t.default},"routers/AuthenticationUsers":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("routers/BaseListings"),i("collections/services/authentication/Users"),i("models/shared/EAIFilterFetchData"),i("models/services/admin/splunk-auth"),i("views/authentication_users/Master")],void 0===(n=function(e,t,i,s,n,l,r){return i.extend({initialize:function(){i.prototype.initialize.apply(this,arguments),this.setPageTitle(t("Manage Accounts").t()),this.enableAppBar=!1,this.model.metadataModel=new n({sortKey:"name",sortDirection:"asc",count:0,offset:0,ownerSearch:"*",visible:!1}),this.model.metadataModel.on("change",this.fetchListCollection,this),this.model.splunkAuth=new l({id:"splunk_auth"}),this.deferreds.splunkAuth=e.Deferred(),this.collection.users=new s},initializeAndRenderViews:function(){this.model.splunkAuth.fetch({success:function(e,t){this.deferreds.splunkAuth.resolve()}.bind(this),error:function(e,t){this.deferreds.splunkAuth.resolve()}.bind(this)}),e.when(this.deferreds.splunkAuth).done(t((function(){this.usersView=new r({model:this.model,collection:this.collection,deferreds:this.deferreds}),this.pageView.$(".main-section-body").html(this.usersView.render().el)})).bind(this))},fetchListCollection:function(){var e=this.model.metadataModel.getCalculatedSearch();this.collection.users.fetch({data:{search:e,app:"-",owner:"-",sort_dir:this.model.metadataModel.get("sortDirection"),sort_key:this.model.metadataModel.get("sortKey").split(","),sort_mode:["auto","auto"],count:this.model.metadataModel.get("count"),offset:this.model.metadataModel.get("offset")}})}})}.apply(t,s))||(e.exports=n)},"routers/Users":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("routers/BaseManager"),i("views/users/PageController")],void 0===(n=function(e,t,i,s,n){return s.extend({routes:{":locale/manager/:app/authentication/:page":"page",":locale/manager/:app/authentication/:page/":"page",":locale/manager/:app/authentication/:page/_new":"pageNew",":locale/manager/:app/authentication/:page/_new*splat":"pageNew",":locale/manager/:app/authentication/:page/:users?*splataction=edit":"pageEdit",":locale/manager/:app/authentication/:page/*splat":"page","*root/:locale/manager/:app/authentication/:page":"pageRooted","*root/:locale/manager/:app/authentication/:page/":"pageRooted","*root/:locale/manager/:app/authentication/:page/_new":"pageNewRooted","*root/:locale/manager/:app/authentication/:page/_new*splat":"pageNewRooted","*root/:locale/manager/:app/authentication/:page/:users?*splataction=edit":"pageEditRooted","*root/:locale/manager/:app/authentication/:page/*splat":"pageRooted","*splat":"notFound"},initialize:function(){s.prototype.initialize.apply(this,arguments),this.enableAppBar=!1,this.fetchAppLocals=!0,this.model.controller=new i.Model},page:function(i,l,r,o){s.prototype.page.apply(this,arguments),this.setPageTitle(t("Users").t()),e.when(this.deferreds.pageViewRendered).done(t((function(){this.addPageViewEl(this.pageView.el),this.entityController&&this.entityController.remove(),this.entityController=new n({model:this.model,collection:this.collection,router:this}),o&&this.entityController.model.controller.trigger(o),this.pageView.$(".main-section-body").append(this.entityController.render().el)})).bind(this))}})}.apply(t,s))||(e.exports=n)},"views/authentication_users/Master":function(e,t,i){var s;void 0===(s=function(e,t,s){i("shim/jquery"),i("require/underscore");var n=i("views/Base"),l=i("views/authentication_users/table/Master");i("views/authentication_users/tiles/Master"),i("views/authentication_users/Master.pcss");return n.extend({moduleId:s.i,initialize:function(){n.prototype.initialize.apply(this,arguments)},render:function(){return this.children.main||(this.children.main=new l({model:this.model,collection:this.collection}),this.children.main.render().appendTo(this.$el)),this}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/Master.pcss":function(e,t,i){var s=i(2027);"string"==typeof s&&(s=[[e.i,s,""]]);var n={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,n);s.locals&&(e.exports=s.locals)},"views/authentication_users/empty_tile_bg_small.png":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAK8AAACvABQqw0mAAAABZ0RVh0Q3JlYXRpb24gVGltZQAwOC8wNC8xNLwmywgAAAAYdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3Jrc0+zH04AAAHNSURBVHic7dxBTsMwAAXRH9RdlWvmULlmlG3dBWQBQiSqXJux5knsilM0khfwy1RKiZhuSbKu6+OP1+xJ5gtnbUnuJ6/xrEpnLcvyGS/Jx4WHnbnyhj2r4lk1oqkT4zFtifGo7onx0IwHZjww44EZD+yIt3V9F3rJEe/s1zT6h7w2mfbEeFRzYjw044EZD8x4YMYDO+LtXd+FXnLEq/nnfTXitQlmPCZnEGDOIOiMBzZ6vKG3/KPHG5rxwJxBgDmDAPPaZHIGAeYMgs54YMYDMx6Y8cCcQYA5gwDz2gQzHpMzCDBnEHTGAzMemPHAjAfmDALMGQSY1yaTMwgwZxB0xgO7nb+kqh6fHWj9zKnVg1rHa/aDfSkdntmM1yaYMwgwZxBgXptgxmNyBgHmDILOeGDGAzMemPHAnEGAOYMA89pkcgYB5gyCznhgxgMzHpjxwJxBgDmDAPPaBDMekzMIMGcQdMYDGz3esJ9TSMaPNzTjgTmDAHMGAea1yeQMAswZBJ3xwIwHZjww44E5gwBzBgHmtQlmPCZnEGDOIOiMB2Y8MOOBGQ/MGQSYMwgwr02mbzOIKcnjx9fVq3T75Xs9671nzUkyldLjv+Wrhie5mmc67qRvhAAAAABJRU5ErkJggg=="},"views/authentication_users/table/Master":function(e,t,i){var s;void 0===(s=function(e,t,s){i("shim/jquery");var n=i("require/underscore"),l=i("shim/splunk.util"),r=i("views/Base"),o=i("views/authentication_users/table/Table"),a=i("views/shared/CollectionPaginator"),d=i("views/shared/controls/LabelControl"),c=i("views/shared/controls/TextControl"),h=i(2020);return r.extend({moduleId:s.i,template:h,initialize:function(){r.prototype.initialize.apply(this,arguments),this.children.filter=new c({model:this.model.metadataModel,modelAttribute:"nameFilter",inputClassName:"search-query",placeholder:n("filter").t(),updateOnKeyUp:!0}),this.children.pageLabel=new d({additionalClassNames:"page-label"}),this.children.paginator=new a({model:this.model.metadataModel,collection:this.collection.users}),this.children.table=new o({model:this.model,collection:this.collection}),this.collection.users.on("reset add remove",this.updatePageLabel,this)},render:function(){if(!this.el.innerHTML){var e=this.model.application.get("app"),t=l.make_url("manager/"+e+"/authentication/users/_new?action=edit"),i=this.compiledTemplate({_:n,newURL:t});this.$el.html(i)}return this.updatePageLabel(),this.children.filter.render().appendTo(this.$(".toolbar-right")),this.children.pageLabel.render().appendTo(this.$(".toolbar-right")),this.children.paginator.render().appendTo(this.$(".toolbar-right")),this.children.table.render().appendTo(this.$el),this},updatePageLabel:function(){var e="",t=this.collection.users.paging,i=t.get("total");if(i>1){var s=t.get("offset"),r=t.get("perPage"),o=s+1,a=Math.min(s+r,i);e=l.sprintf(n("Showing %d-%d of %d items").t(),o,a,i)}else i>0&&(e=n("Showing 1 of 1 item").t());this.children.pageLabel.setValue(e)}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/table/Row":function(e,t,i){var s;void 0===(s=function(e,t,s){var n=i("shim/jquery"),l=i("require/underscore"),r=i("shim/splunk.util"),o=i("views/Base"),a=i("views/shared/dialogs/TextDialog"),d=i(2018);return o.extend({moduleId:s.i,tagName:"tr",template:d,events:{"click .btn-delete":function(e){e.preventDefault();var t=new a({id:"modal_delete"});t.settings.set("primaryButtonLabel",l("Delete").t()),t.settings.set("cancelButtonLabel",l("Cancel").t()),t.settings.set("titleLabel",l("Delete User").t()),t.setText(r.sprintf(l("Are you sure you want to delete user %s?").t(),"<em>"+l.escape(this.model.rowModel.entry.get("name"))+"</em>")),t.on("click:primaryButton",(function(){this.model.rowModel.destroy({wait:!0,success:function(e,i,s){t.hide()},error:function(e,i,s){t.hide()}})}),this),t.on("hidden",(function(){t.remove()}),this),t.render().appendTo(n("body")),t.show()}},initialize:function(e){o.prototype.initialize.call(this,e),this.model.rowModel.entry.acl.on("change",this.debouncedRender,this),this.model.rowModel.entry.content.on("change",this.debouncedRender,this)},render:function(){var e=this.model.rowModel,t=e.entry,i=t.content,s=e.get("id"),n=t.get("name"),o=i.get("type")||"",a=i.get("realname")||"",d=i.get("email")||"",c=i.get("tz")||l("None").t(),h=i.get("defaultApp")||"",u=i.get("defaultAppIsUserOverride")?"":i.get("defaultAppSourceRole")||"",p=i.get("roles");p=p?p.join(", "):"";var m=this.model.application.get("app"),f=r.make_url("manager/"+m+"/authentication/users/"+n+"?uri="+encodeURIComponent(s)+"&action=edit"),g=r.make_url("manager/"+m+"/authentication/users/_new?uri="+encodeURIComponent(s)+"&action=edit"),w=n!==this.model.user.entry.get("name"),v=this.compiledTemplate({_:l,username:n,auth:o,fullname:a,email:d,timeZone:c,defaultApp:h,inheritedApp:u,roles:p,editURL:f,cloneURL:g,showDelete:w});return this.$el.html(v),this}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/table/Table":function(e,t,i){var s;void 0===(s=function(e,t,s){var n=i("shim/jquery"),l=i("require/underscore"),r=i("helpers/grid/RowIterator"),o=i("views/Base"),a=i("views/authentication_users/table/Row"),d=i("views/shared/TableHead"),c=i(2019);return o.extend({moduleId:s.i,template:c,rows:[],events:{"click .model-title":function(e){e.preventDefault();var t=n(e.target).closest("tr").data("row-expand-collapse-id");this.model.eventModel.trigger("edit",t)}},initialize:function(e){o.prototype.initialize.call(this,e),this.collection.users.on("reset add remove",this.debouncedRender,this),this.children.head=new d({model:this.model.metadataModel,columns:[{label:l("Username").t(),className:"col-username",sortKey:"name"},{label:l("Authentication system").t(),className:"col-auth",sortKey:"type"},{label:l("Full name").t(),className:"col-fullname",sortKey:"realname"},{label:l("Email address").t(),className:"col-email",sortKey:"email"},{label:l("Time zone").t(),className:"col-timezone",sortKey:"tz"},{label:l("Default app").t(),className:"col-app",sortKey:"defaultApp"},{label:l("Default app inherited from").t(),className:"col-inherited",sortKey:"defaultAppSourceRole"},{label:l("Roles").t(),className:"col-roles",sortKey:"roles"},{label:l("Actions").t(),className:"col-actions"}]})},render:function(){l(this.rows).each((function(e){e.off(),e.detach()}),this);var e=n(this.compiledTemplate({}));return this.rows=[],(new r).eachRow(this.collection.users,(function(t,i,s,l){var r=n.extend({},this.model,{rowModel:t}),o=new a({model:r,isExpanded:l,index:i,rowNumber:s});o.on("all",(function(){this.trigger.apply(this,arguments)}),this),this.rows.push(o),e.find(".item-table-body").append(o.render().el)}),this),e.find(".item-table-head-placeholder").replaceWith(this.children.head.render().el),this.$el.html(e),this}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/tiles/EmptyTile":function(e,t,i){var s;void 0===(s=function(e,t,s){i("shim/jquery");var n=i("require/underscore"),l=i("views/Base"),r=i(2023);return l.extend({moduleId:s.i,template:r,initialize:function(){l.prototype.initialize.apply(this,arguments)},render:function(){return this.$el.html(this.compiledTemplate({_:n})),this}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/tiles/Master":function(e,t,i){var s;void 0===(s=function(e,t,s){var n=i("shim/jquery"),l=(i("require/underscore"),i("views/Base")),r=i("views/authentication_users/tiles/Title"),o=i("views/authentication_users/tiles/UserForm"),a=i("views/authentication_users/tiles/UserTileList");return l.extend({moduleId:s.i,events:{"click .authenticationusers-tiles-usertile":function(e){e.preventDefault();var t=n(e.currentTarget).attr("data-username");t!==this.currentSelectedUser&&t&&this.showUserForm(t)},"click .authenticationusers-tiles-emptytile":function(e){e.preventDefault(),this.showUserForm()},"click .authenticationusers-tiles-title .add-new":function(e){e.preventDefault(),this.showUserForm()}},initialize:function(){l.prototype.initialize.apply(this,arguments),this.children.title=new r({model:{application:this.model.application,user:this.model.user,serverInfo:this.model.serverInfo},collection:{users:this.collection.users}}),this.children.userTileList=new a({model:{user:this.model.user,serverInfo:this.model.serverInfo},collection:{users:this.collection.users}}),this.activate()},startListening:function(){this.listenTo(this.collection.users,"reset add remove",this.debouncedRender)},render:function(){if(this.children.title.render().appendTo(this.$el),this.children.userTileList.render().appendTo(this.$el),this._userFormFirstShow)this.children.userForm&&this.children.userForm.render().appendTo(this.$el);else{var e=this.model.user.entry.get("name");e&&this.showUserForm(e)}return this},showUserForm:function(e){if(e||this.model.user.canEditUsers()){this.hideUserForm();var t=null;if(e){if(!(t=this.collection.users.find((function(t){return t.entry.get("name")===e}))))return;this.currentSelectedUser=e,n(".tile-list-container div").not(".highlighter").filter('[data-username="'+e+'"]').addClass("active")}else n(".tile-list-container div.authenticationusers-tiles-emptytile").not(".highlighter").addClass("active");this._userFormFirstShow=!0,this.children.userForm=new o({model:{splunkAuth:this.model.splunkAuth,user:this.model.user,userEdit:t},collection:{users:this.collection.users}}),this.children.userForm.on("saved deleted cancelled",this.hideUserForm,this),this.children.userForm.render().appendTo(this.$el),this.children.userTileList.highlightUser(e)}},hideUserForm:function(){this.children.userForm&&(this.children.userTileList.unhighlightUser(),this.children.userForm.remove(),this.children.userForm=null,this.currentSelectedUser=null,n(".tile-list-container div").not(".highlighter").removeClass("active"))}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/tiles/ScrollButton":function(e,t,i){var s;void 0===(s=function(e,t,s){var n=i("shim/jquery"),l=i("views/Base"),r=i(2024);return l.extend({moduleId:s.i,template:r,tagName:"a",events:{mousedown:function(e){e.preventDefault(),this._onMouseDown()},click:function(e){e.preventDefault()}},_isScrolling:!1,_scrollInterval:0,initialize:function(e){l.prototype.initialize.apply(this,arguments),"left"===e.direction?this.$el.addClass("scroll-button-left"):this.$el.addClass("scroll-button-right"),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseUp=this._onMouseUp.bind(this)},render:function(){return this.el.innerHTML||this.$el.html(this.compiledTemplate({direction:this.options.direction})),this},_onMouseDown:function(){this._isScrolling||(this._isScrolling=!0,this._scrollInterval=setInterval(this._onMouseDown,1e3/60),n(document).on("mouseup",this._onMouseUp)),this.trigger("scroll")},_onMouseUp:function(){this._isScrolling&&(this._isScrolling=!1,clearInterval(this._scrollInterval),n(document).off("mouseup",this._onMouseUp))}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/tiles/Title":function(e,t,i){var s;void 0===(s=function(e,t,s){i("shim/jquery");var n=i("require/underscore"),l=i("stubs/i18n"),r=i("shim/splunk.util"),o=i("views/Base"),a=i("uri/route"),d=i(2021);return o.extend({moduleId:s.i,template:d,className:"section-header page-heading clearfix",initialize:function(){o.prototype.initialize.apply(this,arguments)},render:function(){var e=0;this.collection.users.each((function(t){"Splunk"===t.entry.content.get("type")&&e++}),this);var t=a.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),["password","management"]);return this.$el.html(this.compiledTemplate({_:n,sprintf:r.sprintf,ungettext:l.ungettext,canEditUsers:this.model.user.canEditUsers(),isSplunkAuth:"Splunk"===this.model.user.entry.content.get("type"),maxUsers:this.model.serverInfo.entry.content.get("max_users"),numUsers:e,passwordManagementUrl:t})),this}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/tiles/UserForm":function(e,t,i){var s;void 0===(s=function(e,t,s){var n=i("shim/jquery"),l=i("require/underscore"),r=i("require/backbone"),o=i("shim/splunk.util"),a=i("models/services/authentication/User"),d=i("views/Base"),c=i("views/shared/FlashMessages"),h=i("views/shared/controls/SyntheticCheckboxControl"),u=i("views/shared/controls/SyntheticRadioControl"),p=i("views/shared/controls/TextControl"),m=i("views/shared/dialogs/TextDialog"),f=i("views/shared/PasswordFeedback"),g=i(2022);return d.extend({moduleId:s.i,template:g,events:{"click .detail-save":function(e){this.model.userEdit?this.saveUser():this.createUser()},"click .detail-delete":function(e){this.deleteUser()},"click .detail-cancel":function(e){this.cancel()},"input #newpassword":function(e){var t=n(e.currentTarget).val(),i=this.model.splunkAuth.validatePassword(t);this.children.passwordFeedbackView.onInputChange(i),t==n("#confirmpassword").val()&&this.children.passwordFeedbackView.onPasswordMatch()},"focus #confirmpassword":function(e){var t=n("#newpassword").val(),i=this.model.splunkAuth.validatePassword(t);this.children.passwordFeedbackView.onRemoveFocus(i)},"input #confirmpassword":function(e){n("#newpassword").val()==n(e.currentTarget).val()&&this.children.passwordFeedbackView.onPasswordMatch()},"blur #confirmpassword":function(e){var t=n("#newpassword").val(),i=n(e.currentTarget).val();""==t&&""==i&&this.children.passwordFeedbackView.resetIcons(),t!=i?this.children.passwordFeedbackView.onPasswordMismatch():this.children.passwordFeedbackView.onPasswordMatch()},"click .detail-unlock":function(e){this.model.userEdit.entry.content.set("locked-out",!1)}},initialize:function(){if(d.prototype.initialize.apply(this,arguments),this.model.userEdit){var e=this.model.userEdit.entry.content.get("roles");this._workingModel=new r.Model({role:l.indexOf(e,"admin")>=0||l.indexOf(e,"sc_admin")>=0?"admin":"user",can_delete:l.indexOf(e,"can_delete")>=0,email:this.model.userEdit.entry.content.get("email"),realname:this.model.userEdit.entry.content.get("realname"),"locked-out":this.model.userEdit.entry.content.get("locked-out")})}else this._workingModel=new r.Model({role:"user",can_delete:!1});this.children.rolesInput=new u({model:this._workingModel,modelAttribute:"role",items:[{label:l("Admin").t(),value:"admin"},{label:l("User").t(),value:"user"}]}),this.model.userEdit||(this.children.usernameInput=new p({model:this._workingModel,modelAttribute:"name"})),this.children.canDeleteInput=new u({model:this._workingModel,modelAttribute:"can_delete",items:[{label:l("Yes").t(),value:!0},{label:l("No").t(),value:!1}]}),this.children.emailInput=new p({model:this._workingModel,modelAttribute:"email",placeholder:this.model.userEdit?"":l("name@example.com").t()}),this.children.oldPasswordInput=new p({model:this._workingModel,modelAttribute:"oldpassword",elementId:"oldpassword",placeholder:this.model.userEdit?l("Old password").t():"",password:!0}),this.children.passwordInput=new p({model:this._workingModel,modelAttribute:"password",elementId:"newpassword",placeholder:this.model.userEdit?l("Change password").t():"",password:!0,updateOnKeyUp:!0}),this.children.passwordInput.on("change",this._toggleConfirmPassword,this),this.children.confirmPasswordInput=new p({model:this._workingModel,modelAttribute:"confirmPassword",elementId:"confirmpassword",password:!0}),this.children.passwordFeedbackView=new f({model:{splunkAuth:this.model.splunkAuth}}),this.children.fullnameInput=new p({model:this._workingModel,modelAttribute:"realname"}),this.children.unlockInput=new h({model:this._workingModel,modelAttribute:"locked-out",invertValue:!0})},isSelf:function(){return!!this.model.userEdit&&this.model.user.entry.get("name")===this.model.userEdit.entry.get("name")},render:function(){if(this.el.innerHTML||this.$el.html(this.compiledTemplate({_:l,username:this.model.userEdit?this.model.userEdit.entry.get("name"):"",canEditUsers:this.model.user.canEditUsers(),isSplunkAuth:!!this.model.userEdit&&"Splunk"===this.model.userEdit.entry.content.get("type"),isSelf:this.isSelf(),isNew:null==this.model.userEdit,lockedOut:!!this.model.userEdit&&this.model.userEdit.entry.content.get("locked-out")})),this.children.rolesInput.render().appendTo(this.$("tr.detail-pair-roles td.detail-value")),this.children.usernameInput&&this.children.usernameInput.render().appendTo(this.$("tr.detail-pair-username td.detail-value")),this.children.canDeleteInput.render().appendTo(this.$("tr.detail-pair-candelete td.detail-value")),this.children.emailInput.render().appendTo(this.$("tr.detail-pair-email td.detail-value")),null===this.model.userEdit||this.model.user.canEditUsers()&&!this.isSelf()?this.$("tr.detail-pair-oldpassword").hide():this.children.oldPasswordInput.render().appendTo(this.$("tr.detail-pair-oldpassword td.detail-value")),this.children.passwordInput.render().appendTo(this.$("tr.detail-pair-password td.detail-value")),this.children.confirmPasswordInput.render().appendTo(this.$("tr.detail-pair-confirmpassword td.detail-value")),this.children.passwordFeedbackView.render().appendTo(this.$("tr.detail-pair-passwordreq td.detail-value")),this.children.fullnameInput.render().appendTo(this.$("tr.detail-pair-fullname td.detail-value")),(this.model.user.isAdmin()||this.model.user.isCloudAdmin())&&this.model.userEdit&&this.model.userEdit.entry.content.get("locked-out")&&this.children.unlockInput.render().appendTo(this.$("tr.detail-unlock td.detail-value")),!this.model.user.canEditUsers()||this.isSelf()){var e=this._workingModel.get("role")||"N/A";this.$("tr.detail-pair-roles td.detail-value").html(e.charAt(0).toUpperCase()+e.substring(1))}return this.model.user.isAdmin()||this.model.user.isCloudAdmin()||this.children.canDeleteInput.disable(),this.model.userEdit&&"Splunk"!==this.model.userEdit.entry.content.get("type")&&(this.children.rolesInput.disable(),this.children.canDeleteInput.disable(),this.children.emailInput.disable(),this.children.oldPasswordInput.disable(),this.children.passwordInput.disable(),this.children.confirmPasswordInput.disable(),this.children.fullnameInput.disable(),this.children.unlockInput.disable(),this.$("tr.detail-pair-oldpassword").hide(),this.$("tr.detail-pair-password").hide(),this.$("tr.detail-pair-passwordreq").hide()),this._toggleConfirmPassword(),this},saveUser:function(){if(this.model.userEdit){var e=this,t=l(this._workingModel.attributes).clone(),i=(t.oldpassword,t.password),s=t.confirmPassword,n=t.roles=[];if(n.push(t.role),t.can_delete&&n.push("can_delete"),delete t.role,delete t.can_delete,i||(delete t.password,delete t.oldpassword),delete t.confirmPassword,i&&i!==s)return this.model.userEdit.error.set("messages",[{type:"error",message:l("Passwords don't match").t()}]),void this._showError(this.model.userEdit);this.model.userEdit.save(t,{patch:!0,wait:!0,success:function(t,i,s){e.trigger("saved")},error:function(t,i,s){e._showError(t)}})}},createUser:function(){if(!this.model.userEdit){var e=this,t=l(this._workingModel.attributes).clone(),i=t.name,s=t.password,n=t.confirmPassword,r=t.roles=[];r.push(t.role),t.can_delete&&r.push("can_delete"),delete t.role,delete t.can_delete,s||delete t.password,delete t.confirmPassword;var o=new a;return o.entry.content.set(t),i?s?s!==n?(o.error.set("messages",[{type:"error",message:l("Passwords don't match").t()}]),void this._showError(o)):void this.collection.users.create(o,{wait:!0,success:function(t,i,s){e.trigger("saved")},error:function(t,i,s){e._showError(t)}}):(o.error.set("messages",[{type:"error",message:l("Password required").t()}]),void this._showError(o)):(o.error.set("messages",[{type:"error",message:l("Username required").t()}]),void this._showError(o))}},deleteUser:function(){if(this.model.userEdit){var e=this,t=new m({id:"modal_delete"});t.settings.set("primaryButtonLabel",l("Delete").t()),t.settings.set("cancelButtonLabel",l("Cancel").t()),t.settings.set("titleLabel",l("Delete User").t()),t.setText(o.sprintf(l("Are you sure you want to delete user %s?").t(),"<em>"+l.escape(this.model.userEdit.entry.get("name"))+"</em>")),t.on("click:primaryButton",(function(){e.model.userEdit.destroy({wait:!0,success:function(i,s,n){t.hide(),e.trigger("deleted")},error:function(i,s,n){t.hide(),e._showError(i)}})}),this),t.on("hidden",(function(){t.remove()}),this),t.render().appendTo(n("body")),t.show()}},cancel:function(){this.trigger("cancelled")},_toggleConfirmPassword:function(){!this.children.passwordInput.getValue()&&this.model.userEdit?(this.$("tr.detail-pair-confirmpassword").css({visibility:"hidden"}).appendTo(this.$("table.detail-table tbody")),this.children.confirmPasswordInput.setValue("")):this.$("tr.detail-pair-confirmpassword").css({visibility:""}).insertAfter(this.$("tr.detail-pair-password"))},_showError:function(e){this.children.flashMessages&&this.children.flashMessages.remove(),this.children.flashMessages=new c({model:e}),this.children.flashMessages.render().appendTo(this.$(".detail-messages"))}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/tiles/UserTile":function(e,t,i){var s;void 0===(s=function(e,t,s){i("shim/jquery"),i("require/underscore");var n=i("views/Base"),l=i(2025);return n.extend({moduleId:s.i,template:l,initialize:function(){n.prototype.initialize.apply(this,arguments),this.activate()},startListening:function(){this.listenTo(this.model.user,"change",this.debouncedRender)},render:function(){var e=this.model.user,t=e.entry.get("name"),i=e.entry.content.get("realname")||t||"",s=this._extractInitials(i);return this.$el.attr("data-username",t),this.$el.html(this.compiledTemplate({fullname:i,initials:s})),this},_extractInitials:function(e){var t=e.split(/\s/);return(t.length>0?t[0].charAt(0):"")+(t.length>1?t[t.length-1].charAt(0):"")}})}.call(t,i,t,e))||(e.exports=s)},"views/authentication_users/tiles/UserTileList":function(e,t,i){var s;void 0===(s=function(e,t,s){var n=i("shim/jquery"),l=i("require/underscore"),r=i("views/Base"),o=i("views/authentication_users/tiles/EmptyTile"),a=i("views/authentication_users/tiles/ScrollButton"),d=i("views/authentication_users/tiles/UserTile"),c=i(2026);return r.extend({moduleId:s.i,template:c,initialize:function(){r.prototype.initialize.apply(this,arguments),this.children.scrollButtonLeft=new a({direction:"left"}),this.children.scrollButtonLeft.on("scroll",this.scrollLeft,this),this.children.scrollButtonRight=new a({direction:"right"}),this.children.scrollButtonRight.on("scroll",this.scrollRight,this),this.children.tiles=[],this.activate()},startListening:function(){this.listenTo(this.collection.users,"reset add remove",this.debouncedRender)},render:function(){this.el.innerHTML||(this.$el.html(this.compiledTemplate({})),this.children.scrollButtonLeft.render().appendTo(this.$el),this.children.scrollButtonRight.render().appendTo(this.$el)),l(this.children.tiles).each((function(e){e.remove()}),this);var e=0;this.children.tiles=this.collection.users.map((function(t){return"Splunk"===t.entry.content.get("type")&&e++,new d({model:{user:t}})}),this);var t=this.model.serverInfo.entry.content.get("max_users");this.model.user.canEditUsers()&&"Splunk"===this.model.user.entry.content.get("type")&&e<t&&this.children.tiles.push(new o({}));var i=this.$(".tile-list-container");return l(this.children.tiles).each((function(e){e.render().appendTo(i)}),this),this._highlighter&&this.highlightUser(this._highlighterUsername),this._updateScrollButtons(),this},highlightUser:function(e){this.unhighlightUser();var t=-1;if(e?this.collection.users.find((function(i,s){if(i.entry.get("name")===e)return t=s,!0})):t=this.children.tiles.length-1,!(t<0)){var i=180*t;this._highlighterUsername=e,this._highlighter=n("<div></div>").addClass("highlighter").css({left:i+"px"}).appendTo(this.$(".tile-list-container"));var s=this.$(".tile-list-container");s.scrollLeft(Math.max(Math.min(s.scrollLeft(),i),i+180-s.width())),this._updateScrollButtons()}},unhighlightUser:function(){this._highlighter&&(this._highlighter.remove(),this._highlighter=null,this._highlighterUsername=null)},scrollLeft:function(){var e=this.$(".tile-list-container");e.scrollLeft(e.scrollLeft()-10),this._updateScrollButtons()},scrollRight:function(){var e=this.$(".tile-list-container");e.scrollLeft(e.scrollLeft()+10),this._updateScrollButtons()},_updateScrollButtons:function(){var e=this.$(".tile-list-container"),t=e.scrollLeft(),i=e[0].scrollWidth-e.width();t>0?this.children.scrollButtonLeft.$el.show():this.children.scrollButtonLeft.$el.hide(),t<i?this.children.scrollButtonRight.$el.show():this.children.scrollButtonRight.$el.hide()}})}.call(t,i,t,e))||(e.exports=s)},"views/shared/BaseUserSettings":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("shim/splunk.util"),i("require/backbone"),e,i("views/shared/PasswordFeedback"),i("views/Base"),i("views/shared/controls/ControlGroup"),i("views/shared/BaseUserSettings.pcss")],void 0===(n=function(e,t,i,s,n,l,r,o,a){return r.extend({moduleId:n.i,events:{"input #password":function(t){var i=e(t.currentTarget).val(),s=this.model.splunkAuth.validatePassword(i);this.children.passwordFeedbackView.onInputChange(s),i==e("#confirmpassword").val()&&this.children.passwordFeedbackView.onPasswordMatch()},"focus #confirmpassword":function(t){var i=e("#password").val(),s=this.model.splunkAuth.validatePassword(i);this.children.passwordFeedbackView.onRemoveFocus(s)},"input #confirmpassword":function(t){e("#password").val()==e(t.currentTarget).val()&&this.children.passwordFeedbackView.onPasswordMatch()},"blur #confirmpassword":function(t){var i=e("#password").val(),s=e(t.currentTarget).val();""==i&&""==s&&this.children.passwordFeedbackView.resetIcons(),i!=s?this.children.passwordFeedbackView.onPasswordMismatch():this.children.passwordFeedbackView.onPasswordMatch()}},initialize:function(i){r.prototype.initialize.call(this,i),this.renderDfd=new e.Deferred,this.children.entityDesc=new o({controlType:"Text",controlOptions:{modelAttribute:"realname",model:this.model.entity.entry.content,placeholder:t("optional").t()},controlClass:"controls-block",label:t("Full name").t(),required:!1}),this.children.entityEmail=new o({controlType:"Text",controlOptions:{modelAttribute:"email",model:this.model.entity.entry.content,placeholder:t("optional").t()},controlClass:"controls-block",label:t("Email address").t(),required:!1}),this.children.oldPassword=new o({controlType:"Text",controlOptions:{model:this.model.entity.entry.content,modelAttribute:"oldpassword",elementId:"oldpassword",placeholder:t("Old password").t(),password:!0},controlClass:"controls-block",label:t("Old password").t()}),this.children.password=new o({controlType:"Text",controlOptions:{model:this.model.entity.entry.content,modelAttribute:"password",elementId:"password",placeholder:t("New password").t(),password:!0},controlClass:"controls-block",label:t("Set password").t()}),this.children.confirmPassword=new o({controlType:"Text",controlOptions:{model:this.model.entity.entry.content,modelAttribute:"confirmpassword",elementId:"confirmpassword",placeholder:t("Confirm new password").t(),password:!0},label:t("Confirm password").t(),controlClass:"controls-block"}),this.children.passwordFeedbackView=new l({model:{splunkAuth:this.model.splunkAuth,entity:this.model.entity}})},render:function(){return this.$el.html(this.compiledTemplate()),this.children.entityDesc.render().replaceAll(this.$(".name-placeholder")),this.children.entityEmail.render().replaceAll(this.$(".email-placeholder")),this.options.isNew||this.options.isClone||this.options.canEditUser&&this.model.application.get("owner")!=this.model.entity.entry.get("name")||this.children.oldPassword.render().replaceAll(this.$(".oldPassword-placeholder")),this.children.password.render().replaceAll(this.$(".password-placeholder")),this.children.confirmPassword.render().replaceAll(this.$(".confirmPassword-placeholder")),this.children.passwordFeedbackView.render().replaceAll(this.$(".passwordReqSection-placeholder")),this},resetFields:function(){this.model.entity.entry.content.unset("oldpassword"),this.model.entity.entry.content.unset("password"),this.model.entity.entry.content.unset("confirmpassword"),this.children.passwordFeedbackView.resetIcons()},template:'\t\t\t\t<div class="user-edit-form-wrapper">\t\t\t\t\t<div class="name-placeholder"></div>\t\t\t\t\t<div class="email-placeholder"></div>                    <div class="oldPassword-placeholder"></div>\t\t\t\t\t<div class="password-placeholder"></div>\t\t\t\t\t<div class="confirmPassword-placeholder"></div>\t\t\t\t\t<div class="passwordReqSection-placeholder"></div>\t\t\t\t</div>\t\t\t\t'})}.apply(t,s))||(e.exports=n)},"views/shared/BaseUserSettings.pcss":function(e,t,i){var s=i(596);"string"==typeof s&&(s=[[e.i,s,""]]);var n={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,n);s.locals&&(e.exports=s.locals)},"views/users/EditDialog":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("shim/splunk.util"),i("require/backbone"),e,i("views/shared/FlashMessages"),i("views/shared/PasswordFeedback"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("models/account/Login"),i("views/shared/controls/TextControl"),i("views/shared/BaseUserSettings"),i("views/shared/controls/TimeZone")],void 0===(n=function(e,t,i,s,n,l,r,o,a,d,c,h,u){return o.extend({moduleId:n.i,className:o.CLASS_NAME+" edit-dialog-modal modal-wide",events:e.extend({},o.prototype.events,{"click .btn-primary":function(e){e.preventDefault();var s={};if(this.options.isNew||this.options.isClone){var n=this.canUseApps?this.model.entity.entry.acl.get("app"):"search";s.data={app:n,owner:"nobody"}}t.isUndefined(this.model.entity.entry.get("name"))&&this.model.entity.entry.set({name:""},{silent:!0}),this.model.entity.entry.content.set("name",this.model.entity.entry.get("name")),this.options.isClone&&this.model.entity.set("id",void 0),s.headers={"X-Splunk-Form-Key":i.getFormKey()},t.isEmpty(this.model.entity.entry.content.get("password"))&&!this.model.entity.entry.content.get("force-change-pass")&&this.model.entity.entry.content.unset("password"),(this.options.isNew||this.options.isClone)&&this.model.entity.entry.content.set("isNew",!0);var l=this.model.entity.entry.validate(),r=this.model.entity.entry.content.validate();if(t.isUndefined(l)&&t.isUndefined(r)){var o=this.model.entity.save({},s);o&&o.done(function(){this.trigger("entitySaved",this.model.entity.get("name")),this.hide()}.bind(this)).fail(function(){this.$el.find(".modal-body").animate({scrollTop:0},"fast")}.bind(this))}else this.model.entity.trigger("serverValidated",!0,this.model.entity,[])},"click .fedramp-flag a":function(t){t.preventDefault();var s="";s=this.options.isNew?"create":this.options.isClone?"clone":"edit",s+="User.fedrampConsentCheckbox",i.normalizeBoolean(e(t.currentTarget).attr("aria-checked"))?i.trackEvent({type:s,data:{action:"checked consent box",location:"user crud page"}}):i.trackEvent({type:s,data:{action:"unchecked consent box",location:"user crud page"}})}}),initialize:function(s){o.prototype.initialize.apply(this,arguments),t(s=s||{}).defaults({isNew:!0});var n=!(!s.isNew&&!s.isClone)||null;t.defaults(this.model.entity.entry.content.attributes,{"force-change-pass":n}),this.renderDfd=new e.Deferred,this.deferreds=s.deferreds,this.hasConsentFlag=t.some(this.collection.federatedFlag.models,(function(e){return i.normalizeBoolean(e.hasConsentFlag())})),this.children.entityName=new a({controlType:"Text",controlOptions:{modelAttribute:"name",model:this.model.entity.entry},controlClass:"controls-block",label:t("Name").t()});var r=t.map(this.collection.roles.models,(function(e){return{label:e.entry.get("name"),value:e.entry.get("name")}})),d=this.model.entity.entry.content.get("roles");d=t.isUndefined(d)?["user"]:d,this.children.roles=new a({controlType:"Accumulator",tooltip:t("Assign one or more roles to this user. The user will inherit all the settings and capabilities from these roles.").t(),className:"samlgroup-roles control-group",controlOptions:{modelAttribute:"roles",model:this.model.entity.entry.content,availableItems:r,selectedItems:d},controlClass:"controls-block",label:t("Assign roles").t()}),this.children.forceChangePass=new a({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"force-change-pass",model:this.model.entity.entry.content},label:s.isNew?t("Require password change on first login").t():t("Require password change on next login").t()}),this.children.createRole=new a({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"createrole",model:this.model.entity.entry.content},label:t("Create a role for this user").t()}),this.children.fedrampConsentFlag=new a({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"fedrampConsentFlag",model:this.model.entity.entry.content},label:t("I acknowledge that users assigned to roles with the fsh_manage capability can send search results data outside the compliant environment.").t(),additionalClassNames:"fedramp-flag"}),this.children.baseUserSettings=new h({model:this.model,collection:this.collection,isNew:this.options.isNew,isClone:this.options.isClone,canEditUser:this.options.canEditUser}),this.children.unlockButton=new a({controlType:"SyntheticCheckbox",controlOptions:{modelAttribute:"locked-out",model:this.model.entity.entry.content,invertValue:!0},label:t("Select to unlock user").t()}),this.children.timeZone=new a({controls:[new u({model:this.model.entity.entry.content,modelAttribute:"tz",showDefaultLabel:!1,toggleClassName:"btn",popdownOptions:{attachDialogTo:"body"},save:!1})],label:t("Time zone").t(),tooltip:t("Set a time zone for this user.").t()}),this.children.defaultApp=new a({label:t("Default app").t(),controlType:"SyntheticSelect",tooltip:t("Set a default app for this user. Setting this here overrides the default app inherited from the user's role(s).").t(),controlOptions:{modelAttribute:"defaultApp",model:this.model.entity.entry.content,items:[],className:"fieldAppSelect",toggleClassName:"btn",popdownOptions:{detachDialog:!0},save:!1}}),this.children.flashMessagesView=new l({model:{userEntityContentModel:this.model.entity.entry.content,userEntityModel:this.model.entity.entry,userModel:this.model.entity}}),this.model.entity.entry.content.on("change:roles",(function(){this.hasConsentFlag&&this.handleRoleCheck()}),this),e.when(this.deferreds.entity,this.deferreds.entities).done(function(){this.setDefaultAppItems()}.bind(this))},setDefaultAppItems:function(){var e=this.buildAppItems();this.children.defaultApp.childList[0].setItems(e),this.children.defaultApp.childList[0].setValue(this.model.entity.entry.content.get("defaultApp")||"launcher")},buildAppItems:function(){var e=[];return this.collection.appLocals.each((function(t){e.push({value:t.entry.get("name"),label:t.entry.get("name")+" ("+t.entry.content.get("label")+")"})})),e.push({value:"launcher",label:t("launcher (Home)").t()}),t.sortBy(e,(function(e){return(e.label||"").toLowerCase()}))},handleRoleCheck:function(){var e={},i=(t.each(this.collection.roles.models,(function(t){e[t.entry.get("name")]=t.entry.content.get("capabilities")})),this.model.entity.entry.content.get("roles")),s=t.pick(e,i),n=t.flatten(t.values(s)),l=t.contains(n,"fsh_manage");this.model.entity.setConsentFlag(l),l?this.children.fedrampConsentFlag.$el.show():this.children.fedrampConsentFlag.$el.hide()},render:function(){this.$el.html(o.TEMPLATE);var e=this.options.isNew||this.options.isClone?t("Create User").t():t("Edit User: ").t()+" "+t.escape(this.model.entity.entry.get("name"));return this.$(o.HEADER_TITLE_SELECTOR).html(e),this.$(o.BODY_SELECTOR).show(),this.$(o.BODY_SELECTOR).append(o.FORM_HORIZONTAL),this.$(o.BODY_FORM_SELECTOR).html(t(this.dialogFormBodyTemplate).template({})),this.children.flashMessagesView.render().prependTo(this.$(".modal-body")),this.children.forceChangePass.render().replaceAll(this.$(".forceChangePass-placeholder")),this.options.isNew||this.options.isClone?(this.children.entityName.render().replaceAll(this.$(".name-placeholder")),this.children.createRole.render().replaceAll(this.$(".createrole-placeholder"))):this.model.entity.entry.content.unset("password"),this.hasConsentFlag&&(this.children.fedrampConsentFlag.render().replaceAll(this.$(".fedrampConsentFlag-placeholder")),this.handleRoleCheck()),this.children.baseUserSettings.render().replaceAll(this.$(".baseUserSettings-placeholder")),this.children.timeZone.render().replaceAll(this.$(".tz-placeholder")),this.children.defaultApp.render().replaceAll(this.$(".defaultApp-placeholder")),this.children.roles.render().replaceAll(this.$(".roles-placeholder")),this.model.entity.entry.content.get("locked-out")&&this.children.unlockButton.render().replaceAll(this.$(".unlockButton-placeholder")),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CANCEL),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_SAVE),this.renderDfd.resolve(),this},dialogFormBodyTemplate:'                <div class="name-placeholder"></div>                <div class="baseUserSettings-placeholder"></div>                <div class="tz-placeholder"></div>                <div class="defaultApp-placeholder"></div>                <div class="roles-placeholder"></div>                <div class="createrole-placeholder"></div>                <div class="forceChangePass-placeholder"></div>                <div class="fedrampConsentFlag-placeholder"></div>                <div class="unlockButton-placeholder"></div>            '})}.apply(t,s))||(e.exports=n)},"views/users/GridRow":function(e,t,i){"use strict";i(2),Object.defineProperty(t,"__esModule",{value:!0});var s=u(i(83)),n=u(i("require/underscore")),l=u(i("views/Base")),r=u(i("views/shared/DropDownMenu")),o=u(i("shim/splunk.util")),a=u(i("uri/route")),d=u(i("util/time")),c=i(11),h=u(i("views/users/LockoutCell"));function u(e){return e&&e.__esModule?e:{default:e}}t.default=l.default.extend({moduleId:e.i,tagName:"tr",className:"list-item",initialize:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];l.default.prototype.initialize.apply(this,t),this.children.lockoutCell=new h.default({model:this.model})},events:{"click .entity-edit-link":function(e){e.preventDefault(),this.handleActionClick("edit")}},canPreview:function(){var e=this,t=this.model.entity.entry.content.get("roles");return!!(0,c.some)(t,(function(t){var i=e.collection.roles.findByEntryName(t);return i&&(i.entry.content.get("srchIndexesAllowed").length||i.entry.content.get("imported_srchIndexesAllowed").length)}))},handleActionClick:function(e){var t=this;switch(e){case"edit":this.model.controller.trigger("editEntity",this.model.entity);break;case"clone":this.model.controller.trigger("cloneEntity",this.model.entity);break;case"preview":this.openPreviewSearchPage();break;case"delete":this.model.controller.trigger("deleteEntity",this.model.entity);break;case"unlock":this.model.entity.entry.content.set("locked-out",!1),this.model.entity.save(null,{success:function(){t.$(".cell-lockout").remove()}});break;case"view":window.location.href=o.default.make_url("manager/"+this.model.application.get("app")+"/auth/view_capabilities?users="+encodeURIComponent(this.model.entity.entry.get("name")));break;case"viewIndexes":window.location.href=o.default.make_url("manager/"+this.model.application.get("app")+"/auth/view_indexes?entity="+encodeURIComponent(this.model.entity.entry.get("name"))+"&entityType=users")}},openPreviewSearchPage:function(){var e=this,t=this.model.entity.entry.content.get("roles"),i=[],n="";t.forEach((function(t){var l=e.collection.roles.findByEntryName(t);if(l){var r,o,a,d;if(l.entry.content.get("srchIndexesAllowed").length)(r=i).push.apply(r,(0,s.default)(l.entry.content.get("srchIndexesAllowed")));if(l.entry.content.get("srchIndexesDefault").length)(o=i).push.apply(o,(0,s.default)(l.entry.content.get("srchIndexesDefault")));if(l.entry.content.get("imported_srchIndexesDefault").length)(a=i).push.apply(a,(0,s.default)(l.entry.content.get("imported_srchIndexesDefault")));if(l.entry.content.get("imported_srchIndexesAllowed").length)(d=i).push.apply(d,(0,s.default)(l.entry.content.get("imported_srchIndexesAllowed")));n+=l.entry.content.get("srchFilter").length?l.entry.content.get("srchFilter")+" OR ":"",n+=l.entry.content.get("imported_srchFilter").length?l.entry.content.get("imported_srchFilter")+" OR ":""}})),n=n.endsWith(" OR ")?n.substring(0,n.length-4):n,i=new Set([].concat((0,s.default)(i))),this.previewSearchFilterStr="",i.forEach((function(t){e.previewSearchFilterStr+="index="+t+" OR "})),this.previewSearchFilterStr=this.previewSearchFilterStr.endsWith(" OR ")?this.previewSearchFilterStr.substring(0,this.previewSearchFilterStr.length-4):this.previewSearchFilterStr,this.previewSearchFilterStr+=n.length?" | search "+n:"";var l=a.default.search(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),{data:{earliest:"-60s",latest:"now",q:this.previewSearchFilterStr}});this.previewSearchFilterStr&&window.open(l,"_blank")},render:function(){var e=(this.model.entity.entry.content.get("roles")||[]).map((function(e){return(0,n.default)(e).t()})).join(", "),t="Splunk"===this.model.entity.entry.content.get("type"),i=this.model.entity.entry.links.has("remove"),s=[{label:(0,n.default)("Edit").t(),value:"edit"},{label:(0,n.default)("Clone").t(),value:"clone"},{label:(0,n.default)("View Capabilities").t(),value:"view"},{label:(0,n.default)("View Indexes").t(),value:"viewIndexes"}];this.canPreview()&&s.push({label:(0,n.default)("Search As").t(),value:"preview"}),i&&s.push({label:(0,n.default)("Delete").t(),value:"delete"}),this.model.entity.entry.content.get("locked-out")&&s.push({label:(0,n.default)("Unlock").t(),value:"unlock"}),this.children.actionDropDown=new r.default({label:(0,n.default)("Edit").t(),className:"btn-group",anchorClassName:"",dropdownClassName:"dropdown-menu-narrow user-actions",items:s});var l=this.compiledTemplate({model:this.model.entity,rolesText:e,lastLoginTime:d.default.convertToLocalTime(this.model.entity.entry.content.get("last_successful_login"))});return this.$el.html(l),t&&(this.children.actionDropDown.render().appendTo(this.$(".cell-actions")),this.listenTo(this.children.actionDropDown,"itemClicked",this.handleActionClick)),this.children.lockoutCell.render().appendTo(this.$(".cell-lockout")),this},template:"<td class='cell-name'>\n                <a href=''#' class='model-title entity-edit-link'><%- model.entry.get('name') %></a>\n            </td>\n            <td class='cell-actions'></td>\n            <td class='cell-type'><%- _(model.entry.content.get('type') || '').t() %></td>\n            <td class='cell-realname'><%- model.entry.content.get('realname') %></td>\n            <td class='cell-email'><%- model.entry.content.get('email') %></td>\n            <td class='cell-tz'><%- _(model.entry.content.get('tz') || '').t() %></td>\n            <td class='cell-defaultApp'><%- _(model.entry.content.get('defaultApp') || '').t() %></td>\n            <td class='cell-defaultAppSourceRole'>\n                <%- _(model.entry.content.get('defaultAppSourceRole') || '').t() %>\n            </td>\n            <td class='cell-roles'><%- rolesText %></td>\n            <td class='cell-lastlogin'><%- lastLoginTime %></td>\n            <td class='cell-lockout'></div>\n            "},{columns:[{id:"name",title:(0,n.default)("Name").t()},{id:"type",title:(0,n.default)("Authentication system").t()},{id:"realname",title:(0,n.default)("Full name").t()},{id:"email",title:(0,n.default)("Email address").t()},{id:"tz",title:(0,n.default)("Time zone").t()},{id:"defaultApp",title:(0,n.default)("Default app").t()},{id:"defaultAppSourceRole",title:(0,n.default)("Default app inherited from").t()},{id:"roles",title:(0,n.default)("Roles").t()},{id:"last-login",title:(0,n.default)("Last Login").t()},{id:"locked-out",title:(0,n.default)("Status").t(),tooltip:(0,n.default)("User lockout occurs per search head. See documentation for more details.").t()}]}),e.exports=t.default},"views/users/LockoutCell":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("shim/splunk.util")],void 0===(n=function(e,t,i,s,n){return s.extend({moduleId:i.i,className:"lockout-cell",render:function(){var e;return e=n.normalizeBoolean(this.model.entity.entry.content.get("locked-out"))?t.template(this.disabledtemplate):t.template(this.enabledtemplate),this.$el.html(e),this},enabledtemplate:'                <i class="icon-check enable-icon"></i> <span class="enable-text"><%= _("Active").t() %></span>            ',disabledtemplate:'                <i class="icon-lock disable-icon"></i> <span class="enable-text"><%= _("Locked").t() %></span>            '})}.apply(t,s))||(e.exports=n)},"views/users/PageController":function(e,t,i){var s,n;s=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("controllers/BaseManagerPageController"),i("collections/services/authentication/Users"),i("collections/services/authorization/Roles"),i("collections/services/federated_search/FederatedFlag"),i("models/shared/EAIFilterFetchData"),i("models/services/authentication/User"),i("models/services/admin/splunk-auth"),i("views/users/EditDialog"),i("views/users/GridRow"),i("uri/route"),i("views/shared/pcss/basemanager.pcss"),i("views/users/PageController.pcss")],void 0===(n=function(e,t,i,s,n,l,r,o,a,d,c,h,u,p,m,f){return n.extend({moduleId:s.i,initialize:function(e){this.collection=this.collection||{},this.model=this.model||{},this.deferreds=this.deferreds||{},this.model.metadata=new a({sortKey:"name",sortDirection:"asc",count:10,offset:0,ownerSearch:"*",visible:!1}),this.model.splunkAuth=new c({id:"splunk_auth"}),this.deferreds.passwordConfigs=this.model.splunkAuth.fetch(),this.collection.roles=new r,this.deferreds.roles=this.collection.roles.fetch(),this.collection.federatedFlag=new o,this.deferreds.federatedFlag=this.collection.federatedFlag.fetch(),e.enableNavigationFromUrl=!0,e.model=this.model,e.collection=this.collection,e.deferreds=this.deferreds,e.entitiesCollectionClass=l||{},e.entityModelClass=d||{},e.fragments=["authentication","users"],e.entitiesPlural=t("Users").t(),e.entitySingular=t("User").t(),e.grid={showOwnerFilter:!1,showAppColumn:!1,showAppFilter:!1,showOwnerColumn:!1,showDispatchAs:!1,showStatusColumn:!1,showSharingColumn:!1},e.customViews={AddEditDialog:h,GridRow:u},e.canEditUser=this.model.user.canEditUsers(),n.prototype.initialize.call(this,e)},navigateToNew:function(){this.navigate("_new",{data:{action:"edit"}})}})}.apply(t,s))||(e.exports=n)},"views/users/PageController.pcss":function(e,t,i){var s=i(2017);"string"==typeof s&&(s=[[e.i,s,""]]);var n={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(s,n);s.locals&&(e.exports=s.locals)}});