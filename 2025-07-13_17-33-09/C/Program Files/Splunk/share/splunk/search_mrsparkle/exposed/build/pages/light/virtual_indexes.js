!function(e){function t(t){for(var n,o,l=t[0],a=t[1],d=t[2],h=0,p=[];h<l.length;h++)o=l[h],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(c&&c(t);p.length;)p.shift()();return r.push.apply(r,d||[]),i()}function i(){for(var e,t=0;t<r.length;t++){for(var i=r[t],n=!0,l=1;l<i.length;l++){var a=i[l];0!==s[a]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},s={75:0},r=[];function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(e){var t=[],i=s[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=s[e]=[t,n]}));t.push(i[2]=n);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=function(e){return o.p+""+({}[e]||e)+".js"}(e);var a=new Error;r=function(t){l.onerror=l.onload=null,clearTimeout(d);var i=s[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;a.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",a.name="ChunkLoadError",a.type=n,a.request=r,i[1](a)}s[e]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var l=window.webpackJsonp=window.webpackJsonp||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var c=a;r.push([2613,0]),i()}({2613:function(e,t,i){var n,s;i.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,i,n="",s=0,r=arguments.length;s<r;s++)(i=(t=arguments[s].toString()).length)>1&&"/"==t.charAt(i-1)&&(t=t.substring(0,i-1)),"/"!=t.charAt(0)?n+="/"+t:n+=t;if("/"!=n){var o=n.split("/"),l=o[1];if("static"==l||"modules"==l){var a=n.substring(l.length+2,n.length);n="/"+l,window.$C.BUILD_NUMBER&&(n+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(n+="."+window.$C.BUILD_PUSH_NUMBER),"app"==o[2]&&(n+=":"+e("APP_BUILD",0)),n+="/"+a}}var d=e("MRSPARKLE_ROOT_PATH","/"),c=e("LOCALE","en-US"),h="/"+c+n;return""==d||"/"==d?h:d+h}("/static/build/pages/light")+"/"}(),n=[i("routers/VirtualIndexes"),i("util/router_utils")],void 0===(s=function(e,t){new e;t.start_backbone_history()}.apply(t,n))||(e.exports=s)},2614:function(e,t){e.exports='<table class="table table-chrome table-striped">\n    <colgroup>\n        <col class="col-flex col-info <%- headerCellClass %>">\n        <col class="col-slim col-selected">\n        <col class="col-flex col-name">\n        <col class="col-flex col-index">\n        <col class="col-slim col-status">\n        <col class="col-slim col-actions">\n        <col class="col-slim col-provider">\n        <col class="col-slim col-bandwidth">\n    </colgroup>\n    <thead>\n    <% if (collection.length > 0) { %>\n    <tr>\n        <th class="<%- headerCellClass %>"><i class="icon-info"></i></th>\n        <th class="select-all-checkbox"></th>\n        <th class="sorts" <%- sortKeyAttribute %>="name">\n            <a href="#"><%= _(\'Name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n            <th class="sorts" <%- sortKeyAttribute %>="vix.output.buckets.from.indexes">\n        <a href="#"><%= _(\'Index\').t() %><i class="icon-sorts"></i></a>\n        </th>\n            <th class="sorts" <%- sortKeyAttribute %>="disabled">\n        <a href="#"><%= _(\'Status\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th><%= _(\'Actions\').t() %></th>\n        <th class="sorts" <%- sortKeyAttribute %>="vix.provider">\n            <a href="#"><%= _(\'Provider\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th class="bandwidth-header"><%= _(\'Max Bandwidth (Provider)\').t() %>\n            <a href="#" class="tooltip-link"><%- _("?").t() %></a>\n        </th>\n    </tr>\n    <% } %>\n    </thead>\n    <tbody class="archive-grid-table-body">\n\n    </tbody>\n\n</table>\n'},2615:function(e,t){e.exports='<table class="table table-chrome table-striped">\n    <colgroup>\n        <col class="col-flex col-name">\n        <col class="col-slim col-status">\n        <col class="col-slim col-actions">\n        <col class="col-slim col-provider">\n    </colgroup>\n    <thead>\n    <% if (collection.length > 0) { %>\n    <tr>\n        <th class="sorts" <%- sortKeyAttribute %>="name">\n            <a href="#"><%= _(\'Name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th class="sorts" <%- sortKeyAttribute %>="disabled">\n        <a href="#"><%= _(\'Status\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th class="col-actions"><%= _(\'Actions\').t() %></th>\n        <th class="sorts" <%- sortKeyAttribute %>="vix.provider">\n            <a href="#"><%= _(\'Provider\').t() %><i class="icon-sorts"></i></a>\n        </th>\n    </tr>\n    <% } %>\n    </thead>\n    <tbody>\n    <% eachRow(collection, function(model, index, rowNumber, isExpanded) { %>\n    <tr class="list-item">\n        <td>\n            <a href="<%= makeEditLink(model.entry.get(\'name\'))%>"><%- stringUtils.truncateTrailingString(model.entry.get(\'name\'), maxIndexLength) %></a>\n        </td>\n        <td data-id="<%- model.get(\'id\') %>">\n            <% if (model.entry.content.get(\'disabled\')) { %>\n                <%= _(\'Disabled\').t() %> <a href="#" class="enableAction"><%= _(\'Enable\').t() %></a>\n            <% } else { %>\n                <%= _(\'Enabled\').t() %> <a href="#" class="disableAction"><%= _(\'Disable\').t() %></a>\n            <% } %>\n        </td>\n        <td class="actions" data-id="<%- model.get(\'id\') %>">\n            <a href="#" class="searchAction"><%= _(\'Search\').t() %></a>\n            <a href="#" class="deleteAction"><%= _(\'Delete\').t() %></a>\n        </td>\n        <td>\n            <a href="<%= makeProviderLink(model.entry.content.get(\'vix.provider\'))%>"><%- stringUtils.truncateTrailingString(model.entry.content.get(\'vix.provider\'), maxProviderLength) %></a>\n        </td>\n    </tr>\n    <% }) %>\n    </tbody>\n\n</table>\n'},2616:function(e,t){e.exports='<table class="table table-chrome table-striped">\n    <colgroup>\n        <col class="col-flex">\n        <col class="col-slim">\n        <col class="col-100">\n        <col class="col-slim">\n    </colgroup>\n    <thead>\n    <% if (collection.length > 0) { %>\n    <tr>\n        <th class="sorts" <%- sortKeyAttribute %>="name">\n            <a href="#"><%= _(\'Name\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <th>\n            <%= _(\'Actions\').t() %>\n        </th>\n        <th class="sorts" <%- sortKeyAttribute %>="vix.family">\n            <a href="#"><%= _(\'Provider family\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <% if (showVixTab) { %>\n        <th class="sorts" <%- sortKeyAttribute %>="virtual_indexes">\n            <a href="#"><%= _(\'Indexes\').t() %><i class="icon-sorts"></i></a>\n        </th>\n        <% } %>\n    </tr>\n    <% } %>\n    </thead>\n    <tbody>\n    <% eachRow(collection, function(model, index, rowNumber, isExpanded) { %>\n    <tr class="list-item">\n        <td><a href="<%= makeEditLink(model.entry.get(\'name\'))%>"><%- stringUtils.truncateTrailingString(model.entry.get(\'name\'), maxLength) %></a> </td>\n        <td data-id="<%- model.get(\'id\') %>">\n            <% if (model.entry.content.get(\'index_references\') == 0) { %>\n            <a href="#" class="deleteAction"><%= _(\'Delete\').t() %></a>\n            <% } else { %>\n            <span class="tooltip-link muted" rel="tooltip" data-title="<%- _(\'Cannot delete the provider - it is used by one or more archive and/or virtual indexes.\').t() %>"><%= _(\'Delete\').t() %></span>\n            <% } %>\n            <a href="<%- makeCloneLink(model.entry.get(\'name\'))%>"><%= _(\'Clone\').t() %></a>\n        </td>\n        <td><%- model.entry.content.get(\'vix.family\') %> </td>\n        <% if (showVixTab) { %>\n        <td data-name="<%-model.entry.get(\'name\')%>"><a href="#" class="index_references"><%- model.entry.content.get(\'virtual_indexes\') %></a></td>\n        <% } %>\n    </tr>\n    <% }) %>\n    </tbody>\n\n</table>\n'},2617:function(e,t){e.exports='\n<div class="section-header section-padded">\n    <div class="btn-toolbar pull-right">\n        <div class="btn-group">\n            <a href="<%=docLink%>" class="btn" target="_blank" rel="noopener noreferrer"><%= _(\'Documentation\').t() %> <i class="icon-external"></i></a>\n        </div>\n    </div>\n    <h2 class="section-title"><%= _(\'Virtual Indexes\').t() %></h2>\n\n    <div id="gettingstarted-content" style="margin: 10px 0px;"><%= _(\'Virtual indexes are used to connect Splunk with data received from providers, or external storage systems, such as Hadoop or Cassandra. You must have specific licenses for these providers to use this feature.\').t() %>\n    </div>\n\n    <a href="<%=learnMoreLink%>" class="btn btn-primary" target="_blank" rel="noopener noreferrer"><%= _(\'Learn More\').t() %></a>\n</div>\n'},2618:function(e,t){e.exports='<div class="section-header section-padded">\n  <div class="pull-right">\n      <a href="<%=docLink%>" class="doc" target="_blank" rel="noopener noreferrer"><%=_(\'Documentation\').t() %> <i class="icon-external"></i></a>\n  </div>\n  <h1 class="section-title"><%= _(\'Virtual indexes\').t() %></h1>\n</div>\n\n<ul class="nav nav-tabs">\n  <li class="active" id="providers-tab">\n    <a href="#vix_providers" data-toggle="tab"><%= _(\'Providers\').t() %> (<span class=\'provider_count\'><%-provider_count%></span>)</a>\n  </li>\n  <li id="indexes-tab">\n    <a href="#vix_indexes" data-toggle="tab"><%= _(\'Virtual Indexes\').t() %><% if (showVixTab) { %> (<span class=\'indexes_count\'><%-indexes_count%></span>)<% } %></a>\n  </li>\n  <li id="archive-tab">\n    <a href="#vix_archives" data-toggle="tab"><%= _(\'Archived Indexes\').t() %> (<span class=\'archive_count\'><%-archive_count%></span>)</a>\n  </li>\n  <li id="impersonation-tab">\n    <a href="#vix_impersonation" data-toggle="tab"> <%= _(\'Pass Through Authentication\').t() %> </a>\n  </li>\n</ul>\n<div class="tab-content" id="configurations-tabs-contents">\n  <div class="tab-pane" id="vix_providers"></div>\n  <div class="tab-pane" id="vix_indexes"></div>\n  <div class="tab-pane" id="vix_archives"></div>\n  <div class="tab-pane" id="vix_impersonation"></div>\n</div>\n'},2619:function(e,t,i){(e.exports=i(5)(!1)).push([e.i,'.virtualindexes-archivegrid,.virtualindexes-indexesgrid,.virtualindexes-providersgrid{clear:both;padding-top:10px}.virtualindexes-archivegrid>table,.virtualindexes-indexesgrid>table,.virtualindexes-providersgrid>table{background-color:#fff;-webkit-box-shadow:0 1px 1px #e1e6eb;box-shadow:0 1px 1px #e1e6eb;-webkit-box-shadow:0;box-shadow:0}@supports (-ms-ime-align:auto){.virtualindexes-archivegrid>table,.virtualindexes-indexesgrid>table,.virtualindexes-providersgrid>table{position:relative}.virtualindexes-archivegrid>table:before,.virtualindexes-indexesgrid>table:before,.virtualindexes-providersgrid>table:before{background:transparent;-webkit-box-shadow:0 1px 1px #e1e6eb;box-shadow:0 1px 1px #e1e6eb;content:"";display:inline-block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}}@media screen and (-ms-high-contrast:active),screen and (-ms-high-contrast:none){.virtualindexes-archivegrid>table,.virtualindexes-indexesgrid>table,.virtualindexes-providersgrid>table{position:relative}.virtualindexes-archivegrid>table:before,.virtualindexes-indexesgrid>table:before,.virtualindexes-providersgrid>table:before{background:transparent;-webkit-box-shadow:0 1px 1px #e1e6eb;box-shadow:0 1px 1px #e1e6eb;content:"";display:inline-block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}}.message-single{margin:20px}.tab-content{overflow:visible}.tab-content .tab-pane{min-height:416px}.section-padded .divider{clear:both;margin:10px -20px}.tab-pane{min-height:420px}.col-slim{width:140px}.col-100{width:100px}.enableAction,td a+a,td span+a{margin-left:10px}.disableAction{margin-left:13px}.virtualindexes-providersgrid .table td .tooltip-link{font-size:unset;top:unset}.virtualindexes-userimpersonationtab .uneditable-input{padding-left:0;padding-right:0;width:600px}.virtualindexes-archivegrid .expanded-info{padding-top:1em}.virtualindexes-archivegrid .col-info,.virtualindexes-archivegrid .col-selected{width:1em}.virtualindexes-archivegrid .checkbox{padding:0}.virtualindexes-archivegrid .bandwidth-header{white-space:nowrap}.virtualindexes-archivegrid .select-all-checkbox{min-width:16px}.virtualindexes-archivegrid .selected-checkbox{padding-top:10px}.virtualindexes-archivegrid table>tbody>tr>td.selected-checkbox:not(:first-child){border-left:1px solid transparent}.virtualindexes-buttons-placeholder{margin-bottom:15px}.virtualindexes-archivegridrow .checkbox{margin-top:-5px}.virtualindexes-archivegridrow .list-dotted dt{width:140px}.unified-search-placeholder{display:inline-block;float:left;margin-right:5px;width:400px}.unified-search-placeholder .control-group .control-label{margin-right:3px}.unified-search-placeholder .control-group .controls{margin-left:170px;margin-right:2px}.filter-button-placeholder{background-color:#fff}.control.shared-findinput{margin-top:0}.virtualindexes>.section-header{padding-bottom:0}.virtualindexes>.nav-tabs{background-color:transparent}',""])},"collections/services/admin/conf-impersonations":function(e,t,i){var n,s;n=[i("models/services/admin/Impersonation"),i("collections/SplunkDsBase")],void 0===(s=function(e,t){return t.extend({initialize:function(){t.prototype.initialize.apply(this,arguments)},url:"admin/conf-impersonation",model:e})}.apply(t,n))||(e.exports=s)},"collections/services/configs/Indexes":function(e,t,i){var n,s;n=[i("models/services/configs/Indexes"),i("collections/SplunkDsBase")],void 0===(s=function(e,t){return t.extend({url:"configs/conf-indexes",model:e,initialize:function(){t.prototype.initialize.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"models/services/admin/Impersonation":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),i("util/splunkd_utils"),i("models/SplunkDBase")],void 0===(s=function(e,t,i,n,s){var r=function(s,r){var o,l,a=e.Deferred(),d={data:{output_mode:"json",name:s.entry.get("name")}};l=t.isFunction(s.url)?s.url():s.url;var c={};return r.data&&(c=e.extend(c,{app:r.data.app||void 0,owner:r.data.owner||void 0,sharing:r.data.sharing||void 0})),d.url=n.fullpath(l,c),d.processData=!0,e.extend(!0,d.data,this.entry.content.toJSON()),e.extend(!0,d,r),delete d.data.app,delete d.data.owner,delete d.data.sharing,d.data=n.normalizeValuesForPOST(d.data),(o=i.sync.call(null,"create",s,d)).done((function(){a.resolve.apply(a,arguments)})),o.fail((function(){a.reject.apply(a,arguments)})),a.promise()},o=function(t,s){var r,o,l=e.Deferred(),a={data:{output_mode:"json"}},d=t.id;return o=n.fullpath(d,{}),e.extend(!0,a.data,t.entry.content.toJSON()),e.extend(!0,a,s),a.processData=!0,a.type="POST",a.url=o,a.data=n.normalizeValuesForPOST(a.data),(r=i.sync.call(null,"update",t,a)).done((function(){l.resolve.apply(l,arguments)})),r.fail((function(){l.reject.apply(l,arguments)})),l.promise()};return s.extend({url:"admin/conf-impersonation",initialize:function(){s.prototype.initialize.apply(this,arguments)},sync:function(e,t,i){switch(e){case"create":return r.call(this,t,i);case"update":return o.call(this,t,i);default:return s.prototype.sync.apply(this,arguments)}},setName:function(e,t){if(null==e)return this;return e="provider:"+e,this.entry.set("name",e,t),this},getName:function(){var e=this.entry.get("name");return"string"==typeof e&&"provider:"===e.slice(0,9)&&(e=e.slice(9)),e},getHadoopUser:function(e){var t=this.entry.content.get(e);if(t)var i=JSON.parse(t).user;return i},getHadoopQueue:function(e){var t=this.entry.content.get(e);if(t)var i=JSON.parse(t).queue;return i},setAllAttributes:function(e,t,i,n){this.setName(e),this.entry.content.set(t,JSON.stringify({user:i,queue:n}))}})}.apply(t,n))||(e.exports=s)},"models/services/configs/Indexes":function(e,t,i){var n,s;n=[i("models/SplunkDBase")],void 0===(s=function(e){return e.extend({url:"configs/conf-indexes",urlRoot:"configs/conf-indexes",initialize:function(){e.prototype.initialize.apply(this,arguments)}})}.apply(t,n))||(e.exports=s)},"models/services/data/vix/IndexActions":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/backbone"),i("models/Base"),i("util/splunkd_utils")],void 0===(s=function(e,t,i,n){return i.extend({initialize:function(e,t){i.prototype.initialize.apply(this,arguments)},sync:function(i,s,r){var o={data:{output_mode:"json"}};switch(i){case"update":o.processData=!0,o.type="POST",o.url=n.fullpath(s.id),e.extend(!0,o,r);break;default:throw new Error("invalid method: "+i)}return t.sync.call(this,i,s,o)}})}.apply(t,n))||(e.exports=s)},"models/virtual_indexes/EditArchive":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("models/Base")],void 0===(s=function(e,t,i){return i.extend({defaults:{"vix.output.buckets.older.than":void 0},validation:{"vix.output.buckets.older.than":{min:1,msg:t("Older Than must be a number").t()}},initialize:function(e,t){i.prototype.initialize.call(this,e,t)}})}.apply(t,n))||(e.exports=s)},"models/virtual_indexes/EditCutoffSec":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("models/Base")],void 0===(s=function(e,t,i){return i.extend({defaults:{"vix.unified.search.cutoff_sec":void 0},validation:{"vix.unified.search.cutoff_sec":{min:1,msg:t("Cutoff Sec must be a number greater than 0.").t()}},initialize:function(e,t){i.prototype.initialize.call(this,e,t)}})}.apply(t,n))||(e.exports=s)},"routers/VirtualIndexes":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("models/classicurl"),i("models/services/data/vix/IndexActions"),i("models/services/configs/SearchLimit"),i("models/search/Report"),i("collections/services/data/vix/Archives"),i("collections/services/data/vix/Providers"),i("collections/services/data/vix/Indexes"),i("collections/services/datamodel/DataModels"),i("collections/services/configs/Indexes"),i("collections/services/admin/conf-impersonations"),i("collections/services/authentication/Users"),i("views/virtual_indexes/Master"),i("views/virtual_indexes/NoLicense"),i("routers/Base")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d,c,h,p,u,v,f){return f.extend({initialize:function(){f.prototype.initialize.apply(this,arguments),this.setPageTitle(t("Virtual indexes").t()),this.enableAppBar=!1,this.fetchUser=!0,this.fetchServerInfo=!0,this.indexesConfCollection=new c,this.deferreds.indexesConfCollection=this.indexesConfCollection.fetch({data:{search:"name=provider-family*",f:"name"}})},loadMainPage:function(){this.providers=new l,this.indexes=new a,this.archives=new o,this.providersAll=new l,this.indexActions=new n,this.userImpersonationCollection=new h,this.splunkUsers=new p,this.limits=new s,this.dataModels=new d,this.archiveAttempt=new r,this.deferreds.providers=e.Deferred(),this.deferreds.providersAll=e.Deferred(),this.deferreds.userImpersonation=e.Deferred(),this.deferreds.splunkUsers=e.Deferred(),this.deferreds.limitsDfd=e.Deferred(),this.deferreds.dataModelsDfd=e.Deferred(),this.deferreds.archiveAttemptDfd=e.Deferred(),this.userImpersonationCollection.fetch().done(function(){this.deferreds.userImpersonation.resolve()}.bind(this)),this.splunkUsers.fetch().done(function(){this.deferreds.splunkUsers.resolve()}.bind(this)),this.providers.fetchData.set({count:10},{silent:!0}),this.indexes.fetchData.set({count:10},{silent:!0}),this.deferreds.indexes=this.indexes.fetch(),this.providers.fetch().done(function(){this.deferreds.providers.resolve()}.bind(this)),this.providersAll.fetchData.set({count:-1},{silent:!0}),this.providersAll.fetch().done(function(){this.deferreds.providersAll.resolve()}.bind(this)),this.archives.fetchData.set({count:10},{silent:!0}),this.deferreds.archives=this.archives.fetch(),this.limits.fetch().done(function(){this.deferreds.limitsDfd.resolve()}.bind(this)),this.dataModels.fetchData.set({owner:"-",count:0,offset:0},{silent:!0}),this.dataModels.fetch().done(function(){this.deferreds.dataModelsDfd.resolve()}.bind(this)),this.archiveAttempt.set("id",r.buildId(r.ARCHIVE_KICKOFF_SEARCH_ID,"splunk_archiver","nobody")),this.deferreds.archiveAttemptDfd=this.archiveAttempt.fetch({data:{app:"splunk_archiver",owner:"nobody"}}),this.providers.on("deleteApproved",(function(e){e.destroy().done(t((function(){this.providers.fetch(),this.providersAll.fetch().done(function(){this.deferreds.providersAll.resolve()}.bind(this))})).bind(this))}),this),this.indexes.on("deleteApproved",this.onDeleteApproved,this),this.indexes.on("disableRequest",(function(e){this.onRequestChange(e,!1)}),this),this.indexes.on("enableRequest",(function(e){this.onRequestChange(e,!0)}),this),this.archives.on("deleteApproved",this.onDeleteApproved,this),this.archives.on("disableRequest",(function(e){this.onRequestChange(e,!1)}),this),this.archives.on("enableRequest",(function(e){this.onRequestChange(e,!0)}),this),this.masterView=new u({model:{application:this.model.application,limits:this.limits,user:this.model.user,archiveAttempt:this.archiveAttempt},collection:{providers:this.providers,indexes:this.indexes,archives:this.archives,providersAll:this.providersAll,userImpersonation:this.userImpersonationCollection,splunkUsers:this.splunkUsers,dataModels:this.dataModels},providersDfd:this.deferreds.providers,providersAllDfd:this.deferreds.providersAll,userImpersonationDfd:this.deferreds.userImpersonation,splunkUsersDfd:this.deferreds.splunkUsers,limitsDfd:this.deferreds.limitsDfd,dataModelsDfd:this.deferreds.dataModelsDfd,archiveAttemptDfd:this.deferreds.archiveAttemptDfd})},fetchCollections:function(){this.providers.fetch(),this.indexes.fetch(),this.archives.fetch()},onRequestChange:function(e,i){var n=e.entry.links.get(i?"enable":"disable");n&&(this.indexActions.set("id",n),this.indexActions.save().done(t((function(){this.fetchCollections()})).bind(this)))},onDeleteApproved:function(e){e.destroy().done(t((function(){this.fetchCollections()})).bind(this))},loadNoLicense:function(){this.masterView=new v({model:{application:this.model.application}})},page:function(i,n,s){f.prototype.page.apply(this,arguments),this.deferreds.pageViewRendered.done(t((function(){this.addPageViewEl(this.pageView.el)})).bind(this)),e.when(this.deferreds.pageViewRendered,this.deferreds.indexesConfCollection).done(t((function(){this.masterView&&this.masterView.remove(),this.indexesConfCollection.length>0?this.loadMainPage():this.loadNoLicense(),this.pageView.$(".main-section-body").append(this.masterView.render().el)})).bind(this))}})}.apply(t,n))||(e.exports=s)},"util/hunk_util":function(e,t,i){var n,s;n=[i("require/backbone"),i("require/underscore"),i("shim/splunk.util")],void 0===(s=function(e,t,i){var n=1e6,s=1e9,r=1e12,o=t("Kbit/s").t(),l=t("Mbit/s").t(),a=t("Gbit/s").t(),d=t("Tbit/s").t();return{formatBandWidth:function(e){var c=parseInt(e,10)||0,h=c>=r&&c%r==0?{value:r,label:d}:c>=s&&c%s==0?{value:s,label:a}:c>=n&&c%n==0?{value:n,label:l}:{value:1e3,label:o},p=c/h.value;return 0==p?t("unlimited").t():i.sprintf("%d %s",p,h.label)}}}.apply(t,n))||(e.exports=s)},"util/time_hunk":function(e,t,i){var n,s;n=[i("require/backbone"),i("require/underscore"),i("shim/splunk.util"),i("stubs/i18n")],void 0===(s=function(e,t,i,n){var s=t("Year").t(),r=t("Years").t(),o=t("Month").t(),l=t("Months").t(),a=t("Week").t(),d=t("Weeks").t(),c=t("Day").t(),h=t("Days").t(),p=t("Hour").t(),u=t("Hours").t(),v=t("Minute").t(),f=t("Minutes").t(),m=t("Second").t(),g=t("Seconds").t();return{formatSeconds:function(e){var t=parseInt(e,10)||0,b=t>=31536e3&&t%31536e3==0?{value:31536e3,single:s,plural:r}:t>=2592e3&&t%2592e3==0?{value:2592e3,single:o,plural:l}:t>=604800&&t%604800==0?{value:604800,single:a,plural:d}:t>=86400&&t%86400==0?{value:86400,single:c,plural:h}:t>=3600&&t%3600==0?{value:3600,single:p,plural:u}:t>=60&&t%60==0?{value:60,single:v,plural:f}:{value:1,single:m,plural:g},x=t/b.value;return i.sprintf(n.ungettext("%(count)s %(single)s","%(count)s %(plural)s",x),{count:x,single:b.single,plural:b.plural})}}}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/ArchiveGrid":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("helpers/grid/RowIterator"),i("views/virtual_indexes/ArchiveGridRow"),i("views/shared/FlashMessages"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/shared/delegates/ColumnSort"),i("views/shared/delegates/RowExpandCollapse"),i(2614),i("uri/route"),i("util/hunk_util"),i("util/splunkd_utils"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d,c,h,p,u){return n.extend({moduleId:i.i,template:c,className:"push-margins",initialize:function(e){n.prototype.initialize.call(this,e),this.numProviders=0,this.children.columnSort=new a({el:this.el,model:this.collection.archives.fetchData,autoUpdate:!1}),this.children.selectAllCheckbox=new l,this.children.selectAllCheckbox.on("change",this.onSelectAllCheckBoxChange,this),this.children.flashMessages=new o({className:"message-single"}),this.collection.providers.on("change reset",(function(){this.numProviders=this.collection.providers.length,this.updateNoIndexesMessage()}),this),this.collection.archives.on("change reset",(function(){0==this.collection.archives.length?this.updateNoIndexesMessage():this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_archive"),this.children.selectAllCheckbox.setValue(!1,!0,{silent:!0}),this.render()}),this),this.collection.providers.on("change reset",this.debouncedRender,this),this.model.limits.on("change unified_search",this.debouncedRender,this)},events:{"click .searchAction":function(e){var t=this.getIDFromTarget(e);this.collection.archives.trigger("search",this.collection.archives.get(t).entry.get("name")),e.preventDefault()},"click .deleteAction":function(e){var t=this.getIDFromTarget(e);this.collection.archives.trigger("deleteRequest",this.collection.archives.get(t)),e.preventDefault()},"click .disableAction":function(e){var t=this.getIDFromTarget(e);this.collection.archives.trigger("disableRequest",this.collection.archives.get(t)),e.preventDefault()},"click .enableAction":function(e){var t=this.getIDFromTarget(e);this.collection.archives.trigger("enableRequest",this.collection.archives.get(t)),e.preventDefault()},"click a.provider-link":function(t){document.location.href=h.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:e(t.target).attr("data-provider")}}),t.preventDefault()}},updateNoIndexesMessage:function(){if(0==this.collection.archives.length){var e=h.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.virtualindex.archive"),i=t("No indexes are archived.").t()+(0==this.numProviders?t(" You must have at least one provider to create an archive. ").t():"")+'<a href="'+e+'" target="_blank" rel="noopener noreferrer">'+t("Learn more.").t()+' <i class="icon-external"></i></a>';this.children.flashMessages.flashMsgHelper.addGeneralMessage("vix_no_archive",{type:u.ERROR,html:i})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_archive")},onSelectAllCheckBoxChange:function(e,i){t(this.archiveRows).each((function(t){t.setCheckBoxValue(e)}),this)},onEditOlderThan:function(e){this.collection.archives.trigger("editArchive",this.collection.archives.get(e))},onEditCutoffSec:function(e){this.collection.archives.trigger("editCutoffSec",this.collection.archives.get(e))},onSelectedChange:function(e,t){this.trigger("selectedChange",e,t)},getIDFromTarget:function(t){return e(t.target).closest("tr").data("row-expand-collapse-id")},render:function(){this.children.selectAllCheckbox.detach();var i=new s({});this.archiveRows=[];var n=this.compiledTemplate({_:t,collection:this.collection.archives,sortKeyAttribute:a.SORT_KEY_ATTR,headerCellClass:d.HEADER_CELL_CLASS}),o=e(n),l="";this.model.archiveAttempt&&(l=this.model.archiveAttempt.entry.content.get("next_scheduled_time")),i.eachRow(this.collection.archives,(function(e,t,i,n){var s=this.collection.providersAll.getProviderByName(e.entry.content.get("vix.provider")),a="";s&&(a=p.formatBandWidth(s.entry.content.get("vix.output.buckets.max.network.bandwidth")));var d=new r({model:{archive:e,limits:this.model.limits},index:t,isExpanded:n,rowNumber:i,bandWidth:a,nextArchiveAttempt:l});this.archiveRows.push(d),this.listenTo(d,"action:editOlderThan",this.onEditOlderThan),this.listenTo(d,"action:editCutoffSec",this.onEditCutoffSec),this.listenTo(d,"selectedChange",this.onSelectedChange),o.find(".archive-grid-table-body").append(d.render().el)}),this),this.children.columnSort.update(o),this.$el.html(o),this.children.flashMessages.render().appendTo(this.$el),this.children.selectAllCheckbox.render().appendTo(this.$(".select-all-checkbox"));var c=t("Determine the amount of bandwidth to give archived indexes for a particular provider").t();return this.$(".tooltip-link").tooltip({animation:!1,title:c,container:"body"}),this}})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/ArchiveGridRow":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),i("require/backbone"),e,i("shim/splunk.util"),i("util/time_hunk"),i("views/Base"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/shared/delegates/RowExpandCollapse")],void 0===(s=function(e,t,i,n,s,r,o,l,a){return o.extend({moduleId:n.i,tagName:"tr",className:"list-item",events:(d={},d["click td."+a.TOGGLE_CELL_CLASS]="toggleCellClickHandler",d["click a.edit-older-than-btn"]=function(){this.trigger("action:editOlderThan",this.model.archive.get("id"))},d["click a.edit-cutoff-sec-btn"]=function(){this.trigger("action:editCutoffSec",this.model.archive.get("id"))},d),initialize:function(e){o.prototype.initialize.call(this,e),this.children.checkBoxSelected=new l,this.listenTo(this.children.checkBoxSelected,"change",this.onCheckBoxSelectedChange)},setCheckBoxValue:function(e){this.children.checkBoxSelected.setValue(e)},toggleCellClickHandler:function(e){e.preventDefault(),this.isExpanded=!this.isExpanded,this.debouncedRender()},onCheckBoxSelectedChange:function(){this.trigger("selectedChange",this.model.archive.get("id"),this.children.checkBoxSelected.getValue())},render:function(){this.children.checkBoxSelected.detach();var e=r.formatSeconds(this.model.archive.entry.content.get("vix.output.buckets.older.than")),i=this.model.limits.getUnifiedSearch(),n="Off ";if(i&&this.model.archive.entry.content.get("vix.unified.search.cutoff_sec")){var o=r.formatSeconds(this.model.archive.entry.content.get("vix.unified.search.cutoff_sec"));n=s.sprintf(t("Cutoff at %s").t(),o)}var l=this.compiledTemplate({model:this.model.archive,isExpanded:this.isExpanded,olderThan:e,cutoff:n,unifiedSearchEnabled:i,maxBandwidth:this.options.bandWidth,toggleCellClass:a.TOGGLE_CELL_CLASS,expandedCellBody:a.EXPANDED_CELL_MARKUP,collapsedCellBody:a.COLLAPSED_CELL_MARKUP,rowIdAttribute:a.ROW_ID_ATTR,nextArchiveAttempt:this.options.nextArchiveAttempt});return this.$el.html(l),this.$el.attr(a.ROW_ID_ATTR,this.model.archive.get("id")),this.isExpanded?this.$el.addClass(a.EXPANDED_ROW_CLASS):this.$el.removeClass(a.EXPANDED_ROW_CLASS),this.children.checkBoxSelected.render().appendTo(this.$(".selected-checkbox")),this},template:'                <% if(isExpanded) { %>                        <td class="<%- toggleCellClass %>"><%= expandedCellBody %></td>                    <% } else { %>                        <td class="<%- toggleCellClass %>"><%= collapsedCellBody %></td>                <% } %>                <td class="selected-checkbox"></td>                <td><%- model.entry.get("name") %>                    <% if(isExpanded) { %>                        <div class="expanded-info">                            <dl class="list-dotted">                                <dt><%- _("Destination Path").t() %></dt>                                <dd><%- model.entry.content.get("vix.output.buckets.path") %></dd>                                <dt><%- _("Older Than").t() %></dt>                                <dd><%- olderThan %>                                    <a class="edit-older-than-btn" href="#"><%- _("Edit").t() %></a>                                </dd>                                <dt><%- _("Unified Search").t() %></dt>                                <dd><%- cutoff%>                                    <a class="edit-cutoff-sec-btn" href="#"><%- _("Edit").t() %></a>                                </dd>                                <% if (!_.isEmpty(nextArchiveAttempt)) { %>                                    <dt><%- _("Next Archive Attempt").t() %></dt>                                    <dd><%- nextArchiveAttempt %></dd>                                <% } %>                            </dl>                        </div>                    <% } %>                </td>                <td><%- model.entry.content.get("vix.output.buckets.from.indexes") %></td>                <td>                    <% if (model.entry.content.get("disabled")) { %>                        <%= _("Disabled").t() %> <a href="#" class="enableAction"><%= _("Enable").t() %></a>                    <% } else { %>                        <%= _("Enabled").t() %> <a href="#" class="disableAction"><%= _("Disable").t() %></a>                    <% } %>                </td>                <td class="actions">                    <a href="#" class="searchAction"><%= _("Search").t() %></a>                    <a href="#" class="deleteAction"><%= _("Delete").t() %></a>                </td>                <td><a href="#" class="provider-link" data-provider="<%- model.entry.content.get("vix.provider")%>">                    <%- model.entry.content.get("vix.provider") %> </a></td>                <td><a href="#" class="provider-link" data-provider="<%- model.entry.content.get("vix.provider")%>">                    <%- maxBandwidth %></a></td>            '});var d}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/ArchiveTab":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/virtual_indexes/DeleteAllDialog"),i("models/services/data/vix/IndexActions"),i("views/Base"),i("views/virtual_indexes/ArchiveGrid"),i("views/shared/CollectionPaginator"),i("views/shared/DropDownMenu"),i("views/shared/FindInput"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/controls/BooleanRadioControl"),i("views/shared/FlashMessages"),i("uri/route")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d,c,h,p,u,v){return r.extend({moduleId:i.i,className:"section-padded",initialize:function(e){r.prototype.initialize.call(this,e),this.selectedArchives={},this.isAnyArchiveSelected=!1,this.children.filter=new d({model:this.collection.archives.fetchData,key:["name","vix.provider"]}),this.children.pageCount=new h({menuWidth:"narrow",className:"btn-group",items:[{value:10,label:t("10 per page").t()},{value:20,label:t("20 per page").t()},{value:50,label:t("50 per page").t()},{value:100,label:t("100 per page").t()}],model:this.collection.archives.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.unifiedSearchControl=new p({trueLabel:t("On").t(),falseLabel:t("Off").t(),model:this.model.limits.entry.content,modelAttribute:"unified_search"}),this.children.unifiedSearch=new c({controls:[this.unifiedSearchControl],label:t("Unified Search:").t()}),this.unifiedSearchControl.on("change",function(){this.model.limits.save()}.bind(this)),this.children.paginator=new l({collection:this.collection.archives}),this.children.archiveGrid=new o({collection:this.collection,model:this.model}),this.listenTo(this.children.archiveGrid,"selectedChange",this.onSelectedChange),this.children.bulkEditButton=new a({className:"pull-left",label:t("Bulk Actions").t(),items:this.getBulkEditItems(),dropdownClassName:"dropdown-menu-narrow"}),this.children.bulkEditButton.on("itemClicked",this.bulkEditButtonClickHandler,this),this.collection.archives.on("deleteRequest",(function(e){this.children.flashMessages&&this.children.flashMessages.remove(),this.children.flashMessages=new u({model:e}),this.$el.prepend(this.children.flashMessages.render().el)}),this),this.collection.archives.on("filterRequest",(function(e){this.children.filter.$input.val(e),this.children.filter.set(e)}),this),this.collection.archives.on("change reset",(function(){0==this.collection.archives.length?(this.children.filter.isEmpty()&&this.children.filter.$el.hide(),this.children.paginator.$el.hide(),this.children.pageCount.$el.hide(),this.children.bulkEditButton.$el.hide(),this.$(".divider").hide()):(this.children.filter.$el.css("display",""),this.children.paginator.$el.css("display",""),this.children.pageCount.$el.css("display",""),this.children.bulkEditButton.$el.css("display",""),this.$(".divider").css("display","")),this.selectedArchives={},this.updateBulkEditItems()}),this),this.collection.providers.on("change reset",(function(){0==this.collection.providers.length?this.$(".buttons-placeholder").hide():this.$(".buttons-placeholder").show()}),this)},onSelectedChange:function(e,t){t?this.selectedArchives[e]=!0:delete this.selectedArchives[e],this.updateBulkEditItems()},updateBulkEditItems:function(){var e=t(this.selectedArchives).size()>0;e!=this.isAnyArchiveSelected&&this.children.bulkEditButton.setItems(this.getBulkEditItems()),this.isAnyArchiveSelected=e},bulkEditButtonClickHandler:function(t){switch(t){case"enable":this.bulkEdit(!0);break;case"disable":this.bulkEdit(!1);break;case"delete":this.children.deleteAllDialog=new n,this.listenTo(this.children.deleteAllDialog,"deleteConfirmed",this.onDeleteConfirmed),e("body").append(this.children.deleteAllDialog.render().el),this.children.deleteAllDialog.show();break;case"search":this.bulkSearch()}},getBulkEditItems:function(){var e=t(this.selectedArchives).size()>0;return[{label:t("Enable").t(),value:"enable",enabled:e},{label:t("Disable").t(),value:"disable",enabled:e},{label:t("Delete").t(),value:"delete",enabled:e},{label:t("Search").t(),value:"search",enabled:e}]},bulkEdit:function(i){var n=e.Deferred(),r=t(this.selectedArchives).size();t(this.selectedArchives).each((function(o,l){var a=this.collection.archives.get(l).entry.links.get(i?"enable":"disable");a?(this.indexActions=new s,this.indexActions.set("id",a),this.indexActions.save().then(t((function(){0==--r&&n.resolve()})).bind(this))):r--,e.when(n).done(t((function(){this.collection.archives.safeFetch()})).bind(this))}),this)},onDeleteConfirmed:function(){var i=e.Deferred(),n=t(this.selectedArchives).size();t(this.selectedArchives).each((function(e,s){this.collection.archives.get(s).destroy().then(t((function(){0==--n&&i.resolve()})).bind(this))}),this),e.when(i).done(t((function(){this.collection.archives.safeFetch()})).bind(this))},bulkSearch:function(){var e=t.map(this.selectedArchives,(function(e,t){return"index="+this.collection.archives.get(t).entry.get("name")}),this).join(" OR "),i=v.search(this.model.application.get("root"),this.model.application.get("locale"),"search",{data:{q:e}});window.open(i,"_blank","noopener,noreferrer")},render:function(){this.children.filter&&this.children.filter.detach(),this.children.pageCount&&this.children.pageCount.detach(),this.children.paginator&&this.children.paginator.detach(),this.children.archiveGrid&&this.children.archiveGrid.detach(),this.children.bulkEditButton&&this.children.bulkEditButton.detach();var e=v.page(this.model.application.get("root"),this.model.application.get("locale"),"search","splunk_archiver_dashboard"),t=this.compiledTemplate({dashboardURL:e});return this.$el.html(t),this.children.filter.render().replaceAll(this.$(".filter-placeholder")),this.children.bulkEditButton.render().replaceAll(this.$(".bulk-edit-button-placeholder")),this.children.pageCount.render().replaceAll(this.$(".page-count-placeholder")),this.children.paginator.render().replaceAll(this.$(".paginator-placeholder")),this.children.archiveGrid.replaceAll(this.$(".archiveGrid-placeholder")),this.children.unifiedSearch.render().appendTo(this.$(".unified-search-placeholder")),this},template:'                <div class="filter-placeholder"></div>                <div class="buttons-placeholder pull-right">                    <span class="unified-search-placeholder form-horizontal"></span>                    <a href="<%- dashboardURL %>" class="btn btn-primary "><%- _("View Dashboards").t()%></a>                    <a href="archive_new" class="btn btn-primary "><%- _("New Archived Index").t()%></a>                </div>                <div class="divider"></div>                <div class="bulk-edit-button-placeholder"></div>                <div class="page-count-placeholder"></div>                <div class="paginator-placeholder"></div>                <div class="archiveGrid-placeholder"></div>            '})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/DeleteAllDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("require/backbone"),i("views/shared/Modal"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,r){return s.extend({moduleId:i.i,className:s.CLASS_NAME,initialize:function(e){s.prototype.initialize.apply(this,arguments)},events:e.extend({},s.prototype.events,{"click .btn-primary":function(e){this.trigger("deleteConfirmed"),this.hide()}}),render:function(){this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Delete Archives").t());var e=this.compiledTemplate();return this.$(s.BODY_SELECTOR).append(e),this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CANCEL),this.$(s.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+t("Delete").t()+"</a>"),this},template:'<%- _("Are you sure you want to delete all of the selected Archives?").t() %>'})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/DeleteDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("require/backbone"),i("views/shared/Modal"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,r){return s.extend({moduleId:i.i,className:s.CLASS_NAME,initialize:function(e){s.prototype.initialize.apply(this,arguments)},events:e.extend({},s.prototype.events,{"click .btn-primary":function(e){this.collection.trigger("deleteApproved",this.model),this.hide()}}),getVictimName:function(){return this.model.entry.get("name")},render:function(){this.$el.html(s.TEMPLATE),this.$(s.HEADER_TITLE_SELECTOR).html(t("Delete ").t()+this.options.type);var e=this.compiledTemplate({name:this.getVictimName(),type:this.options.type,splunkUtil:r});return this.$(s.BODY_SELECTOR).append(e),this.$(s.FOOTER_SELECTOR).append(s.BUTTON_CANCEL),this.$(s.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+t("Delete").t()+"</a>"),this},template:"<%= splunkUtil.sprintf(_('Are you sure you want to delete the %s named ').t(), type) %> <i><%= name %></i> ?"})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/EditArchiveDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("require/backbone"),i("models/virtual_indexes/EditArchive"),i("views/shared/FlashMessages"),i("views/shared/Modal"),i("views/shared/controls/ControlGroup"),i("views/virtual_indexes/custom_controls/TimeSecondsControl"),i("shim/splunk.util")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d){return o.extend({moduleId:i.i,className:o.CLASS_NAME,initialize:function(e){o.prototype.initialize.apply(this,arguments),this.model.editArchive=new s({"vix.output.buckets.older.than":this.model.archive.entry.content.get("vix.output.buckets.older.than")}),this.timeThresholdControl=new a({modelAttribute:"vix.output.buckets.older.than",model:this.model.editArchive}),this.children.timeThreshold=new l({className:"control-group",controls:[this.timeThresholdControl],label:t("Older Than").t(),help:t("Archive if the bucket is older than this value").t()}),this.children.flashMessages=new r({model:this.model.editArchive})},events:e.extend({},o.prototype.events,{"click .btn-primary":function(i){this.model.editArchive.set({},{validate:!0})&&(this.model.archive.entry.content.set({"vix.output.buckets.older.than":this.model.editArchive.get("vix.output.buckets.older.than")}),e.when(this.model.archive.save()).done(t((function(){this.hide()})).bind(this)))}}),render:function(){return this.$el.html(o.TEMPLATE),this.$(o.HEADER_TITLE_SELECTOR).html(t("Edit Archive - ").t()+this.model.archive.entry.get("name")),this.$(o.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(o.BODY_SELECTOR).append(this.children.timeThreshold.render().el),this.$(o.FOOTER_SELECTOR).append(o.BUTTON_CANCEL),this.$(o.FOOTER_SELECTOR).append('<a href="#" class="btn btn-primary modal-btn-primary">'+t("Save").t()+"</a>"),this}})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/EditCutoffDialog":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("require/backbone"),i("models/Base"),i("models/virtual_indexes/EditCutoffSec"),i("views/shared/FlashMessages"),i("views/shared/Modal"),i("views/virtual_indexes/custom_controls/OptionalTimeSecondsControl"),i("uri/route")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d){return l.extend({moduleId:i.i,className:l.CLASS_NAME,initialize:function(e){l.prototype.initialize.apply(this,arguments);var i=this.model.archive.entry.content.get("vix.unified.search.cutoff_sec"),n=this.model.limits.getUnifiedSearch();this.model.editCutoffSec=new r({"vix.unified.search.cutoff_sec":i});var s=t("Query against virtual index for events older than this value.").t(),c=d.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.unifiedsearch.about"),h=' <a href="'+c+'" class="doc" target="_blank" rel="noopener noreferrer">'+t("Learn More").t()+' <i class="icon-external"></i></a>';this.children.timeThreshold=new a({enabled:n&&i,modelAttribute:"vix.unified.search.cutoff_sec",model:this.model.editCutoffSec,checkboxLabel:t("Enable Unified Search").t(),checkboxHelp:t("Unified Search may increase search runtime.").t(),timeLabel:t("Cutoff Time").t(),timeHelp:s+h}),this.children.flashMessages=new o({model:this.model.editCutoffSec})},events:e.extend({},l.prototype.events,{"click .btn-primary":function(i){this.children.timeThreshold.isEnabled()?this.model.editCutoffSec.set({},{validate:!0})&&(this.saveDfd=e.Deferred(),this.model.limits.getUnifiedSearch()?this.saveDfd.resolve():(this.model.limits.entry.content.set({unified_search:1}),e.when(this.model.limits.save()).done(t((function(){this.saveDfd.resolve()})).bind(this))),e.when(this.saveDfd).done(t((function(){this.saveCutoffSec(this.model.editCutoffSec.get("vix.unified.search.cutoff_sec"))})).bind(this))):this.saveCutoffSec("")}}),saveCutoffSec:function(i){this.model.archive.entry.content.set({"vix.unified.search.cutoff_sec":i}),e.when(this.model.archive.save()).done(t((function(){this.hide()})).bind(this))},render:function(){return this.$el.html(l.TEMPLATE),this.$(l.HEADER_TITLE_SELECTOR).html(t("Edit Archive - ").t()+this.model.archive.entry.get("name")),this.$(l.BODY_SELECTOR).append(this.children.flashMessages.render().el),this.$(l.BODY_SELECTOR).append(this.children.timeThreshold.render().el),this.$(l.FOOTER_SELECTOR).append(l.BUTTON_CANCEL),this.$(l.FOOTER_SELECTOR).append(l.BUTTON_SAVE),this}})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/IndexesGrid":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("helpers/grid/RowIterator"),i("views/shared/FlashMessages"),i("views/shared/delegates/ColumnSort"),i("views/shared/dialogs/TextDialog"),i(2615),i("uri/route"),i("util/splunkd_utils"),i("util/string_utils")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d,c,h){return n.extend({moduleId:i.i,template:a,initialize:function(e){n.prototype.initialize.call(this,e),this.numProviders=0,this.children.columnSort=new o({el:this.el,model:this.collection.indexes.fetchData,autoUpdate:!1}),this.children.flashMessages=new r({className:"message-single"}),this.collection.providers.on("change reset",(function(){this.numProviders=this.collection.providers.length,this.updateNoIndexesMessage()}),this),this.collection.indexes.on("change reset",(function(){0==this.collection.indexes.length?this.updateNoIndexesMessage():this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_indexes"),this.render()}),this)},events:{"click .searchAction":function(t){var i=e(t.target).parent("td").data("id");this.collection.indexes.trigger("search",this.collection.indexes.get(i).entry.get("name")),t.preventDefault()},"click .deleteAction":function(t){var i=e(t.target).parent("td").data("id");this.collection.indexes.trigger("deleteRequest",this.collection.indexes.get(i)),t.preventDefault()},"click .disableAction":function(t){var i=e(t.target).parent("td").data("id");this.collection.indexes.trigger("disableRequest",this.collection.indexes.get(i)),t.preventDefault()},"click .enableAction":function(t){var i=e(t.target).parent("td").data("id");this.collection.indexes.trigger("enableRequest",this.collection.indexes.get(i)),t.preventDefault()}},hasDependentDataModel:function(e){return t(this.collection.dataModels.models).any((function(i){return!!i.entry.content.acceleration.get("enabled")&&t(i.entry.content.objects.models).any((function(t){if(t.attributes&&t.attributes.constraints&&t.attributes.constraints.length){var i=t.attributes.constraints[0].search||"";if(i.startsWith("index="))return i.slice("index=".length)===e}return!1}),this)}),this)},showDataModelWarningModal:function(){this.children.warnAccelerationDialog=new l({id:"modal_warn"}),this.children.warnAccelerationDialog.settings.set("primaryButtonLabel",void 0),this.children.warnAccelerationDialog.settings.set("cancelButtonLabel",void 0),this.children.warnAccelerationDialog.on("hidden",this.destroyWarnAccelerationDialogHandler,this),this.children.warnAccelerationDialog.settings.set("titleLabel",t("Data Model Acceleration Warning").t()),this.children.warnAccelerationDialog.setText(t("This Virtual Index has an accelerated data model that depends on it. Please turn off acceleration on all dependent data models before changing the virtual index.").t()),e("body").append(this.children.warnAccelerationDialog.render().el),this.children.warnAccelerationDialog.show()},makeEditLink:function(e){return d.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_index_new",{data:{id:e}})},makeProviderLink:function(e){return d.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:e}})},updateNoIndexesMessage:function(){if(0==this.collection.indexes.length){var e=d.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.virtualindex.indexes"),i=t("No indexes.").t()+(0==this.numProviders?" "+t("You must have at least one provider to create indexes.").t()+" ":" ")+'<a href="'+e+'" target="_blank" rel="noopener noreferrer">'+t("Learn more.").t()+' <i class="icon-external"></i></a>';this.children.flashMessages.flashMsgHelper.addGeneralMessage("vix_no_indexes",{type:c.ERROR,html:i})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_indexes")},render:function(){var i=new s({}),n=this.compiledTemplate({_:t,collection:this.collection.indexes,eachRow:i.eachRow,sortKeyAttribute:o.SORT_KEY_ATTR,makeEditLink:t(this.makeEditLink).bind(this),makeProviderLink:t(this.makeProviderLink).bind(this),stringUtils:h,maxIndexLength:80,maxProviderLength:25}),r=e(n);return this.children.columnSort.update(r),this.$el.html(r),this.$el.append(this.children.flashMessages.render().el),this}})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/IndexesTab":function(e,t,i){var n,s;n=[i("require/underscore"),e,i("views/Base"),i("views/virtual_indexes/IndexesGrid"),i("views/shared/CollectionPaginator"),i("views/shared/FindInput"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/FlashMessages"),i("uri/route")],void 0===(s=function(e,t,i,n,s,r,o,l,a){return i.extend({moduleId:t.i,className:"section-padded",initialize:function(t){i.prototype.initialize.call(this,t),this.children.filter=new r({model:this.collection.indexes.fetchData,key:["name","vix.provider"]}),this.children.pageCount=new o({menuWidth:"narrow",className:"btn-group pull-left",items:[{value:10,label:e("10 per page").t()},{value:20,label:e("20 per page").t()},{value:50,label:e("50 per page").t()},{value:100,label:e("100 per page").t()}],model:this.collection.indexes.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.paginator=new s({collection:this.collection.indexes}),this.children.indexesGrid=new n({collection:this.collection,model:this.model}),this.collection.indexes.on("deleteRequest",(function(e){this.children.flashMessages&&this.children.flashMessages.remove(),this.children.flashMessages=new l({model:e}),this.$el.prepend(this.children.flashMessages.render().el)}),this),this.collection.indexes.on("filterRequest",(function(e){this.children.filter.$input.val(e)}),this),this.collection.indexes.on("change reset",(function(){0==this.collection.indexes.length?(this.children.filter.isEmpty()&&this.children.filter.$el.hide(),this.children.paginator.$el.hide(),this.children.pageCount.$el.hide(),this.$(".divider").hide()):(this.children.filter.$el.show(),this.children.filter.$el.css("display","inline-block"),this.children.paginator.$el.show(),this.children.pageCount.$el.show(),this.$(".divider").show())}),this),this.collection.providers.on("change reset",(function(){0==this.collection.providers.length?this.$("a[href=vix_index_new]").hide():this.$("a[href=vix_index_new]").show()}),this)},render:function(){var e=a.exploreData(this.model.application.get("root"),this.model.application.get("locale"));this.children.filter&&this.children.filter.detach(),this.children.pageCount&&this.children.pageCount.detach(),this.children.paginator&&this.children.paginator.detach(),this.children.indexesGrid&&this.children.indexesGrid.detach();var t=this.compiledTemplate({exploreDataUrl:e});return this.$el.html(t),this.children.filter.render().replaceAll(this.$(".filter-placeholder")),this.children.pageCount.render().replaceAll(this.$(".page-count-placeholder")),this.children.paginator.render().replaceAll(this.$(".paginator-placeholder")),this.children.indexesGrid.replaceAll(this.$(".indexesGrid-placeholder")),this},template:'                <div class="filter-placeholder"></div>                <div class="virtualindexes-buttons-placeholder pull-right">                    <a href="vix_index_new" class="btn btn-primary "><%- _("New Virtual Index").t()%></a>                    <a href="<%= exploreDataUrl %>" class="btn btn-primary"><%- _("Explore Data").t()%></a>                </div>                <div class="divider"></div>                <div class="page-count-placeholder"></div>                <div class="paginator-placeholder"></div>                <div class="indexesGrid-placeholder"></div>            '})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/Master":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("models/classicurl"),i("views/Base"),i("views/virtual_indexes/ArchiveTab"),i("views/virtual_indexes/IndexesTab"),i("views/virtual_indexes/ProvidersTab"),i("views/virtual_indexes/UserImpersonationTab"),i("views/virtual_indexes/DeleteDialog"),i("views/virtual_indexes/EditArchiveDialog"),i("views/virtual_indexes/EditCutoffDialog"),i("views/virtual_indexes/NoLicense"),i(2618),i("uri/route"),i("shim/bootstrap.tab"),i("views/virtual_indexes/Master.pcss"),i("views/virtual_indexes/shared.pcss")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d,c,h,p,u,v,f,m,g){return s.extend({moduleId:i.i,template:u,initialize:function(){s.prototype.initialize.apply(this,arguments),this.showVixTab=this.model.user.canUseVirtualIndexes(),this.listenTo(this.collection.providers.paging,"change:total",this.updateProvidersCount),this.listenTo(this.collection.indexes.paging,"change:total",this.updateIndexesCount),this.listenTo(this.collection.archives.paging,"change:total",this.updateArchiveCount),this.showVixTab?this.children.indexesTabView=new o({collection:this.collection,model:this.model}):this.children.indexesTabView=new p({model:{application:this.model.application}}),this.children.archiveTabView=new r({collection:this.collection,model:this.model}),this.children.providersTabView=new l({collection:this.collection,model:this.model,showVixTab:this.showVixTab}),this.children.userImpersonationTabView=new a({collection:this.collection,model:this.model,userImpersonationDfd:this.options.userImpersonationDfd,splunkUsersDfd:this.options.splunkUsersDfd}),this.children.deleteDialog=new d({model:this.model}),this.collection.providers.on("deleteRequest",(function(t){this.children.deleteDialog=new d({collection:this.collection.providers,model:t,onHiddenRemove:!0,type:"provider"}),e("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()}),this),this.collection.indexes.on("deleteRequest",(function(t){this.children.deleteDialog=new d({collection:this.collection.indexes,model:t,onHiddenRemove:!0,type:"index"}),e("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()}),this),this.collection.archives.on("deleteRequest",(function(t){this.children.deleteDialog=new d({collection:this.collection.archives,model:t,onHiddenRemove:!0,type:"archive"}),e("body").append(this.children.deleteDialog.render().el),this.children.deleteDialog.show()}),this),this.collection.indexes.on("search",this.onSearch,this),this.collection.archives.on("search",this.onSearch,this),this.collection.archives.on("editArchive",this.onEditArchive,this),this.collection.archives.on("editCutoffSec",this.onEditArchiveCutoff,this)},events:{"click #providers-tab a":function(){n.save({t:"providers"})},"click #indexes-tab a":function(){n.save({t:"indexes"})},"click #archive-tab a":function(){n.save({t:"archives"})},"click #impersonation-tab a":function(){n.save({t:"impersonation"})}},updateProvidersCount:function(){this.$el.find(".provider_count").text(this.collection.providers.paging.get("total"))},updateIndexesCount:function(){this.$el.find(".indexes_count").text(this.collection.indexes.paging.get("total"))},updateArchiveCount:function(){this.$el.find(".archive_count").text(this.collection.archives.paging.get("total"))},makeDocLink:function(e){return v.docHelp(this.model.application.get("root"),this.model.application.get("locale"),e)},onSearch:function(e){var t=v.search(this.model.application.get("root"),this.model.application.get("locale"),"search",{data:{q:"index="+e}});window.open(t,"_blank","noopener,noreferrer")},onEditArchive:function(t){this.children.editDialog=new c({model:{archive:t}}),e("body").append(this.children.editDialog.render().el),this.children.editDialog.show()},onEditArchiveCutoff:function(t){this.children.editCutoffDialog=new h({model:{archive:t,application:this.model.application,limits:this.model.limits}}),e("body").append(this.children.editCutoffDialog.render().el),this.children.editCutoffDialog.show()},render:function(){var t=e.Deferred();n.fetch({success:function(e,i){var s=n.get("t");t.resolve({t:s})}});var i=this.compiledTemplate({provider_count:this.collection.providers.paging.get("total"),indexes_count:this.collection.indexes.paging.get("total"),archive_count:this.collection.archives.paging.get("total"),docLink:this.makeDocLink("manager.virtualindex.dashboard"),showVixTab:this.showVixTab}),s=e(i);return e.when(t).done((function(e){0!=s.filter(".nav-tabs").find('a[href="#vix_'+e.t+'"]').length?(s.filter(".nav-tabs").find('a[href="#vix_'+e.t+'"]').tab("show"),s.find("#vix_"+e.t).addClass("active")):s.find("#vix_providers").addClass("active")})),this.options.dataModelsDfd.done(function(){s.find("#vix_indexes").append(this.children.indexesTabView.render().el)}.bind(this)),e.when(this.options.limitsDfd,this.options.archiveAttemptDfd).done(function(){s.find("#vix_archives").append(this.children.archiveTabView.render().el)}.bind(this)),s.find("#vix_providers").append(this.children.providersTabView.render().el),s.find("#vix_impersonation").append(this.children.userImpersonationTabView.render().el),this.$el.html(s),this}})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/Master.pcss":function(e,t,i){var n=i(2619);"string"==typeof n&&(n=[[e.i,n,""]]);var s={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};i(6)(n,s);n.locals&&(e.exports=n.locals)},"views/virtual_indexes/NoLicense":function(e,t,i){var n,s;n=[i("shim/jquery"),e,i("views/Base"),i(2617),i("uri/route")],void 0===(s=function(e,t,i,n,s){return i.extend({moduleId:t.i,template:n,initialize:function(e){i.prototype.initialize.call(this,e)},events:{"click .primary-button":function(e){e.preventDefault()}},makeDocLink:function(e){return s.docHelp(this.model.application.get("root"),this.model.application.get("locale"),e)},render:function(){var e=this.compiledTemplate({docLink:this.makeDocLink("manager.virtualindex.dashboard"),learnMoreLink:this.makeDocLink("learnmore.virtualindex.overview")});this.$el.html(e)}})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/ProvidersGrid":function(e,t,i){var n,s;n=[i("shim/jquery"),i("require/underscore"),e,i("views/Base"),i("helpers/grid/RowIterator"),i("views/shared/FlashMessages"),i("views/shared/delegates/ColumnSort"),i(2616),i("uri/route"),i("util/splunkd_utils"),i("util/string_utils"),i("shim/splunk.util"),i("shim/bootstrap.tooltip")],void 0===(s=function(e,t,i,n,s,r,o,l,a,d,c,h,p){return n.extend({moduleId:i.i,template:l,initialize:function(e){n.prototype.initialize.call(this,e),this.children.columnSort=new o({el:this.el,model:this.collection.providers.fetchData,autoUpdate:!1}),this.children.flashMessages=new r({className:"message-single"}),this.collection.providers.on("change reset",(function(){this.debouncedRender()}),this)},events:{"click .deleteAction":function(t){var i=e(t.target).parent("td").data("id");this.collection.providers.trigger("deleteRequest",this.collection.providers.get(i)),t.preventDefault()},"click a.index_references":function(t){var i=e(t.target).parent("td").data("name");this.collection.indexes.trigger("filterRequest",i),e('.nav-tabs a[href="#vix_indexes"]').tab("show"),t.preventDefault()}},makeEditLink:function(e){return a.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:e}})},makeCloneLink:function(e){return a.manager(this.model.application.get("root"),this.model.application.get("locale"),this.model.application.get("app"),"vix_provider_new",{data:{id:e,mode:"clone"}})},render:function(){var i=new s({}),n=this.compiledTemplate({_:t,collection:this.collection.providers,eachRow:i.eachRow,sortKeyAttribute:o.SORT_KEY_ATTR,makeEditLink:t(this.makeEditLink).bind(this),makeCloneLink:t(this.makeCloneLink).bind(this),stringUtils:c,maxLength:100,showVixTab:this.options.showVixTab}),r=e(n);if(this.children.columnSort.update(r),this.$el.html(r),this.$el.append(this.children.flashMessages.render().el),this.$(".tooltip-link").tooltip({animation:!1,container:"body"}),0==this.collection.providers.length){var l=a.docHelp(this.model.application.get("root"),this.model.application.get("locale"),"learnmore.virtualindex.providers"),p=h.sprintf(t("No providers. %s or %s.").t(),'<a href="'+l+'" target="_blank" rel="noopener noreferrer">'+t("Learn more").t()+' <i class="icon-external"></i></a>','<a href="vix_provider_new">'+t("Create new provider").t()+"</a>");this.children.flashMessages.flashMsgHelper.addGeneralMessage("vix_no_providers",{type:d.ERROR,html:p})}else this.children.flashMessages.flashMsgHelper.removeGeneralMessage("vix_no_providers");return this}})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/ProvidersTab":function(e,t,i){var n,s;n=[i("require/underscore"),e,i("views/Base"),i("views/virtual_indexes/ProvidersGrid"),i("views/shared/CollectionPaginator"),i("views/shared/FindInput"),i("views/shared/controls/SyntheticSelectControl"),i("views/shared/FlashMessages"),i("uri/route")],void 0===(s=function(e,t,i,n,s,r,o,l,a){return i.extend({moduleId:t.i,className:"section-padded",initialize:function(t){i.prototype.initialize.call(this,t),this.children.filter=new r({model:this.collection.providers.fetchData}),this.children.pageCount=new o({menuWidth:"narrow",className:"btn-group pull-left",items:[{value:10,label:e("10 per page").t()},{value:20,label:e("20 per page").t()},{value:50,label:e("50 per page").t()},{value:100,label:e("100 per page").t()}],model:this.collection.providers.fetchData,modelAttribute:"count",toggleClassName:"btn-pill"}),this.children.paginator=new s({collection:this.collection.providers}),this.children.providersGrid=new n({collection:this.collection,model:this.model,showVixTab:this.options.showVixTab}),this.collection.providers.on("deleteRequest",(function(e){this.children.flashMessages&&this.children.flashMessages.remove(),this.children.flashMessages=new l({model:e}),this.$el.prepend(this.children.flashMessages.render().el)}),this),this.collection.providers.on("change reset",(function(){0==this.collection.providers.length?(this.children.filter.isEmpty()&&this.children.filter.$el.hide(),this.children.paginator.$el.hide(),this.children.pageCount.$el.hide(),this.$(".divider").hide()):(this.children.filter.$el.show(),this.children.filter.$el.css("display","inline-block"),this.children.paginator.$el.show(),this.children.pageCount.$el.show(),this.$(".divider").show())}),this)},render:function(){var e=a.exploreData(this.model.application.get("root"),this.model.application.get("locale"));this.children.filter&&this.children.filter.detach(),this.children.pageCount&&this.children.pageCount.detach(),this.children.paginator&&this.children.paginator.detach(),this.children.providersGrid&&this.children.providersGrid.detach();var t=this.compiledTemplate({exploreDataUrl:e,showVixTab:this.options.showVixTab});return this.$el.html(t),this.children.filter.render().replaceAll(this.$(".filter-placeholder")),this.children.pageCount.render().replaceAll(this.$(".page-count-placeholder")),this.children.paginator.render().replaceAll(this.$(".paginator-placeholder")),this.children.providersGrid.replaceAll(this.$(".providersGrid-placeholder")),this},template:'                <div class="filter-placeholder"></div>                <div class="buttons-placeholder pull-right">                    <a href="vix_provider_new" class="btn btn-primary "><%- _("New Provider").t()%></a>                    <% if (showVixTab) { %>                        <a href="<%= exploreDataUrl %>" class="btn btn-primary"><%- _("Explore Data").t()%></a>                    <% } %>                </div>                <div class="divider"></div>                <div class="page-count-placeholder"></div>                <div class="paginator-placeholder"></div>                <div class="providersGrid-placeholder"></div>            '})}.apply(t,n))||(e.exports=s)},"views/virtual_indexes/UserImpersonationTab":function(e,t,i){var n;void 0===(n=function(e,t,n){var s=i("shim/jquery"),r=i("require/underscore"),o=i("models/services/admin/Impersonation"),l=i("views/Base"),a=i("require/backbone"),d=i("views/shared/controls/ControlGroup"),c=i("views/shared/FlashMessages"),h=(i("models/SplunkDBase"),i("shim/splunk.util")),p=i("uri/route");return l.extend({moduleId:n.i,className:"section-padded",initialize:function(e){l.prototype.initialize.call(this,e),this._providerListViewDfd=s.Deferred(),this._usersListViewDfd=s.Deferred(),this._mediator=new a.Model,this.children.flashMessagesView=new c({collection:this.collection}),s.when(this.options.providersAllDfd,this.options.splunkUsersDfd,this.options.userImpersonationDfd).done(function(){this._initProviderList(),this._initAvailableUsersList()}.bind(this)),this._initHadoopUser(),this._initQueue(),this.listenTo(this._mediator,"change:provider reset:provider change:splunkUser reset:splunkUser",this._onChooseProviderAndUser),this.listenTo(this.collection.providersAll,"change reset remove",this._initProviderList)},events:{"click .btn-primary":function(e){e.preventDefault(),this._enableImpersonation(),this._copyFromMediatorToModel()}},_initProviderList:function(){this._providerListItems=this.collection.providersAll.filter((function(e){return 1==e.entry.content.get("vix.splunk.impersonation")})).map((function(e){return{value:e.entry.get("name"),label:e.entry.get("name")}})),this.children.providerList=new d({className:"provider-list control-group",controlType:"SyntheticSelect",controlOptions:{modelAttribute:"provider",model:this._mediator,items:this._providerListItems,additionalClassNames:"view-count",menuWidth:"narrow",toggleClassName:"btn",prompt:r("Select a Provider").t()},label:r("Providers").t()}),this._providerListViewDfd.resolve(),this.$el.find(".provider-list-container").empty().append(this.children.providerList.render().el),this.updateView()},_initAvailableUsersList:function(){this._usersListThisProvider=this.collection.splunkUsers.map((function(e){return{value:e.entry.get("name"),label:e.entry.get("name")}})),this.children.usersList=new d({className:"users-list control-group",controlType:"SyntheticSelect",controlOptions:{modelAttribute:"splunkUser",model:this._mediator,items:this._usersListThisProvider,additionalClassNames:"view-count",menuWidth:"narrow",toggleClassName:"btn",prompt:r("Select a User").t()},label:r("Users").t()}),this._usersListViewDfd.resolve()},_initHadoopUser:function(){this.children.hadoopUser=new d({className:"hadoop-user-name control-group",controlType:"Text",controlOptions:{modelAttribute:"hadoopUser",model:this._mediator,save:!1},label:r("Hadoop User").t()})},_initQueue:function(){this.children.hadoopQueue=new d({className:"queue control-group",controlType:"Text",controlOptions:{modelAttribute:"hadoopQueue",model:this._mediator,save:!1},label:r("Queue").t()})},_onChooseProviderAndUser:function(e){var t,i,n=this._mediator.get("provider"),s=this._mediator.get("splunkUser"),r=this.collection.userImpersonation.find((function(e){return e.getName("name")===n}));n&&s&&(this.children.hadoopUser.enable(),this.children.hadoopQueue.enable(),this.$el.find("a.btn-primary").removeClass("disabled")),r&&(t=r.getHadoopUser(s),i=r.getHadoopQueue(s)),this._mediator.set("hadoopUser",t),this._mediator.set("hadoopQueue",i)},_copyFromMediatorToModel:function(){var e=this._mediator.get("provider"),t=this._mediator.get("splunkUser"),i=this._mediator.get("hadoopUser"),n=this._mediator.get("hadoopQueue"),s=this.collection.userImpersonation.find((function(t){return t.getName("name")===e})),l=s||new o;l.setAllAttributes(e,t,i,n),l.save({},{data:{app:"search",owner:"nobody"}}).done(r((function(){this.collection.userImpersonation.fetch()})).bind(this)),this.$el.find("#save-message").html(r("saved!").t()).hide().show("").delay(1e3).hide("slow")},_enableImpersonation:function(){var e=this._mediator.get("provider");this.collection.providersAll.each((function(t){t.entry.get("name")===e&&(t.entry.content.set("vix.splunk.impersonation",1),t.save())}),this)},updateView:function(){var e=this._providerListItems.length,t=p.getContextualPageRouter(this.model.application);if(e>0)this.children.flashMessagesView.flashMsgHelper.removeGeneralMessage("__no_providers_error"),this.$(".admin-content").show();else{var i=t.manager("virtual_indexes",{data:{t:"providers"}}),n=h.sprintf(r("The admin has not created any Hadoop providers with Pass Through Authentication enabled. <a href='%s'> Manage providers.</a>").t(),i);this.children.flashMessagesView.flashMsgHelper.addGeneralMessage("__no_providers_error",{type:h.WARNING,html:n}),this.$(".admin-content").hide()}},render:function(){var e=s(this.compiledTemplate());return this.$el.empty(),s.when(this._providerListViewDfd,this._usersListViewDfd).done(function(){e.children(".provider-list-container").append(this.children.providerList.render().el),e.children(".users-list").append(this.children.usersList.render().el),e.children(".hadoop-user").append(this.children.hadoopUser.render().el),e.children(".queue").append(this.children.hadoopQueue.render().el),this._mediator.get("provider")&&this._mediator.get("splunkUser")||(this.children.hadoopUser.disable(),this.children.hadoopQueue.disable())}.bind(this)),this.$el.html(e),this.children.flashMessagesView.render().appendTo(this.$(".flash-messages-placeholder")),this},template:'<div class="flash-messages-placeholder"></div><div class="admin-content dashboard-panel clearfix"><div class="provider-list-container"></div><div class="users-list"></div><div class="hadoop-user"></div><div class="queue"></div><div class="button-wrapper"><a href="#" class="btn btn-primary pull-right disabled">'+r("Save").t()+'</a><div class="pull-left" id="save-message" style="font-size: 20px; font-weight: bold; background-color:#ffff99;"></div></div></div>'})}.call(t,i,t,e))||(e.exports=n)},"views/virtual_indexes/custom_controls/OptionalTimeSecondsControl":function(e,t,i){var n,s;n=[i("require/underscore"),i("models/Base"),i("views/Base"),i("views/shared/controls/Control"),i("views/shared/controls/ControlGroup"),i("views/shared/controls/SyntheticCheckboxControl"),i("views/virtual_indexes/custom_controls/TimeSecondsControl"),e],void 0===(s=function(e,t,i,n,s,r,o,l){return n.extend({moduleId:l.i,initialize:function(){this.model.editCutoffSec=new t({enabled:this.options.enabled}),this.enableUnifiedCheckbox=new r({model:this.model.editCutoffSec,modelAttribute:"enabled",label:this.options.checkboxLabel}),this.children.enabledGroup=new s({controls:[this.enableUnifiedCheckbox],help:this.options.checkboxHelp}),this.listenTo(this.model.editCutoffSec,"change enabled",this.setTimeThresholdVisibility),this.unifiedSearchCutoffControl=new o({modelAttribute:this.options.modelAttribute,model:this.options.model}),this.children.timeCutoff=new s({className:"control-group",controls:[this.unifiedSearchCutoffControl],label:this.options.timeLabel,tooltip:this.options.timeTooltip,help:this.options.timeHelp})},setTimeThresholdVisibility:function(){this.model.editCutoffSec.get("enabled")?this.children.timeCutoff.enable():this.children.timeCutoff.disable()},isEnabled:function(){return this.model.editCutoffSec.get("enabled")},render:function(){return this.$el.append(this.children.enabledGroup.render().el),this.$el.append(this.children.timeCutoff.render().el),this.setTimeThresholdVisibility(),this}})}.apply(t,n))||(e.exports=s)}});