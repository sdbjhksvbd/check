!function(e){function t(t){for(var s,i,a=t[0],l=t[1],c=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);for(u&&u(t);p.length;)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,a=1;a<n.length;a++){var l=n[a];0!==o[l]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},o={55:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,s){n=o[e]=[t,s]}));t.push(n[2]=s);var r,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+""+({}[e]||e)+".js"}(e);var l=new Error;r=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+s+": "+r+")",l.name="ChunkLoadError",l.type=s,l.request=r,n[1](l)}o[e]=void 0}};var c=setTimeout((function(){r({type:"timeout",target:a})}),12e4);a.onerror=a.onload=r,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var u=l;r.push([2547,0]),n()}({2547:function(e,t,n){var s,o;n.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,n,s="",o=0,r=arguments.length;o<r;o++)(n=(t=arguments[o].toString()).length)>1&&"/"==t.charAt(n-1)&&(t=t.substring(0,n-1)),"/"!=t.charAt(0)?s+="/"+t:s+=t;if("/"!=s){var i=s.split("/"),a=i[1];if("static"==a||"modules"==a){var l=s.substring(a.length+2,s.length);s="/"+a,window.$C.BUILD_NUMBER&&(s+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(s+="."+window.$C.BUILD_PUSH_NUMBER),"app"==i[2]&&(s+=":"+e("APP_BUILD",0)),s+="/"+l}}var c=e("MRSPARKLE_ROOT_PATH","/"),u=e("LOCALE","en-US"),d="/"+u+s;return""==c||"/"==c?d:c+d}("/static/build/pages/enterprise")+"/"}(),s=[n("routers/EditNotes"),n("util/router_utils")],void 0===(o=function(e,t){new e;t.start_backbone_history()}.apply(t,s))||(e.exports=o)},2548:function(e,t,n){(e.exports=n(5)(!1)).push([e.i,".edit-notes .editFormWrapper{background-color:#fff;-webkit-box-shadow:0 1px 1px #e1e6eb;box-shadow:0 1px 1px #e1e6eb;margin:0 auto 20px;position:relative;width:960px}.edit-notes .editFormWrapper .formWrapper{padding:20px}.edit-notes .editFormWrapper .formWrapper .note-control-group{max-width:100%!important}.edit-notes .editFormWrapper .jmFormActions{border-top:1px solid #e1e6eb;height:32px;padding:20px;text-align:right}.edit-notes .editFormWrapper .jmFormActions>*{min-width:100px}",""])},"collections/services/licenser/Licenses":function(e,t,n){var s,o;s=[n("collections/SplunkDsBase"),n("models/services/licenser/License")],void 0===(o=function(e,t){return e.extend({url:"licenser/licenses",model:t})}.apply(t,s))||(e.exports=o)},"models/services/licenser/License":function(e,t,n){var s,o;s=[n("models/SplunkDBase")],void 0===(o=function(e){return e.extend({url:"licenser/licenses",initialize:function(){e.prototype.initialize.apply(this,arguments)}})}.apply(t,s))||(e.exports=o)},"routers/EditNotes":function(e,t,n){var s,o;s=[n("shim/jquery"),n("require/underscore"),n("routers/Base"),n("collections/services/licenser/Licenses"),n("views/edit_notes/ReactAdapterMaster"),n("util/url_parser")],void 0===(o=function(e,t,n,s,o,r){return n.extend({initialize:function(t){n.prototype.initialize.apply(this,arguments),this.options=t||{},this.enableAppBar=!1;var o=this.getLocationHref(this.options);this.hasChanges=r.getHasChangesFlag(o),r.removeURLFlag(o,"has_changes"),this.license_id=r.getFlagFromURL(o,"license_id"),this.license_model="/services/licenser/licenses/"+this.license_id,this.collection.licenses=new s,this.deferreds.licenses=e.Deferred(),this.bootstrapLicenses()},bootstrapLicenses:function(){"resolved"!==this.deferreds.licenses.state()&&this.collection.licenses.fetch({success:function(e,t){this.deferreds.licenses.resolve()}.bind(this),error:function(e,t){this.deferreds.licenses.resolve()}.bind(this)})},getLocationHref:function(e){return e.location||location.href},reloadLocation:function(){location.reload()},handleSettingsSaved:function(){r.setURLFlag(this.getLocationHref(this.options),"has_changes",1),this.reloadLocation()},page:function(s,r,i){n.prototype.page.apply(this,arguments);var a=t("Edit Notes").t();this.setPageTitle(a),e.when(this.deferreds.pageViewRendered,this.deferreds.licenses).then(function(){this.masterView=new o({model:{license:this.collection.licenses.get(this.license_model)},pageTitle:a,onSettingsSaved:this.handleSettingsSaved.bind(this),hasChanges:this.hasChanges,license_id:this.license_id}),this.addPageViewEl(this.pageView.el),this.pageView.$(".main-section-body").append(this.masterView.render().el)}.bind(this))}})}.apply(t,s))||(e.exports=o)},"views/edit_notes/EditNotes":function(e,t,n){"use strict";n(2),Object.defineProperty(t,"__esModule",{value:!0});var s=E(n(15)),o=E(n(16)),r=E(n(17)),i=E(n(20)),a=E(n(21)),l=n(0),c=E(l),u=E(n(4)),d=E(n(261)),p=n(3),f=E(n(23)),h=E(n(32)),m=E(n(27)),v=E(n(19)),g=E(n(34)),b=E(n("shim/splunk.util")),_=E(n(26)),y=n("util/test_support"),w=E(n(115));function E(e){return e&&e.__esModule?e:{default:e}}n("views/edit_notes/EditNotes.pcss");var x=function(t){function n(e){(0,o.default)(this,n);var t=(0,i.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));S.call(t);var s=e.options.hasChanges;return t.state={messages:[],successModalOpen:s},t}return(0,a.default)(n,t),(0,r.default)(n,[{key:"componentDidMount",value:function(){d.default.mark("Global banner view - First meaningful paint",{timeout:0})}},{key:"render",value:function(){var t=this,n=this.props.options.pageTitle,o=this.state.messages.map((function(e,t){return c.default.createElement(_.default,{key:t,type:e.type},e.msg)})),r=b.default.make_url("manager/system/licensing");return c.default.createElement("div",(0,s.default)({className:"edit-notes"},(0,y.createTestHook)(e.i)),c.default.createElement("div",{className:"section-padded section-header"},c.default.createElement("h1",{className:"section-title"},n),c.default.createElement("div",{className:"breadcrumb"},c.default.createElement(m.default,{to:r},(0,p._)("Licenses"))," Â» "+n)),c.default.createElement("div",{className:"editFormWrapper"},c.default.createElement("div",{className:"formWrapper"},o,c.default.createElement(f.default,{"data-test-name":"license-control-group",label:(0,p._)("License")},c.default.createElement(w.default,null,this.props.model.license.entry.content.get("label"))),c.default.createElement(f.default,{"data-test-name":"note-control-group",className:"note-control-group",label:(0,p._)("Notes")},c.default.createElement(h.default,{multiline:!0,inline:!0,key:"note","data-test-name":"note-input",canClear:!0,defaultValue:this.getNotesProp("notes"),onChange:function(e,n){var s=n.value;t.setNotesProp("notes",s)}}))),c.default.createElement("div",{className:"jmFormActions"},c.default.createElement(v.default,{"data-test-name":"cancel-button",to:r,label:(0,p._)("Cancel"),appearance:"secondary"}),c.default.createElement(v.default,{"data-test-name":"save-button",href:"",label:(0,p._)("Save"),appearance:"primary",onClick:this.handleSave}))),c.default.createElement(g.default,{"data-test-name":"success-modal",onRequestClose:function(){return t.setState({successModalOpen:!1})},open:this.state.successModalOpen},c.default.createElement(g.default.Header,{title:(0,p._)("Changes Saved"),onRequestClose:function(){return t.setState({successModalOpen:!1})}}),c.default.createElement(g.default.Body,null,(0,p._)("Successfully updated notes.")),c.default.createElement(g.default.Footer,null,c.default.createElement(v.default,{appearance:"primary",to:r+"#"+this.props.options.license_id,label:(0,p._)("Ok")}))))}}]),n}(l.Component),S=function(){var e=this;this.getNotesProp=function(t){return e.props.model.license.entry.content.get(t)},this.setNotesProp=function(t,n){e.props.model.license.entry.content.set(t,n),e.forceUpdate()},this.handleSave=function(){var t=e.props.options.onSettingsSaved,n={notes:e.getNotesProp("notes")||""};e.props.model.license.save({},{patch:!0,data:n,success:function(){b.default.trackEvent({type:"licenseNotes.interact",data:{action:"save",notes:n.notes.length}}),t()},error:function(t,n){if(n.responseJSON&&n.responseJSON.messages&&n.responseJSON.messages[0]){var s=n.responseJSON.messages[0].text;e.setState({messages:[{msg:(0,p._)(s),type:"error"}]})}}})}};x.propTypes={model:u.default.object.isRequired,options:u.default.object.isRequired},t.default=x,e.exports=t.default},"views/edit_notes/EditNotes.pcss":function(e,t,n){var s=n(2548);"string"==typeof s&&(s=[[e.i,s,""]]);var o={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};n(6)(s,o);s.locals&&(e.exports=s.locals)},"views/edit_notes/ReactAdapterMaster":function(e,t,n){"use strict";n(2),Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),o=a(n("views/ReactAdapterBase")),r=a(n("dashboard/components/shared/BackboneProvider")),i=a(n("views/edit_notes/EditNotes"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=o.default.extend({getComponent:function(){return s.default.createElement(r.default,{store:{}},s.default.createElement(i.default,this))}}),e.exports=t.default}});