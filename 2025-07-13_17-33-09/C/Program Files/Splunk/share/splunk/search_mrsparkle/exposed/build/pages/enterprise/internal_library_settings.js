!function(e){function t(t){for(var n,s,o=t[0],l=t[1],u=t[2],d=0,f=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&f.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(c&&c(t);f.length;)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={50:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.e=function(){return Promise.resolve()},s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var c=l;i.push([2531,0]),r()}({2531:function(e,t,r){r.p=function(){function e(e,t){if(window.$C&&window.$C.hasOwnProperty(e))return window.$C[e];if(void 0!==t)return t;throw new Error("getConfigValue - "+e+" not set, no default provided")}return function(){for(var t,r,n="",a=0,i=arguments.length;a<i;a++)(r=(t=arguments[a].toString()).length)>1&&"/"==t.charAt(r-1)&&(t=t.substring(0,r-1)),"/"!=t.charAt(0)?n+="/"+t:n+=t;if("/"!=n){var s=n.split("/"),o=s[1];if("static"==o||"modules"==o){var l=n.substring(o.length+2,n.length);n="/"+o,window.$C.BUILD_NUMBER&&(n+="/@"+window.$C.BUILD_NUMBER),window.$C.BUILD_PUSH_NUMBER&&(n+="."+window.$C.BUILD_PUSH_NUMBER),"app"==s[2]&&(n+=":"+e("APP_BUILD",0)),n+="/"+l}}var u=e("MRSPARKLE_ROOT_PATH","/"),c=e("LOCALE","en-US"),d="/"+c+n;return""==u||"/"==u?d:u+d}("/static/build/pages/enterprise")+"/"}(),r(2);var n=f(r(0)),a=r(3),i=f(r(230)),s=f(r(323)),o=f(r("services/Web")),l=f(r("services/WebFeatures")),u=f(r("services/InternalLibraries")),c=f(r("services/ServerInfo")),d=f(r("views/shared/InternalLibrarySettings"));function f(e){return e&&e.__esModule?e:{default:e}}r("util/csrf_protection");var p=function(e,t){return(0,i.default)(n.default.createElement(n.default.Fragment,null,n.default.createElement(d.default,{isSHC:e,isCloud:t}),n.default.createElement(s.default,null)),{pageTitle:(0,a._)("Internal Library Settings"),hideFooter:!0,hideAppBar:!0,layout:"scrolling",theme:window.UI_THEME})};c.default.getServerInfo().then((function(e){var t=e.isSHC,r=e.isCloud;Promise.all([l.default.getFeatureSettings("quarantine_files"),o.default.getWebSettings({useSystemNamespace:!0}),u.default.getQuarantinedStatusPromise(t)]).then((function(){return p(t,r)})).catch((function(e){if("invalid_json"!==e.type)throw e;p(t,r)}))}))},2532:function(e,t,r){(e.exports=r(5)(!1)).push([e.i,".core-library-setting{padding:20px 0}.core-library-setting .upper-container{display:-webkit-box;display:-ms-flexbox;display:flex}.core-library-setting .upper-left-container{-ms-flex-preferred-size:35%;flex-basis:35%}.core-library-setting .upper-right-container{-ms-flex-preferred-size:65%;flex-basis:65%}.core-library-setting .library-message-toggle{display:-webkit-box;display:-ms-flexbox;display:flex}.core-library-setting .toggle-message{padding-top:1%}.core-library-setting .toggle-button{width:-webkit-fit-content!important;width:-moz-fit-content!important;width:fit-content!important;-webkit-box-flex:0;-ms-flex-positive:0;flex-grow:0}.core-library-setting .toggle-switch{padding-left:2%}.core-library-setting .library-description{padding-bottom:2%}.core-library-setting .toggle-wait-spinner{margin-top:4px}.core-library-setting .quarantined-status-info{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.core-library-setting .quarantined-status-info>:not(:last-child){margin-right:10px}.core-library-setting:not(:last-child){border-bottom:1px solid #e1e6eb}",""])},2533:function(e,t,r){(e.exports=r(5)(!1)).push([e.i,".core-library-settings .editFormWrapper{background-color:#fff;-webkit-box-shadow:0 1px 1px #e1e6eb;box-shadow:0 1px 1px #e1e6eb;margin:0 auto 20px;position:relative;width:960px}.core-library-settings .editFormWrapper .formWrapper .page-header{margin:10px 0 0;padding-bottom:20px}.core-library-settings .editFormWrapper .formWrapper .page-header>*{color:#3c444d!important;display:block}.core-library-settings .editFormWrapper .formWrapper .page-header>:not(:last-child){margin-bottom:10px}.core-library-settings .editFormWrapper .formWrapper{padding:20px}",""])},"models/quarantinefiles/InternalLibrarySettings":function(e,t,r){"use strict";r(2),Object.defineProperty(t,"__esModule",{value:!0});var n=u(r(0)),a=r(3),i=u(r(27)),s=r(28),o=r(29),l=u(r("uri/route"));function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,s.createURL)("/app/python_upgrade_readiness_app/jquery_scan"),d={id:"enable_jQuery2",libraryName:(0,a._)("jQuery Libraries older than 3.5"),containsInsecureLibraries:!0,restrictingAckMessage:(0,a._)("You are restricting access to vulnerable versions of jQuery libraries that might introduce breaking changes to dashboards and private and public applications in your Splunk platform instance. While restricting libraries might lead to breaking changes, restricting these libraries is the best way to help keep your Splunk platform instance secure."),restoringAckMessage:(0,a._)("You are temporarily restoring access to vulnerable jQuery library versions that put your Splunk platform instance at a security risk. Restricting these libraries is the best way to help keep your Splunk platform instance secure. Splunk will remove vulnerable versions of jQuery entirely in a future release."),generateDescription:function(){var e=l.default.docHelp(o.rootPath,o.locale,"jquery.restricted.files"),t=(0,s.createURL)("/app/search/jquery_upgrade");return function(){return n.default.createElement("div",null,(0,a._)("Splunk ships jQuery libraries with the Splunk platform. Splunk software now requires jQuery 3.5 because older versions have known security vulnerabilities. This upgrade might require you to update your dashboards and applications. Use the jQuery Scan section in the "),n.default.createElement(i.default,{to:c,openInNewContext:!0},(0,a._)("Upgrade Readiness App")),(0,a._)(" to identify affected applications and the "),n.default.createElement(i.default,{to:t,openInNewContext:!0},(0,a._)("jQuery Upgrade Dashboard")),(0,a._)(" to identify affected dashboards and applications and update them. This setting is only available in versions of Splunk software that allow jQuery libraries older than 3.5. "),n.default.createElement(i.default,{to:e,openInNewContext:!0},(0,a._)("Learn more")))}}},f={id:"enable_unsupported_hotlinked_imports",libraryName:(0,a._)("Unsupported Hotlinked Imports"),containsInsecureLibraries:!1,restrictingAckMessage:(0,a._)("You are restricting access to unsupported hotlinked imports that might introduce breaking changes to private and public applications in your Splunk platform instance. While restricting imports might lead to breaking changes, restricting these imports is the best way to help keep your Splunk instance secure."),restoringAckMessage:(0,a._)("You are temporarily restoring access to unsupported hotlinked imports that might put your Splunk platform instance at a security risk in the future. Restricting these imports is the best way to help keep your Splunk platform instance secure. Splunk will remove unsupported hotlinked imports entirely in a future release."),generateDescription:function(){return function(){return n.default.createElement("div",null,(0,a._)("Unsupported hotlinked imports are dependencies in your Simple XML Custom JavaScript Extensions that directly reference Splunk productsâ€™ code. These imports might introduce security risks in your Splunk platform instance in the future. This upgrade might require you to update your public and private applications. Refer to the jQuery Scan section in the "),n.default.createElement(i.default,{to:c,openInNewContext:!0},(0,a._)("Upgrade Readiness App")),(0,a._)(" to check which applications might be affected. This setting is only available in versions of Splunk software that allow unsupported hotlinked imports."))}}};t.default=function(e){return e?[f]:[d,f]},e.exports=t.default},"services/InternalLibraries":function(e,t,r){"use strict";(function(e){r(2),Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLibraries=t.instance=void 0;var n=f(r(73)),a=f(r(83)),i=f(r(77)),s=f(r(15)),o=f(r(16)),l=r(28),u=r(39),c=r(31),d=r(3);function f(e){return e&&e.__esModule?e:{default:e}}r("util/csrf_protection");var p=function t(){var r=this;(0,o.default)(this,t),this._setStatuses=function(e){r.statuses=e},this._getStatuses=function(){return r.statuses},this.getSHCount=function(){var e=r._getStatuses();return e&&e.length},this._getProxiedQuarantinedStatusPromise=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new Promise((function(a,i){t||i((0,c.sprintf)((0,d._)("%(serverName)s has no matching proxy servername."),{serverName:n}));var o=encodeURIComponent(t),f=(0,l.createRESTURL)("remote-proxy/quarantined/status?proxy_to="+o,{app:"system",owner:"nobody"});e(f,(0,s.default)({},u.defaultFetchInit,{method:"GET"})).then((function(e){e.ok&&e.json().then((function(e){a((0,s.default)({},e,{serverName:n}))})).catch((function(e){e.type="invalid_json",r._setStatuses(null),i(e)}))}))}))},this._getSHStatuses=function(){var t=(0,l.createRESTURL)("shcluster/member/members?output_mode=json",{app:"system",owner:"nobody"});return new Promise((function(r,n){e(t,(0,s.default)({},u.defaultFetchInit,{method:"GET"})).then((function(e){e.json().then((function(e){var t=e.entry.map((function(e){var t=e.content;return{servername:t.label,status:t.status}}));r(t)})).catch((function(e){n("Failed to get SHC availability "+e.stack)}))}))}))},this._getProxyNodes=function(){var t=(0,l.createRESTURL)("remote-proxy/nodes",{app:"system",owner:"nobody"});return new Promise((function(r,n){e(t,(0,s.default)({},u.defaultFetchInit,{method:"GET"})).then((function(e){e.ok&&e.json().then((function(e){return r(e)})).catch((function(e){return n("Failed to get remote proxy nodes "+e.stack)}))}))}))},this._getMergedSHCNodesStatus=function(e,t){var r=t.nodes;return{aliveSHs:e.filter((function(e){return"Up"===e.status})).map((function(e){var t=r.find((function(t){return t.servername===e.servername}));return{servername:e.servername,proxy_to:t&&t.proxy_to}})),downSHs:e.filter((function(e){return"Up"!==e.status})).map((function(){return{}}))}},this._sendRequestToAllLiveSearchHeads=function(e){return e.map((function(e){return r._getProxiedQuarantinedStatusPromise(e.proxy_to,e.servername)}))},this._getSHCScriptStatusPromise=function(){return new Promise((function(e,t){Promise.all([r._getSHStatuses(),r._getProxyNodes()]).then((function(n){var s=(0,i.default)(n,2),o=s[0],l=s[1],u=r._getMergedSHCNodesStatus(o,l),c=u.aliveSHs,d=u.downSHs,f=r._sendRequestToAllLiveSearchHeads(c);return Promise.all(f).then((function(t){var n=[].concat((0,a.default)(t),(0,a.default)(d));r._setStatuses(n),e(n)})).catch((function(e){return t(e)}))})).catch((function(e){return t(e)}))}))},this._getSingleInstanceQuarantinedStatusPromise=function(){var t=(0,l.createRESTURL)("quarantined/status",{app:"system",owner:"nobody"});return new Promise((function(n,a){return e(t,(0,s.default)({},u.defaultFetchInit,{method:"GET"})).then((function(e){e.ok&&e.json().then((function(e){var t=[e];r._setStatuses(t),n(t)})).catch((function(e){e.type="invalid_json",r._setStatuses(null),a(e)}))})).catch((function(e){a(e)}))}))},this._getAllSettings=function(){var e=r._getStatuses(),t=e&&e.find((function(e){return!!Object.keys(e).length}));return t?Object.keys(t):[]},this._isOutOfSyncState=function(e,t){return("restricted"===e||"not-restricted"===e)&&e!=={true:"not-restricted",false:"restricted"}[t]},this.getQuarantinedStatusPromise=function(e){return e?r._getSHCScriptStatusPromise():r._getSingleInstanceQuarantinedStatusPromise()},this.getQueuedStatuses=function(e){var t=r._getStatuses();return t?r._getAllSettings().reduce((function(a,i){return(0,s.default)({},a,(0,n.default)({},i,t.some((function(t){return t[i]&&("processing"===t[i]||r._isOutOfSyncState(t[i],e[i]))}))))}),{}):null},this.getCountOfFailedSHs=function(){var e=r._getStatuses();return e?r._getAllSettings().reduce((function(t,r){return(0,s.default)({},t,(0,n.default)({},r,e.filter((function(e){return e[r]&&"error"===e[r]})).length))}),{}):null},this.getCountOfInactiveSHs=function(){var e=r._getStatuses();return e?e.filter((function(e){return!Object.keys(e).length})).length:null},this.statuses=[]},g=new p;t.default=g,t.instance=g,t.InternalLibraries=p}).call(this,r(37))},"services/ServerInfo":function(e,t,r){"use strict";r(2),Object.defineProperty(t,"__esModule",{value:!0}),t.ServerInfoService=t.instance=void 0;var n=s(r(15)),a=s(r(16)),i=s(r("models/services/server/ServerInfo"));function s(e){return e&&e.__esModule?e:{default:e}}var o=function e(){var t=this;(0,a.default)(this,e),this.getServerInfo=function(){return t.hasResults?Promise.resolve(t.model.entry.content.attributes):new Promise((function(e,r){t.model.fetch({success:function(){t.hasResults=!0,e((0,n.default)({},t.model.entry.content.attributes,{isSHC:t.model.isSHC(),isCloud:t.model.isCloud()}))},error:function(e,t){return r(t)}})}))},this.model=new i.default,this.hasResults=!1},l=new o;t.default=l,t.instance=l,t.ServerInfoService=o},"views/shared/InternalLibraryChangeModal":function(e,t,r){"use strict";r(2),Object.defineProperty(t,"__esModule",{value:!0});var n=g(r(16)),a=g(r(17)),i=g(r(20)),s=g(r(21)),o=g(r(0)),l=g(r(4)),u=g(r(34)),c=g(r(19)),d=g(r(38)),f=r(31),p=r(3);function g(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,n.default)(this,t);var r=(0,i.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={acknowledged:!1},r.close=r.close.bind(r),r}return(0,s.default)(t,e),(0,a.default)(t,[{key:"close",value:function(){var e=this.props.handleRequestClose;this.setState({acknowledged:!1}),e()}},{key:"render",value:function(){var e=this,t=this.props,r=t.libraryName,n=t.open,a=t.handleConfirmRestrict,i=t.restrict,s=t.acknowledgementMessage,l=this.state.acknowledged,g=(0,f.sprintf)((0,p._)("%(restricting)s %(libraryName)s"),{restricting:i?"Restricting":"Unrestricting",libraryName:r}),h=i?(0,p._)("Restrict"):(0,p._)("Unrestrict");return o.default.createElement(u.default,{onRequestClose:this.close,open:n,style:{width:"600px"}},o.default.createElement(u.default.Header,{title:g,onRequestClose:this.close}),o.default.createElement(u.default.Body,null,s,o.default.createElement(d.default,{key:r+"_acknowledgement",value:l,onClick:function(){return e.setState({acknowledged:!l})},selected:l,appearance:"checkbox"},(0,p._)("I understand the impact"))),o.default.createElement(u.default.Footer,null,o.default.createElement(c.default,{appearance:"secondary",onClick:this.close,label:(0,p._)("Cancel")}),o.default.createElement(c.default,{appearance:"primary",label:h,disabled:!l,onClick:function(){a(),e.close()}})))}}]),t}(o.default.Component);h.propTypes={acknowledgementMessage:l.default.string.isRequired,restrict:l.default.bool.isRequired,libraryName:l.default.string.isRequired,open:l.default.bool.isRequired,handleRequestClose:l.default.func.isRequired,handleConfirmRestrict:l.default.func.isRequired},t.default=h,e.exports=t.default},"views/shared/InternalLibrarySetting":function(e,t,r){"use strict";r(2),Object.defineProperty(t,"__esModule",{value:!0});var n=b(r(15)),a=b(r(16)),i=b(r(17)),s=b(r(20)),o=b(r(21)),l=b(r(0)),u=b(r(4)),c=b(r("views/shared/InternalLibraryChangeModal")),d=r("util/test_support"),f=b(r(66)),p=b(r(19)),g=r(31),h=r(3),m=b(r("views/shared/QuarantineStatusInfo")),v=b(r("views/shared/QuarantineStatusSearchHeadInformation"));function b(e){return e&&e.__esModule?e:{default:e}}r("views/shared/InternalLibrarySetting.pcss");var S=function(t){function r(e){(0,a.default)(this,r);var t=(0,s.default)(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.getToggleButtonProps=function(e,t){return e?t?{toggleButtonMessage:(0,h._)("Unrestricting"),toggleButtonAppearance:"secondary"}:{toggleButtonMessage:(0,h._)("Restricting"),toggleButtonAppearance:"primary"}:t?{toggleButtonMessage:(0,h._)("Restrict"),toggleButtonAppearance:"primary"}:{toggleButtonMessage:(0,h._)("Unrestrict"),toggleButtonAppearance:"secondary"}},t.searchHeads=[],t.state={restrictModalOpen:!1,viewStatusModalOpen:!1,toggleDisabled:!1,checkStatus:!1},t.getToggleButtonProps=t.getToggleButtonProps.bind(t),t}return(0,o.default)(r,t),(0,i.default)(r,[{key:"render",value:function(){var t=this,r=this.props,a=r.libraryName,i=r.acknowledgementMessage,s=r.goalState,o=r.setting,u=r.toggleDisabled,b=r.handleSaveProp,S=r.isSHC,y=r.countFailedSHs,_=r.countInactiveSHs,w=r.shCount,k=this.props.description,C=this.getToggleButtonProps(u,s),x=C.toggleButtonMessage,E=C.toggleButtonAppearance,H=this.state.restrictModalOpen;return l.default.createElement("div",(0,n.default)({className:"core-library-setting","data-test-name":o},(0,d.createTestHook)(e.i)),l.default.createElement("div",{className:"upper-container"},l.default.createElement("div",{className:"upper-left-container"},l.default.createElement("div",{className:"library-name"},l.default.createElement("b",null,a))),l.default.createElement("div",{className:"upper-right-container"},l.default.createElement("div",{className:"library-description"},l.default.createElement(k,null)),!u&&l.default.createElement(m.default,{countFailedSHs:y,countInactiveSHs:_,libraryName:a,setting:o,isSHC:S,enabled:s}),l.default.createElement("div",{className:"quarantined-status-info"},l.default.createElement(p.default,{key:"core_lib_"+o,"data-test-name":"toggle-button","aria-label":(0,g.sprintf)((0,h._)("%(toggleButtonMessage)s %(libraryName)s"),{toggleButtonMessage:x,libraryName:a}),className:"toggle-button",appearance:E,label:x,disabled:u,onClick:function(){t.setState({restrictModalOpen:!0})}}),u?l.default.createElement("div",{className:"toggle-wait-spinner"},l.default.createElement(f.default,{size:"medium"})):null,S&&!u&&(y>0||_>0)&&l.default.createElement(v.default,{countFailedSHs:y,countInactiveSHs:_,shCount:w,goalState:s,toggleDisabled:u})))),l.default.createElement(c.default,{acknowledgementMessage:i,restrict:s,libraryName:a,open:H,handleConfirmRestrict:function(){return b(o)},handleRequestClose:function(){t.setState({restrictModalOpen:!1})}}))}}]),r}(l.default.Component);S.propTypes={acknowledgementMessage:u.default.string.isRequired,libraryName:u.default.string.isRequired,description:u.default.func.isRequired,goalState:u.default.bool.isRequired,setting:u.default.string.isRequired,toggleDisabled:u.default.bool.isRequired,handleSaveProp:u.default.func,isSHC:u.default.bool.isRequired,countFailedSHs:u.default.number,countInactiveSHs:u.default.number,shCount:u.default.number},S.defaultProps={handleSaveProp:function(){}},t.default=S,e.exports=t.default},"views/shared/InternalLibrarySetting.pcss":function(e,t,r){var n=r(2532);"string"==typeof n&&(n=[[e.i,n,""]]);var a={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};r(6)(n,a);n.locals&&(e.exports=n.locals)},"views/shared/InternalLibrarySettings":function(e,t,r){"use strict";r(2),Object.defineProperty(t,"__esModule",{value:!0});var n=_(r(167)),a=_(r(73)),i=_(r(15)),s=_(r(16)),o=_(r(17)),l=_(r(20)),u=_(r(21)),c=_(r(0)),d=_(r(4)),f=_(r(27)),p=r(3),g=r("shim/splunk.util"),h=r("util/test_support"),m=_(r("views/shared/InternalLibrarySetting")),v=_(r("models/quarantinefiles/InternalLibrarySettings")),b=_(r("services/Web")),S=_(r("services/InternalLibraries")),y=_(r("services/WebFeatures"));function _(e){return e&&e.__esModule?e:{default:e}}r("views/shared/InternalLibrarySettings.pcss");var w=function(t){function r(e){(0,s.default)(this,r);var t=(0,l.default)(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));k.call(t),t.internalLibrariesService=e.internalLibrariesService||S.default,t.webService=e.webService||b.default,t.webFeaturesService=e.webFeaturesService||y.default;var n=t.internalLibrariesService,a=n.getCountOfInactiveSHs,i=n.getCountOfFailedSHs,o=n.getQueuedStatuses,u=t.getInitialGoalStates({});return t.state={settingsGoalStates:u,countInactiveSHs:a(),failedSHCounts:i(),queuedStatuses:o(u)},t.pollStatus=t.pollStatus.bind(t),t}return(0,u.default)(r,t),(0,o.default)(r,[{key:"componentDidMount",value:function(){this.pollStatus()}},{key:"render",value:function(){var t=(0,p._)("Internal Library Settings"),r=(0,p._)("Splunk ships internal software libraries with the Splunk platform. It maintains and deprecates these libraries on an ongoing basis to protect your data and applications. Use these settings to implement your own security scheme to reflect the needs of your organization."),n=(0,p._)("Note: These settings apply to libraries that ship with the Splunk platform only, not to libraries that ship with applications."),a=(0,p._)("Changes run at the start of the minute."),s=this.generateInternalLibraryElementData().map((function(e){return c.default.createElement(m.default,e)}));return c.default.createElement("div",(0,i.default)({className:"core-library-settings"},(0,h.createTestHook)(e.i)),c.default.createElement("div",{className:"section-padded section-header"},c.default.createElement("h1",{className:"section-title"},t),c.default.createElement("div",{className:"breadcrumb"},c.default.createElement(f.default,{to:"systemsettings"},(0,p._)("Server settings"))," Â» "+t)),c.default.createElement("div",{className:"editFormWrapper"},c.default.createElement("div",{className:"formWrapper"},c.default.createElement("div",{className:"page-header"},c.default.createElement("p",null,r),c.default.createElement("p",null,n),c.default.createElement("p",null,a)),s)))}}]),r}(c.default.Component),k=function(){var e=this;this.getInitialGoalStates=function(t){var r=t.settings,n=void 0===r?(0,v.default)(e.props.isCloud):r,s=t.quarantineFilesSettings,o=void 0===s?e.webFeaturesService.getFeatureSettingsSync("quarantine_files"):s;return n.reduce((function(e,t){var r=t.id;return(0,i.default)({},e,(0,a.default)({},r,o[r]))}),{})},this.getSettings=function(t){var r=t.settings,n=void 0===r?(0,v.default)(e.props.isCloud):r,a=t.quarantineFilesSettings,i=void 0===a?e.webFeaturesService.getFeatureSettingsSync("quarantine_files"):a,s=t.settingsGoalStates,o=t.allow_insecure_libraries_toggle,l=void 0===o||o;return n.filter((function(e){return l||!e.containsInsecureLibraries})).map((function(t){return e.populateDynamicSettingVariables({settingProps:t,quarantineFilesSettings:i,settingsGoalStates:s})}))},this.populateDynamicSettingVariables=function(t){var r=t.settingProps,a=t.quarantineFilesSettings,s=void 0===a?e.webFeaturesService.getFeatureSettingsSync("quarantine_files"):a,o=t.settingsGoalStates,l=r.id,u=r.restrictingAckMessage,c=r.restoringAckMessage,d=r.generateDescription,f=(0,n.default)(r,["id","restrictingAckMessage","restoringAckMessage","generateDescription"]),p=s[l],g=o?o[l]:p,h=g?u:c,m=d();return(0,i.default)({id:l,enabled:p,goalState:g,acknowledgementMessage:h,description:m},f)},this.pollStatus=function(){var t=6e4-(new Date).getTime()%6e4+1e4,r=e.props.isSHC,n=e.internalLibrariesService,a=n.getQuarantinedStatusPromise,i=n.getCountOfInactiveSHs,s=n.getCountOfFailedSHs,o=n.getQueuedStatuses;setTimeout((function(){var t=e.state.settingsGoalStates;a(r).then((function(){e.setState({countInactiveSHs:i(),failedSHCounts:s(),queuedStatuses:o(t)}),e.pollStatus()}))}),t)},this.saveProp=function(t){var r=e.state,n=r.queuedStatuses,s=r.settingsGoalStates,o=!s[t],l=(0,i.default)({},e.state,{queuedStatuses:(0,i.default)({},n,(0,a.default)({},t,!0)),settingsGoalStates:(0,i.default)({},s,(0,a.default)({},t,o))});e.setState(l);var u=(0,a.default)({},t,o);e.webFeaturesService.updateFeatureSettings("quarantine_files",u).then((function(){(0,g.trackEvent)({type:"coreLibrarySettings.save",data:{setting:t,value:o}})}))},this.generateInternalLibraryElementData=function(){var t=e.state,r=t.settingsGoalStates,n=t.queuedStatuses,a=t.countInactiveSHs,i=t.failedSHCounts,s=e.props.isSHC,o=e.webService.getWebSettingsSync(),l=e.webFeaturesService.getFeatureSettingsSync("quarantine_files"),u=o.allow_insecure_libraries_toggle;return e.getSettings({quarantineFilesSettings:l,settingsGoalStates:r,allow_insecure_libraries_toggle:u}).map((function(t){var r=t.id,o=t.libraryName,l=t.description,u=t.acknowledgementMessage,c=t.goalState;return{key:r,setting:r,toggleDisabled:!(!n||!n[r]),handleSaveProp:e.saveProp,countFailedSHs:i&&i[r],shCount:e.internalLibrariesService.getSHCount(),countInactiveSHs:a,libraryName:o,description:l,acknowledgementMessage:u,goalState:c,isSHC:s}}))}};w.propTypes={isSHC:d.default.bool.isRequired,isCloud:d.default.bool.isRequired},t.default=w,e.exports=t.default},"views/shared/InternalLibrarySettings.pcss":function(e,t,r){var n=r(2533);"string"==typeof n&&(n=[[e.i,n,""]]);var a={sourceMap:!1,hmr:!0,transform:void 0,insertInto:void 0};r(6)(n,a);n.locals&&(e.exports=n.locals)},"views/shared/QuarantineStatusInfo":function(e,t,r){"use strict";r(2),Object.defineProperty(t,"__esModule",{value:!0}),t.getStatusMessage=void 0;var n=f(r(0)),a=f(r(4)),i=r(3),s=f(r(27)),o=r(28),l=f(r(26)),u=r(29),c=r("util/test_support"),d=f(r("uri/route"));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t='"Quarantine files Framework - Setting '+e+' -"';return(0,o.createURL)("app/search/search",{q:"index=_internal "+t+' OR "Quarantine files Framework - Unexpected error"'})},g=t.getStatusMessage=function(e,t,r){return t?e?(0,i._)(r+" unrestricted on all search heads "):(0,i._)(r+" restricted on all search heads "):e?(0,i._)(r+" unrestricted "):(0,i._)(r+" restricted ")},h=function(t){var r=t.countFailedSHs,a=t.countInactiveSHs,o=t.setting,f=t.isSHC,h=t.enabled,m=t.libraryName;if(null===a||null===r)return n.default.createElement("div",(0,c.createTestHook)(e.i),n.default.createElement(l.default,{appearance:"fill",type:"warning"},(0,i._)("Splunk was not able to complete a health check of restricted/unrestricted files. Another check will run at the start of the next minute.")));var v=r?n.default.createElement(l.default,{appearance:"fill",type:"error"},function(e){var t=e.setting,r=e.isSHC,a=n.default.createElement(s.default,{to:p(t),openInNewContext:!0},(0,i._)("Check Errors"));if(r){var o=d.default.docHelp(u.rootPath,u.locale,"distsearch.forward.data");return n.default.createElement(n.default.Fragment,null,(0,i._)("One or more search heads failed to update. Check the logs and once remediated, wait for results from the next scheduled script execution. "),n.default.createElement(s.default,{to:o,openInNewContext:!0},(0,i._)("Forward search head data to the indexer layer")),(0,i._)(" to see logs from all search heads. "),a)}return n.default.createElement(n.default.Fragment,null,(0,i._)("An error occurred while updating. Check the logs and once remediated, wait for results from the next scheduled script execution. "),a)}({setting:o,isSHC:f})):null,b=a?n.default.createElement(l.default,{appearance:"fill",type:"warning"},(0,i._)("The search head cluster is not in a healthy state. Once the cluster is in a healthy state, return to this page to check the latest status.")):null,S=r||a?null:n.default.createElement(l.default,{appearance:"fill",type:"success"},g(h,f,m));return n.default.createElement("div",(0,c.createTestHook)(e.i),v,b,S)};h.defaultProps={countFailedSHs:0,countInactiveSHs:0},h.propTypes={isSHC:a.default.bool.isRequired,enabled:a.default.bool.isRequired,libraryName:a.default.string.isRequired,setting:a.default.string.isRequired,countFailedSHs:a.default.number,countInactiveSHs:a.default.number},t.default=h},"views/shared/QuarantineStatusSearchHeadInformation":function(e,t,r){"use strict";r(2),Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(15)),a=(0,f(r(65)).default)(["\n    color: ",";\n"],["\n    color: ",";\n"]),i=f(r(0)),s=f(r(4)),o=f(r(13)),l=r("util/test_support"),u=r(31),c=r(3),d=r(22);function f(e){return e&&e.__esModule?e:{default:e}}var p=(0,d.pick)({enterprise:d.variables.errorColor}),g=o.default.div(a,p),h=(0,d.pick)({enterprise:d.variables.warningColor}),m=o.default.div(a,h),v=(0,d.pick)({enterprise:d.variables.successColor}),b=o.default.div(a,v),S=function(t){var r=t.countFailedSHs,a=t.countInactiveSHs,s=t.shCount,o=t.goalState,d=t.toggleDisabled?1:"",f=s-(r+a),p=(0,u.sprintf)((0,c._)("%(successCount)s/%(shCount)s search heads %(restrictionState)s"),{successCount:f,shCount:s,restrictionState:o?(0,c._)("unrestricted"):(0,c._)("restricted")}),h=r,v=(0,u.sprintf)((0,c._)("%(errorCount)s/%(shCount)s search heads failed to %(restrictionState)s"),{errorCount:h,shCount:s,restrictionState:o?(0,c._)("unrestrict"):(0,c._)("restrict")}),S=a,y=(0,u.sprintf)((0,c._)("%(warningCount)s/%(shCount)s search heads are currently not healthy"),{warningCount:S,shCount:s});return i.default.createElement("div",(0,n.default)({className:"quarantine-search-head-info"},(0,l.createTestHook)(e.i),{style:{order:d}}),h?i.default.createElement(g,null,v):null,S?i.default.createElement(m,null,y):null,i.default.createElement(b,null,p))};S.propTypes={countFailedSHs:s.default.number.isRequired,countInactiveSHs:s.default.number.isRequired,shCount:s.default.number.isRequired,goalState:s.default.bool.isRequired,toggleDisabled:s.default.bool.isRequired},t.default=S,e.exports=t.default}});