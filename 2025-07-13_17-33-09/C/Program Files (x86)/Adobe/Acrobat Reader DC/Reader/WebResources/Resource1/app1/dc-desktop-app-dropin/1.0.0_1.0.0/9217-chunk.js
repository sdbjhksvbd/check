"use strict";(self["webpackJsonp-desktop-app"]=self["webpackJsonp-desktop-app"]||[]).push([[9217],{XCyt:(e,a,t)=>{t.r(a),t.d(a,{default:()=>E});var s=t("YWiy"),l=t("Zm2D"),r=t("4WW4"),i=t("7Ge3"),n=t.n(i),o=t("GWyE"),d=t("EVtp"),c=t("bxZ7"),h=t("rqLt"),u=t("PZ3W"),m=t.n(u),v=t("loez"),p=t("oi+r"),f=t("j629"),g=t("lXyy"),S=t("5rZ6");const E=(0,l.injectIntl)((e=>{let{setSwitchUIViewProp:a,collaboratorsProp:t,intl:l,pendingRequestsProp:i,cssClassFromParentProp:u}=e;let E=t.slice(0,2);3===t.length&&(E=t);const W=h.U.fileInfoModel.isSharedFile&&"owned"!==h.U.sharedFileInfoModel.userRole,P=(0,s.useCallback)((()=>{(0,g.RW)(h.U.fileInfoModel.isKWCollection,S.fr,"SharedWithCta",W?"Sbo:Clicked":"Sby:Clicked"),a({fromView:r.vV.SharePanel,toView:r.vV.SharedWithPanel,inputValue:""})}),[]),N=(0,s.useCallback)((()=>{(0,g.RW)(h.U.fileInfoModel.isKWCollection,S.fr,"ManageAccessCta",W?"Sbo:Clicked":"Sby:Clicked"),a({fromView:r.vV.SharePanel,toView:r.vV.SharedWithPanel,inputValue:""})}),[]),C=(0,s.useCallback)((e=>{if("Enter"===e.key)e.preventDefault(),N()}),[]),M=(0,s.useRef)(null),{hoverProps:b}=(0,p.useHover)({onHoverStart:()=>{var e,a;null===(a=null===(e=M.current)||void 0===e?void 0:e.UNSAFE_getDOMNode())||void 0===a||a.classList.add(n().sharedWithCtaHover)},onHoverEnd:()=>{var e,a;null===(a=null===(e=M.current)||void 0===e?void 0:e.UNSAFE_getDOMNode())||void 0===a||a.classList.remove(n().sharedWithCtaHover)}}),{pressProps:k}=(0,p.usePress)({onPressStart:()=>{var e,a;null===(a=null===(e=M.current)||void 0===e?void 0:e.UNSAFE_getDOMNode())||void 0===a||a.classList.add(n().sharedWithCtaPressed)},onPressEnd:()=>{var e,a;null===(a=null===(e=M.current)||void 0===e?void 0:e.UNSAFE_getDOMNode())||void 0===a||a.classList.remove(n().sharedWithCtaPressed)},onPress:()=>{P()}});return s.createElement(o.View,{id:"PendingRequestsAndParticipantsView",UNSAFE_className:m()([n().pendingReqAndparticipantListView,u])},t.length>0&&h.U.fileInfoModel.isSharedFile&&s.createElement(o.View,{UNSAFE_className:n().sharedWithWrapper},s.createElement("span",Object.assign({className:n().sharedWithLabel},b,k),l.formatMessage({id:"unifiedShare.sharedWith"})),s.createElement(f.TooltipTrigger,{delay:1},s.createElement(d.ActionButton,{UNSAFE_className:m()([n().sharedWithCta,n().fillInherit]),"aria-label":l.formatMessage({id:"unifiedShare.sharedWith"}),isQuiet:!0,onPress:P,ref:M,id:"sharedWithCta"},s.createElement("div",{className:n().collaboratorAvatars},s.createElement("div",{className:n().onlyAvatars},E.slice().reverse().map(((e,a)=>{let{img:t,displayName:l}=e;return s.createElement(c._,{src:""!==t?t:v.xH,alt:""!==t?l:v.xH,UNSAFE_className:n().avatar,"data-testid":`collabAvatar${a}`})}))),t.length>2&&t.length-2>1&&s.createElement("div",{className:m()([n().avatar,n().avatarMore]),"data-testid":"collabMore"},s.createElement("div",{className:n().avatarMoreText},t.length-2>99?s.createElement(s.Fragment,null,"Â ",99,"+"):s.createElement(s.Fragment,null,"+",t.length-2))))),s.createElement(f.Tooltip,null,(0,S.EI)(W,l.formatMessage({id:"unifiedShare.sharePanel.sharedWithSboTooltip"}),i.length>0?l.formatMessage({id:"unifiedShare.sharePanel.sharedWithAccessControlTooltip"}):l.formatMessage({id:"unifiedShare.sharePanel.sharedWithTooltip"}))))),i.length>0&&s.createElement("a",{className:n().link,onClick:N,onKeyDown:C,tabIndex:0,role:"link",id:"PendingRequestsLink"},1===i.length?l.formatMessage({id:"unifiedShare.accessRequest"}):l.formatMessage({id:"unifiedShare.accessRequests"})," ","(",i.length,")"))}))}}]);