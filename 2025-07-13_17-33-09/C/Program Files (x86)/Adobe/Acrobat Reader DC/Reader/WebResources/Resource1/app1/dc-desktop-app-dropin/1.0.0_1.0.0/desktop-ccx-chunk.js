(self["webpackJsonp-desktop-app"]=self["webpackJsonp-desktop-app"]||[]).push([[2336],{ygrM:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>dropins_CCXDropin,loadTranslations:()=>loadTranslations});var n,o=i("YWiy"),a=i("Zm2D"),s=i("plsW"),r=i("GWyE");!function(e){e.NETWORK="network",e.GENERIC="generic",e.NONE="none"}(n||(n={}));const c=n;var l=i("lXyy"),__awaiter=function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function fulfilled(e){try{step(n.next(e))}catch(e){a(e)}}function rejected(e){try{step(n.throw(e))}catch(e){a(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};class CCXCallbacks{constructor(){this.ccxAPI=void 0,this.ccxTask="",this.ccxTouchpoint="",this.publishStartTimeStamp=null,this.numRetries=0,this.jumpTime=-1,this.cancelTime=-1,this.editorLoadTime=-1,this.imageLoadTime=-1,this.allContentLoadTime=-1,this.templateLoadTime=-1,this.imageGenerationStartTime=-1,this.ccxTask="",this.ccxTouchpoint="",this.startTimeStamp=new Date,this.ccxPrompt=""}setCallbacksData(e,t,i,n,o,a){this.ccxTask=e,this.ccxPrompt=i,this.ccxTouchpoint=t,this.setErrorCallback=n,this.setLoadStartCallback=o,this.retryTrigger=a,this.startTimeStamp=new Date}getCCXAPI(){return __awaiter(this,void 0,void 0,(function*(){if(!this.ccxAPI){if(!s.providers["native-api"])throw new Error("Native API unavailable");const e=yield s.providers["native-api"]();this.ccxAPI=yield e.ccxAPI()}return this.ccxAPI}))}cancel(){let e="Cancel";-1===this.editorLoadTime&&(e="CancelCross"),(0,l.Ay)("CCX",`Action_${this.ccxTouchpoint}_${this.ccxTask}`,e).then((()=>{const e=new Date;return this.cancelTime=e.getTime()-this.startTimeStamp.getTime(),(0,l.Ay)("CCX",`CancellationTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.cancelTime.toString())})).then((()=>this.getCCXAPI())).then((e=>{e.closeCCXModal(!0)})).catch((e=>{console.error("Error in cancellation flow:",e)}))}loadStart(){const e=new Date;this.jumpTime=e.getTime()-this.startTimeStamp.getTime(),(0,l.Ay)("CCX",`JumpTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.jumpTime.toString()),console.log(`Task: ${this.ccxTask}, Jump Time: ${this.jumpTime}`),this.setLoadStartCallback&&(()=>{__awaiter(this,void 0,void 0,(function*(){(yield this.getCCXAPI()).notifyCCXLoadingStarted()}))})()}load(){if((()=>{__awaiter(this,void 0,void 0,(function*(){(yield this.getCCXAPI()).notifyCCXLoaded()}))})(),-1!==this.editorLoadTime)return;const e=new Date;this.editorLoadTime=e.getTime()-this.startTimeStamp.getTime(),(0,l.Ay)("CCX",`EditorLoadTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.editorLoadTime.toString()),console.log(`Task: ${this.ccxTask}, Load Time: ${this.editorLoadTime}`),(()=>{__awaiter(this,void 0,void 0,(function*(){"function"==typeof window.resetFrameRate&&window.resetFrameRate(),"TextToImageAddUsingExpress"===this.ccxTask&&""===this.ccxPrompt&&(()=>{__awaiter(this,void 0,void 0,(function*(){"function"==typeof window.resetFrameRate&&window.resetFrameRate();(yield this.getCCXAPI()).recordCCXStats([this.jumpTime,this.editorLoadTime,this.imageGenerationStartTime,this.allContentLoadTime])}))})();(yield this.getCCXAPI()).ccxModalSetCloseOnESC(!0)}))})()}publishStart(){this.publishStartTimeStamp=new Date,(0,l.Ay)("CCX",`Action_${this.ccxTouchpoint}_${this.ccxTask}`,"Save")}publish(e,t){if(this.publishStartTimeStamp){const i=(new Date).getTime()-this.publishStartTimeStamp.getTime();(0,l.Ay)("CCX",`SaveTime_${this.ccxTouchpoint}_${this.ccxTask}`,i.toString()).then((()=>(console.log(e),s.providers["native-api"]()))).then((e=>e.largeDataAPI())).then((e=>e.sendDataToNative(JSON.stringify(t),this.ccxTask,this.ccxTouchpoint)))}}publishWithStatus(e,t){return new Promise((i=>{try{if(this.publishStartTimeStamp){const n=(new Date).getTime()-this.publishStartTimeStamp.getTime();(0,l.Ay)("CCX",`SaveTime_${this.ccxTouchpoint}_${this.ccxTask}`,n.toString()).then((()=>(console.log(e),s.providers["native-api"]()))).then((e=>e.largeDataAPI())).then((e=>e.sendDataToNativeOSRCM(JSON.stringify(t),this.ccxTask,this.ccxTouchpoint))).then((e=>{i(e?{status:"SUCCESS"}:{status:"DENIED"})}))}}catch(e){i({status:"DENIED"})}}))}onEvent(e){if(e&&"ASSET_LOADED"===e.type){if(-1!==this.imageLoadTime)return;const e=new Date;this.imageLoadTime=e.getTime()-this.startTimeStamp.getTime(),(0,l.Ay)("CCX",`ImageLoadTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.imageLoadTime.toString()),(()=>{__awaiter(this,void 0,void 0,(function*(){"function"==typeof window.resetFrameRate&&window.resetFrameRate();(yield this.getCCXAPI()).recordCCXStats([this.jumpTime,this.editorLoadTime,this.imageLoadTime,this.allContentLoadTime])}))})()}else if(e&&"ASSET_LOAD_STARTED"===e.type){if(-1!==this.imageGenerationStartTime)return;const e=new Date;this.imageGenerationStartTime=e.getTime()-this.startTimeStamp.getTime(),(0,l.Ay)("CCX",`ImageGenerationStartTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.imageGenerationStartTime.toString())}else if(e&&"ALL_CONTENT_LOADED"===e.type&&void 0!==this.ccxPrompt){if(-1!==this.allContentLoadTime)return;const e=new Date;this.allContentLoadTime=e.getTime()-this.startTimeStamp.getTime(),(0,l.Ay)("CCX",`AllContentLoadTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.allContentLoadTime.toString()),(()=>{__awaiter(this,void 0,void 0,(function*(){"function"==typeof window.resetFrameRate&&window.resetFrameRate();(yield this.getCCXAPI()).recordCCXStats([this.jumpTime,this.editorLoadTime,this.imageGenerationStartTime,this.allContentLoadTime])}))})()}else if(e&&"DOCUMENT_LOADED_AND_WRITABLE"===e.type&&void 0===this.ccxPrompt){if(-1!==this.allContentLoadTime)return;(()=>{__awaiter(this,void 0,void 0,(function*(){"function"==typeof window.resetFrameRate&&window.resetFrameRate();(yield this.getCCXAPI()).recordCCXStats([this.jumpTime,this.editorLoadTime,this.imageGenerationStartTime,this.allContentLoadTime])}))})()}else if(e&&"TEMPLATE_BATCH_LOADED"===e.type){if(-1!==this.templateLoadTime)return;const e=new Date;this.templateLoadTime=e.getTime()-this.startTimeStamp.getTime(),(0,l.Ay)("CCX",`TemplateLoadTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.templateLoadTime.toString()),console.log(`Templates Load time: ${this.templateLoadTime}`),(0,l.Ay)("CCX",`TemplateLoadTime_${this.ccxTouchpoint}_${this.ccxTask}`,this.templateLoadTime.toString()),console.log(`Templates Load time: ${this.templateLoadTime}`),(()=>{__awaiter(this,void 0,void 0,(function*(){"function"==typeof window.resetFrameRate&&window.resetFrameRate();const e=yield this.getCCXAPI();e.recordCCXStats([this.jumpTime,this.editorLoadTime,this.templateLoadTime]),e.markCCXLoaded()}))})()}}onIntentChange(e,t){return"create-image-from-text"===e&&"edit-image"===t?{appConfig:{allowedFileTypes:["image/png"],createTempDoc:!0,publishModalTitle:"Applying changes",callbacks:this.getCallbacks()},exportConfig:[{id:"saveToHostApp",label:"Apply",action:{target:"publish"},style:{uiType:"button"}}]}:{}}error(e){console.error(`SDK Error: ${e.toString()}`);const t=e.toData();if(t&&t.code){(0,l.Ay)("CCX",`SDK_Error_${this.ccxTouchpoint}_${this.ccxTask}`,t.code.toString()).then((()=>this.getCCXAPI())).then((e=>e.showErrorBezelNative(this.ccxTask,this.ccxTouchpoint)));const e=["VALIDATE_TOKEN_FAILED","INVALID_TOKEN","LOGIN_ERROR"];this.numRetries<1&&e.includes(t.code)?(console.log(`Retrying after error: ${t.code}`),(0,l.Ay)("CCX",`Retry_${this.ccxTouchpoint}_${this.ccxTask}`,t.code.toString()),this.numRetries+=1,setTimeout((()=>this.retryTrigger?this.retryTrigger():{}),1)):this.setErrorCallback&&this.setErrorCallback(c.GENERIC)}}getCallbacks(e){return{onLoadStart:this.loadStart.bind(this),onLoad:this.load.bind(this),onCancel:this.cancel.bind(this),onPublish:"OpenImageInExpressFromRCM"!==e?this.publish.bind(this):this.publishWithStatus.bind(this),onPublishStart:this.publishStart.bind(this),onError:this.error.bind(this),onEvent:this.onEvent.bind(this),onIntentChange:this.onIntentChange.bind(this)}}}var d=i("+F5f"),CCXProvider_awaiter=function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function fulfilled(e){try{step(n.next(e))}catch(e){a(e)}}function rejected(e){try{step(n.throw(e))}catch(e){a(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};class CCXProvider{constructor(){this.callbacks=null,this.initializePromise=null}ready(){return Promise.resolve(this)}IsEditImageExtRCMWorkflow(e){return"OpenImageInExpressFromRCM"===e||"OpenImageInExpressFromPPTRCM"===e}GetAnalyticsClientID(e,t){let i;return"OpenImageInExpressFromRCM"===e?i=t?"AdobeReader9RCM":"AdobeAcrobat9RCM":"OpenImageInExpressFromPPTRCM"===e&&(i=t?"AdobeReader9PPTRCM":"AdobeAcrobat9PPTRCM"),i}GetEditImageSDKVersion(){return CCXProvider_awaiter(this,void 0,void 0,(function*(){const e=yield s.providers["native-api"]();return(yield e.ccxAPI()).GetEditImageSDKVersion()}))}GetGenerateImageSDKVersion(){return CCXProvider_awaiter(this,void 0,void 0,(function*(){const e=yield s.providers["native-api"]();return(yield e.ccxAPI()).GetGenerateImageSDKVersion()}))}downloadSDK(e){return CCXProvider_awaiter(this,void 0,void 0,(function*(){return new Promise(((t,i)=>{((e,n)=>{const o=e.createElement("script");o.src=n,o.onload=()=>{window.CCEverywhere||i(),t(window.CCEverywhere)},o.onerror=()=>{i()},e.body.appendChild(o)})(document,"stage"===e?"https://stage.cc-embed.adobe.com/sdk/1p/v4/CCEverywhere.js":"https://cc-embed.adobe.com/sdk/1p/v4/CCEverywhere.js")}))}))}initialize(e,t,i,n){return CCXProvider_awaiter(this,void 0,void 0,(function*(){return this.ccEverywhere?Promise.resolve():(this.initializePromise||(this.initializePromise=(()=>CCXProvider_awaiter(this,void 0,void 0,(function*(){try{const o=s.locale2.getLocale().replace("-","_").replace("GB","US").replace("zh_CN","zh_Hans_CN").replace("zh_TW","zh_Hant_TW"),a=d.A.IsReader(),r=new URL(window.location.href),c=new URLSearchParams(r.search).get("source");if(a||"OSRCM"!==c&&"PPTRCM"!==c||(n="OSRCM"===c?"OpenImageInExpressFromRCM":"OpenImageInExpressFromPPTRCM"),!s.providers["native-api"])return;let l=null;try{l=yield this.downloadSDK(i)}catch(e){throw new Error("SDK NOT DOWNLOADED!")}const authProvider=()=>CCXProvider_awaiter(this,void 0,void 0,(function*(){if(!a&&!this.IsEditImageExtRCMWorkflow(n)){const e=yield this.getAuthInfo(),t=yield this.getUserInfo();return{mode:"ims-jump",config:{accessToken:e.accessToken,userId:t.profile.userId,forceJumpCheck:!1}}}return{mode:"delayed"}}));if(console.log(t),console.log("hostInfo:",e),this.ccEverywhere=yield l.initialize(e,{locale:o,env:"stage"===i?"stage":"prod"},authProvider),!this.IsEditImageExtRCMWorkflow(n)){const e=yield this.GetEditImageSDKVersion();console.log("warmup API called for task: ",n," Sdk version: ",e.appVersion),this.ccEverywhere.module.warmup("1"===e.appVersion?"edit-image":"edit-image-v2")}}finally{this.initializePromise=null}})))()),this.initializePromise)}))}getAccessToken(){return CCXProvider_awaiter(this,void 0,void 0,(function*(){if(!s.providers["native-api"])return"";const e=yield s.providers["native-api"]();return(yield e.SessionAPI()).GetAccessToken()}))}getUserId(){return CCXProvider_awaiter(this,void 0,void 0,(function*(){if(!s.providers["native-api"])return"";const e=yield s.providers["native-api"]();return(yield e.SessionAPI()).GetUserId()}))}getAuthInfo(){return CCXProvider_awaiter(this,void 0,void 0,(function*(){return{accessToken:yield this.getAccessToken(),useJumpUrl:!0}}))}getUserInfo(){return CCXProvider_awaiter(this,void 0,void 0,(function*(){return{profile:{userId:yield this.getUserId(),serviceCode:null,serviceLevel:null}}}))}EditCCXImage(e,t){var i,n,o;return CCXProvider_awaiter(this,void 0,void 0,(function*(){const{hostInfo:a,editImageCCXDesignParams:s,environment:r,task:c}=e;this.ccEverywhere||(yield this.initialize(a,!1,r,c));try{if(this.ccEverywhere&&void 0!==s.ImageUrl){const e="data:image/png;base64,"+(yield fetch(s.ImageUrl).then((e=>e.text())));if(void 0!==this.callbacks&&void 0!==(null===(i=this.callbacks)||void 0===i?void 0:i.startTimeStamp)){const e=null===(n=this.callbacks)||void 0===n?void 0:n.startTimeStamp.getTime(),t=new Date;if(null!=e){const i=t.getTime()-e;(0,l.Ay)("CCX","AcrobatStartTime",i.toString())}}const a=yield this.GetEditImageSDKVersion(),r={allowedFileTypes:["image/png"],createTempDoc:!0,publishModalTitle:"OpenImageInExpressFromRCM"!==c?t.formatMessage({id:"ccx.publishmodaltitle"}):t.formatMessage({id:"ccx.publishmodaltitlesave"}),callbacks:null===(o=this.callbacks)||void 0===o?void 0:o.getCallbacks(c),disableSaveButtonOnExport:"OpenImageInExpressFromRCM"===c,saveOnKeyboardShortcut:"OpenImageInExpressFromRCM"===c};"2"===a.appVersion&&(r.appVersion="2"),console.log("appconfig: ",r),this.ccEverywhere.module.editImage({asset:{type:"image",dataType:"base64",data:e},intent:s.Intent},r,s.exportOptions,s.CommonContainerConfig)}}catch(e){console.error("Edit Image failed",e)}}))}TextToImageEmbed(e){var t;return CCXProvider_awaiter(this,void 0,void 0,(function*(){const{hostInfo:i,textToImageParams:n,environment:o}=e;this.ccEverywhere||(yield this.initialize(i,!1,o));try{if(this.ccEverywhere){const e=yield this.GetGenerateImageSDKVersion(),i={createTempDoc:!0,callbacks:null===(t=this.callbacks)||void 0===t?void 0:t.getCallbacks(),promptText:n.textPrompt,metaData:{enableUtilNav:"true"},thumbnailOptions:["publish","rich-preview"],publishConfig:{id:"someID",label:"Apply"}};"2"===e.appVersion&&(i.appVersion="2",i.featureConfig={"community-wall":!0,"fast-mode":!1}),this.ccEverywhere.module.createImageFromText(i,n.exportOptions,n.CommonContainerConfig)}}catch(e){console.error("Text to image failed",e)}}))}createDesign(e){return CCXProvider_awaiter(this,void 0,void 0,(function*(){const{hostInfo:t,createDesignParams:i,editorTitle:n,publishLabel:o,publishModalTitle:a,environment:s}=e;this.ccEverywhere||(yield this.initialize(t,!1,s));try{this.ccEverywhere&&this.ccEverywhere.createDesign(Object.assign({modalParams:{padding:0,borderRadius:0,loadTimeout:9e4,parentElementId:"ccx-container",showLoader:!1,editorTitle:n,publishLabel:o,publishModalTitle:a}},i),yield this.getUserInfo(),yield this.getAuthInfo())}catch(e){console.error("Create design failed",e)}}))}editDesign(e){return CCXProvider_awaiter(this,void 0,void 0,(function*(){const{hostInfo:t,editDesignParams:i,editorTitle:n,publishLabel:o,publishModalTitle:a,environment:s}=e;this.ccEverywhere||(yield this.initialize(t,!1,s));try{const e=d.A.IsReader();this.ccEverywhere&&(e?this.ccEverywhere.editDesign(Object.assign({modalParams:{padding:0,borderRadius:0,loadTimeout:9e4,parentElementId:"ccx-container",showLoader:!1,editorTitle:n,publishLabel:o,publishModalTitle:a}},i)):this.ccEverywhere.editDesign(Object.assign({modalParams:{padding:0,borderRadius:0,loadTimeout:9e4,parentElementId:"ccx-container",showLoader:!1,editorTitle:n,publishLabel:o,publishModalTitle:a}},i),yield this.getUserInfo(),yield this.getAuthInfo()))}catch(e){console.error("Edit design failed",e)}}))}launchCCXiFrame(e,t){return CCXProvider_awaiter(this,void 0,void 0,(function*(){const{pageType:i,pageHeight:n,pageWidth:o,task:a,touchpoint:r,projectId:c,setErrorCallback:l,editorTitle:h,publishLabel:p,publishModalTitle:m,environment:u,setLoadStartedCallback:g,imageUrl:f,prompt:T,intent:v,contHeight:C,contWidth:y,scaling:b}=e;if(this.callbacks||(this.callbacks=new CCXCallbacks),this.callbacks&&this.callbacks.setCallbacksData(a,r,T,l,g,this.launchCCXiFrame.bind(this,e,t)),!s.providers["native-api"])throw new Error("Native API unavailable");const I=yield s.providers["native-api"](),E=yield I.ccxAPI(),x=d.A.IsReader();let S=x?"AdobeReader9":"AdobeAcrobat9";this.IsEditImageExtRCMWorkflow(a)&&(S="AdobeReader9");let w={clientId:S,appName:"Acrobat",appVersion:E.getProductVersion(),platformCategory:"desktop"};if(this.IsEditImageExtRCMWorkflow(a)&&(w=Object.assign(Object.assign({},w),{analyticsClientId:this.GetAnalyticsClientID(a,x)})),console.log("task: ",a),console.log("hostInfoObj: ",w),"OpenImageInExpressFromRCM"===a||"OpenImageInExpressFromPPTRCM"===a||"EditImageUsingExpress"===a||"RemoveBackgroundUsingExpress"===a||"GenerativeFillUsingExpress"===a||"CropImageUsingExpress"===a||"RotateImageUsingExpress"===a){let e={padding:0,borderRadius:0};if(this.IsEditImageExtRCMWorkflow(a)&&b&&y&&C){const t=parseFloat(String(b));e={padding:0,margin:0,borderRadius:0,size:{width:parseFloat(String(y))/t,height:parseFloat(String(C))/t,unit:"px"},minSize:{width:parseFloat(String(y))/t,height:parseFloat(String(C))/t,unit:"px"}}}const i={hostInfo:w,editImageCCXDesignParams:{ImageUrl:f,Intent:v,CommonContainerConfig:e,exportOptions:[{id:"saveToHostApp",label:"OpenImageInExpressFromRCM"!==a?t.formatMessage({id:"ccx.publishcta.apply.label"}):t.formatMessage({id:"ccx.publishcta.edit.label"}),action:{target:"publish",closeTargetOnExport:"OpenImageInExpressFromRCM"!==a},style:{uiType:"button"}}]},editorTitle:h,publishLabel:p,publishModalTitle:m,environment:u,task:a};this.EditCCXImage(i,t)}else if("TextToImageAddUsingExpress"===a||"TextToImageReplaceUsingExpress"===a){const e={hostInfo:w,textToImageParams:{textPrompt:T,CommonContainerConfig:{padding:0,borderRadius:0},exportOptions:[{id:"saveToHostApp",label:t.formatMessage({id:"ccx.publishcta.apply.label"}),action:{target:"publish"},style:{uiType:"button"}}]},editorTitle:h,publishLabel:p,publishModalTitle:m,environment:u};this.TextToImageEmbed(e)}else if("InsertCCXPage"===a){const e={templateType:"landscape"===i?"Presentation_Graphic":"Book_Cover"};e.canvasSize=n&&o?{width:parseFloat(o),height:parseFloat(n),unit:"in"}:"Letter";const t={hostInfo:w,createDesignParams:{inputParams:e,outputParams:{fileType:"pdf"},callbacks:this.callbacks.getCallbacks()},editorTitle:h,publishLabel:p,publishModalTitle:m,environment:u};this.createDesign(t)}else if("EditCCXPage"===a){const e={hostInfo:w,editDesignParams:{inputParams:{projectId:c},outputParams:{fileType:"pdf"},callbacks:this.callbacks.getCallbacks()},editorTitle:h,publishLabel:p,publishModalTitle:m,environment:u};this.editDesign(e)}}))}}CCXProvider.getInstance=s.providerUtil.getSingletonFunction(CCXProvider);var h=i("Jbo2"),p=i.n(h),CCXContainer_awaiter=function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function fulfilled(e){try{step(n.next(e))}catch(e){a(e)}}function rejected(e){try{step(n.throw(e))}catch(e){a(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const m={InsertCCXPage:{editorTitle:"ccx.editor.title",cta:"ccx.publishcta.insert.label",modalTitle:"ccx.publishModal.title"},EditCCXPage:{editorTitle:"ccx.editor.title",cta:"ccx.publishcta.edit.label",modalTitle:"ccx.publishModal.title"}},u=(0,a.injectIntl)((e=>{const[t,i]=(0,o.useState)(c.NONE),[n,a]=(0,o.useState)(!1),l=(0,o.useCallback)((e=>i(e)),[]),h=(0,o.useCallback)((()=>a(!0)),[]);(0,o.useEffect)((()=>{console.log("CCX drop-in effect",performance.now(),(new Date).getTime());const{viewData:t,env:n}=e;if(document.title="CCX Spare Renderer",!t&&window.navigator.onLine){if(!s.providers["native-api"])return;CCXContainer_awaiter(void 0,void 0,void 0,(function*(){const e=yield s.providers["native-api"](),t=yield e.ccxAPI(),o=yield CCXProvider.getInstance(),a=d.A.IsReader(),r=new URL(window.location.href),l=new URLSearchParams(r.search).get("source");let h=a?"AdobeReader9":"AdobeAcrobat9",p="";"OSRCM"!==l&&"PPTRCM"!==l||(h="AdobeReader9",p="OSRCM"===l?"OpenImageInExpressFromRCM":"OpenImageInExpressFromPPTRCM");let m={clientId:h,appName:"Acrobat",appVersion:t.getProductVersion(),platformCategory:"desktop"};o.IsEditImageExtRCMWorkflow(p)&&(m=Object.assign(Object.assign({},m),{analyticsClientId:o.GetAnalyticsClientID(p,a)}));try{yield o.initialize(m,!0,n),console.log("sdk initialised properly")}catch(e){i(c.GENERIC),console.log("error while initializing the sdk : ",e)}}))}}),[]),(0,o.useEffect)((()=>{if(t!==c.NONE){if(!s.providers["native-api"])return;CCXContainer_awaiter(void 0,void 0,void 0,(function*(){const e=yield s.providers["native-api"](),t=yield e.ccxAPI();yield t.ccxModalSetCloseOnESC(!1)}))}}),[t]),(0,o.useEffect)((()=>{const{viewData:t,env:n,intl:o}=e;t&&(document.title="CCX Renderer",window.navigator.onLine?CCXContainer_awaiter(void 0,void 0,void 0,(function*(){const e=yield CCXProvider.getInstance(),i=m[t.task];"InsertCCXPage"==t.task||"EditCCXPage"==t.task?e.launchCCXiFrame(Object.assign(Object.assign({},t),{setErrorCallback:l,editorTitle:o.formatMessage({id:i.editorTitle}),publishLabel:o.formatMessage({id:i.cta}),publishModalTitle:o.formatMessage({id:i.modalTitle}),environment:n,setLoadStartedCallback:h}),o):e.launchCCXiFrame(Object.assign(Object.assign({},t),{setErrorCallback:l,editorTitle:null,publishLabel:null,publishModalTitle:null,environment:n,setLoadStartedCallback:h}),o)})):i(c.NETWORK))}),[e]);const u=(0,o.useMemo)((()=>t===c.NONE&&n),[t,n]);return o.createElement(r.View,{width:"100%",height:"100%"},o.createElement(r.View,{id:"ccx-container",UNSAFE_style:{display:u?void 0:"none"},UNSAFE_className:p().ccxContainer}))})),loadTranslations=e=>(i.p=s.discovery.dropins["desktop-ccx"].public_path,i("NclD")(`./${e}.json`)),g=s.locale2.withTranslations((e=>{let{locale:t,messages:i,props:n}=e;return o.createElement(a.IntlProvider,{locale:t,messages:i},o.createElement(u,Object.assign({},n)))}),loadTranslations),dropins_CCXDropin=e=>{let{props:t}=e;return o.createElement(g,{props:t})}},lXyy:(e,t,i)=>{"use strict";i.d(t,{Ay:()=>a,RW:()=>LogUsageMeasureEx,ct:()=>LogUsageMeasureThrottled});var n=i("plsW"),o=i("QLQe"),__awaiter=function(e,t,i,n){return new(i||(i=Promise))((function(o,a){function fulfilled(e){try{step(n.next(e))}catch(e){a(e)}}function rejected(e){try{step(n.throw(e))}catch(e){a(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof i?e:new i((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const LogUsageMeasure=(e,t,i)=>__awaiter(void 0,void 0,void 0,(function*(){if(!n.providers["native-api"])return;const o=yield n.providers["native-api"]();(yield o.analyticsAPI()).logEvent(e,t,i)})),LogUsageMeasureEx=(e,t,i,n)=>__awaiter(void 0,void 0,void 0,(function*(){e?(0,o.mB)(`${t}_${i}`,n):LogUsageMeasure(t,i,n)})),LogUsageMeasureThrottled=(e,t,i)=>__awaiter(void 0,void 0,void 0,(function*(){if(!n.providers["native-api"])return;const o=yield n.providers["native-api"]();(yield o.analyticsAPI()).logThrottledEvent(e,t,i)})),a=LogUsageMeasure},AXyZ:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function toString(){return this.map((function(t){var i=function cssWithMappingToString(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=function toComment(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t);return"/*# ".concat(i," */")}(n),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(a).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(o[s]=!0)}for(var r=0;r<e.length;r++){var c=[].concat(e[r]);n&&o[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),t.push(c))}},t}},HNnk:(e,t,i)=>{(t=i("AXyZ")(!1)).push([e.id,".Style__ccxContainer___XknsC{width:100vw;height:100vh;background-color:#fff}",""]),t.locals={ccxContainer:"Style__ccxContainer___XknsC"},e.exports=t},Jbo2:(e,t,i)=>{var n=i("2KPK"),o=i("HNnk");"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a={insert:"head",singleton:!1};n(o,a);e.exports=o.locals||{}},"2KPK":(e,t,i)=>{"use strict";var n=function isOldIE(){var e;return function memorize(){return void 0===e&&(e=Boolean(window&&document&&document.all&&!window.atob)),e}}(),o=function getTarget(){var e={};return function memorize(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),a=[];function getIndexByIdentifier(e){for(var t=-1,i=0;i<a.length;i++)if(a[i].identifier===e){t=i;break}return t}function modulesToDom(e,t){for(var i={},n=[],o=0;o<e.length;o++){var s=e[o],r=t.base?s[0]+t.base:s[0],c=i[r]||0,l="".concat(r," ").concat(c);i[r]=c+1;var d=getIndexByIdentifier(l),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(a[d].references++,a[d].updater(h)):a.push({identifier:l,updater:addStyle(h,t),references:1}),n.push(l)}return n}function insertStyleElement(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var s=function replaceText(){var e=[];return function replace(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}();function applyToSingletonTag(e,t,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=s(t,o);else{var a=document.createTextNode(o),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function applyToTag(e,t,i){var n=i.css,o=i.media,a=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var r=null,c=0;function addStyle(e,t){var i,n,o;if(t.singleton){var a=c++;i=r||(r=insertStyleElement(t)),n=applyToSingletonTag.bind(null,i,a,!1),o=applyToSingletonTag.bind(null,i,a,!0)}else i=insertStyleElement(t),n=applyToTag.bind(null,i,t),o=function remove(){!function removeStyleElement(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function updateStyle(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=modulesToDom(e=e||[],t);return function update(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var o=getIndexByIdentifier(i[n]);a[o].references--}for(var s=modulesToDom(e,t),r=0;r<i.length;r++){var c=getIndexByIdentifier(i[r]);0===a[c].references&&(a[c].updater(),a.splice(c,1))}i=s}}}},NclD:(e,t,i)=>{var n={"./ca-ES.json":["pYm7",38536],"./cs-CZ.json":["YZ1g",4611],"./da-DK.json":["7gHE",85488],"./de-DE.json":["fZDq",28062],"./en-AE.json":["XGun",41075],"./en-IL.json":["mOn7",39984],"./en-US.json":["L8HS",23577],"./es-ES.json":["yYEy",66724],"./eu-ES.json":["I+QJ",31950],"./fi-FI.json":["K0FT",60534],"./fr-FR.json":["Dafc",62764],"./fr-MA.json":["oygw",46678],"./hr-HR.json":["OgUm",50556],"./hu-HU.json":["IHbk",78686],"./it-IT.json":["Qbxz",78278],"./ja-JP.json":["wlCj",42409],"./ko-KR.json":["s35V",87527],"./nb-NO.json":["Kion",1579],"./nl-NL.json":["uBzR",84816],"./pl-PL.json":["7ZB5",57192],"./pt-BR.json":["7P0v",2668],"./ro-RO.json":["hFC7",51366],"./ru-RU.json":["yOPA",51206],"./sk-SK.json":["ily9",34392],"./sl-SI.json":["vef3",26529],"./sv-SE.json":["JdsO",41915],"./tr-TR.json":["FcR4",19340],"./uk-UA.json":["RLVF",62618],"./zh-CN.json":["WVuS",82179],"./zh-TW.json":["xX2E",69723]};function webpackAsyncContext(e){if(!i.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return i.e(t[1]).then((()=>i.t(o,19)))}webpackAsyncContext.keys=()=>Object.keys(n),webpackAsyncContext.id="NclD",e.exports=webpackAsyncContext},YWiy:(e,t,i)=>{e.exports=i("2pFd")("GiK3")},Zm2D:(e,t,i)=>{e.exports=i("2pFd")("L4Le")},GWyE:(e,t,i)=>{e.exports=i("SEmX")("OzsN")},plsW:(e,t,i)=>{e.exports=i("2pFd")("o4sN")}}]);