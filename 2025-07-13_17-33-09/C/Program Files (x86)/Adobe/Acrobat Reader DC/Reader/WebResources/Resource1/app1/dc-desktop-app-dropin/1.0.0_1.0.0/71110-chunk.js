(self["webpackJsonp-desktop-app"]=self["webpackJsonp-desktop-app"]||[]).push([[71110],{SsyB:(e,t,o)=>{"use strict";var s;o.d(t,{b:()=>s}),function(e){e.NETWORK="network",e.FETCHOPERATIONFAILED="fetchoperationfailed",e.APPLICATION_UPDATE_REQUIRED="application_update_required",e.NONE="none"}(s||(s={}))},"86lk":(e,t,o)=>{"use strict";o.d(t,{AG:()=>U,Al:()=>q,Bs:()=>d,Cw:()=>h,EU:()=>s,HR:()=>H,HX:()=>T,Hx:()=>c,NB:()=>a,NP:()=>g,Q1:()=>P,Us:()=>n,WJ:()=>u,Yt:()=>N,_t:()=>S,aA:()=>x,ab:()=>I,bz:()=>F,c_:()=>D,dO:()=>B,fU:()=>_,g2:()=>C,lP:()=>v,mz:()=>r,oP:()=>R,p1:()=>L,p3:()=>b,pP:()=>y,qq:()=>A,rF:()=>E,rh:()=>f,sm:()=>k,sv:()=>O,uT:()=>p,un:()=>l,vp:()=>i,wR:()=>m,z0:()=>w});const s="KWLandingPage",i="KWLandingPage_LPCard",n="KWLandingPage_GoalRecommendation",r="KWLandingPage_Load",a="KWLandingPage_PerfTime_Success",l="KWLandingPage_PerfTime_Error",d="LandingPage_Refresh",c="KWLandingPage_GoalsFetched",u="KWLandingPage_GoalsFetched_Refresh",h="KWLandingPage_GoalsFetched_CustomAgent_Refresh",_="Collection Opened",p="Scrolled",v="KW_LPCard_SaveToNoteBtnClicked",g="clicked",m="Error",y="Success",f="CacheDataStale",A="KWLandingPage_LP_Response_FirstByte",C="KWLandingPage_LP_Response_LastByte",E="KWLandingPage_LP_Refresh_Response_FirstByte",w="KWLandingPage_LP_RefreshCustomAgent_Response_FirstByte",T="KWLandingPage_LP_Refresh_Response_LastByte",b="KWLandingPage_LP_RefreshCustomAgent_Response_LastByte",S="clicked",I=4,P="KW_LPCard_StartChatBtnClicked",k="Success",R="KWLPCardCopyBtnClicked",D="Clicked",L="KWLPCarouselCardsScrolled",N="Success",O="KWLandingPage_LPCard_Like_Clicked",x="KWLandingPage_LPCard_Dislike_Clicked",H="Success",F="Clicked",U="KWLPCardAttributionMenuOpen",B="KW_LPCard_Content_Scrolled",q="KWLandingPage_LPCard_InlineChatMenu"},GTxN:(e,t,o)=>{"use strict";o.d(t,{A:()=>R});var s,i,n,r=o("y4dE"),a=o("jpy3"),l=o("2Wlf"),d=o("ltzk"),c=o("vSKB"),u=o("EvqT"),h=o("KAmO"),_=o("bV+/"),p=o("+7jM"),v=o("AYpf"),g=o("ohpP"),m=o("qLlJ"),y=o("rjgr"),f=o("vJCg"),A=o("sVfd"),C=o("cBgH"),E=o("zfUP"),w=o("U5BB");!function(e){e.SET_F6_FOCUS="custom:SetF6Focus"}(s||(s={})),function(e){e.Accessibility="Accessibility"}(i||(i={})),function(e){e.FocusManagement="FocusManagement"}(n||(n={}));var T=o("Jjq2");const AccessibilityUtils=e=>{var t,o;const{viewRefId:s,focus:r}=null!==(o=null===(t=e.detail)||void 0===t?void 0:t.params)&&void 0!==o?o:{},a=document.getElementById(s);a&&(s?!0===r?a.focus():a.blur():(0,T.qz)(i.Accessibility,n.FocusManagement,`Ref with id ${s} is not available or not set.`))};var b=o("DHl7"),S=o("oYND"),I=o("SsyB"),P=o("vDg+"),k=o("EQIZ"),__awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};const R=new class KWCController{constructor(){this.errorState=I.b.NONE,this.onRefreshUserSubscription=e=>__awaiter(this,void 0,void 0,(function*(){var t;try{const o=null===(t=null==e?void 0:e.detail)||void 0===t?void 0:t.params;console.log("KW SUBSCRIPTION PARAMS in KWCController",o),o.refreshSubscription&&(console.log("KW SUBSCRIPTION REFRESHED in KWCController"),yield b.A.updateProvisioningStatus())}catch(e){console.error("Error handling subscription refresh in KWCController:",e)}})),this.areAllSourcesImported=()=>l.te.allSourcesImported,this.init()}init(){y.$D.subscribe(f.A.kCollectionUpdated,this.refreshCollectionList),w.A.listenForCustomEvent(s.SET_F6_FOCUS,AccessibilityUtils.bind(this)),w.A.listenForCustomEvent(S.A.KW_MONETIZATION_SUBSCRIPTION_UPDATE,this.onRefreshUserSubscription.bind(this))}getErrorState(){return this.errorState}setErrorState(e){this.errorState=e,y.$D.dispatch(f.A.kErrorStateChanged,{errorState:e})}updateSessionInfo(e,t,o,s,i,n,d,u,h,_,g,m,y,f,w,T,b,S,R,D,L,N,O,x){return __awaiter(this,void 0,void 0,(function*(){l.Ay.sessionID=e,l.Ay.workspaceName=t,l.Ay.workspaceGoal=o,l.Ay.workspaceDescription=s,l.Ay.workspaceCreateLongNote=i,l.Ay.workspaceUpdateLongNote=n,l.Ay.workspaceDownloadLongNote=d,l.Ay.isNewCollection=u,l.Ay.enableShareAssetOutsideCollection=h,l.Ay.enableReportAbuse=w,l.Ay.enableDownloadAsPdf=T,l.Ay.isCuratedCollection=b,l.Ay.isKWCreationEnabled=S,C.A.setUserRole((0,E.A)(_)),C.A.setCanComment(m),C.A.setCanShare(g),C.A.setSharedCustomMessage(y),l.Ay.workspaceUseCustomAgent=f,l.Ay.isPresentInCache=R,l.Ay.isCalledFromVerifyOpen=L,l.Ay.isReadFromCache=N,l.Ay.recipientCustomAgentID=O,l.Ay.recipientCustomAgentType=x,k.A.setViewType(D?P.A.ChatView:P.A.LPView);const processResponse=e=>{var t,o,s,i;const n=e;if(n.ERR_CODE===a.dE.NO_ERROR){this.setErrorState(I.b.NONE),l.Ay.workspaceName=n.name,l.Ay.workspaceGoal=n.goal,l.Ay.workspaceDescription=n.description,l.Ay.notesFolderId=n.notes_folder_id,l.Ay.lpFolderId=n.lp_cards_folder_id,l.Ay.genAISessionId=n.genai_session_id,l.Ay.senseiServiceBaseUri=null!==(o=null===(t=n.genai_service_links)||void 0===t?void 0:t.sensei_service_base_uri)&&void 0!==o?o:"",l.Ay.sessionServiceV2BaseUri=null!==(i=null===(s=n.genai_service_links)||void 0===s?void 0:s.session_service_v2_base_uri)&&void 0!==i?i:"";const e={[v.n.kWorkspaceDesc]:l.Ay.workspaceDescription,[v.n.kKWNotesFolderID]:l.Ay.notesFolderId,[v.n.kKWLPFolderID]:l.Ay.lpFolderId,[v.n.kGenAISessionID]:l.Ay.genAISessionId};p.A.addUpdates(l.Ay.sessionID,v.n.kUpdateWorkspaceInfo,e),console.log(l.Ay)}else n.ERR_CODE===a.dE.APPLICATION_UPDATE_REQUIRED&&((0,A.tz)("Application update required (410) error when fetching collection by ID"),this.setErrorState(I.b.APPLICATION_UPDATE_REQUIRED))};if(""!==e&&""!==t)try{const t=yield r.A.ExecuteKWCommand(new c.A(e));if(Array.isArray(t)){const[e,o]=t;processResponse(e),o.then((e=>{processResponse(e)}))}else processResponse(t)}catch(e){(0,A.tz)(`Error fetching collection by ID due to: ${e}`)}}))}get selectedAsset(){return d.A.selectedAssetId?l.te.getSourceFromId(d.A.selectedAssetId):void 0}downloadNote(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user_note",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.d.READ_NETWORK;return __awaiter(this,void 0,void 0,(function*(){if("lp_card"===t||!l.Ay.workspaceDownloadLongNote&&l.c.noteConfigs.directDownloadLimit>e.size){const s=new u.A(e.primaryLink,e.id,t,o,e.eTag);try{return yield r.A.ExecuteKWCommand(s)}catch(e){(0,h.HS)(h.$b.ERROR,"Exception downloading note",e)}}else(0,_.HE)(l.Ay.sessionID,e.id,e.secondaryLink);return{ERR_CODE:a.dE.UNKNOWN_ERROR,content:"",eTag:""}}))}refreshCollectionList(){return __awaiter(this,void 0,void 0,(function*(){const e={DropInId:g.s.Home,EventName:g.w.RefreshWorkspace,EventData:{}};yield m.A.notifyDropinForEvent(e)}))}get canShowLPErrorViews(){return d.A.canShowLPErrorViews}}},oFBY:(e,t,o)=>{"use strict";o.d(t,{y:()=>A,A:()=>C});var s=o("ltzk"),i=o("mVLN"),n=o("njME"),r=o.n(n),a=o("+7jM"),l=o("uy9O"),d=o("bV+/"),c=o("2Wlf"),u=o("QLQe"),h=o("icFW"),_=o("GTxN"),p=o("vyzc"),v=o("+F5f");const g=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/rtf","text/plain","text/vtt"];var m=o("plsW"),y=o("riKw"),f=o("ZojT"),__awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};const A=65;const C=new class LhpController{constructor(){this.isSourceListingDetailed=()=>![i.vU.CLOSED,i.vU.EXPANDED,i.vU.FULL_SCREEN].includes(s.A.lhpViewState),this.handleExpandBtnClick=()=>{this.setLhpViewState(i.vU.NORMAL),(0,u.mB)(s.A.selectedLhpTab===i.js.Notes?h.$9:h.WK,h.vk)},this.handleCollapseBtnClick=()=>{const e=s.A.selectedLhpTab,t=s.A.lhpViewState;e===i.js.Notes?t===i.vU.EXPANDED?((0,u.mB)(h.nm,h.ox),this.setLhpViewState(i.vU.NORMAL)):t===i.vU.NORMAL&&((0,u.mB)(h.$9,h.ox),this.setLhpViewState(i.vU.CLOSED),this.setSelectedLhpTab(i.js.None)):e===i.js.Sources&&(t===i.vU.NORMAL?(0,u.mB)(h.WK,h.ox):(0,u.mB)(h.s5,h.ox),t===i.vU.EXPANDED?this.setLhpViewState(i.vU.NORMAL):t===i.vU.NORMAL&&(this.setLhpViewState(i.vU.CLOSED),this.setSelectedLhpTab(i.js.None))),this.setShowAttributionFromNote(!1)},this.handleFullScreenBtnClick=()=>{this.setLhpViewState(i.vU.FULL_SCREEN),(0,u.mB)(h.s5,h.kO)},this.handleExitFullScreenBtnClick=()=>{this.setLhpViewState(i.vU.EXPANDED),(0,u.mB)(h.s5,h.yx)},this.handleCloseBtnClick=()=>{this.setLhpViewState(i.vU.CLOSED),this.setSelectedLhpTab(i.js.None),this.setShowAttributionFromNote(!1),c.c.setMakeNotesEndless(!1),(0,u.mB)(h.s5,h.pV)},this.shouldShowPreviewError=()=>{const e=_.A.selectedAsset;return(null==e?void 0:e.errorStatus)===i.by.kKWSamFileDownloadError&&this.isPreviewLoading()},this.resetStatusAfterDownloadError=e=>{e.errorStatus=i.by.kKWNoError,e.status=i.fd.kImported,e.openStatus=i.rZ.kCanOpen,a.A.addUpdates(c.Ay.sessionID,l.t.kUpdated,{[l.t.kAssetID]:e.id,[l.t.kAssetErrorTypeKey]:e.errorStatus,[l.t.kStatusKey]:e.status,[l.t.kOpenStatusKey]:e.openStatus})},this.handlePreviewErrorClose=()=>{const e=_.A.selectedAsset;e&&(s.A.setSelectedAssetId(null),s.A.lhpViewState===i.vU.FULL_SCREEN?s.A.setLhpViewState(i.vU.NORMAL):s.A.lhpViewState===i.vU.EXPANDED&&s.A.setLhpViewState(i.vU.CLOSED),this.resetStatusAfterDownloadError(e))},this.CanDragItemForAddSourceProc=e=>{if(e.dataTransfer&&e.dataTransfer.items.length>0){const t=Array.from(e.dataTransfer.items),hasSupportedExtension=(e,t)=>t.includes(e.type);return 0!==t.filter((e=>hasSupportedExtension(e,g))).length}return!1},this.OnDropProc=e=>(p.A.IsRunningInNativeWebView()&&v.A.isWindows()&&p.A.PostMessageToNativeWindows(JSON.stringify({eventname:"KWFilesDropped"}),e),!0),this.init()}init(){}openShareSheetKwAssetShareHelper(){const e=s.A.selectedAssetId;if(!e)return;const t=c.Ay.getAssetById(e),o=null==t?void 0:t.name;o&&(0,d.SH)(c.Ay.sessionID,e,o,!1)}getLhpViewActualWidth(){return s.A.lhpViewActualWidth}getLhpViewState(){return s.A.lhpViewState}setLhpViewState(e){e!==i.vU.CLOSED&&e!==i.vU.NORMAL||this.updateCurrentSelectedAsset(null),s.A.setLhpViewState(e)}setSelectedLhpTab(e){s.A.setSelectedLhpTab(e)}isLHPCollapsed(){return s.A.lhpViewState===i.vU.CLOSED}getLHPViewWidth(){switch(s.A.lhpViewState){case i.vU.CLOSED:return{width:"0px",minWidth:"0px"};case i.vU.NORMAL:return{width:"336px",minWidth:"336px"};case i.vU.EXPANDED:return{width:"calc(50% - 32px)",minWidth:"336px"};case i.vU.FULL_SCREEN:return{width:"100%",minWidth:"400px"};default:return{width:"336px",minWidth:"336px"}}}getSourceListingWidth(){switch(s.A.lhpViewState){case i.vU.CLOSED:return{width:"0px"};case i.vU.EXPANDED:case i.vU.FULL_SCREEN:return{width:"87px"};case i.vU.NORMAL:default:return{width:"336px"}}}updateLhpViewActualWidth(e){var t;const o=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.UNSAFE_getDOMNode();if(o){const e=`${o.offsetWidth}px`;s.A.setLhpViewActualWidth(e)}}expandLHP(){s.A.lhpViewState!==i.vU.FULL_SCREEN&&s.A.lhpViewState!==i.vU.EXPANDED&&this.setLhpViewState(i.vU.EXPANDED)}canShowPDFPreview(){return s.A.lhpViewState===i.vU.EXPANDED||s.A.lhpViewState===i.vU.FULL_SCREEN}getSourceTileBgColorClass(e,t,o){return e?"light"===o?r().kwcActiveAssetItemView:r().kwcActiveAssetItemViewDark:t?"light"===o?r().kwcHoveredAssetItemView:r().kwcHoveredAssetItemViewDark:"light"===o?r().kwcAssetItemView:r().kwcAssetItemViewDark}get showAttributionFromNote(){return s.A.showAttributionFromNote}setShowAttributionFromNote(e){e!=s.A.showAttributionFromNote&&(s.A.setShowAttributionFromNote(e),!e&&s.A.selectedAssetId&&a.A.addUpdates(c.Ay.sessionID,l.t.kAssetClearHighlight,{}))}get activeAttributionFromNote(){return s.A.activeAttributionFromNote}setActiveAttributionFromNote(e){s.A.setActiveAttributionFromNote(e)}updatePDFPreviewPositions(e){var t;const o=null===(t=null==e?void 0:e.current)||void 0===t?void 0:t.UNSAFE_getDOMNode();if(o){const{left:e,right:t,top:s,bottom:i}=o.getBoundingClientRect(),n=window.innerWidth,r=window.innerHeight;if(r>0&&n>0){const o={left:e/n*100,right:t/n*100,top:s/r*100,bottom:i/r*100};(0,d.I_)(o)}}}updateLhpTab(e,t){s.A.selectedLhpTab!==e&&(s.A.setSelectedLhpTab(e),this.updateCurrentSelectedAsset(null),e!==i.js.Notes?this.setLhpViewState(i.vU.NORMAL):e===i.js.Notes&&(s.A.lhpViewState===i.vU.CLOSED||0===c.c.notesCount?this.setLhpViewState(i.vU.NORMAL):s.A.lhpViewState===i.vU.FULL_SCREEN&&this.setLhpViewState(i.vU.EXPANDED))),t&&this.updateCurrentSelectedAsset(t),e===i.js.Notes&&this.setShowAttributionFromNote(!1)}get currentSelectedTab(){return s.A.selectedLhpTab}updateCurrentSelectedAsset(e){null===e?(null!==s.A.selectedAssetId&&a.A.addUpdates(c.Ay.sessionID,l.t.kAssetClose,s.A.selectedAssetId),s.A.setSelectedAssetId(null)):s.A.selectedAssetId?e!==s.A.selectedAssetId&&(a.A.addUpdates(c.Ay.sessionID,l.t.kAssetClose,s.A.selectedAssetId),s.A.setSelectedAssetId(e),a.A.addUpdates(c.Ay.sessionID,l.t.kAssetOpen,e)):(s.A.setSelectedAssetId(e),a.A.addUpdates(c.Ay.sessionID,l.t.kAssetOpen,e))}logLhpTabClickEvent(e){e===i.js.Sources?(0,u.mB)(h.WK,h.xb):e===i.js.Notes&&(0,u.mB)(h.WK,h.lF)}isPreviewLoading(){const e=_.A.selectedAsset;return!((null==e?void 0:e.openStatus)===i.rZ.kOpened||(null==e?void 0:e.openStatus)===i.rZ.kLocalOpened)}setDefaultSelectedTab(e){const t=(0,y.R)()===f.Nh.kMobile&&!c.Ay.isNewCollection;t&&this.setLhpViewState(i.vU.CLOSED),1===e?s.A.setSelectedLhpTab(t?i.js.None:i.js.Notes):s.A.setSelectedLhpTab(t?i.js.None:i.js.Sources)}allowDragDrop(e,t,o){return __awaiter(this,void 0,void 0,(function*(){const s=yield m.providers["native-api"]();(yield s.esAPI()).allowDragAndDrop(e,t,o)}))}}},LAsn:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});var s=o("Z4wg"),i=o("9A+i"),n=o("CVnK");const r=class LPRecordModel{constructor(e,t,o,r,a,l,d,c,u){this.id="",this.cardStatus=i.B2.None,this.id=e,this.cardStatus=o||i.B2.None,this.cardMarkup=t,this.contentSource=r||i.d.NotesService,this.noteIdFull=a||"",this.schemaVersion=l||s.ue,this.documentId=d,this.transactionId=c,this.errorCode=u,(0,n.Gn)(this,{cardStatus:n.sH,cardMarkup:!1})}}},cBgH:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});var s=o("CVnK"),i=o("2NhI");const n=new class CollabStore{constructor(){this.isCollabSessionInfoUpdated=!1,this.collabInfo={sharedCustomMessage:"",ownerName:"",ownerId:"",ownerAvatarUrl:"",userRole:i.Z.kUndefined,canComment:!1,canShare:!1},(0,s.Gn)(this,{isCollabSessionInfoUpdated:s.sH,collabInfo:s.sH,setCollabSessionInfoUpdated:s.XI,setCollabInfo:s.XI,setOwnerAvatarUrl:s.XI})}setCollabSessionInfoUpdated(e){this.isCollabSessionInfoUpdated=e}setCollabInfo(e){this.collabInfo.sharedCustomMessage=e.sharedCustomMessage,this.collabInfo.ownerName=e.ownerName,this.collabInfo.ownerId=e.ownerId}setSharedCustomMessage(e){this.collabInfo.sharedCustomMessage=e}setUserRole(e){this.collabInfo.userRole=e}setCanShare(e){this.collabInfo.canShare=e}setCanComment(e){this.collabInfo.canComment=e}setOwnerAvatarUrl(e){this.collabInfo.ownerAvatarUrl=e}}},EQIZ:(e,t,o)=>{"use strict";o.d(t,{A:()=>n});var s=o("CVnK"),i=o("vDg+");const n=new class TPStore{constructor(){this.currentViewType=i.A.None,(0,s.Gn)(this,{currentViewType:s.sH,setViewType:s.XI})}setViewType(e){this.currentViewType=e}getViewType(){return this.currentViewType}get shouldShowLandingPage(){return this.currentViewType===i.A.LPView}get shouldShowChatView(){return this.currentViewType===i.A.ChatView}}},gvDY:(e,t,o)=>{"use strict";o.d(t,{A:()=>c});var s=o("xYLj"),i=o("icFW"),n=o("LAsn"),r=o("9A+i"),a=o("CVnK"),l=o("QLQe"),d=o("sVfd");const c=new class LPStore{constructor(){this.goals=[],this.lpCards=[],this.expandedLPCard=null,this.lpRefreshHeaderType=r.xO.NONE,this.isOnboardingInProgress=!1,this.isRecipientOnboardingCompleted=!1,this.lpCardsUpdatedToCacheCount=0,this.lpCardsPendingUpdatePostNotification=!1,this.lpErrorState={cards:{errorCode:null,transactionID:""},goals:{errorCode:null,transactionID:""}},this.isCustomAgentUpdating=!1,this.activeLPCard=-1,this.isAttributionMenuInteractionActive=!1,this.activeLpMenuInfo=null,this.lastHoveredLpCardId=-1,this.activeAttributionSourceId=void 0,(0,a.Gn)(this,{goals:a.sH,lpCards:a.sH,expandedLPCard:a.sH,activeLPCard:a.sH,lpErrorState:a.sH,lpRefreshHeaderType:a.sH,isAttributionMenuInteractionActive:a.sH,isOnboardingInProgress:a.sH,isCustomAgentUpdating:a.sH,lpCardsUpdatedToCacheCount:a.sH,lpCardsPendingUpdatePostNotification:a.sH,activeLpMenuInfo:a.sH,lastHoveredLpCardId:a.sH,activeAttributionSourceId:a.sH,updateGoals:a.XI,setGoals:a.XI,addLPCard:a.XI,clearGoals:a.XI,clearLPCards:a.XI,setLPCards:a.XI,handleLPCardTimeout:a.XI,setExpandedLPCard:a.XI,setLpCardsStreamedContent:a.XI,updateLPCardStatus:a.XI,createLPCardJotStream:a.XI,setLPRefreshHeaderType:a.XI,setCardErrorState:a.XI,setGoalErrorState:a.XI,setIsOnboardingInProgress:a.XI,setIsCustomAgentUpdating:a.XI,shouldWaitForLPStream:a.EW,setIsAttributionMenuInteractionActive:a.XI,setLastHoveredLpCardIdAction:a.XI,registerActiveLpMenuAction:a.XI,unregisterActiveLpMenuAction:a.XI,setActiveAttributionSourceId:a.XI})}updateGoals(e){var t,o;(null===(t=this.goals)||void 0===t?void 0:t.length)<=2&&(null===(o=this.goals)||void 0===o||o.push(e)),this.goals.length>0&&this.lpErrorState.goals&&(this.lpErrorState.goals.errorCode=null)}setGoals(e){e.length>0&&(this.goals=e,this.lpErrorState.goals&&(this.lpErrorState.goals.errorCode=null))}clearGoals(){this.goals=[]}clearLPCards(){this.lpCards=[]}overrideLPCard(e,t){t>=0&&t<4&&t<this.lpCards.length&&(this.lpCards[t]=e)}addLPCard(e){this.lpCards.length<4&&this.lpCards.push(e)}setLPCards(e){this.lpCards=e}getlpCards(){return this.lpCards}handleLPCardTimeout(){0===this.lpCards.length&&(this.setIsOnboardingInProgress(!1),this.lpCards.forEach((e=>this.updateLPCardStatus(e.id,r.B2.Failed)))),this.lpCards.length>0&&this.lpErrorState.cards.errorCode&&(this.lpErrorState.cards.errorCode=null)}setExpandedLPCard(e){this.expandedLPCard=e}setIsOnboardingInProgress(e){this.isOnboardingInProgress=e}updateLPCardStatus(e,t,o){this.lpCards.every((s=>s.id!==e||(s.cardStatus=t,s.errorCode=o,!1)))}createLPCardJotStream(e,t){this.lpCards.every((o=>!(o.id===e&&!o.jotStream)||(o.jotStream=t.createStream(),!1)))}setLpCardsStreamedContent(e){this.lpCards.forEach((t=>{t.jotStream&&t.cardStatus!==r.B2.Failed&&e.forEach((e=>{var o;try{null===(o=t.jotStream)||void 0===o||o.streamToken(e)}catch(e){console.error("Error while streaming content",e),(0,d.tz)(`[KW][LP] Error while streaming content: ${e}`)}}))}))}setLPRefreshHeaderType(e){this.lpRefreshHeaderType=e}getLPRefreshHeaderType(){return this.lpRefreshHeaderType}setCardErrorState(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0===this.lpCards.length&&(!this.lpErrorState.cards.errorCode||!e)||o)&&(e&&this.setIsOnboardingInProgress(!1),e&&e.code!==s.O4.NO_ERROR.code&&(console.log("Setting card error state",e),(0,l.mB)(i.EP,`${i.S_}_${e.code}`)),this.lpErrorState.cards={errorCode:e,transactionID:t},e)){const t=new n.A("error-card",void 0,r.B2.Failed,void 0,void 0,void 0,void 0,void 0,null==e?void 0:e.code);this.setLPCards([t])}}setGoalErrorState(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0!==this.goals.length||this.lpErrorState.goals.errorCode&&e)&&!o||(e&&e.code!==s.O4.NO_ERROR.code&&(console.log("Setting goal error state",e),(0,l.mB)(i.EP,`${i.vT}_${e.code}`)),this.lpErrorState.goals={errorCode:e,transactionID:t})}getLPErrorState(){return this.lpErrorState}setIsCustomAgentUpdating(e){this.isCustomAgentUpdating=e}get shouldWaitForLPStream(){let e=!0,t=!0;return this.lpCards.every((o=>o.contentSource!==r.d.Stream?(t=!1,e=!1,!1):o.cardStatus===r.B2.Fetched||(t=!1,o.cardStatus!==r.B2.Failed||(e=!1,!0)))),!t&&e}setIsAttributionMenuInteractionActive(e){this.isAttributionMenuInteractionActive=e}setLastHoveredLpCardIdAction(e){this.lastHoveredLpCardId=e}setActiveLPCardFromHover(){this.activeLPCard=this.lastHoveredLpCardId}registerActiveLpMenuAction(e,t){e&&(this.activeLpMenuInfo&&this.activeLpMenuInfo.ref!==e&&this.activeLpMenuInfo.close(),this.activeLpMenuInfo={ref:e,close:t})}unregisterActiveLpMenuAction(e){e&&this.activeLpMenuInfo&&this.activeLpMenuInfo.ref===e&&(this.activeLpMenuInfo=null)}setActiveAttributionSourceId(e){this.activeAttributionSourceId=e}}},mixQ:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var s=o("2Wlf"),i=o("PBXi"),n=o("CVnK"),r=o("C/hT"),a=o("Jjq2"),__awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};const l=new class QnAStore{constructor(){this.currentChat={chatSessionID:"",qnaRecords:[]},this.askedQuestionPrompt="",this.shouldShowAttributions=!0,this.ingestionPollerStatus=!1,this.chatHistoryState=i.oE.kInitial,this.ingestionPerfTracker=!1,this.questionsAskedStateInSession=i.ao.NoQuestionAskedInSession,(0,n.Gn)(this,{currentChat:n.sH,askedQuestionPrompt:n.sH,ingestionPollerStatus:n.sH,shouldShowAttributions:n.sH,chatHistoryState:n.sH,questionsAskedStateInSession:n.sH,showAttributions:n.XI,setAskedQuestionPrompt:n.XI,addQnARecord:n.XI,updateQnAResponse:n.XI,recomputeAnswerString:n.XI,highlightAnswerPart:n.XI,deleteChatHistory:n.XI,resetChat:n.XI,updateChatMessage:n.XI,updateAnswerState:n.XI,updateErrorState:n.XI,isIngestionPending:n.EW,updateIngestionPollerStatus:n.XI,updateChatHistoryState:n.XI,setQuestionsAskedStateInSession:n.XI})}get QuestionsAskedStateInSession(){return this.questionsAskedStateInSession}setQuestionsAskedStateInSession(e){this.questionsAskedStateInSession=e}setAskedQuestionPrompt(e){this.askedQuestionPrompt=e}updateIngestionPollerStatus(e){this.ingestionPollerStatus=e,e&&!this.ingestionPerfTracker?(this.ingestionPerfTracker=!0,(0,a.a8)(a.bi.CollectionLHP,a.Hc.AddSources," Cef: Asset ingestion started")):!e&&this.ingestionPerfTracker&&(this.ingestionPerfTracker=!1,(0,a.a8)(a.bi.CollectionLHP,a.Hc.AddSources," Cef: Asset ingestion ended"))}addQnARecord(e){this.currentChat.qnaRecords.push(e)}removeQnARecord(e){this.currentChat.qnaRecords=this.currentChat.qnaRecords.filter((t=>t.id!==e))}showAttributions(e){this.shouldShowAttributions=e}updateQnAResponse(e,t,o,a){let l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];var d,c,u,h;return __awaiter(this,void 0,void 0,(function*(){const _=null===(c=null===(d=this.currentChat)||void 0===d?void 0:d.qnaRecords)||void 0===c?void 0:c.find((t=>t.id===e));if(_&&(_.answerParts.push(...o),_.attributions.push(...a),_.answerState===i.qi.kInprogress&&(_.answer+=t,l))){_.answerState=i.qi.kCompleted,_.loading=!1;const e=new Map;_.attributions.forEach((t=>{e.has(t.sourceID)||e.set(t.sourceID,e.size+1),t.index=e.get(t.sourceID)||0})),_.attributions.forEach((e=>{let t=-1;for(let o=_.answerParts.length-1;o>=0;o-=1)if(_.answerParts[o].id===e.answerPartID){t=o;break}if(-1!==t){const e=_.answerParts[t];e&&!e.hasSources&&(e.hasSources=!0)}})),this.recomputeAnswerString(_.id);const t=yield r.Ay.getKWCacheNativeAPI();null==t||t.WriteResourceDataToCache(s.Ay.sessionID,(0,n.HO)(null===(u=this.currentChat)||void 0===u?void 0:u.qnaRecords),r.p3.KWCollectionChat,null===(h=this.currentChat)||void 0===h?void 0:h.chatSessionID,"")}}))}recomputeAnswerString(e){var t,o;const s=null===(o=null===(t=this.currentChat)||void 0===t?void 0:t.qnaRecords)||void 0===o?void 0:o.find((t=>t.id===e));if(s&&s.answerState===i.qi.kCompleted){const e=s.answerParts.reduce(((e,t)=>e+t.text+(t.hasSources?` *AttributionBtn_${t.id}*`:"")),"");s.answer=e}}highlightAnswerPart(e,t){var o,s;const n=null===(s=null===(o=this.currentChat)||void 0===o?void 0:o.qnaRecords)||void 0===s?void 0:s.find((t=>t.id===e));if(n&&n.answerState===i.qi.kCompleted){let e="",o=!1;n.answerParts.forEach((s=>{s.id===t?(o?e+=s.text:(e+=`<ins>${s.text}`,o=!0),s.hasSources&&(e+="</ins>")):e+=s.text,s.hasSources&&(e+=` *AttributionBtn_${s.id}*`)})),n.answer=e}}deleteChatHistory(){var e,t;(null===(t=null===(e=this.currentChat)||void 0===e?void 0:e.qnaRecords)||void 0===t?void 0:t.length)&&(this.currentChat.qnaRecords.length=0)}resetChat(e){this.currentChat.qnaRecords=e}updateChatMessage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return __awaiter(this,void 0,void 0,(function*(){if(0===this.currentChat.qnaRecords.length)return;t&&this.currentChat.qnaRecords.forEach((t=>{var o;(null===(o=t.message)||void 0===o?void 0:o.type)===e.type&&(t.message=void 0)}));const o=this.currentChat.qnaRecords[this.currentChat.qnaRecords.length-1];o&&(o.message=e)}))}get IsCurrentAnswerPending(){const e=this.currentChat.qnaRecords.length>0?this.currentChat.qnaRecords[this.currentChat.qnaRecords.length-1]:void 0;return!!e&&e.answerState===i.qi.kInprogress}updateAnswerState(e,t){const o=this.currentChat.qnaRecords.find((t=>t.id===e));o&&(o.answerState=t)}updateErrorState(e,t){const o=this.currentChat.qnaRecords.find((t=>t.id===e));o&&0===o.answer.length&&(o.error=t,o.answerState=i.qi.kCompleted)}get isIngestionPending(){return this.ingestionPollerStatus}updateChatHistoryState(e){this.chatHistoryState=e}}},PBXi:(e,t,o)=>{"use strict";var s,i,n,r,a;o.d(t,{Go:()=>r,Zv:()=>i,ao:()=>a,oE:()=>s,qi:()=>n}),function(e){e[e.kInitial=0]="kInitial",e[e.kRequested=1]="kRequested",e[e.kDoesNotExist=2]="kDoesNotExist",e[e.kRestoredFromCache=3]="kRestoredFromCache",e[e.kRestoredFromService=4]="kRestoredFromService"}(s||(s={})),function(e){e.USER_ENTERED="UserEntered",e.RELATED="Related",e.LP_CARD="LP_CARD",e.GOAL_RECOMMENDATIONS="GOAL_RECOMMENDATIONS"}(i||(i={})),function(e){e[e.kInprogress=0]="kInprogress",e[e.kCompleted=1]="kCompleted",e[e.kCancelled=2]="kCancelled"}(n||(n={})),function(e){e[e.OUTDATED_CHAT_ONS_NOTIFICATION=0]="OUTDATED_CHAT_ONS_NOTIFICATION",e[e.OUTDATED_CHAT_ASSET_UPDATE=1]="OUTDATED_CHAT_ASSET_UPDATE"}(r||(r={})),function(e){e[e.NoQuestionAskedInSession=0]="NoQuestionAskedInSession",e[e.FirstQuestionAskedInSession=1]="FirstQuestionAskedInSession",e[e.SecondQuestionAskedInSession=2]="SecondQuestionAskedInSession"}(a||(a={}))},HmZB:(e,t,o)=>{"use strict";var s;o.d(t,{A:()=>i}),function(e){e.UNKNOWN="UNKNOWN",e.TEAMS_END_USER="Teams_End_User",e.TEAMS_ADMIN="Teams_Admin",e.REDUCED_MODE_USER="Reduced_Mode_User",e.ENTERPRISE_USER="Enterprise_User",e.INDIVIDUAL_USER="INDIVIDUAL",e.GUEST_USER="guest"}(s||(s={}));const i=s},"vDg+":(e,t,o)=>{"use strict";var s;o.d(t,{A:()=>i}),function(e){e.None="None",e.LPView="LPView",e.ChatView="ChatView"}(s||(s={}));const i=s},KAmO:(e,t,o)=>{"use strict";o.d(t,{$b:()=>s,HS:()=>logNoteEvent,KQ:()=>validateNoteName,Kz:()=>convertQnaRecordToCHS,Te:()=>getShouldNewNoteBeInEditMode,nR:()=>getContentSourceForNoteCreation,tG:()=>getNoteEventCategory,zq:()=>emitNoteToastEvent});var s,i=o("rjgr"),n=o("2Wlf"),r=o("XRhC"),a=o("mVLN"),l=o("vJCg"),d=o("Jjq2");!function(e){e.INFO="info",e.ERROR="error"}(s||(s={}));const logNoteEvent=function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];console.log("[Notes]",e,...o);const n=o.map((e=>"object"==typeof e?JSON.stringify(e):String(e))).join(" ");switch(e){case s.ERROR:(0,d.qz)(d.bi.CollectionLHP,d.Hc.Notes,n);break;case s.INFO:default:(0,d.a8)(d.bi.CollectionLHP,d.Hc.Notes,n)}},getNoteEventCategory=e=>e===r.D4.DELETE_SUCCESS||e===r.D4.CREATE_NOTE_FROM_SOURCE_SUCCESS?a.O.kPositive:e===r.D4.DUPLICATE_NAME?a.O.kNeutral:a.O.kNegative,emitNoteToastEvent=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";(0,i.HY)(l.A.kNotesShowToast,{event:e,payload:o,noteId:t})},getContentSourceForNoteCreation=e=>{switch(e){case r.XD.QnA:case r.XD.QnAPartial:return"tp_response";case r.XD.LPCard:case r.XD.LPPartial:return"lp_card";default:return""}},getShouldNewNoteBeInEditMode=e=>{switch(e){case r.XD.QnA:case r.XD.QnAPartial:case r.XD.LPCard:case r.XD.LPPartial:return!1;default:return!0}},convertQnaRecordToCHS=e=>(console.log("convertQnaRecordToCHS",e),{eventId:e.id,eventType:"ANSWERED_QUESTION",timestamp:e.timestamp,assets:[],question:{id:e.id,text:e.question,type:e.questionType},answerParts:e.answerParts.map((e=>({id:e.id,text:e.text}))),attributions:e.attributions.map((e=>({id:e.sourceID,partId:e.answerPartID,text:e.text,asset:{docId:e.docID,sourceType:"ACP"},bounds:e.bounds.map((e=>({page:e.page,rects:e.rects.map((e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom})))})))})))}),validateNoteName=(e,t)=>e.name!==t&&(0!==t.length&&(t.length>255?(emitNoteToastEvent(r.D4.CHARACTER_LIMIT_ERROR,e.id),!1):/^[a-zA-Z0-9 ()_-]+$/.test(t)?!n.c.ifNoteExists(t)||(emitNoteToastEvent(r.D4.DUPLICATE_NAME,e.id),!1):(emitNoteToastEvent(r.D4.INVALID_CHAR_ERROR,e.id),!1)))},wJoC:(e,t,o)=>{"use strict";o.d(t,{KG:()=>GetErrorDescriptionText,Ox:()=>GetCannedGoals,Ru:()=>HandleLPFailureFromCacheOrNoteService,_y:()=>GetErrorCTAText,fx:()=>showFullScreenLPError});var s=o("xYLj"),i=(o("oFBY"),o("EQIZ"),o("mVLN"),o("vDg+"),o("jpy3"));o("afdK");const GetErrorDescriptionText=e=>{switch(e.code){case s.O4.INGESTION_FAILED.code:case s.O4.UPLOAD_FAILED.code:return"lp.error.ingestion.text";case s.O4.NETWORK_ERROR.code:return"lp.error.network.text";case s.O4.NO_CONTENT_FOUND.code:case s.O4.NO_DOCUMENT_FOUND.code:return"lp.error.empty.project.text";case s.O4.LLM_MODERATED.code:case s.O4.CONTENT_MODERATED.code:return"lp.error.content.moderated.text";default:return"lp.error.generic.text"}},GetErrorCTAText=e=>{switch(e.code){case s.O4.INGESTION_FAILED.code:case s.O4.UPLOAD_FAILED.code:return"lp.error.ingestion.cta.text";case s.O4.NO_CONTENT_FOUND.code:return"lp.error.empty.project.cta.text";default:return"lp.error.generic.cta.text"}},GetCannedGoals=e=>[e.formatMessage({id:"lp.error.goals.canned1"}),e.formatMessage({id:"lp.error.goals.canned2"}),e.formatMessage({id:"lp.error.goals.canned3"})],HandleLPFailureFromCacheOrNoteService=e=>{switch(e){case i.dE.RESOURCE_CONFLICT:return s.O4.ACTION_NOT_SUPPORTED;case i.dE.UNKNOWN_ERROR:case i.dE.NETWORK_CALL_FAILED:return s.O4.UNKNOWN_ERROR;default:return s.O4.BAD_INPUT_PARAMS}},showFullScreenLPError=e=>e&&[s.O4.UPLOAD_FAILED.code,s.O4.INGESTION_FAILED.code,s.O4.NO_CONTENT_FOUND.code,s.O4.NO_DOCUMENT_FOUND.code,s.O4.NETWORK_ERROR.code].includes(e.code)},iEHP:(e,t,o)=>{"use strict";o.d(t,{mo:()=>deleteChatSession,np:()=>fetchGoalsFromCache,fk:()=>getChatSession,zP:()=>getNotesFromCollectionId,T_:()=>isLPCardsAvailable,jC:()=>requestChatHistoryResponse,Fd:()=>requestChatResponse,A_:()=>requestCollectionGoals,dU:()=>requestCollectionLPCards,nH:()=>requestCollectionLPCardsByNotes,Zl:()=>requestCustomAgentInstructions,vc:()=>requestStoredCollectionGoals});var s=o("y4dE"),i=o("wh8g"),n=o("yXqW");class CreateChatSessionCommand extends n.VM{constructor(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(n.Bm.CREATE_CHAT_SESSION),this.sessionId=t,this.doc_ids={include:o,exclude:s},this.session_service_v2_base_uri=e}}o("qii3");var r=o("vSKB"),a=o("SsyB"),l=o("sVfd"),d=o("/caq"),c=o("c5GX"),u=o("zxtS"),h=o("bTOH"),_=o("Jjq2"),__awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};const parseAnswerInContentResponse=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){const o=[];let s=!1;const i=new c.Readable;return i.push(e),i.push(null),new Promise((n=>{i.pipe(u.parse()).on("data",(i=>__awaiter(void 0,void 0,void 0,(function*(){if(console.log("Parsed JSON object:",i),0===i.length){const e={type:"end_of_answer",status:"no content"};o.push(e),s=!0}if("thought_partner"===i.type){const e=yield(n=i,__awaiter(void 0,void 0,void 0,(function*(){const e=[];let t=!1;if(n.manifest){const t={type:"start_of_answer",data:"thought_partner"};e.push(t)}else if(n.question_answer&&n.question_answer.metadata){const t={type:"metadata",metadata:n.question_answer.metadata};e.push(t),(0,_.a8)(_.bi.ThoughtPartner,_.Hc.QnA,"Started parsing answer response")}else if(n.question_answer&&n.question_answer.data)n.question_answer.data.forEach((t=>{t.text_parts&&t.text_parts.forEach((t=>{let o;if(t.part_id&&(o=t.part_id),t.deltas)t.deltas.forEach((t=>{if(t.text){const s=t.text,i={type:"answer",part_id:o,answer:s};e.push(i)}}));else if(t.sources){const o={type:"sources",sources:t.sources};e.push(o)}else if(t.related_questions){const o={type:"related_questions",related_questions:t.related_questions};e.push(o)}}))}));else if(n.disclaimer_info&&n.disclaimer_info.data){const t={type:"disclaimer_info",data:n.disclaimer_info.data};e.push(t)}else if(n.end_of_stream&&"Completed"===n.end_of_stream.status){const o={type:"end_of_answer",status:n.end_of_stream.status};e.push(o),t=!0}return[e,t]})));Array.isArray(e)&&e.length>1&&(!0===e[1]&&(s=!0),Array.isArray(e[0])&&e[0].length>0&&e[0].forEach((e=>{o.push(e)})))}else if("goal_recommendations"===i.type||t===h.Od.GoalRecommendation){const e=yield(e=>__awaiter(void 0,void 0,void 0,(function*(){const t=[];let o=!1;if(e.goal_recommendations)e.goal_recommendations.forEach((e=>{let o,s,i;if(e.id&&(o=e.id),e.text&&(s=e.text),e.prompt_version&&(i=e.prompt_version),o&&s&&i){const e={type:"goal",data_id:o,text:s,prompt_version:i};t.push(e)}}));else if(e.status&&"No_Updates"===e.status){const s={type:"end_of_answer",status:e.status};t.push(s),o=!0}else if(e.end_of_stream&&"Completed"===e.end_of_stream.status){const s={type:"end_of_answer",status:e.end_of_stream.status};t.push(s),o=!0}return[t,o]})))(i);Array.isArray(e)&&e.length>1&&(!0===e[1]&&(s=!0),Array.isArray(e[0])&&e[0].length>0&&e[0].forEach((e=>{o.push(e)})))}else if(t===h.Od.LPCard)o.push(i),s=!1,console.log("landing_page Parsed JSON object:",i);else if(t===h.Od.LPCardMetadata)o.push(i),s=!0,console.log("landing_page_metadata Parsed JSON object:",i);else if(t===h.Od.GenerateInstructions||"custom_agent_instructions"===i.type){const e=yield(e=>__awaiter(void 0,void 0,void 0,(function*(){const t=[];let o=!1;if(e.custom_agent_instructions&&e.custom_agent_instructions.data)e.custom_agent_instructions.data.forEach((e=>{e.text_parts&&e.text_parts.forEach((e=>{let o;e.part_id&&(o=e.part_id),e.deltas&&e.deltas.forEach((e=>{if(e.text){const s=e.text,i={type:"instructions",part_id:o,instructions:s};t.push(i)}}))}))}));else if(e.end_of_stream&&"Completed"===e.end_of_stream.status){const s={type:"end_of_answer",status:e.end_of_stream.status};t.push(s),o=!0}return[t,o]})))(i);Array.isArray(e)&&e.length>1&&(!0===e[1]&&(s=!0),Array.isArray(e[0])&&e[0].length>0&&e[0].forEach((e=>{o.push(e)})))}else(0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,`Unknown response type: ${i.type}, entire buffer: ---${e.toString("utf8")}---`);var n})))).on("error",(t=>{(0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,`Error parsing ND-JSON: ${t},\n                    entire buffer: ---${e.toString("utf8")}---`),o.push((0,h.HH)("520","UNKNOWN_ERROR")),s=!0,n([o,s])})).on("end",(()=>{n([o,s]),(0,_.a8)(_.bi.ThoughtPartner,_.Hc.QnA,"End of parsing stream")}))}))}));var p=o("jpy3"),v=o("36Lb"),g=o("srgf"),m=o("GTxN"),y=o("poOI"),f=o("9A+i"),A=o("KAmO"),ParseMultiPartContent_awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};const ParseMultiPartContent=(e,t)=>ParseMultiPartContent_awaiter(void 0,void 0,void 0,(function*(){const processPart=e=>{const t=e.header.split(";"),[o,s]=t[0].split(":"),[i,n]=["conversation_metadata",t[1].includes("conversation_metadata")],[r,a]=e.info.split(":");return{headers:{[o.trim().toLowerCase()]:s.trim(),[i.trim().toLowerCase()]:n,[r.trim().toLowerCase()]:a.trim()},body:JSON.parse(e.body)}};let o;return function(e){e[e.Initial=0]="Initial",e[e.BoundaryDetected=1]="BoundaryDetected",e[e.ContentTypeDetected=2]="ContentTypeDetected",e[e.ContentLengthDetected=3]="ContentLengthDetected",e[e.BodyDetected=4]="BodyDetected",e[e.EndOfStreamDetected=5]="EndOfStreamDetected"}(o||(o={})),new Promise((s=>{let i="",n="",r="",a=0;const l=Array(),d=`--${t}`;let c="";for(let t=0;t<e.length;t+=1){const s=c+e[t].toString(),u=s[s.length-1],h=s.toString().split(/\r?\n/);for(let e=0;e<h.length;e+=1)if(""!==h[e])if(a===o.Initial)d===h[e]&&(a=o.BoundaryDetected);else if(a===o.BoundaryDetected)a=o.ContentTypeDetected,i=h[e];else if(a===o.ContentTypeDetected)a=o.ContentLengthDetected,n=h[e];else if(a===o.ContentLengthDetected)a=o.BodyDetected,r=h[e];else if(a===o.BodyDetected){if(d===h[e]||`${d}--`===h[e]){const t=processPart({header:i,info:n,body:r});l.push(t),i="",n="",r="",a=d===h[e]?o.BoundaryDetected:o.EndOfStreamDetected}}else if(`${d}--`===h[e]){a=o.EndOfStreamDetected;break}"\n"!==u&&"\r"!==u&&""!==u?(c=h[h.length-1],a-=1):c=""}s([l])}))}));var C=o("EvqT"),E=o("C/hT"),w=o("xYLj"),T=o("LAsn"),b=o("2Wlf"),S=o("QLQe"),I=o("86lk"),P=o("2NhI"),k=o("mixQ"),R=o("gvDY"),D=o("iFic");class DeleteCollectionCommand extends n.VM{constructor(e,t,o){super(n.Bm.DELELE_CHAT_SESSION),this.collection_id=e,this.chat_session_id=t,this.session_service_v2_base_uri=o}}var L=o("wJoC");class GetGoalRecommendationsCommand extends n.VM{constructor(e,t){super(n.Bm.GET_GOAL_RECOMMENDATIONS),this.collectionId=e,this.acceptJson=t}}var N=o("24xA"),NetworkUtils_awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};const onTimeout=()=>{},isLPCardsAvailable=e=>e.length>=1&&"processing"===e[0].status&&e[0].noteIds;const processCollectionResponse=e=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){const t=e;if(t.ERR_CODE===p.dE.NO_ERROR){const e=new CreateChatSessionCommand(b.Ay.sessionServiceV2BaseUri,t.genai_session_id);try{const t=yield s.A.ExecuteKWCommand(e);return t.ERR_CODE===p.dE.NO_ERROR?t.chat_session_id:""}catch(e){return(0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,`Error creating chat session due to: ${e}`),""}}else t.ERR_CODE===p.dE.APPLICATION_UPDATE_REQUIRED&&((0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,"Application update required (410) error when creating chat session"),m.A.setErrorState(a.b.APPLICATION_UPDATE_REQUIRED));return(0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,"Error fetching collection data"),""}));function getChatSession(e){var t,o;return NetworkUtils_awaiter(this,void 0,void 0,(function*(){let i="",n="";const l=new v.Ay({id:e,sort_order:g.qP.DESCENDING,order_by:g.J6.CREATED,page_size:1}),d=yield s.A.ExecuteKWCommand(l);return(null==d?void 0:d.ERR_CODE)===p.dE.NO_ERROR&&Array.isArray(null==d?void 0:d.conversations)&&(null==d?void 0:d.conversations.length)>0?(i=null===(t=null==d?void 0:d.conversations[0])||void 0===t?void 0:t.id,n=null===(o=null==d?void 0:d.conversations[0])||void 0===o?void 0:o.events_uri,[i,n]):function createChatSession(e){return NetworkUtils_awaiter(this,void 0,void 0,(function*(){try{const t=yield s.A.ExecuteKWCommand(new r.A(e));if(Array.isArray(t)){const[e,o]=t;if((null==e?void 0:e.ERR_CODE)===p.dE.APPLICATION_UPDATE_REQUIRED)return(0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,"Application update required (410) error from cache when creating chat session"),m.A.setErrorState(a.b.APPLICATION_UPDATE_REQUIRED),"";const s=yield processCollectionResponse(e);if(""!==s)return s;const i=yield o;return yield processCollectionResponse(i)}return yield processCollectionResponse(t)}catch(e){return(0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,`Error in createChatSession: ${e}`),""}}))}(e).then((e=>[e,n]))}))}const deleteChatSession=(e,t)=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){const o=new DeleteCollectionCommand(e,t,b.Ay.sessionServiceV2BaseUri);return(yield s.A.ExecuteKWCommand(o)).ERR_CODE===p.dE.NO_ERROR})),requestChatResponse=(e,t,o,s,n,r,a)=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){var l,c;try{const u=yield(0,i.UY)(h.Od.QuestionAnswer,t,o,s,b.Ay.senseiServiceBaseUri,r,void 0,a),p=u.transactionId,v=u.outputFormat;if((0,_.a8)(_.bi.ThoughtPartner,_.Hc.QnA,`User has asked a question: predict was successful, received transaction id - ${p}`),!p)return void k.A.updateErrorState(s,w.O4.BAD_INPUT);const g=k.A.currentChat.qnaRecords.find((e=>e.id===s));g&&(g.transactionId=p,g.outputFormat=v);const m=(null===(c=null===(l=null==u?void 0:u.response)||void 0===l?void 0:l.headers)||void 0===c?void 0:c.location)||"",y="application/vnd.adobe.dc+json",f=new d.bo(m,h.Od.QuestionAnswer,p,e,3,onTimeout,y,parseAnswerInContentResponse,n,200);yield f.fetch()}catch(e){(0,_.qz)(_.bi.ThoughtPartner,_.Hc.QnA,`Error during QnA call: ${e}`),k.A.updateErrorState(s,w.O4.CONTENT_FETCH_ERROR)}})),requestCollectionGoals=function(e,t,o,s,n){let r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){var c,u;let p="";try{let v="",g="";if("online"===t){(0,_.a8)(_.bi.ThoughtPartner,_.Hc.LandingPage,"Fetching collection goals: predict start, received transaction id");const t=yield(0,i.UY)(h.Od.GoalRecommendation,e,"","",b.Ay.senseiServiceBaseUri,void 0,b.te.importedSources.map((e=>e.id)));if(p=t.transactionId,(0,_.a8)(_.bi.ThoughtPartner,_.Hc.Goals,`Fetching collection goals: predict was successful, transaction id - ${p}`),!p)return(0,_.a8)(_.bi.ThoughtPartner,_.Hc.LandingPage,"Fetching collection goals: predict failed"),void R.A.setGoalErrorState(w.O4.BAD_INPUT);v=(null===(u=null===(c=null==t?void 0:t.response)||void 0===c?void 0:c.headers)||void 0===u?void 0:u.location)||"",g="application/vnd.adobe.dc+json"}(0,l.th)(`Making Goals call to NetProvider in ${t} mode`);const m=new d.bo(v,h.Od.GoalRecommendation,p,o,3,onTimeout,g,parseAnswerInContentResponse,s,1e3,t,void 0,d.$3,n,r,a);yield m.fetch()}catch(e){(0,_.qz)(_.bi.ThoughtPartner,_.Hc.Goals,`Error fetching collection goals: ${e}`),R.A.setGoalErrorState(w.O4.CONTENT_FETCH_ERROR,p)}}))},processLPCardsbyNotesResponse=(e,t)=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){const o=I.ab,s=e.children.length>o?e.children.slice(0,o):e.children,i=yield Promise.all(s.map(((e,t)=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){const o=new y.A(e),s=yield m.A.downloadNote(o,"lp_card",C.d.READ_CACHE);return{index:t,note:e,downloadResponse:s}}))))),n=[];i.sort(((e,t)=>e.index-t.index)).forEach((e=>{let{note:o,downloadResponse:s}=e;var i;if(s&&s.ERR_CODE===p.dE.NO_ERROR){let e;e="string"==typeof s.content?JSON.parse(s.content):s.content,n.push(new T.A(o.id,e,f.B2.Fetched,f.d.NotesService,e.id,void 0,void 0,null===(i=null==e?void 0:e.metadata)||void 0===i?void 0:i.transaction_id)),t.push(o.id)}else(0,A.HS)(A.$b.ERROR,"Error downloading note from cache",o.id,o.name,null==s?void 0:s.responseCode)})),n.length>0&&(R.A.clearLPCards(),R.A.setLPCards(n))}));function getNotesFromCollectionId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user_note",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"shared",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return NetworkUtils_awaiter(this,void 0,void 0,(function*(){(0,A.HS)(A.$b.INFO,"Getting notes for collection id",e,t);const n=yield s.A.ExecuteKWCommand(new D.Ay({id:e,access_level:o,type:t,canFetchFromCache:i}));return Array.isArray(n),n}))}const requestCollectionLPCardsByNotes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"online",o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){let s=[P.Z.kReviewer,P.Z.kViewer].includes(b.Ay.userRole);try{const i=yield getNotesFromCollectionId(e,"lp_card","shared",o);let n,r;"online"===t?[n,r]=Array.isArray(i)?i:[null,Promise.resolve(i)]:n=i;const a=[];if(console.log("Cache Response",n),n&&!1===R.A.lpCardsPendingUpdatePostNotification&&n.ERR_CODE===p.dE.NO_ERROR&&(yield processLPCardsbyNotesResponse(n,a)),"online"===t&&r){const e=yield r,t=[];if(a.length>0)if(s){if(!R.A.lpCardsPendingUpdatePostNotification)return void R.A.setLPRefreshHeaderType(f.xO.ONS_NOTIFICATION)}else(0,S.mB)(I.vp,I.rh);e.ERR_CODE===p.dE.NO_ERROR&&(yield processLPCardsbyNotesResponse(e,t)),s=[P.Z.kReviewer,P.Z.kViewer].includes(b.Ay.userRole),(s||b.Ay.isCuratedCollection)&&(e.ERR_CODE===p.dE.NO_ERROR&&0!==t.length||R.A.setCardErrorState((0,L.Ru)(e.ERR_CODE))),R.A.lpCardsPendingUpdatePostNotification=!1}}catch(e){(0,_.qz)(_.bi.ThoughtPartner,_.Hc.LandingPage,`"Unable to fetch LP cards from notes API: ", ${e}`),s&&R.A.setCardErrorState(w.O4.UNKNOWN_ERROR)}}))},requestChatHistoryResponse=(e,t,o,s,i)=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){const n=new d.bo(o,h.Od.ConversationHistory,t,e,3,onTimeout,"multipart/mixed",parseAnswerInContentResponse,i,1e3,s,ParseMultiPartContent);yield n.fetchMultipartContent()})),requestCollectionLPCards=function(e,t,o,s,n,r){let a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){var u,p;let v="";try{let g="",m="";if("online"===t){(0,_.a8)(_.bi.ThoughtPartner,_.Hc.LandingPage,`Fetching LP Cards: predict start, received transaction id - ${v}`);const t=yield(0,i.UY)(h.Od.LPCard,e,"","",b.Ay.senseiServiceBaseUri,void 0,b.te.importedSources.map((e=>e.id)));if(v=t.transactionId,!v)return R.A.setCardErrorState(w.O4.BAD_INPUT),void(0,_.a8)(_.bi.ThoughtPartner,_.Hc.LandingPage,"Fetching LP Cards: predict was failed");(0,_.a8)(_.bi.ThoughtPartner,_.Hc.LandingPage,`Fetching LP Cards: predict was successful, received transaction id - ${v}`);g=(null===(p=null===(u=null==t?void 0:t.response)||void 0===u?void 0:u.headers)||void 0===p?void 0:p.location)||"",m="application/vnd.adobe.dc+json"}const y=new d.bo(g,h.Od.LPCardMetadata,v,o,3,onTimeout,m,parseAnswerInContentResponse,s,1e3,t,void 0,d.$3,r,a,c);yield y.fetch(),(0,l.th)(`Making LP call to NetProvider in ${t} mode`);const f=new d.bo(g,h.Od.LPCard,v,o,3,onTimeout,m,parseAnswerInContentResponse,n,1e3,t,void 0,d.$3,r,a,c);yield f.fetch()}catch(e){(0,_.qz)(_.bi.ThoughtPartner,_.Hc.LandingPage,`"Error fetching LP Cards from LP service: ", ${e}`),R.A.setCardErrorState(w.O4.CONTENT_FETCH_ERROR,v)}}))};function fetchGoalsFromCache(e,t){return NetworkUtils_awaiter(this,void 0,void 0,(function*(){try{const o=yield E.Ay.getKWCacheNativeAPI(),s=yield null==o?void 0:o.readMetaDataFromCache(e,E.p3.KWCollectionGoal);(0,_.a8)(_.bi.ThoughtPartner,_.Hc.Goals,`Fetching Goal data retrieved from cache: ${s}`),null!=s&&t({response:s,fetchedFromCache:!0,shouldLogAnalytics:!1})}catch(e){(0,_.qz)(_.bi.ThoughtPartner,_.Hc.Goals,`Error while reading data from cache, ${e}`)}}))}const requestStoredCollectionGoals=e=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){const t=yield(0,h.b7)(),o=yield s.A.ExecuteKWCommand(new GetGoalRecommendationsCommand(b.Ay.sessionID,t));if(Array.isArray(o)){const[t,s]=o;t.ERR_CODE===p.dE.NO_ERROR&&e({response:t}),s.then((t=>{e({response:t})}))}else e({response:o})})),requestCustomAgentInstructions=(e,t,o,s,n,r)=>NetworkUtils_awaiter(void 0,void 0,void 0,(function*(){var a,l;let c="",u="",p="";try{if("online"===t){const t=yield(0,i.UY)(h.Od.GenerateInstructions,e,"","",b.Ay.senseiServiceBaseUri,void 0,void 0,void 0,s);if(c=t.transactionId,!c)return b.s3.setErrorState(w.O4.BAD_INPUT),(0,_.a8)(_.bi.CustomAgent,_.Hc.GenerateInstructions,"Generate Instructions : predict was failed"),void(0,S.mB)(N.HC,N.Zd);(0,_.a8)(_.bi.CustomAgent,_.Hc.GenerateInstructions,`Generate Instructions: predict was successful, transaction id - ${c}`);u=(null===(l=null===(a=null==t?void 0:t.response)||void 0===a?void 0:a.headers)||void 0===l?void 0:l.location)||"",p="application/vnd.adobe.dc+json"}const v=new d.bo(u,h.Od.GenerateInstructions,c,o,3,onTimeout,p,parseAnswerInContentResponse,n,1e3,t,void 0,d.$3,r);yield v.fetch()}catch(e){(0,_.qz)(_.bi.CustomAgent,_.Hc.GenerateInstructions,`Error generating instructions: ${e}`),b.s3.setErrorState(w.O4.CONTENT_FETCH_ERROR,c)}}))},HEBg:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__});var s=o("YWiy"),i=o("vyzc");let n=60,r=0;const setFrameRate=e=>{e<0||e>60||e===n||"function"==typeof window.resetFrameRate&&(window.resetFrameRate(e),n=e,console.info("[CEFFrameRateLimitter] frame rate set to :",n))},__WEBPACK_DEFAULT_EXPORT__=e=>{let{children:t,startFrameRate:o=10,endFrameRate:n=60,timeout:a=15e4}=e;const l=(0,s.useRef)(null);return(0,s.useEffect)((()=>{if(i.A.IsRunningInNativeWebView())return()=>{};const handleUnload=()=>{r=0,setFrameRate(n),l.current&&clearTimeout(l.current)};window.addEventListener("beforeunload",handleUnload);return r+=1,l.current=setTimeout((()=>{r>=1&&(r-=1,0===r&&(setFrameRate(n),window.removeEventListener("beforeunload",handleUnload)))}),a),setFrameRate(o),()=>{r>=1&&(r-=1,l.current&&clearTimeout(l.current),0===r&&(setFrameRate(n),window.removeEventListener("beforeunload",handleUnload)))}}),[]),s.createElement(s.Fragment,null,t)}},riKw:(e,t,o)=>{"use strict";o.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__,R:()=>GetMediaQueryLayout});var s=o("YWiy"),i=o("ZojT");const GetMediaQueryLayout=()=>{const e=window.matchMedia("(max-width: 768px)"),t=window.matchMedia("(max-width: 1000px)");return e.matches?i.Nh.kMobile:t.matches?i.Nh.kTablet:i.Nh.kNormal},__WEBPACK_DEFAULT_EXPORT__=()=>{const[e,t]=(0,s.useState)(GetMediaQueryLayout());return(0,s.useEffect)((()=>{const e=window.matchMedia("(max-width: 768px)"),o=window.matchMedia("(max-width: 1000px)"),handleMobileMediaQueryChange=e=>{t(e.matches?i.Nh.kMobile:i.Nh.kNormal)},handleTabletMediaQueryChange=e=>{t(e.matches?i.Nh.kTablet:i.Nh.kNormal)};return e.addEventListener("change",handleMobileMediaQueryChange),o.addEventListener("change",handleTabletMediaQueryChange),()=>{e.removeEventListener("change",handleMobileMediaQueryChange),o.removeEventListener("change",handleTabletMediaQueryChange)}}),[]),{mediaQueryLayout:e}}},"/caq":(e,t,o)=>{"use strict";o.d(t,{$3:()=>h,Br:()=>s,bo:()=>KWStreamNetProvider});var s,i=o("plsW"),n=o("xYLj"),r=o("bTOH"),a=o("C/hT"),l=o("Jjq2"),d=o("DHl7"),c=o("0VNB"),u=o("Itil").Buffer,__awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};!function(e){e[e.kInitial=0]="kInitial",e[e.kContentStreamEnded=1]="kContentStreamEnded",e[e.kCurrentSessionExpired=2]="kCurrentSessionExpired",e[e.kUserUnauthorized=3]="kUserUnauthorized",e[e.kContinueForContentFetch=4]="kContinueForContentFetch",e[e.kFetchLastChunk=5]="kFetchLastChunk",e[e.kEndProcess=6]="kEndProcess"}(s||(s={}));const h=1e5;class KWStreamNetProvider{constructor(e,t,o,i){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16,r=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,d=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:5e3,u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:"online",_=arguments.length>11?arguments[11]:void 0,p=arguments.length>12&&void 0!==arguments[12]?arguments[12]:h,v=arguments.length>13&&void 0!==arguments[13]&&arguments[13],g=arguments.length>14&&void 0!==arguments[14]&&arguments[14],m=arguments.length>15&&void 0!==arguments[15]&&arguments[15],y=!(arguments.length>16&&void 0!==arguments[16])||arguments[16];this.retryCount=0,this.currentState=s.kContinueForContentFetch,this.maxCallCount=32,this.currQuestionId="",this.mode="online",this.isForCustomAgent=!1,this.answerCompletedSuccessfully=!1,this.url=e,this.queryType=t,this.transactionId=o,this.sessionId=i,this.maxRetryCount=n,this.timeoutHandler=r,this.jsonContentParser=l,this.callback=d,this.thresholdTime=c,this.mode=u,this.accumulatedData=[],this.expectedContentType=a,this.maxTimeout=p,this.multiPartContentParser=_||(()=>__awaiter(this,void 0,void 0,(function*(){return[[]]}))),this.inBackground=v,this.isForRefresh=g,this.isForCustomAgent=m,this.shouldLogAnalytics=y}handleCPFResponse(e){var t,o,i;return __awaiter(this,void 0,void 0,(function*(){const a=yield e.text();try{const e=JSON.parse(a),c=null===(i=null===(o=null===(t=e.statuses)||void 0===t?void 0:t[0])||void 0===o?void 0:o.invocations)||void 0===i?void 0:i[0],u=null==c?void 0:c.status,h=JSON.parse((null==c?void 0:c.report)||"{}").error_code||"";(0,l.a8)(l.bi.ThoughtPartner,l.Hc.CPF,`Handling non-answer/CPF, of type: ${r.Od[this.queryType]},\n                with transaction id: ${this.transactionId}, with status: ${u},\n                and error message: ${h}`),"200"===u?this.currentState=s.kFetchLastChunk:"202"===u?this.currentState=s.kContinueForContentFetch:"403"===u&&h===n.O4.CREDITS_EXHAUSTED.code?(this.currentState=s.kEndProcess,yield d.A.updateProvisioningStatus(),this.accumulatedData.push((0,r.HH)("403","CREDITS_EXHAUSTED",this.transactionId,this.currQuestionId)),this.DoCallback(),(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CPF,`Credits Exhausted for User,\n                    of type: ${r.Od[this.queryType]},\n                    with transaction id: ${this.transactionId}`)):"500"===u&&h===n.O4.SESSION_TIMEOUT?(this.accumulatedData.push((0,r.HH)("500","SESSION_TIMEOUT",this.transactionId,this.currQuestionId)),this.DoCallback(),(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CPF,`Current session expired, or 500,\n                    of type: ${r.Od[this.queryType]},\n                    with transaction id: ${this.transactionId}`)):((0,l.qz)(l.bi.ThoughtPartner,l.Hc.CPF,`Sensei error:, ${u}, error message: ${h}`),this.accumulatedData.push((0,r.HH)(u,h,this.transactionId,this.currQuestionId)),this.currentState=s.kEndProcess,this.DoCallback())}catch(e){(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CPF,"Unknown error"),this.accumulatedData.push((0,r.HH)("520","UNKNOWN_ERROR",this.transactionId,this.currQuestionId)),this.currentState=s.kEndProcess,this.DoCallback()}}))}fetchDataFromNetwork(){var e;return __awaiter(this,void 0,void 0,(function*(){const t=yield i.providers["native-api"](),o=yield t.SessionAPI(),n=(yield o.isGuestUser())?yield o.GetGuestAccessToken():yield o.GetAccessToken(),a=yield t.genTechAPI(),h={Authorization:`Bearer ${n}`,"x-api-key":o.xApiKey,"x-api-app-info":o.xApiClientId,"x-api-client-id":o.xApiClientId,"x-transaction-id":this.transactionId,Accept:"*",Prefer:"respond-partial, wait=60"};this.queryType!==r.Od.LPCard&&a.xEngineVariant&&(h["x-engine-variant"]=a.xEngineVariant);const _=yield o.GetPerfRequestId();_&&(h["x-request-id"]=`${_}----${(0,c.v4)()}`.slice(0,50));let p="";this.queryType===r.Od.QuestionAnswer?p="thought_partner_output":this.queryType===r.Od.GoalRecommendation?p="goal_recommendations_output":this.queryType===r.Od.LPCard?p="landing_page_output":this.queryType===r.Od.LPCardMetadata?p="landing_page_output_metadata":this.queryType===r.Od.GenerateInstructions&&(p="custom_agent_instructions_output");const v=new URLSearchParams({outputName:`${p}`,nonMultipart:"true"});this.url=`${this.url}?${v.toString()}`,(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Started fetching content for URL: ${this.url}, \n            query type: ${r.Od[this.queryType]}, transaction id: ${this.transactionId},\n            current state: ${s[this.currentState]}`);let g=0,m=0;for(;this.currentState!==s.kEndProcess&&g<this.maxCallCount;){try{(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Making fetch call: ${this.url}, query type: ${r.Od[this.queryType]},\n                    headers: ${h.Accept}, current call count: ${g}`);const t=yield Promise.race([fetch(this.url,{headers:h,signal:null}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Timeout"))),this.maxTimeout)))]);if(t.ok)if(200!==t.status)yield this.HandleNon200ResponseCode(t,h);else if((0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Received status code: ${t.status}, of type: \n                            ${r.Od[this.queryType]}, \n                            with transaction id: ${this.transactionId}, current call count: ${g}`),t.body){const o=null===(e=t.headers.get("content-type"))||void 0===e?void 0:e.split(";")[0],i=t.headers.get("x-request-id");if("application/cpf.status+json"===o||"application/json"===o)(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Parsing non-content response with content-type: ${o},\n                                    of type: ${r.Od[this.queryType]}, with transaction id: \n                                    ${this.transactionId}, x-request-id: ${i},\n                                    current call count: ${g}`),yield this.handleCPFResponse(t),this.currentState!==s.kContinueForContentFetch&&this.currentState!==s.kFetchLastChunk||(h.Accept="*");else if(o===this.expectedContentType)if(this.currentState===s.kContentStreamEnded)this.currentState=s.kEndProcess;else{const e=t.body.getReader();let n=!1;for(;!n&&this.currentState!==s.kEndProcess;){const{value:t,done:o}=yield e.read();if(void 0!==t){const e=yield this.jsonContentParser(u.from(t.buffer),this.queryType);Array.isArray(e)&&e.length>1&&(!0===e[1]&&(this.currentState=s.kEndProcess,this.answerCompletedSuccessfully=!0),Array.isArray(e[0])&&e[0].length>0&&e[0].forEach((e=>{"metadata"===e.type?this.currQuestionId=e.metadata.question_metadata.question_id:"end_of_answer"!==e.type||"Completed"!==e.status&&"No_Updates"!==e.status||(this.currentState=s.kEndProcess,this.answerCompletedSuccessfully=!0),e.question_id=this.currQuestionId,this.accumulatedData.push(e)})))}n=o}m=this.accumulatedData.length,this.currentState===s.kContinueForContentFetch&&(h.Accept="application/cpf.status+json"),this.currentState===s.kFetchLastChunk&&(this.currentState=s.kEndProcess),this.currentState===s.kEndProcess&&this.queryType===r.Od.GoalRecommendation&&(0,l.a8)(l.bi.ThoughtPartner,l.Hc.LandingPage,"Fetching collection goals: stream end"),this.DoCallback(),(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Parsed content: ${o}, of type: \n                                        ${r.Od[this.queryType]}, with transaction id:\n                                        ${this.transactionId}, with array length: ${m}, \n                                        current processing state: ${s[this.currentState]}, \n                                        x-request-id: ${i}, current call count: ${g}`)}else(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Unknown content type: ${o}, of type :\n                                    ${r.Od[this.queryType]}, with transaction id:\n                                    ${this.transactionId}, current call count: ${g},\n                                    x-request-id: ${i}`)}else(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`No body in response, of type: ${r.Od[this.queryType]}, \n                                with transaction id: ${this.transactionId}, current call count: ${g}`)}catch(e){console.log(`[KW][TP]: Error fetching the contents of type: ${r.Od[this.queryType]},\n                    with transaction id: ${this.transactionId}, current call count: ${g}`),(0,l.qz)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Error fetching the contents of type: ${r.Od[this.queryType]},\n                    with transaction id: ${this.transactionId}, current call count: ${g}`),this.accumulatedData.push((0,r.HH)("500","CONTENT_FETCH_ERROR",this.transactionId,this.currQuestionId)),this.DoCallback(this.accumulatedData)}g+=1}if(this.clearInterval(),this.answerCompletedSuccessfully&&this.currentState===s.kEndProcess&&this.queryType===r.Od.QuestionAnswer&&(yield d.A.updateProvisioningStatus()),g>=this.maxCallCount){this.timeoutHandler();const e=(0,r.HH)("500","UNKNOWN_ERROR",this.transactionId,this.currQuestionId);this.DoCallback([e])}}))}HandleNon200ResponseCode(e,t){this.currentState=s.kContinueForContentFetch,t.Accept="application/cpf.status+json",(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Received status code: ${e.status}, of type:\n            ${r.Od[this.queryType]}, with transaction id: ${this.transactionId}`),e.status>=400&&(this.accumulatedData.push((0,r.HH)(e.status.toString(),e.statusText||"UNKNOWN_ERROR",this.transactionId,this.currQuestionId)),this.DoCallback(),e.status>=500&&(this.currentState=s.kEndProcess))}readDataFromCache(){return __awaiter(this,void 0,void 0,(function*(){try{const e=yield a.Ay.getKWCacheNativeAPI();if(this.queryType===r.Od.GoalRecommendation){const t=yield null==e?void 0:e.readMetaDataFromCache(this.sessionId,a.p3.KWCollectionGoal,null);return(0,l.a8)(l.bi.ThoughtPartner,l.Hc.Goals,`Goal data retrieved from cache:: ${t}`),t||null}return null}catch(e){return(0,l.qz)(l.bi.ThoughtPartner,l.Hc.Goals,`Error while reading data from cache, ${e}`),null}}))}DoCallback(e){const t={response:e||this.accumulatedData,inBackground:this.inBackground,isForRefresh:this.isForRefresh,isForCustomAgent:this.isForCustomAgent,shouldLogAnalytics:this.shouldLogAnalytics,status:this.currentState,transactionId:this.transactionId};this.callback(t),e||(this.accumulatedData=[])}handleFetchOfflineMode(){return __awaiter(this,void 0,void 0,(function*(){if(this.queryType===r.Od.QuestionAnswer)this.accumulatedData.push((0,r.HH)("500","offline mode")),this.DoCallback();else if(this.queryType===r.Od.GoalRecommendation){const e=yield this.readDataFromCache();console.log(`Fetched data from cache: ${e}`),null!=e&&((0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`[KW][FETCH] response fetched from the cache:: ${e} `),this.callback({response:e,fetchedFromCache:!0,shouldLogAnalytics:!1}))}else this.queryType===r.Od.LPCard?(this.accumulatedData.push((0,r.HH)("500","offline mode")),this.DoCallback()):(this.queryType,r.Od.ConversationHistory,this.accumulatedData.push((0,r.HH)("500","offline mode")),this.DoCallback())}))}fetch(){return __awaiter(this,void 0,void 0,(function*(){if("offline"===this.mode)return console.log("Fetching data in offline mode: fetch() main function"),void(yield this.handleFetchOfflineMode());this.currentState!==s.kEndProcess?(this.intervalId=setInterval((()=>{this.accumulatedData.length>0&&this.DoCallback()}),this.thresholdTime),this.retryCount>this.maxRetryCount&&this.timeoutHandler(),yield this.fetchDataFromNetwork()):(0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,`ContentFetcherState.kStopFetching, of type:\n                ${r.Od[this.queryType]}, with transaction id: ${this.transactionId}`)}))}fetchMultipartContent(){return __awaiter(this,void 0,void 0,(function*(){try{const e=yield a.Ay.getKWCacheNativeAPI();let t=yield null==e?void 0:e.readResourceDataFromCache(this.sessionId,a.p3.KWCollectionChat,this.transactionId);if((0,l.a8)(l.bi.ThoughtPartner,l.Hc.DataFetch,"Started fetching content from cache"),this.isCacheValid(t)||(t=void 0),t){Object.values(t).length>0&&this.DoCallback([t,!1])}"online"===this.mode&&this.fetchConversationHistoryFromNetwork(t)}catch(e){(0,l.qz)(l.bi.ThoughtPartner,l.Hc.DataFetch,`Error fetching the contents of type: ${r.Od[this.queryType]},\n                with transaction id: ${this.transactionId}`);const t=(0,r.HH)("500","CONTENT_FETCH_ERROR",this.transactionId,this.currQuestionId);this.DoCallback(t)}}))}fetchConversationHistoryFromNetwork(e){return __awaiter(this,void 0,void 0,(function*(){const t=yield i.providers["native-api"](),o=yield t.SessionAPI(),s={Authorization:`Bearer ${(yield o.isGuestUser())?yield o.GetGuestAccessToken():yield o.GetAccessToken()}`,"x-api-key":o.xApiKey,Accept:'multipart/mixed; boundary="event_boundary"'};(0,l.a8)(l.bi.ThoughtPartner,l.Hc.ChatHistory,`Started fetching content for URL: ${this.url}, \n            query type: ${r.Od[this.queryType]}, transaction id: ${this.transactionId}`);const n=yield Promise.race([fetch(this.url,{headers:s,signal:null}),new Promise(((e,t)=>setTimeout((()=>t(new Error("Timeout"))),this.maxTimeout)))]);if(n.ok&&n.body){const t=n.body.getReader(),o=n.headers.get("x-request-id");let s=!1;for(;!s;){const{value:e,done:o}=yield t.read();if(void 0!==e){const t=new TextDecoder("utf-8").decode(e);this.accumulatedData.push(t)}s=o}const i="event_boundary",a=yield this.multiPartContentParser(this.accumulatedData,i);(0,l.a8)(l.bi.ThoughtPartner,l.Hc.ChatHistory,`Parsed multi-content: of type: ${r.Od[this.queryType]},\n                    with transaction id: ${this.transactionId}, with array length: ${a.length},\n                    xrequest-id: ${o}`),this.isConversationHistoryStale(e,a[0])&&((0,l.a8)(l.bi.ThoughtPartner,l.Hc.ChatHistory,"Cached chat history FAILED validation with network response"),this.DoCallback([a[0],!0]))}}))}getAccumulatedData(){return this.accumulatedData}clearInterval(){this.intervalId&&clearInterval(this.intervalId)}isConversationHistoryStale(e,t){var o;try{if(0===(null==e?void 0:e.length)||(null==e?void 0:e.length)!==(null==t?void 0:t.length)-1)return!0;for(let s=0;s<e.length;s+=1){const i=null!==(o=t[t.length-1-s].body.question.id)&&void 0!==o?o:"";if(e[s].id!==i)return!0}return(0,l.a8)(l.bi.ThoughtPartner,l.Hc.ChatHistory,"Cached chat history SUCCESSFULLY validated with network response"),!1}catch(e){return(0,l.qz)(l.bi.ThoughtPartner,l.Hc.ChatHistory,"Error comparing cached and network chat history"),!0}}isCacheValid(e){if(!e||!Array.isArray(e))return!1;let t=!1;return e.forEach((e=>{const o=e.attributions;o&&o.length&&(t=o.some((e=>void 0===e.index)))})),!t}}},wh8g:(e,t,o)=>{"use strict";o.d(t,{MB:()=>TPCancelRequest,UY:()=>TPAskQuestion});var s=o("30lz"),i=o.n(s),n=o("0VNB"),r=o("plsW"),a=(o("M+Pm"),o("OHug"),o("bTOH")),l=o("Jjq2"),d=o("TESC"),__awaiter=function(e,t,o,s){return new(o||(o=Promise))((function(i,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s.throw(e))}catch(e){n(e)}}function step(e){e.done?i(e.value):function adopt(e){return e instanceof o?e:new o((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};const getContentAnalyzerRequest=function(e,t,o,s,i,n,r){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{};return Object.assign(Object.assign({},l),{"sensei:engines":[{"sensei:execution_info":{"sensei:engine":i},"sensei:inputs":{params:Object.assign(Object.assign({feature:Object.assign({name:`${o}`},a),[`${e}`]:t,app_lang:"en-US"},void 0!==n&&{doc_ids:n}),void 0!==r&&{enable_streaming:r})},"sensei:params":{},"sensei:outputs":Object.assign({[`${o}_output`]:{"sensei:multipart_field_name":`${o}_output`,"dc:format":s}},d)}]})},createHeaders=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;const i=Object.assign({"x-api-key":d.env.API_KEY||"AdobeAcrobat9",Authorization:`Bearer ${e}`,Accept:"application/json, text/plain, */*","x-api-client-id":`${t}`},o);return s&&(i["x-request-id"]=`${s}----${(0,n.v4)()}`.slice(0,50)),i},TPAskQuestion=(e,t,o,s,d,c,u,h,_)=>__awaiter(void 0,void 0,void 0,(function*(){var p,v,g,m,y,f,A,C,E,w,T,b,S,I,P,k,R,D,L,N,O,x,H,F,U,B,q,$,M,V,W,z,G,j,K,Q,X,J,Y,Z,ee,te,oe,se,ie,ne,re,ae,le,de,ce,ue,he,_e,pe,ve,ge,me,ye,fe,Ae,Ce,Ee,we,Te,be,Se,Ie,Pe,ke,Re,De,Le,Ne,Oe,xe,He,Fe,Ue,Be;let qe,$e,Me,Ve,We="";try{if(!r.providers["native-api"])return(0,l.qz)(l.bi.ThoughtPartner,l.Hc.QnA,"Native API not available"),{transactionId:"",outputFormat:We};const e=yield r.providers["native-api"](),t=yield e.SessionAPI();qe=(yield t.isGuestUser())?yield t.GetGuestAccessToken():yield t.GetAccessToken(),Me=t.xApiClientId,Ve=yield t.GetPerfRequestId(),$e=Ve?`${Ve}----${(0,n.v4)()}`.slice(0,50):`${t.xApiClientId}_${(0,n.v4)()}`}catch(e){throw e instanceof Error?(0,l.qz)(l.bi.ThoughtPartner,l.Hc.QnA,`Error fetching Bearer token: ${e.message}`):(0,l.qz)(l.bi.ThoughtPartner,l.Hc.QnA,`"Error fetching Bearer token:", ${e}`),e}if(0===(null==u?void 0:u.length)&&(0,l.a8)(l.bi.ThoughtPartner,l.Hc.QnA,`No asset provided for type :${e}, question id: ${s}, question: ${o}`),!t)return(0,l.qz)(l.bi.ThoughtPartner,l.Hc.QnA,"Invalid sessionId, assetId, or filename"),{transactionId:"",outputFormat:We};const ze=yield(0,a.Mt)();if(0===Object.keys(ze).length)return(0,l.qz)(l.bi.ThoughtPartner,l.Hc.QnA,"Secondary Discovery response not available"),{transactionId:"",outputFormat:We};const Ge=d||(null===(f=null===(y=null===(m=null===(g=null===(v=null===(p=null==ze?void 0:ze.services)||void 0===p?void 0:p.generate_thought_partner)||void 0===v?void 0:v.resources)||void 0===g?void 0:g.operations)||void 0===m?void 0:m.predict)||void 0===y?void 0:y.resource_parameter)||void 0===f?void 0:f.default),je=null===(T=null===(w=null===(E=null===(C=null===(A=null==ze?void 0:ze.services)||void 0===A?void 0:A.generate_thought_partner)||void 0===C?void 0:C.resources)||void 0===E?void 0:E.operations)||void 0===w?void 0:w.predict)||void 0===T?void 0:T.uri,Ke=null===(R=null===(k=null===(P=null===(I=null===(S=null===(b=null==ze?void 0:ze.services)||void 0===b?void 0:b.generate_thought_partner)||void 0===S?void 0:S.resources)||void 0===I?void 0:I.operations)||void 0===P?void 0:P.predict)||void 0===k?void 0:k.resource_parameter)||void 0===R?void 0:R.name,Qe=je.replace(`{+${Ke}}`,Ge);let Xe={};const Je=null===(F=null===(H=null===(x=null===(O=null===(N=null===(L=null===(D=null==ze?void 0:ze.services)||void 0===D?void 0:D.generate_thought_partner)||void 0===L?void 0:L.resources)||void 0===N?void 0:N.operations)||void 0===O?void 0:O.predict)||void 0===x?void 0:x.form_data_parameters)||void 0===H?void 0:H.find((e=>"service_id"===e.name)))||void 0===F?void 0:F.default,Ye=null===(W=null===(V=null===(M=null===($=null===(q=null===(B=null===(U=null==ze?void 0:ze.services)||void 0===U?void 0:U.generate_goal_recommendations)||void 0===B?void 0:B.resources)||void 0===q?void 0:q.operations)||void 0===$?void 0:$.predict)||void 0===M?void 0:M.form_data_parameters)||void 0===V?void 0:V.find((e=>"service_id"===e.name)))||void 0===W?void 0:W.default,Ze=null===(J=null===(X=null===(Q=null===(K=null===(j=null===(G=null===(z=null==ze?void 0:ze.services)||void 0===z?void 0:z.generate_custom_instructions)||void 0===G?void 0:G.resources)||void 0===j?void 0:j.operations)||void 0===K?void 0:K.predict)||void 0===Q?void 0:Q.form_data_parameters)||void 0===X?void 0:X.find((e=>"service_id"===e.name)))||void 0===J?void 0:J.default,et={"x-transaction-id":`${$e}`},tt=new FormData;if(e===a.Od.QuestionAnswer){const e=c?{question_type:c}:{},i=null!=h?h:{},n={params:Object.assign(Object.assign({question:`${o}`,question_id:`${s}`},e),i)},r=null===(ie=null===(se=null===(oe=null===(te=null===(ee=null===(Z=null===(Y=null==ze?void 0:ze.services)||void 0===Y?void 0:Y.generate_thought_partner)||void 0===Z?void 0:Z.resources)||void 0===ee?void 0:ee.operations)||void 0===te?void 0:te.predict)||void 0===oe?void 0:oe.accept)||void 0===se?void 0:se.thought_partner_output)||void 0===ie?void 0:ie.application_json_v1,a=getContentAnalyzerRequest("chat_session_id",t,"thought_partner",r,Je,void 0,void 0,n,{"sensei:control":"true"});We=r,Xe=createHeaders(qe,Me,et,Ve),tt.append("contentAnalyzerRequests",JSON.stringify(a))}else if(e===a.Od.GoalRecommendation){const e=null===(ue=null===(ce=null===(de=null===(le=null===(ae=null===(re=null===(ne=null==ze?void 0:ze.services)||void 0===ne?void 0:ne.generate_goal_recommendations)||void 0===re?void 0:re.resources)||void 0===ae?void 0:ae.operations)||void 0===le?void 0:le.predict)||void 0===de?void 0:de.accept)||void 0===ce?void 0:ce.goal_recommendations_output)||void 0===ue?void 0:ue.application_json_v2,o=getContentAnalyzerRequest("session_id",t,"goal_recommendations",e,Ye,u,void 0);We=e,Xe=createHeaders(qe,Me,et,Ve),tt.append("contentAnalyzerRequests",JSON.stringify(o))}else if(e===a.Od.LPCard){const e={"sensei:name":"genai-mcc","sensei:invocation_mode":"asynchronous","sensei:invocation_batch":"false","sensei:in_response":"false"},o=null===(ye=null===(me=null===(ge=null===(ve=null===(pe=null===(_e=null===(he=null==ze?void 0:ze.services)||void 0===he?void 0:he.generate_landing_page)||void 0===_e?void 0:_e.resources)||void 0===pe?void 0:pe.operations)||void 0===ve?void 0:ve.predict)||void 0===ge?void 0:ge.accept)||void 0===me?void 0:me.landing_page_output)||void 0===ye?void 0:ye.application_json_v1,s=null===(be=null===(Te=null===(we=null===(Ee=null===(Ce=null===(Ae=null===(fe=null==ze?void 0:ze.services)||void 0===fe?void 0:fe.generate_landing_page)||void 0===Ae?void 0:Ae.resources)||void 0===Ce?void 0:Ce.operations)||void 0===Ee?void 0:Ee.predict)||void 0===we?void 0:we.form_data_parameters)||void 0===Te?void 0:Te.find((e=>"service_id"===e.name)))||void 0===be?void 0:be.default,i={landing_page_output_metadata:{"sensei:multipart_field_name":"landing_page_output_metadata","dc:format":null===(Le=null===(De=null===(Re=null===(ke=null===(Pe=null===(Ie=null===(Se=null==ze?void 0:ze.services)||void 0===Se?void 0:Se.generate_landing_page)||void 0===Ie?void 0:Ie.resources)||void 0===Pe?void 0:Pe.operations)||void 0===ke?void 0:ke.predict)||void 0===Re?void 0:Re.accept)||void 0===De?void 0:De.landing_page_output_metadata)||void 0===Le?void 0:Le.application_json_v1}},n=getContentAnalyzerRequest("session_id",t,"landing_page",o,s,u,!0,{},e,i);We=o,Xe=createHeaders(qe,Me,et,Ve),tt.append("contentAnalyzerRequests",JSON.stringify(n))}else if(e===a.Od.GenerateInstructions){const e={params:{agent_goal:`${_}`}},o=null===(Be=null===(Ue=null===(Fe=null===(He=null===(xe=null===(Oe=null===(Ne=null==ze?void 0:ze.services)||void 0===Ne?void 0:Ne.generate_custom_instructions)||void 0===Oe?void 0:Oe.resources)||void 0===xe?void 0:xe.operations)||void 0===He?void 0:He.predict)||void 0===Fe?void 0:Fe.accept)||void 0===Ue?void 0:Ue.custom_agent_instructions_output)||void 0===Be?void 0:Be.application_json_v1,s=getContentAnalyzerRequest("session_id",t,"custom_agent_instructions",o,Ze,void 0,void 0,e);Xe=createHeaders(qe,Me,et,Ve),tt.append("contentAnalyzerRequests",JSON.stringify(s))}try{const t=yield i().post(Qe,tt,{headers:Xe});return(0,l.a8)(l.bi.ThoughtPartner,l.Hc.QnA,`Made predict call to url: ${Qe}, transaction id: ${$e},\n            query type: ${a.Od[e]}, question: ${o},\n            question ID: ${s}, response: ${t.status}`),{response:t,transactionId:$e,outputFormat:We}}catch(e){throw e instanceof Error?(0,l.qz)(l.bi.ThoughtPartner,l.Hc.QnA,`Error calling the predict API: ${e.message}`):(0,l.qz)(l.bi.ThoughtPartner,l.Hc.QnA,`Error calling the predict API: ${e}`),e}})),TPCancelRequest=(e,t,o)=>__awaiter(void 0,void 0,void 0,(function*(){var s,n,d,c,u,h,_,p,v,g,m,y,f,A,C,E,w,T,b,S,I,P,k;let R,D,L;try{if(!r.providers["native-api"])return(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CancelRequest,"Native API not available"),{transactionId:""};const e=yield r.providers["native-api"](),t=yield e.SessionAPI();R=(yield t.isGuestUser())?yield t.GetGuestAccessToken():yield t.GetAccessToken(),D=t.xApiClientId,L=yield t.GetPerfRequestId()}catch(e){throw e instanceof Error?(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CancelRequest,`Error fetching Bearer token: ${e.message}`):(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CancelRequest,`"Error fetching Bearer token:", ${e}`),e}const N=yield(0,a.Mt)();if(0===Object.keys(N).length)return(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CancelRequest,"Secondary Discovery response not available"),{transactionId:""};let O;O=o||(null===(h=null===(u=null===(c=null===(d=null===(n=null===(s=null==N?void 0:N.services)||void 0===s?void 0:s.generate_thought_partner)||void 0===n?void 0:n.resources)||void 0===d?void 0:d.operations)||void 0===c?void 0:c.predict)||void 0===u?void 0:u.resource_parameter)||void 0===h?void 0:h.default);const x=null===(m=null===(g=null===(v=null===(p=null===(_=null==N?void 0:N.services)||void 0===_?void 0:_.generate_thought_partner)||void 0===p?void 0:p.resources)||void 0===v?void 0:v.operations)||void 0===g?void 0:g.predict_cancel)||void 0===m?void 0:m.uri,H=null===(w=null===(E=null===(C=null===(A=null===(f=null===(y=null==N?void 0:N.services)||void 0===y?void 0:y.generate_thought_partner)||void 0===f?void 0:f.resources)||void 0===A?void 0:A.operations)||void 0===C?void 0:C.predict)||void 0===E?void 0:E.resource_parameter)||void 0===w?void 0:w.name,F=null===(k=null===(P=null===(I=null===(S=null===(b=null===(T=null==N?void 0:N.services)||void 0===T?void 0:T.generate_thought_partner)||void 0===b?void 0:b.resources)||void 0===S?void 0:S.operations)||void 0===I?void 0:I.predict_cancel)||void 0===P?void 0:P.uri_parameters[0])||void 0===k?void 0:k.name;let U=x.replace(`{+${H}}`,O);U=U.replace(`{+${F}}`,t);let B={};B=createHeaders(R,D,void 0,L);try{const o=yield i().post(U,null,{headers:B});return(0,l.a8)(l.bi.ThoughtPartner,l.Hc.CancelRequest,`Made cancel call to url: ${U}, transaction id: ${t},\n            query type: ${a.Od[e]},  response: ${o.status}`),{response:o,transactionId:t}}catch(e){throw e instanceof Error?(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CancelRequest,`Error calling the cancel API: ${e.message}`):(0,l.qz)(l.bi.ThoughtPartner,l.Hc.CancelRequest,`Error calling the cancel API: ${e}`),e}}))},qii3:(e,t,o)=>{"use strict";o.d(t,{A:()=>GetStatusInSessionCommand});var s=o("yXqW");class GetStatusInSessionCommand extends s.VM{constructor(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];super(s.Bm.GET_STATUS_IN_SESSION),this.session_id_or_collection_id=t,this.doc_ids=o,this.session_service_v2_base_uri=e}}},vSKB:(e,t,o)=>{"use strict";o.d(t,{A:()=>GetCollectionByIdCommand});var s=o("yXqW");class GetCollectionByIdCommand extends s.VM{constructor(e){super(s.Bm.GET_COLLECTION_BY_ID),this.iD=e}}},ZojT:(e,t,o)=>{"use strict";o.d(t,{Nh:()=>s});var s;!function(e){e.kNormal="normal",e.kMobile="mobile",e.kTablet="tablet"}(s||(s={}))},xlzH:(e,t,o)=>{(t=o("AXyZ")(!1)).push([e.id,'.styles__assetTileContainer___2Zpz7{align-items:center;padding:"var(-spectrum-dimension-size-200) var(-spectrum-dimension-size-100)";width:100%}.styles__assetInfoContainer___LBe2b{align-items:start;justify-content:center;width:63%}.styles__assetTitle___2N-DD{overflow:hidden;color:var(--spectrum-global-color-gray-900);text-overflow:ellipsis;font-size:14px;line-height:21px;white-space:nowrap}.styles__assetTitle___2N-DD,.styles__assetType___7kEf3{font-style:normal;font-weight:400}.styles__assetType___7kEf3{color:var(--spectrum-global-color-gray-700);font-size:11px;line-height:18px}.styles__assetErrorTitle___wxARh{white-space:nowrap;font-size:14px;font-style:normal;font-weight:400;line-height:21px}.styles__assetErrorDescription___2fpLu,.styles__assetErrorTitle___wxARh{overflow:hidden;color:var(--spectrum-red-1200);text-overflow:ellipsis}.styles__assetErrorDescription___2fpLu{font-size:11px;font-weight:700;line-height:18px}.styles__assetViewContainer___3YMCN{overflow-x:hidden;scroll-behavior:smooth;padding-right:20px;margin-right:4px}.styles__containerHeightDetailed___A00Fp{height:calc(100vh - 312px)}.styles__containerHeightAddSourceHidden___HhI2A{height:calc(100vh - 88px)}.styles__containerHeightCollapsed___1BXX5{height:calc(100vh - 132px)}.styles__assetThumbnail___zYbTr{position:relative,}.styles__assetThumbnail___zYbTr,.styles__assetThumbnailSelected___2j328{border:1px solid var(--spectrum-gray-200);border-radius:8px}.styles__assetThumbnailSelected___2j328{box-Shadow:0 2px 4px 0 rgba(18,95,219,.12),0 2px 8px 0 rgba(18,95,219,.72);position:relative}.styles__notesTabView___3B8_u{overflow-y:overlay!important}.styles__notesTabView___3B8_u{overflow-x:hidden;scroll-behavior:smooth;margin-right:4px;overflow-anchor:none}.styles__notesContainer___Ljrua{flex-direction:column;flex:1 1;gap:var(--spectrum-global-dimension-size-200);padding-top:var(--spectrum-global-dimension-size-0);padding-right:24px;padding-bottom:var(--spectrum-global-dimension-size-400);padding-left:var(--spectrum-global-dimension-size-300)}.styles__dummyNoteTile___M7tMc{padding:4px 8px 8px 16px}.styles__dummyNoteTile___M7tMc,.styles__noteTileBase___1Silu{border-radius:16px;border:1px solid var(--spectrum-global-color-gray-200)}.styles__noteTileBase___1Silu{padding:24px}.styles__noteTileContainer___2xgQV.styles__focus-visible___2XHxG{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;outline-offset:2px!important;border-radius:16px!important}.styles__noteTileContainer___2xgQV:focus-visible{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;outline-offset:2px!important;border-radius:16px!important}.styles__noteTileHovered___3sCH_{border:1px solid var(--spectrum-global-color-gray-400)}.styles__noteTileFocused___3ts9-{border:1px solid var(--spectrum-blue-900)}.styles__activeNoteTile___24R3N{box-shadow:0 0 1px 0 rgba(0,0,0,.08),0 1px 4px 0 rgba(0,0,0,.04),0 2px 8px 0 rgba(0,0,0,.08)}.styles__noteTileSelected___3LlAr{border:1px solid var(--spectrum-blue-900)}.styles__noteTileLhpExpanded___2vkVN{max-height:none}.styles__noteTileLhpCollapsed___aFW2S{max-height:100px;overflow:hidden}.styles__kwcAssetItemView___1tpXo{background-color:var(--spectrum-global-color-gray-50)!important}.styles__kwcHoveredAssetItemView___3vBho{background-color:var(--spectrum-global-color-gray-100)!important}.styles__kwcActiveAssetItemView___2IsqP{background-color:var(--spectrum-global-color-gray-200)!important}.styles__kwcAssetItemViewDark___PmtHK{background-color:var(--spectrum-global-color-gray-100)!important}.styles__kwcHoveredAssetItemViewDark___2LG9U{background-color:var(--spectrum-global-color-gray-200)!important}.styles__kwcActiveAssetItemViewDark___XLM6J{background-color:var(--spectrum-global-color-gray-400)!important}.styles__kwcErrorAssetItemView___5GU5n{background-color:var(--spectrum-red-100)!important}.styles__kwcErrorTriangle___kpwbu{padding:7px;fill:var(--spectrum-semantic-negative-color-default)}.styles__kwcAssetItemViewWrapper___CC-qY{height:66px;border-radius:8px;padding:7px;box-sizing:border-box;margin-left:2px}.styles__kwcAssetItemViewWrapper___CC-qY.styles__focus-visible___2XHxG{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;border-radius:8px!important}.styles__kwcAssetItemViewWrapper___CC-qY.styles__focus-visible___2XHxG{margin-left:2px}.styles__kwcAssetItemViewWrapper___CC-qY:focus-visible{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;border-radius:8px!important}.styles__kwcAssetItemViewWrapper___CC-qY:focus-visible{margin-left:2px}.styles__kwcAssetItemErrorViewWrapper___af4lY{min-height:66px;border-radius:8px;padding:8px;box-sizing:border-box}.styles__kwcAssetItemErrorViewWrapper___af4lY.styles__focus-visible___2XHxG{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;border-radius:8px!important}.styles__kwcAssetItemErrorViewWrapper___af4lY:focus-visible{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;border-radius:8px!important}.styles__kwcAssetThumbnail___17V7c{border:var(--spectrum-global-dimension-size-10) solid var(--spectrum-global-color-gray-300);border-radius:var(--spectrum-global-dimension-size-75);height:46px}.styles__kwcAssetThumbnailSelected___b6lam{border:var(--spectrum-global-dimension-size-25) solid var(--spectrum-global-color-gray-900);border-radius:var(--spectrum-global-dimension-size-75);height:46px}.styles__kwcAssetThumbnailSelectedAttribution___lOD3Y{border:var(--spectrum-global-dimension-size-25) solid var(--spectrum-indigo-900);border-radius:var(--spectrum-global-dimension-size-75);height:46px}.styles__kwcAssetNoteAttributionStrip___3HsjV{direction:row;justify-content:space-evenly;gap:4px;flex-wrap:wrap}.styles__thumbnailGreyoutLight___VsjBy{background-color:hsla(0,0%,100%,.5)}.styles__thumbnailGreyoutDark___2qkMy{background-color:rgba(0,0,0,.5)}.styles__noteLhpNormalMessage___39dB1{color:#909090;flex-grow:1;align-items:center;justify-content:center;padding-left:20%;padding-right:20%;text-align:center}.styles__noteTileHeader___1bB7s{flex-direction:row;justify-content:space-between;align-items:stretch;height:var(--spectrum-global-dimension-size-400)}.styles__noteTileHeaderBottomMargin___3qKrx{margin-bottom:8px}.styles__noteTileHeaderFirstHalf___3hh-w{border:2px solid transparent;padding-left:var(--spectrum-global-dimension-size-200);margin-right:var(--spectrum-global-dimension-size-300);min-width:0;width:100%;box-sizing:border-box}.styles__noteTileHeaderFirstHalfLhpCollapsed___1Tw0c{padding-left:0!important;margin-right:0!important}.styles__noteTileHeaderFirstHalfBorder___2ww1W{border-color:var(--spectrum-global-color-gray-200);border-radius:var(--spectrum-global-dimension-size-100)}.styles__noteTileHeaderTitle___SDsbc{font-weight:700;font-size:17px;text-overflow:ellipsis;outline:none;flex:1 1;overflow:hidden;border:none;min-width:0}.styles__noteTileHeaderTitle___SDsbc::-moz-placeholder{color:#b1b1b1}.styles__noteTileHeaderTitle___SDsbc::placeholder{color:#b1b1b1}.styles__noteTileHeaderTitleText___2jMvI{font-size:17px;font-weight:700;color:#909090}.styles__dummyNoteTileBodyText___KIVG7{color:#909090}[dir="ltr"] .styles__noteTileHeaderCheckbox___AJWvb{padding-right:0!important}[dir="rtl"] .styles__noteTileHeaderCheckbox___AJWvb{padding-left:0!important}.styles__noteTileHeaderToolbar___2yvAm{visibility:hidden}.styles__noteTileHeaderToolbarHover___28mwO{visibility:visible}.styles__notesSkeletonHeader___Kw69T{width:20%!important}.styles__notesSkeletonHeader___Kw69T{border-radius:var(--spectrum-global-dimension-size-100);height:var(--spectrum-global-dimension-size-300)}.styles__notesSkeletonContentChild1___3Uz9j{width:80%!important}.styles__notesSkeletonContentChild1___3Uz9j,.styles__notesSkeletonContentChild2___3inw4{border-radius:var(--spectrum-global-dimension-size-100);height:var(--spectrum-global-dimension-size-200)}.styles__notesSkeletonContentChild2___3inw4{width:60%!important}.styles__noteTileHeaderAIIcon___1WgUW{margin-right:6px}.styles__noteContainerBottomBar___3AL9k{background-color:var(--spectrum-global-color-gray-600);border:1px solid var(--spectrum-gray-200);border-radius:var(--spectrum-global-dimension-size-100);display:flex;align-items:flex-start;justify-content:space-between;padding:var(--spectrum-global-dimension-size-200);margin-left:var(--spectrum-global-dimension-size-300);margin-right:var(--spectrum-global-dimension-size-300)}.styles__noteContainerBottomBarText___2yAVD{font-size:14px;color:var(--spectrum-global-color-gray-50)}.styles__noteContainerBottomBarLink___2HJog{text-decoration:underline!important;color:var(--spectrum-global-color-gray-50)!important}.styles__noteContainerBottomBarLink___2HJog{font-size:14px}.styles__noteContainerBottomBarIcon___13D5z>svg * svg.styles__noteContainerBottomBarIcon___13D5z g,.styles__noteContainerBottomBarIcon___13D5z>svg g,.styles__noteContainerBottomBarIcon___13D5z>svg g *,.styles__noteContainerBottomBarIcon___13D5z>svg g g *,svg.styles__noteContainerBottomBarIcon___13D5z *,svg.styles__noteContainerBottomBarIcon___13D5z g *,svg.styles__noteContainerBottomBarIcon___13D5z g g *{fill:var(--spectrum-global-color-gray-50)}.styles__noteTileHeaderAISparkleIcon___11B4N:hover{background-color:transparent!important}.styles__noteTileHeaderToolbarEditIcon___1kRMh{background:var(--spectrum-global-color-gray-700)!important}.styles__noteTileHeaderToolbarEditIcon___1kRMh>svg * svg.styles__noteTileHeaderToolbarEditIcon___1kRMh g,.styles__noteTileHeaderToolbarEditIcon___1kRMh>svg g,.styles__noteTileHeaderToolbarEditIcon___1kRMh>svg g *,.styles__noteTileHeaderToolbarEditIcon___1kRMh>svg g g *,svg.styles__noteTileHeaderToolbarEditIcon___1kRMh *,svg.styles__noteTileHeaderToolbarEditIcon___1kRMh g *,svg.styles__noteTileHeaderToolbarEditIcon___1kRMh g g *{fill:var(--spectrum-global-color-gray-50);filter:invert(100%)}.styles__s2ActionButton___2kUSX{min-width:24px!important;height:24px!important;border:none!important;border-radius:7px!important;font-size:12px!important;font-weight:500!important;cursor:pointer!important}.styles__s2ActionButtonFill___ZBltE{background-color:var(--spectrum-global-color-gray-200)!important}.styles__s2ActionButton___2kUSX>svg.styles__icon24px___rbDFs{width:24px!important;height:24px!important;padding-left:0!important;padding-right:0!important}.styles__s2ActionButton___2kUSX>svg{padding:0!important;margin:0!important}.styles__noteTileEditorBottomGradient___2iv1J{position:relative;overflow:hidden}.styles__noteTileEditorBottomGradient___2iv1J:after{content:"";position:absolute;bottom:0;left:0;right:0;height:40px;background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.7) 40%,var(--spectrum-gray-50));z-index:1;pointer-events:none}.styles__noteTileEditorBottomGradientDark___3hCek:after{background:linear-gradient(180deg,rgba(50,50,50,0),rgba(50,50,50,.7) 40%,var(--spectrum-gray-100))!important}.styles__noteTileEditorMaxHeight___377g-{overflow:hidden!important}.styles__noteTileEditorMaxHeight___377g-{max-height:140px}.styles__noteTileEditorEndless___3l3so{max-height:none}.noteTileEditorBase{overflow:hidden!important}.noteTileEditorBase{padding-left:16px;padding-right:16px;height:auto;-webkit-user-select:text;-moz-user-select:text;user-select:text;transition:max-height .3s ease-in-out,opacity .3s ease-in-out,padding .3s ease-in-out;border:2px solid transparent}.noteTileEditorBase.focus-visible{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;outline-offset:2px!important;border-radius:var(--spectrum-global-dimension-size-100)!important}.noteTileEditorBase:focus-visible{outline:var(--spectrum-alias-focus-ring-size) solid var(--spectrum-alias-focus-ring-color)!important;outline-offset:2px!important;border-radius:var(--spectrum-global-dimension-size-100)!important}.noteTileEditorBaseLhpCollapsed{padding-left:0!important;padding-right:0!important}.noteTileEditorBaseBorder{border:2px solid var(--spectrum-global-color-gray-200);border-radius:var(--spectrum-global-dimension-size-100)}.noteTileEditorBase .editor-page{border:0!important;overflow-y:auto!important;background-color:var(--spectrum-global-color-gray-50)!important}.noteTileEditorBase .editor-page .page-margins,.noteTileEditorBase .jot-editor>div{padding:0!important}.noteTileEditorBase h1{font-size:16px}.styles__downloadProgressBarContainer___3nETP{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:var(--spectrum-global-color-gray-50);padding:20px;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,.2);z-index:10000;width:300px}.styles__contextMenuButton___2mJxI{position:fixed;opacity:0;pointer-events:none}',""]),t.locals={assetTileContainer:"styles__assetTileContainer___2Zpz7",assetInfoContainer:"styles__assetInfoContainer___LBe2b",assetTitle:"styles__assetTitle___2N-DD",assetType:"styles__assetType___7kEf3",assetErrorTitle:"styles__assetErrorTitle___wxARh",assetErrorDescription:"styles__assetErrorDescription___2fpLu",assetViewContainer:"styles__assetViewContainer___3YMCN",containerHeightDetailed:"styles__containerHeightDetailed___A00Fp",containerHeightAddSourceHidden:"styles__containerHeightAddSourceHidden___HhI2A",containerHeightCollapsed:"styles__containerHeightCollapsed___1BXX5",assetThumbnail:"styles__assetThumbnail___zYbTr",assetThumbnailSelected:"styles__assetThumbnailSelected___2j328",notesTabView:"styles__notesTabView___3B8_u",notesContainer:"styles__notesContainer___Ljrua",dummyNoteTile:"styles__dummyNoteTile___M7tMc",noteTileBase:"styles__noteTileBase___1Silu",noteTileContainer:"styles__noteTileContainer___2xgQV","focus-visible":"styles__focus-visible___2XHxG",noteTileHovered:"styles__noteTileHovered___3sCH_",noteTileFocused:"styles__noteTileFocused___3ts9-",activeNoteTile:"styles__activeNoteTile___24R3N",noteTileSelected:"styles__noteTileSelected___3LlAr",noteTileLhpExpanded:"styles__noteTileLhpExpanded___2vkVN",noteTileLhpCollapsed:"styles__noteTileLhpCollapsed___aFW2S",kwcAssetItemView:"styles__kwcAssetItemView___1tpXo",kwcHoveredAssetItemView:"styles__kwcHoveredAssetItemView___3vBho",kwcActiveAssetItemView:"styles__kwcActiveAssetItemView___2IsqP",kwcAssetItemViewDark:"styles__kwcAssetItemViewDark___PmtHK",kwcHoveredAssetItemViewDark:"styles__kwcHoveredAssetItemViewDark___2LG9U",kwcActiveAssetItemViewDark:"styles__kwcActiveAssetItemViewDark___XLM6J",kwcErrorAssetItemView:"styles__kwcErrorAssetItemView___5GU5n",kwcErrorTriangle:"styles__kwcErrorTriangle___kpwbu",kwcAssetItemViewWrapper:"styles__kwcAssetItemViewWrapper___CC-qY",kwcAssetItemErrorViewWrapper:"styles__kwcAssetItemErrorViewWrapper___af4lY",kwcAssetThumbnail:"styles__kwcAssetThumbnail___17V7c",kwcAssetThumbnailSelected:"styles__kwcAssetThumbnailSelected___b6lam",kwcAssetThumbnailSelectedAttribution:"styles__kwcAssetThumbnailSelectedAttribution___lOD3Y",kwcAssetNoteAttributionStrip:"styles__kwcAssetNoteAttributionStrip___3HsjV",thumbnailGreyoutLight:"styles__thumbnailGreyoutLight___VsjBy",thumbnailGreyoutDark:"styles__thumbnailGreyoutDark___2qkMy",noteLhpNormalMessage:"styles__noteLhpNormalMessage___39dB1",noteTileHeader:"styles__noteTileHeader___1bB7s",noteTileHeaderBottomMargin:"styles__noteTileHeaderBottomMargin___3qKrx",noteTileHeaderFirstHalf:"styles__noteTileHeaderFirstHalf___3hh-w",noteTileHeaderFirstHalfLhpCollapsed:"styles__noteTileHeaderFirstHalfLhpCollapsed___1Tw0c",noteTileHeaderFirstHalfBorder:"styles__noteTileHeaderFirstHalfBorder___2ww1W",noteTileHeaderTitle:"styles__noteTileHeaderTitle___SDsbc",noteTileHeaderTitleText:"styles__noteTileHeaderTitleText___2jMvI",dummyNoteTileBodyText:"styles__dummyNoteTileBodyText___KIVG7",noteTileHeaderCheckbox:"styles__noteTileHeaderCheckbox___AJWvb",noteTileHeaderToolbar:"styles__noteTileHeaderToolbar___2yvAm",noteTileHeaderToolbarHover:"styles__noteTileHeaderToolbarHover___28mwO",notesSkeletonHeader:"styles__notesSkeletonHeader___Kw69T",notesSkeletonContentChild1:"styles__notesSkeletonContentChild1___3Uz9j",notesSkeletonContentChild2:"styles__notesSkeletonContentChild2___3inw4",noteTileHeaderAIIcon:"styles__noteTileHeaderAIIcon___1WgUW",noteContainerBottomBar:"styles__noteContainerBottomBar___3AL9k",noteContainerBottomBarText:"styles__noteContainerBottomBarText___2yAVD",noteContainerBottomBarLink:"styles__noteContainerBottomBarLink___2HJog",noteContainerBottomBarIcon:"styles__noteContainerBottomBarIcon___13D5z",noteTileHeaderAISparkleIcon:"styles__noteTileHeaderAISparkleIcon___11B4N",noteTileHeaderToolbarEditIcon:"styles__noteTileHeaderToolbarEditIcon___1kRMh",s2ActionButton:"styles__s2ActionButton___2kUSX",s2ActionButtonFill:"styles__s2ActionButtonFill___ZBltE",icon24px:"styles__icon24px___rbDFs",noteTileEditorBottomGradient:"styles__noteTileEditorBottomGradient___2iv1J",noteTileEditorBottomGradientDark:"styles__noteTileEditorBottomGradientDark___3hCek",noteTileEditorMaxHeight:"styles__noteTileEditorMaxHeight___377g-",noteTileEditorEndless:"styles__noteTileEditorEndless___3l3so",downloadProgressBarContainer:"styles__downloadProgressBarContainer___3nETP",contextMenuButton:"styles__contextMenuButton___2mJxI"},e.exports=t},njME:(e,t,o)=>{var s=o("2KPK"),i=o("xlzH");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var n={insert:"head",singleton:!1};s(i,n);e.exports=i.locals||{}},S36O:(e,t,o)=>{var s=o("YWiy");function SChevronLeftMedium18N(e){return s.createElement("svg",e,s.createElement("g",{id:"Icons"},s.createElement("path",{d:"M10.68673,12.28268,7.40406,9l3.28267-3.28266A.9999.9999,0,1,0,9.27507,4.30088l-.00241.00241L5.29327,8.29268a.99964.99964,0,0,0-.001,1.41371l.001.001,3.97939,3.98939A.9999.9999,0,0,0,10.6891,12.285Z",fill:"#4b4b4b"})))}SChevronLeftMedium18N.defaultProps={width:"18",height:"18",viewBox:"0 0 18 18"},e.exports=SChevronLeftMedium18N,SChevronLeftMedium18N.default=SChevronLeftMedium18N}}]);