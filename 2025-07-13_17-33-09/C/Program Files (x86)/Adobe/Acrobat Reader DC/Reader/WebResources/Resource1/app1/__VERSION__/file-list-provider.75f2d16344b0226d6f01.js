"use strict";(self["webpackJsonp-dc-desktop-app"]=self["webpackJsonp-dc-desktop-app"]||[]).push([[631],{fTIi:(e,t,i)=>{i.r(t),i.d(t,{default:()=>FavoriteFileListProvider});var s=i("plsW"),r=i("6Dm8"),n=i("lEgo");class FavoriteFileListProvider extends r.Z{ready(){return Promise.resolve(this)}constructor(){super(n.E.FAVORITE_FILES)}}FavoriteFileListProvider.getInstance=s.providerUtil.getSingletonFunction(FavoriteFileListProvider)},"6Dm8":(e,t,i)=>{i.d(t,{Z:()=>NamedFileListProvider});var s=i("/fmr"),r=i("jifT");const ParseDateComponent=(e,t,i)=>{if(e.length<t+i)return;const s=e.slice(t,t+i);return/^\d+$/.test(s)?parseInt(s,10):void 0},DateParser=e=>{const t=new Date(0);let i=0;e.startsWith("D:")&&(i=2);const s=ParseDateComponent(e,i,4);if(void 0===s)return;t.setFullYear(s),i+=4;const r=ParseDateComponent(e,i,2);if(void 0===r)return t;t.setMonth(r-1),i+=2;const n=ParseDateComponent(e,i,2);if(void 0===n)return t;t.setDate(n),i+=2;const o=ParseDateComponent(e,i,2);if(void 0===o)return t;t.setHours(o),i+=2;const a=ParseDateComponent(e,i,2);if(void 0===a)return t;t.setMinutes(a),i+=2;const d=ParseDateComponent(e,i,2);if(void 0===d)return t;if(t.setSeconds(d),i+=2,i>=e.length)return t;if("Z"===e[i])return t.setUTCFullYear(s,r-1,n),t.setUTCHours(o,a,d),t;const l=e[i];if("+"!==l&&"-"!==l)return t;i+=1;const c=ParseDateComponent(e,i,2);if(void 0===c)return t;i+=2;let m=0;if(e.length>=i+4){const t=/^'(\d+)'$/,s=e.slice(i,i+4),r=t.exec(s);null!==r&&2===r.length&&(m=parseInt(r[1],10))}const F=60*(60*c+m)*1e3*("+"===l?-1:1),h=60*t.getTimezoneOffset()*1e3;return F===h||t.setTime(t.getTime()+F-h),t};var n=i("DJg0");class NamedFileListProvider{constructor(e){this.mNumListenersAdded=0,this.mEventTarget=new EventTarget,this.mFileListType=e,this.mNativeEventListener=e=>{this.DispatchFileListChangedEvent(e)}}GetFileListType(){return this.mFileListType}async GetFileList(e,t){const i=await this.GetFileListAPI(),s=await i.GetFileList(this.mFileListType);return[{pageNum:0,members:this.CreateFileInfosFromNativeFileList(s)}]}async OpenFiles(e){const t=e.map((e=>e.key)),i=e.map((e=>e.id)),s={selectedNamedFileList:this.mFileListType,selectedNamedFileListKeys:t,selectedNamedFileListIds:i};(0,n.bL)(s)}async AddFileListChangedListener(e){if(0===this.mNumListenersAdded){(await this.GetFileListAPI()).AddFileListChangedListener(this.mFileListType,this.mNativeEventListener)}this.mEventTarget.addEventListener(`custom:${this.mFileListType}:changed`,e),this.mNumListenersAdded+=1}async RemoveFileListChangedListener(e){if(this.mEventTarget.removeEventListener(`custom:${this.mFileListType}:changed`,e),this.mNumListenersAdded-=1,0===this.mNumListenersAdded){(await this.GetFileListAPI()).RemoveFileListChangedListener(this.mFileListType,this.mNativeEventListener)}}async GetFileListAPI(){const e=await r.default.getInstance();return await e.FileListAPI()}DispatchFileListChangedEvent(e){const t=e.detail.params,i=this.CreateFileInfosFromNativeFileList(t),s=new CustomEvent(`custom:${this.mFileListType}:changed`,{detail:i});this.mEventTarget.dispatchEvent(s)}ToHtmlId(e){const t=CSS.escape(e);return/[0-9-]/.test(t[0])?`_${t}`:t}GetFileItemID(e){return"string"==typeof e.DIText?this.ToHtmlId(e.DIText):"string"==typeof e.WorkflowID&&"string"==typeof e.WorkflowType?this.ToHtmlId(`${e.WorkflowType}_${e.WorkflowID}`):"string"==typeof e.key?e.key:void 0}CreateFileInfosFromNativeFileList(e){const t=[];return e.forEach(((e,i)=>{e.id=this.GetFileItemID(e)||(i+1).toString();!1===t.some((t=>t.id===e.id))&&t.push(e)})),t.map((e=>({key:e.key,id:e.id,type:s.h3.PDF,name:e.FileName,size:e.FileSize||0,date:DateParser(e.Date),isShared:e.isSharedFile,associatedIcons:e.associatedIcons})))}}},Uxxg:(e,t,i)=>{i.r(t),i.d(t,{default:()=>RecentFileListProvider});var s=i("plsW"),r=i("6Dm8"),n=i("lEgo");class RecentFileListProvider extends r.Z{ready(){return Promise.resolve(this)}constructor(){super(n.E.RECENT_FILES)}}RecentFileListProvider.getInstance=s.providerUtil.getSingletonFunction(RecentFileListProvider)}}]);
//# sourceMappingURL=private/file-list-provider.75f2d16344b0226d6f01.map