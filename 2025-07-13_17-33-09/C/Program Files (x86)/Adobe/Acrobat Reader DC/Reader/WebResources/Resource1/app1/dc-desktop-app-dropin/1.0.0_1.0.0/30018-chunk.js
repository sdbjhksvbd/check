(self["webpackJsonp-desktop-app"]=self["webpackJsonp-desktop-app"]||[]).push([[30018],{"24xA":(e,t,s)=>{"use strict";s.d(t,{D8:()=>k,EM:()=>a,Ei:()=>y,FA:()=>U,H8:()=>r,HC:()=>o,J:()=>m,LB:()=>d,N1:()=>D,OT:()=>i,PI:()=>T,Ph:()=>N,QZ:()=>g,RQ:()=>v,WK:()=>P,Zd:()=>M,dt:()=>I,f6:()=>w,gZ:()=>C,iz:()=>u,jY:()=>c,kK:()=>n,kU:()=>h,op:()=>A,pI:()=>E,pf:()=>f,qB:()=>S,qL:()=>p,qx:()=>R,up:()=>K,z$:()=>l});const n="CustomAgentList",o="CustomAgentModal",i="ApplyPresetAgent",a="ApplyUserAgent",d="AppliedPresetAgent",r="ApplyPresetAgentFailed",c="Error_ApplyUserAgentFailed_Server",l="AppliedUserAgent",u="CreateUserAgent",h="CreateUsingPresetAgent",p="CreatedUserAgent",A="Error_CreateUserAgentFailure_Server",k="DeleteUserAgent",m="DeletedUserAgent",C="ModifyCustomAgent",f="ModifiedCustomAgent",y="Error_ModifyCustomAgentFailure_Server",g="ApplyDefaultAgent",v="AppliedDefaultAgent",E="Error_ApplyDefaultAgentFailed_Server",w="OpenCustomAgentModal",D="CloseButtonClicked",S="CustomizeButtonClicked",I="CustomizeBackButtonClicked",U="SaveAndApplyButtonClicked",N="GenerateInstructionsButtonClicked",T="GenerateInstructionsSuccess",M="error_GenerateInstructionsFailure_server",R="GenerativeAIGuidelinesClicked",P="Error_",K="_Server"},icFW:(e,t,s)=>{"use strict";s.d(t,{$9:()=>p,CY:()=>a,EP:()=>o,Nf:()=>I,Ol:()=>S,S_:()=>N,WK:()=>i,cH:()=>m,cg:()=>c,hP:()=>C,kO:()=>g,ky:()=>w,lF:()=>k,nm:()=>h,oX:()=>n,ox:()=>y,pV:()=>E,pt:()=>l,s5:()=>d,sr:()=>U,tO:()=>D,vT:()=>T,vk:()=>f,vu:()=>r,xB:()=>u,xb:()=>A,yx:()=>v});const n="KWLandingPage_Notes",o="KWLandingPage",i="KWLandingPage_LeftPanel",a="KWLandingPage_Asset",d="KWLandingPage_Preview",r="KWLandingPage_AssetRemove_Success",c="KWLandingPage_AssetRemove_Error",l="KWLandingPage_Active_assets",u="AssetDownloadAsPDF_Clicked",h="KWLeftPanel_Notes",p="KWLeftPanel_Notes_Preview",A="SourceTab_Clicked",k="NotesTab_Clicked",m="AddSourcesBtn_Clicked",C="Asset_Clicked",f="ExpandBtn_Clicked",y="CollapseBtn_Clicked",g="FullScreenBtn_Clicked",v="ExitFullScreenBtn_Clicked",E="CloseBtn_Clicked",w="Error_AssetUploadFailed",D="Error_AssetIngestionFailed",S="Error_AssetImportFailed",I="Error_AssetDownloadFailed",U="Error_AssetDeleteFailed",N="LPError",T="GoalError"},Z4wg:(e,t,s)=>{"use strict";s.d(t,{SR:()=>o,ue:()=>i,x9:()=>n});const n={enableFloatingToolbar:!0,spellCheck:!1,autoFocus:!1,enableSlashCommands:!1,showAllSlides:!1,enableMenuBar:!1,enableSidebar:!1},o={enableFloatingToolbar:!1,readOnly:!0,spellCheck:!1,autoFocus:!1,enableSlashCommands:!0,showAllSlides:!1,enableMenuBar:!1,enableSidebar:!1,noteDocValidation:null,placeholder:null},i="1.0.0"},cqvz:(e,t,s)=>{"use strict";s.d(t,{qp:()=>createNewCustomAgentCommon,$f:()=>deleteCustomAgentInCollection,xx:()=>getCustomAgentsFromCollectionId,mD:()=>updateExistingCustomAgentCommon});var n=s("2Wlf"),o=s("uy9O"),i=s("y4dE"),a=s("yXqW");class CreateCustomAgentCommand extends a.VM{constructor(e,t,s,n,o,i){super(a.Bm.CREATE_CUSTOM_AGENT),this.kwId=e,this.parameters={name:t,goal:s,instructions:n,audience:o,globalAgentID:i}}}class DeleteCustomAgentCommand extends a.VM{constructor(e,t){super(a.Bm.DELETE_CUSTOM_AGENT),this.kwId=e,this.agentId=t}}class UpdateCustomAgentCommand extends a.VM{constructor(e,t,s,n,o,i,d){super(a.Bm.UPDATE_CUSTOM_AGENT),this.kwId=e,this.agentId=t,this.kwId=e,this.parameters={name:s,goal:n,instructions:o,audience:i,updateOnlyAudience:d}}}var d=s("jpy3"),r=s("5yyX"),c=s("o6hE"),l=s("JEFO");class GetCustomAgentsCommand extends a.VM{constructor(e){super(a.Bm.GET_CUSTOM_AGENTS),this.kwId=e}}var u=s("rjgr"),h=s("vJCg"),__awaiter=function(e,t,s,n){return new(s||(s=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const getCustomAgentsFromCollectionId=e=>__awaiter(void 0,void 0,void 0,(function*(){const t=new GetCustomAgentsCommand(e),s=yield i.A.ExecuteKWCommand(t);if(Array.isArray(s)){const[,e]=s;return yield e}return s})),createNewCustomAgentCommon=(e,t,s)=>__awaiter(void 0,void 0,void 0,(function*(){var a,c;try{const p=yield((e,t,s)=>__awaiter(void 0,void 0,void 0,(function*(){const n=new CreateCustomAgentCommand(e,t.name,t.goal,t.instructions,t.audience,s),o=yield i.A.ExecuteKWCommand(n);if(Array.isArray(o)){const[,e]=o;return yield e}return o})))(n.Ay.sessionID,t,s);if(p.ERR_CODE===d.dE.NO_ERROR){if(!(p.type&&p.id||p.custom_agent_details))return void(0,l.B)("Error creating new custom agent: Custom agent details not found");t.id=p.custom_agent_details?p.custom_agent_details.id:p.id,t.type=p.custom_agent_details?p.custom_agent_details.type:p.type,0===s.length?(n.s3.addCustomAgent(t),e[o.X.kCustomAgentID]=t.id,(0,r.c_)(e,t.name,t.goal,t.instructions,t.audience,t.type)):(n.s3.replaceCustomAgent(s,t),e[o.X.kCustomAgentID]=s,(0,r.Is)(e,t.id,t.audience,t.type)),(0,u.HY)(h.A.kCustomAgentApplied)}else 0===s.length&&p.responseCode&&409===p.responseCode&&(e[o.X.kNameConflictKey]=!0),400===(null===(a=p.error)||void 0===a?void 0:a.http_status)&&"CONTENT_MODERATED"===(null===(c=p.error)||void 0===c?void 0:c.code)&&(e[o.X.kContentModulationError]=!0),(0,l.B)("Error creating new custom agent:",p.responseCode)}catch(e){(0,l.B)("Exception creating new custom agent:",e)}})),updateExistingCustomAgentCommon=function(e,t,s){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return __awaiter(void 0,void 0,void 0,(function*(){var p,A;try{const k=yield((e,t,s)=>__awaiter(void 0,void 0,void 0,(function*(){const n=new UpdateCustomAgentCommand(e,t.id,t.name,t.goal,t.instructions,t.audience,s),o=yield i.A.ExecuteKWCommand(n);if(Array.isArray(o)){const[,e]=o;return yield e}return o})))(n.Ay.sessionID,t,a);let m=!1;if(k.ERR_CODE===d.dE.NO_ERROR){if(!k.type&&!k.custom_agent_details)return void(0,l.B)("Error updating custom agent: Custom agent details not found");const i=k.custom_agent_details?k.custom_agent_details.type:k.type;!1===a&&t.type===c.AR&&i===c.gL&&(s.value=!0),t.type=i,e[o.X.kCustomAgentID]=t.id,a?(n.s3.updateCustomAgent(t,!0),(0,r._b)(e,t.audience,t.type)):(m=!0,n.s3.updateCustomAgent(t),(0,r.IT)(e,t.name,t.goal,t.instructions,t.audience,t.type)),(0,u.HY)(h.A.kCustomAgentApplied,{isModified:m})}else!1===a&&k&&409===k.responseCode&&(e[o.X.kNameConflictKey]=!0),400===(null===(p=k.error)||void 0===p?void 0:p.http_status)&&"CONTENT_MODERATED"===(null===(A=k.error)||void 0===A?void 0:A.code)&&(e[o.X.kContentModulationError]=!0),(0,l.B)("Error updating custom agent:",k.responseCode)}catch(e){(0,l.B)("Exception updating custom agent:",e)}}))},deleteCustomAgentInCollection=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){const s=new DeleteCustomAgentCommand(e,t),n=yield i.A.ExecuteKWCommand(s);if(Array.isArray(n)){const[,e]=n;return yield e}return n}))},"5yyX":(e,t,s)=>{"use strict";s.d(t,{IT:()=>sendInfoUpdateCustomAgentModify,Is:()=>sendInfoAddCustomAgentApplyReplace,VD:()=>sendInfoAddCustomAgentUpdate,_b:()=>sendInfoAddCustomAgentApply,c_:()=>sendInfoAddCustomAgentCreate});var n=s("uy9O");const sendInfoAddCustomAgentUpdate=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const[o,i,a,d,r,c]=t;void 0!==i&&(o[n.X.kAgentNameKey]=i),void 0!==a&&(o[n.X.kGoalKey]=a),void 0!==d&&(o[n.X.kInstructionsKey]=d),void 0!==r&&(o[n.X.kAudienceKey]=r),void 0!==c&&(o[n.X.kTypeKey]=c)},sendInfoAddCustomAgentCreate=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const[o,i,a,d,r,c]=t;void 0!==i&&(o[n.X.kAgentNameKey]=i),void 0!==a&&(o[n.X.kGoalKey]=a),void 0!==d&&(o[n.X.kInstructionsKey]=d),void 0!==r&&(o[n.X.kAudienceKey]=r),void 0!==c&&(o[n.X.kTypeKey]=c)},sendInfoAddCustomAgentApply=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const[o,i,a]=t;void 0!==i&&(o[n.X.kAudienceKey]=i),void 0!==a&&(o[n.X.kTypeKey]=a)},sendInfoAddCustomAgentApplyReplace=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const[o,i,a,d]=t;void 0!==a&&(o[n.X.kAudienceKey]=a),void 0!==d&&(o[n.X.kTypeKey]=d),void 0!==i&&(o[n.X.kUpdatedCustomAgentID]=i)},sendInfoUpdateCustomAgentModify=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const[o,i,a,d,r,c]=t;void 0!==i&&(o[n.X.kAgentNameKey]=i),void 0!==a&&(o[n.X.kGoalKey]=a),void 0!==d&&(o[n.X.kInstructionsKey]=d),void 0!==r&&(o[n.X.kAudienceKey]=r),void 0!==c&&(o[n.X.kTypeKey]=c)}},pmde:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var n=s("mVLN"),o=s("CVnK");const i=class Asset{constructor(){this.id="",this.name="",this.type=n.PW.kPDF,this.status=n.fd.kToUpload,this.openStatus=n.rZ.kCannotOpen,this.shared=!1,this.id="",this.status=n.fd.kToUpload,this.openStatus=n.rZ.kCannotOpen,this.type=n.PW.kPDF,this.name="",this.eTag="",this.owner={},this.shared=!1,this.checked=!0,this.created=new Date,this.modified=new Date,this.errorStatus=n.by.kKWNoError,(0,o.Gn)(this,{name:o.sH,checked:o.sH})}}},"6d15":(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var n=s("poOI"),o=s("CVnK"),i=s("XRhC"),a=s("YWiy"),d=s("mVLN");class Note extends n.A{constructor(e,t,s){super(t),this.isHovered=!1,this.creationMethod=i.XD.NEW,this.isModified=!1,this.isCreatedInServer=!1,this.contentLoaded=!1,this.editorDivRef=a.createRef(),this.noteTileRef=a.createRef(),this.undoState=!1,this.redoState=!1,this.saveTimerId=null,this.jotEditorRef=a.createRef(),this.readonly=!1,this.metadataStatus=d.qu.kNone,this.metadataIsModified=!1,this.collapsedHeight=100,this.isInEditMode=!1,this.renderId=this.id,this.isCollapsed=!1,this.checked=!1,this.creationMethod=e,this.isCreatedInServer=s||!1,this.showEmptyTitle=!1,this.lastSavedTime=0,(0,o.Gn)(this,{isCollapsed:o.sH,isHovered:o.sH,isCreatedInServer:o.sH,contentLoaded:o.sH,status:o.sH,renderId:o.sH,isInEditMode:o.sH,contentSource:o.sH})}}const r=Note},poOI:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var n=s("pmde"),o=s("mVLN"),i=s("yRtr"),a=s("0VNB");class NoteModel extends n.A{constructor(e){super(),this.mimeType="",this.size=0,this.primaryIdentifier="http://ns.adobe.com/adobecloud/rel/primary",this.secondaryIdentifier="http://ns.adobe.com/adobecloud/rel/download",this.contentSource="",this.linksJsonString="",this.updateLinks=e=>{try{e&&e[this.primaryIdentifier]&&(this.primaryLink=e&&e[this.primaryIdentifier]?e[this.primaryIdentifier][0].href:"",this.secondaryLink=e&&e[this.secondaryIdentifier]?e[this.secondaryIdentifier][0].href:"")}catch(e){}},this.createdBy="",this.content=(0,i.cH)(),this.mimeType="",this.type=o.PW.kUGA,this.shared=!0,this.contentSource="",this.primaryLink="",this.secondaryLink="",e?(this.id=e.id,this.name=e.name,this.modified=e.modified,this.created=e.created,this.accessLevel=e.access_level,this.showAttributions=e.show_attributions,this.updateLinks(e.acpc_links||{}),this.linksJsonString=e.acpc_links?JSON.stringify({_links:e.acpc_links}):"",this.size=e.size,this.contentSource=e.content_source,this.eTag=e.etag):(this.name="Untitle",this.accessLevel="shared",this.primaryLink="",this.secondaryLink="",this.id=`localnote-${(0,a.v4)()}`,this.showAttributions=!1)}}const d=NoteModel},"7Q5q":(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var n=s("pmde"),o=s("mVLN");class Source extends n.A{constructor(){super(),this.thumbnailUrl="",this.sourceType=o.Y1.kPDF,this.ingestionStatus={status:"in_progress"},this.linksJsonString=""}}const i=Source},qT9o:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});const n=class CustomAgent{constructor(){this.id="",this.name="",this.goal="",this.instructions="",this.audience="",this.type="",this.description="",this.id="",this.name="",this.description="",this.goal="",this.instructions="",this.audience="",this.type=""}}},ltzk:(e,t,s)=>{"use strict";s.d(t,{A:()=>a,K:()=>n});var n,o=s("CVnK"),i=s("mVLN");!function(e){e.lhrContainerRefId="lhrContainerRefId",e.lhpContainerRefId="lhpContainerRefId",e.tpContainerRefId="tpContainerRefId"}(n||(n={}));const a=new class CommonStore{constructor(){this.showDownloadPdfProgressBar=!1,this.shouldShowJotView=!1,this.shouldShowDocView=!1,this.isNotesListAvailable=!1,this.selectedAssetId=null,this.isCustomAgentsListAvailable=!1,this.lhpViewState=i.vU.NORMAL,this.lhpViewActualWidth="336px",this.canShowLPErrorViews=!1,this.selectedLhpTab=i.js.Sources,this.showAttributionFromNote=!1,this.activeAttributionFromNote=null,this.setShowDownloadPdfProgressBar=e=>{this.showDownloadPdfProgressBar=e},this.setSelectedAssetId=e=>{this.selectedAssetId=e},this.setSelectedLhpTab=e=>{this.selectedLhpTab=e},this.setLhpViewActualWidth=e=>{this.lhpViewActualWidth=e},this.setCanShowLPErrorViews=e=>{this.canShowLPErrorViews=e},(0,o.Gn)(this,{showDownloadPdfProgressBar:o.sH,isNotesListAvailable:o.sH,shouldShowJotView:o.sH,shouldShowDocView:o.sH,selectedAssetId:o.sH,lhpViewState:o.sH,selectedLhpTab:o.sH,lhpViewActualWidth:o.sH,canShowLPErrorViews:o.sH,isCustomAgentsListAvailable:o.sH,showAttributionFromNote:o.sH,activeAttributionFromNote:o.sH,isAssetsViewExpanded:o.EW,setShowDownloadPdfProgressBar:o.XI,showJotView:o.XI,showDocView:o.XI,setLhpViewState:o.XI,setIsNotesListAvailable:o.XI,setSelectedAssetId:o.XI,setSelectedLhpTab:o.XI,setLhpViewActualWidth:o.XI,setCanShowLPErrorViews:o.XI,setIsCustomAgentsListAvailable:o.XI,setShowAttributionFromNote:o.XI,setActiveAttributionFromNote:o.XI})}get isAssetsViewExpanded(){return this.shouldShowJotView||this.shouldShowDocView}showJotView(e){this.shouldShowJotView=e,e&&(this.shouldShowDocView=!1)}showDocView(e){this.shouldShowDocView=e,e&&(this.shouldShowJotView=!1)}setLhpViewState(e){this.lhpViewState=e}setIsNotesListAvailable(e){this.isNotesListAvailable=e}setIsCustomAgentsListAvailable(e){this.isCustomAgentsListAvailable=e}setShowAttributionFromNote(e){this.showAttributionFromNote=e}setActiveAttributionFromNote(e){this.activeAttributionFromNote=e}}},XRhC:(e,t,s)=>{"use strict";var n,o,i,a,d;s.d(t,{D4:()=>o,Uq:()=>a,XD:()=>n,cI:()=>d}),function(e){e[e.NEW=0]="NEW",e[e.DUPLICATE=1]="DUPLICATE",e[e.QnA=2]="QnA",e[e.LPCard=3]="LPCard",e[e.QnAPartial=4]="QnAPartial",e[e.LPPartial=5]="LPPartial",e[e.SOURCE=6]="SOURCE",e[e.OTHER=7]="OTHER",e[e.COMPLETE_CHAT=8]="COMPLETE_CHAT",e[e.DUPLICATE_ATTRIBUTION=9]="DUPLICATE_ATTRIBUTION"}(n||(n={})),function(e){e.DELETE_SUCCESS="notes.toast.delete.success",e.CREATE_ERROR="notes.toast.create.error",e.UPDATE_ERROR="notes.toast.update.error",e.DELETE_ERROR="notes.toast.delete.error",e.DUPLICATE_NAME="notes.toast.duplicateName",e.LIST_ERROR="notes.toast.list.error",e.INVALID_CHAR_ERROR="notes.title.invalidName.error",e.CHARACTER_LIMIT_ERROR="notes.title.characterLimit.error",e.CREATE_NOTE_FROM_SOURCE_SUCCESS="notes.toast.createNoteFromSource.success"}(o||(o={})),function(e){e.SUCCESS="success",e.ERROR="error",e.NEUTRAL="neutral"}(i||(i={})),function(e){e[e.HTML=1]="HTML",e[e.MARKDOWN=2]="MARKDOWN",e[e.NOTEJSON=3]="NOTEJSON",e[e.CHS=4]="CHS"}(a||(a={})),function(e){e.RENAMED="Renamed",e.ADDED="Added",e.UPDATED="Modified",e.DELETED="Deleted"}(d||(d={}))},uy9O:(e,t,s)=>{"use strict";var n,o;s.d(t,{X:()=>o,t:()=>n}),function(e){e.kUpdated="Asset::Updated",e.kRemoved="Asset::Removed",e.kAssetOpen="Asset::ToOpen",e.kAssetClose="Asset::ToClose",e.kAssetDownloadAsPDF="Asset::DownloadAsPDF",e.kAssetHighlight="Asset::Highlight",e.kAssetClearHighlight="Asset::ClearHighlight",e.kConvertNoteToPdf="Asset::ConvertNoteToPdf",e.kAssetID="Asset::AssetID",e.kUploadedAssetID="AssetNote::PDFAssetID",e.kUpdatedAssetID="Asset::UpdatedAssetID",e.kNameKey="Asset::Name",e.kTypeKey="Asset::Type",e.kSubTypeKey="Asset::SubType",e.kStatusKey="Asset::Status",e.kSharedKey="Asset::Shared",e.kLinksJsonStringKey="Asset::LinksJsonString",e.kEtagKey="Asset::Etag",e.kContentKey="Asset::Content",e.kContentSizeKey="Asset::ContentSize",e.kRenditionUrlKey="Asset::RenditionUrl",e.kOpenStatusKey="Asset::OpenStatus",e.kDownloadAsPDFStatusKey="Asset::DownloadAsPDFStatus",e.kHtmlNoteUploadStatus="Asset::HtmlNoteUploadStatus",e.kAssetErrorTypeKey="Asset::AssetErrorType",e.kAssetErrorCodeKey="Asset::AssetErrorCode",e.kAssetErrorResponseKey="Asset::AssetErrorResponse",e.kAssetMetadataStatusKey="Asset::MetadataStatus"}(n||(n={})),function(e){e.kCreate="CustomAgent::Create",e.kCreated="CustomAgent::Created",e.kCanModify="CustomAgent::CanModify",e.kModify="CustomAgent::Modify",e.kModified="CustomAgent::Modified",e.kCanDelete="CustomAgent::CanDelete",e.kDelete="CustomAgent::Delete",e.kDeleted="CustomAgent::Deleted",e.kApply="CustomAgent::Apply",e.kApplied="CustomAgent::Applied",e.kCanCreateNewAgent="CustomAgent::CanCreateNewAgent",e.kUpdate="CustomAgent::Update",e.kUpdated="CustomAgent::Updated",e.kChange="CustomAgent::Change",e.kChanged="CustomAgent::Changed",e.kRecipientUpdated="CustomAgent::RecipientUpdated",e.kCustomAgentID="CustomAgent::CustomAgentID",e.kUpdatedCustomAgentID="CustomAgent::UpdatedCustomAgentID",e.kAgentNameKey="CustomAgent::Name",e.kOldAgentNameKey="CustomAgent::OldName",e.kGoalKey="CustomAgent::Goal",e.kInstructionsKey="CustomAgent::Instructions",e.kAudienceKey="CustomAgent::Audience",e.kTypeKey="CustomAgent::Type",e.kNameConflictKey="CustomAgent::NameConflict",e.kKWConsumptionPhaseKey="KW::ConsumptionPhase",e.kContentModulationError="CustomAgent::ContentModulationError"}(o||(o={}))},yUlp:(e,t,s)=>{"use strict";s.d(t,{Ii:()=>ConstructAsset,Lz:()=>sanitizeAssetResponse});var n,o,i,a=s("6d15"),d=s("7Q5q"),r=s("2Wlf"),c=s("XRhC"),l=s("mVLN");!function(e){e[e.DROPBOX=0]="DROPBOX",e[e.ONEDRIVE=1]="ONEDRIVE",e[e.GDRIVE=2]="GDRIVE",e[e.BOX=3]="BOX"}(n||(n={})),function(e){e[e.ID=0]="ID",e[e.FILE_PATH=1]="FILE_PATH",e[e.URI=2]="URI"}(o||(o={})),function(e){e[e.LOCAL=0]="LOCAL",e[e.SC=1]="SC",e[e.ACPC=2]="ACPC",e[e.EMAIL=3]="EMAIL",e[e.RTF=4]="RTF",e[e.EXTERNAL_DRIVE=5]="EXTERNAL_DRIVE",e.WEB_LINK="WEB_LINK"}(i||(i={}));const AssetUtils_SourceModel=()=>(e=>{const t={};return Object.assign(t,new e),t})(d.A),ConstructAsset=e=>{switch(e){case l.PW.kPDF:case l.PW.kNonPDF:return AssetUtils_SourceModel();case l.PW.kUGA:return(()=>{const e=new a.A(c.XD.NEW);return e.id=(r.c.notesCount+1).toString(),e})();default:return AssetUtils_SourceModel()}},sanitizeAssetResponse=e=>{var t,s;const n=AssetUtils_SourceModel();if(n.id=e.id,n.name=e.name,n.status=l.fd.kImported,n.openStatus=l.rZ.kCanOpen,n.type=e.mime_type.includes("pdf")?l.PW.kPDF:l.PW.kNonPDF,n.created=null!==(t=e.created)&&void 0!==t?t:new Date,n.modified=null!==(s=e.modified)&&void 0!==s?s:n.created,e.acpc_links&&e.acpc_links["http://ns.adobe.com/adobecloud/rel/rendition"]){const t=e.acpc_links["http://ns.adobe.com/adobecloud/rel/rendition"];t.length>0&&(n.thumbnailUrl=t.pop().href)}else(null==e?void 0:e.renditionUrl)&&(n.thumbnailUrl=e.renditionUrl);return e.source&&e.source.type===i.WEB_LINK&&(n.name=e.source.web_link),n.linksJsonString=e.acpc_links?JSON.stringify({_links:e.acpc_links}):"",n}},JEFO:(e,t,s)=>{"use strict";s.d(t,{B:()=>logCustomAgentEvent});var n=s("sVfd");const logCustomAgentEvent=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];console.log("[CustomAgent]",...t);const o=t.map((e=>"object"==typeof e?JSON.stringify(e):String(e))).join(" ");(0,n.th)(`"[CustomAgent] ", ${o}`)}},yRtr:(e,t,s)=>{"use strict";s.d(t,{Y8:()=>getDefaultConfig,cH:()=>createPlaceHolderNoteJson,ew:()=>createNoteDocJsonFromContent,jR:()=>createPlaceHolderNoteJsonStreamed});var n=s("Z4wg"),o=s("XRhC"),i=s("lZtq"),a=s("Jjq2"),__awaiter=function(e,t,s,n){return new(s||(s=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const d=[{type:"paragraph",children:[{text:""}]}],getDefaultConfig=()=>__awaiter(void 0,void 0,void 0,(function*(){return(yield i.A.GetJotExports()).DefaultConfig})),createPlaceHolderNoteJson=(e,t)=>({schemaVersion:n.ue,contents:e||d,type:"note",id:t||""}),createPlaceHolderNoteJsonStreamed=(e,t)=>({schemaVersion:t||n.ue,contents:[],type:"note",id:e||""}),createNoteDocJsonFromContent=(e,t)=>__awaiter(void 0,void 0,void 0,(function*(){return null==t||0===t.length?createPlaceHolderNoteJson():e===o.Uq.HTML?(e=>__awaiter(void 0,void 0,void 0,(function*(){try{return(yield i.A.GetJotExports()).convertHtmlToNote(e)}catch(e){return(0,a.qz)(a.bi.JotComponent,a.Hc.JotUtils,`createNoteJsonFromHtml Exception - ${e}`),null}})))(t):e===o.Uq.MARKDOWN?(e=>__awaiter(void 0,void 0,void 0,(function*(){try{return(yield i.A.GetJotExports()).convertMarkdownToNote(e)}catch(e){return(0,a.qz)(a.bi.JotComponent,a.Hc.JotUtils,`createNoteJsonFromMarkdown Exception - ${e}`),null}})))(t):e===o.Uq.CHS?(e=>__awaiter(void 0,void 0,void 0,(function*(){try{return(yield i.A.GetJotExports()).convertChatHistoryToNote(e)}catch(e){return(0,a.qz)(a.bi.JotComponent,a.Hc.JotUtils,`convertChatHistoryToNote Exception - ${e}`),null}})))(t):JSON.parse(JSON.stringify(t))}))},"UQd+":(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var __awaiter=function(e,t,s,n){return new(s||(s=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const n=new class SharedMemoryProvider{constructor(){this.activeRequests=new Map}fetchBinaryBlob(e){const t=this.activeRequests.get(e);if(t)return t;const s=new Promise(((t,s)=>{const n=new AbortController,o=setTimeout((()=>{n.abort(),console.warn(`Request timeout for URL: ${e}`)}),1e4);fetch(e).then((e=>__awaiter(this,void 0,void 0,(function*(){if(clearTimeout(o),!e.ok){const t=yield e.text().catch((()=>"No error details available"));throw new Error(`HTTP error! status: ${e.status}, statusText: ${e.statusText}, details: ${t}`)}const t=e.headers.get("content-type");return console.debug(`Received response with content-type: ${t}`),e.blob()})))).then((s=>{if(!s||0===s.size)throw new Error(`Empty blob received for URL: ${e}`);console.debug(`Successfully fetched blob of size: ${s.size} bytes`),t(s)})).catch((t=>{clearTimeout(o),console.log(`Failed to fetch from ${e}:`,t),"AbortError"===t.name?s(new Error(`Request timed out for URL: ${e}`)):s(t)})).finally((()=>{this.activeRequests.delete(e)}))}));return this.activeRequests.set(e,s),s}fetchJsonBlob(e,t){return __awaiter(this,void 0,void 0,(function*(){try{const s=yield fetch(e),n=yield s.blob();let o=yield n.arrayBuffer();return o=o.slice(0,t),Promise.resolve(new TextDecoder("utf-8").decode(o))}catch(e){return Promise.reject(e)}}))}}},lZtq:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var n=s("plsW"),__awaiter=function(e,t,s,n){return new(s||(s=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const o=new class PlatformHostProvider{constructor(){this.jotComponentWebHost=null,this.jotExports=null}GetJotPlatformWebHost(){return __awaiter(this,void 0,void 0,(function*(){if(!this.jotComponentWebHost){const e=yield n.webPlatform.locateImplementation("React.Component<JotEditorProps>","jot-component");this.jotComponentWebHost=e;const t=window.adobe_dc_sdk.components["dc-jot-component"];this.jotExports=yield t.dropins["jot-component"].getExports(),console.log("Jot exports loaded successfully ",this.jotExports)}return this.jotComponentWebHost}))}GetJotExports(){return __awaiter(this,void 0,void 0,(function*(){return this.jotExports||(yield this.GetJotPlatformWebHost()),this.jotExports}))}}},zfUP:(e,t,s)=>{"use strict";s.d(t,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var n=s("2NhI");const __WEBPACK_DEFAULT_EXPORT__=e=>{switch(e){case"creator":return n.Z.kOwner;case"viewer":return n.Z.kViewer;case"reviewer":return n.Z.kReviewer;default:return n.Z.kUndefined}}},"+7jM":(e,t,s)=>{"use strict";s.d(t,{A:()=>X});var n=s("oYND"),o=s("U5BB"),i=s("2Wlf"),a=s("uy9O"),d=s("yUlp"),r=s("7Q5q"),c=s("6d15"),l=s("mVLN"),u=s("QLQe"),h=s("KlZm");const p=class EventHandler{sendUpdatesToNative(e,t,s){if(this.eventMap.has(t)){const e=this.eventMap.get(t);(null==e?void 0:e.sendEvent)&&e.sendEvent(s)}this.debouncedDispatchEventToNative(e)}handleUpdatesFromNative(e){Object.keys(e).forEach((t=>{if(this.eventMap.has(t)){const s=this.eventMap.get(t);s&&s.onEvent&&e[t]&&s.onEvent(e[t])}}))}constructor(){this.debouncedDispatchEventToNative=(0,h.sg)((e=>{(0,u.Ay)(e,this.dataMap),this.dataMap={}}),10),this.eventMap=new Map,this.dataMap={}}};var A=s("UQd+"),k=s("rjgr"),m=s("vJCg"),C=s("ltzk"),f=s("icFW"),y=s("Jjq2"),g=s("mflA"),v=s("yXqW");class ConvertNoteToPdfCommand extends v.VM{constructor(e,t){super(v.Bm.CONVERT_NOTE_TO_PDF),this.assetId=e,this.parameters=t}}var __awaiter=function(e,t,s,n){return new(s||(s=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const E=[a.t.kAssetID,a.t.kUpdatedAssetID,a.t.kStatusKey,a.t.kNameKey,a.t.kOpenStatusKey,a.t.kSharedKey,a.t.kTypeKey,a.t.kSubTypeKey,a.t.kEtagKey,a.t.kContentKey,a.t.kRenditionUrlKey,a.t.kAssetErrorTypeKey,a.t.kDownloadAsPDFStatusKey,a.t.kHtmlNoteUploadStatus];const w=class AssetEventHandler extends p{constructor(){super(),this.updateLongNoteContentAfterDownload=(e,t,s)=>__awaiter(this,void 0,void 0,(function*(){try{const n=yield A.A.fetchJsonBlob(t,s);if(n){const t=i.Ay.getAssetById(e);t instanceof c.A&&(t.content=JSON.parse(n),t.status=l.fd.kDownloaded,t.contentLoaded=!0,this.sendCloseLongNoteContentAssetUpdate(e,l.PW.kUGA))}}catch(e){console.error("Error fetching note content: ",e)}})),this.handleUpdateAssetEvent=e=>{const t=[];e.forEach((e=>{if(a.t.kAssetID in e==!1)return;let s=i.Ay.getAssetById(e[a.t.kAssetID]),n=!1;s||((0,y.N7)(y.bi.CollectionLHP,y.Hc.AddSources,"Create new asset"),s=(0,d.Ii)(e[a.t.kTypeKey]),n=!0);let o=!1,h=!1,p=!1;E.forEach((t=>{var n,d,A,g,v,E,w,D,S,I,U,N,T,M;if(s&&t in e&&t in e)switch([a.t.kAssetID,a.t.kUpdatedAssetID,a.t.kNameKey].includes(t)||(0,y.N7)(y.bi.CollectionLHP,y.Hc.UpdateAssetInfo,`Update asset property: ${t} to ${e[t]}`),t){case a.t.kAssetID:s.id=null!==(n=e[a.t.kAssetID])&&void 0!==n?n:"";break;case a.t.kUpdatedAssetID:p=C.A.selectedAssetId===s.id,s.id=null!==(d=e[a.t.kUpdatedAssetID])&&void 0!==d?d:"",(0,u.mB)(f.pt,String(i.te.sources.length)),p&&C.A.setSelectedAssetId(s.id),s instanceof c.A&&(s.isCreatedInServer=!0);break;case a.t.kNameKey:s.name=null!==(A=e[a.t.kNameKey])&&void 0!==A?A:"";break;case a.t.kStatusKey:o=e[a.t.kStatusKey]===l.fd.kUploaded,o||(h=e[a.t.kStatusKey]===l.fd.kDownloaded),o||h||(s.status=null!==(g=e[a.t.kStatusKey])&&void 0!==g?g:l.fd.kToUpload),e[a.t.kStatusKey]===l.fd.kImported&&((0,y.a8)(y.bi.CollectionLHP,y.Hc.AddSources,"Cef: Asset imported successfully"),(0,k.HY)(m.A.kCollectionUpdated));break;case a.t.kOpenStatusKey:s.openStatus=null!==(v=e[a.t.kOpenStatusKey])&&void 0!==v?v:l.rZ.kCannotOpen;break;case a.t.kDownloadAsPDFStatusKey:C.A.setShowDownloadPdfProgressBar(!1);break;case a.t.kHtmlNoteUploadStatus:{const t=null!==(E=e[a.t.kHtmlNoteUploadStatus])&&void 0!==E?E:l.fd.kToUpload;t&&t!==l.fd.kToUpload&&this.convertUploadedNoteToPdf(t,s.name,s.id);break}case a.t.kSharedKey:s.shared=!(null===(w=e[a.t.kSharedKey])||void 0===w||!w);break;case a.t.kTypeKey:s.type=null!==(D=e[a.t.kTypeKey])&&void 0!==D?D:l.PW.kPDF;break;case a.t.kSubTypeKey:s instanceof r.A&&(s.sourceType=null!==(S=e[a.t.kSubTypeKey])&&void 0!==S?S:l.Y1.kPDF);break;case a.t.kEtagKey:s.eTag=null!==(I=e[a.t.kEtagKey])&&void 0!==I?I:"";break;case a.t.kContentKey:if(s instanceof c.A){const t=null!==(U=e[a.t.kContentKey])&&void 0!==U?U:"";if(t.length>0){const n=null!==(N=e[a.t.kContentSizeKey])&&void 0!==N?N:0;this.updateLongNoteContentAfterDownload(s.id,t,n)}}break;case a.t.kRenditionUrlKey:s.type!==l.PW.kUGA&&(s.thumbnailUrl=null!==(T=e[a.t.kRenditionUrlKey])&&void 0!==T?T:"");break;case a.t.kAssetErrorTypeKey:s.errorStatus=null!==(M=e[a.t.kAssetErrorTypeKey])&&void 0!==M?M:l.by.kKWNoError,s.errorStatus!==l.by.kKWNoError&&(0,y.qz)(y.bi.CollectionLHP,y.Hc.UpdateAssetInfo,`Asset error type: ${s.errorStatus}`)}})),o?s.status=l.fd.kUploaded:h&&(s.status=l.fd.kDownloaded),n&&s&&""!==s.id&&(s.errorStatus===l.by.kKWNoError?i.Ay.addAsset(s):t.push(s))})),t.forEach((e=>{i.Ay.addAsset(e)}))},this.handleDeleteAssetEvent=e=>{e.forEach((e=>{e[a.t.kAssetID]&&i.Ay.removeAssetById(e[a.t.kAssetID])}))},this.sendAddAssetUpdates=e=>{a.t.kUpdated in this.dataMap?this.dataMap[a.t.kUpdated].push(e):this.dataMap[a.t.kUpdated]=[e]},this.sendAssetDeleteUpdates=e=>{a.t.kRemoved in this.dataMap?this.dataMap[a.t.kRemoved].push(e):this.dataMap[a.t.kRemoved]=[e]},this.sendAssetOpenUpdates=e=>{this.dataMap[a.t.kAssetOpen]=e},this.sendAssetCloseUpdates=e=>{this.dataMap[a.t.kAssetClose]=e},this.sendAssetHighlightUpdates=e=>{this.dataMap[a.t.kAssetHighlight]=e},this.sendAssetClearHighlightUpdates=e=>{this.dataMap[a.t.kAssetClearHighlight]=e},this.sendAssetDownloadAsPDFUpdates=e=>{this.dataMap[a.t.kAssetDownloadAsPDF]=e},this.convertUploadedNoteToPdf=(e,t,s)=>__awaiter(this,void 0,void 0,(function*(){var n;try{C.A.setShowDownloadPdfProgressBar(!0);const o=(new Date).toISOString().replace(/[-:.]/g,""),d=new ConvertNoteToPdfCommand(t,{asset_uri:e,name:`${t}_${o}`}),r=new g.A,c=yield r.HandleRequest(d);if(200===c.responseCode&&"done"===c.status){const e={[a.t.kUploadedAssetID]:null===(n=c.asset_result)||void 0===n?void 0:n.uri,[a.t.kAssetID]:s};this.sendUpdatesToNative(i.Ay.sessionID,a.t.kAssetDownloadAsPDF,e)}return(0,y.a8)(y.bi.CollectionLHP,y.Hc.UpdateAssetInfo,`Converting note to PDF: ${e}`),c}catch(e){throw(0,y.qz)(y.bi.CollectionLHP,y.Hc.UpdateAssetInfo,`Error converting note to PDF: ${e}`),C.A.setShowDownloadPdfProgressBar(!1),e}})),this.sendConvertNoteToPdfUpdates=e=>{this.dataMap[a.t.kConvertNoteToPdf]=e},this.eventMap=new Map([[a.t.kUpdated,{onEvent:this.handleUpdateAssetEvent,sendEvent:this.sendAddAssetUpdates}],[a.t.kRemoved,{onEvent:this.handleDeleteAssetEvent,sendEvent:this.sendAssetDeleteUpdates}],[a.t.kAssetOpen,{sendEvent:this.sendAssetOpenUpdates}],[a.t.kAssetClose,{sendEvent:this.sendAssetCloseUpdates}],[a.t.kAssetHighlight,{sendEvent:this.sendAssetHighlightUpdates}],[a.t.kAssetClearHighlight,{sendEvent:this.sendAssetClearHighlightUpdates}],[a.t.kAssetDownloadAsPDF,{sendEvent:this.sendAssetDownloadAsPDFUpdates}],[a.t.kConvertNoteToPdf,{sendEvent:this.sendConvertNoteToPdfUpdates}]]),this.dataMap={}}sendCloseLongNoteContentAssetUpdate(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];const[n,o]=t,d={[a.t.kAssetID]:n};void 0!==o&&(d[a.t.kTypeKey]=o),this.sendUpdatesToNative(i.Ay.sessionID,a.t.kAssetClose,d)}};var D=s("AYpf");const S=class ParticipantEventHandler extends p{constructor(){super(),this.sendParticipantUpdates=e=>{D.G.kUpdated in this.dataMap?this.dataMap[D.G.kUpdated].push(e):this.dataMap[D.G.kUpdated]=[e]},this.sendParticipantRefreshed=e=>{D.G.kRefreshed in this.dataMap?this.dataMap[D.G.kRefreshed].push(e):this.dataMap[D.G.kRefreshed]=[e]},this.sendParticipantDeleteUpdates=e=>{D.G.kRemoved in this.dataMap?this.dataMap[D.G.kRemoved].push(e):this.dataMap[D.G.kRemoved]=[e]},this.sendParticipantUnshareUpdates=e=>{D.G.kUnshared in this.dataMap?this.dataMap[D.G.kUnshared].push(e):this.dataMap[D.G.kUnshared]=[e]},this.eventMap=new Map([[D.G.kUpdated,{onEvent:void 0,sendEvent:this.sendParticipantUpdates}],[D.G.kRefreshed,{onEvent:void 0,sendEvent:this.sendParticipantRefreshed}],[D.G.kRemoved,{onEvent:void 0,sendEvent:this.sendParticipantDeleteUpdates}],[D.G.kUnshared,{onEvent:void 0,sendEvent:this.sendParticipantUnshareUpdates}]]),this.dataMap={}}};const I=class SessionInfoEventHandler extends p{constructor(){super(),this.sendSessionInfoUpdates=e=>{[D.n.kWorkspaceName,D.n.kWorkspaceDesc,D.n.kWorkspaceGoal,D.n.kKWLPFolderID,D.n.kKWNotesFolderID,D.n.kGenAISessionID].forEach((t=>{t in e&&(this.dataMap[t]=e[t])}))},this.eventMap=new Map([[D.n.kUpdateWorkspaceInfo,{onEvent:void 0,sendEvent:this.sendSessionInfoUpdates}]]),this.dataMap={}}};var U=s("qT9o"),N=s("JEFO"),T=s("jpy3"),M=s("cqvz"),R=s("o6hE"),P=s("5yyX"),K=s("bV+/"),_=s("24xA"),CustomAgentEventHandler_awaiter=function(e,t,s,n){return new(s||(s=Promise))((function(o,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):function adopt(e){return e instanceof s?e:new s((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};const b=class CustomAgentEventHandler extends p{constructor(){super(),this.handleUpdateCustomAgentEvent=e=>{this.handleCreateRequest(e),this.handleModifyRequest(e),this.handleDeleteRequest(e)},this.sendCustomAgentUpdates=e=>{a.X.kUpdated in this.dataMap?this.dataMap[a.X.kUpdated].push(e):this.dataMap[a.X.kUpdated]=[e]},this.sendCustomAgentCreated=e=>{a.X.kCreated in this.dataMap?this.dataMap[a.X.kCreated].push(e):this.dataMap[a.X.kCreated]=[e]},this.sendCustomAgentModified=e=>{a.X.kModified in this.dataMap?this.dataMap[a.X.kModified].push(e):this.dataMap[a.X.kModified]=[e]},this.sendCustomAgentDeleted=e=>{a.X.kDeleted in this.dataMap?this.dataMap[a.X.kDeleted].push(e):this.dataMap[a.X.kDeleted]=[e]},this.sendCustomAgentApplied=e=>{a.X.kApplied in this.dataMap?this.dataMap[a.X.kApplied].push(e):this.dataMap[a.X.kApplied]=[e]},this.sendCustomAgentRecipientUpdated=e=>{a.X.kRecipientUpdated in this.dataMap?this.dataMap[a.X.kRecipientUpdated].push(e):this.dataMap[a.X.kRecipientUpdated]=[e]},this.sendCustomAgentCreateRequest=e=>{a.X.kCreate in this.dataMap?this.dataMap[a.X.kCreate].push(e):this.dataMap[a.X.kCreate]=[e]},this.sendCustomAgentModifyRequest=e=>{a.X.kModify in this.dataMap?this.dataMap[a.X.kModify].push(e):this.dataMap[a.X.kModify]=[e]},this.handleCreateRequest=e=>{e.forEach((e=>{if(a.X.kCreate in e){const t=new U.A;t.name=e[a.X.kAgentNameKey],t.goal=e[a.X.kGoalKey],t.instructions=e[a.X.kInstructionsKey],t.audience=e[a.X.kAudienceKey],i.s3.intendedCustomAgent=i.s3.defaultCustomAgentNameText,this.createNewCustomAgent(t,"")}}))},this.handleModifyRequest=e=>{e.forEach((e=>{if(a.X.kModify in e){const t=new U.A;t.id=e[a.X.kCustomAgentID],t.name=e[a.X.kAgentNameKey],t.goal=e[a.X.kGoalKey],t.instructions=e[a.X.kInstructionsKey],t.audience=e[a.X.kAudienceKey],t.type=e[a.X.kTypeKey],i.s3.intendedCustomAgent=i.s3.defaultCustomAgentNameText,this.updateExistingCustomAgent(t)}}))},this.handleDeleteRequest=e=>{e.forEach((e=>{a.X.kDelete in e&&this.deleteExistingCustomAgent(e[a.X.kCustomAgentID])}))},this.eventMap=new Map([[a.X.kUpdated,{onEvent:this.handleUpdateCustomAgentEvent,sendEvent:this.sendCustomAgentUpdates}],[a.X.kCreated,{onEvent:void 0,sendEvent:this.sendCustomAgentCreated}],[a.X.kModified,{onEvent:void 0,sendEvent:this.sendCustomAgentModified}],[a.X.kDeleted,{onEvent:void 0,sendEvent:this.sendCustomAgentDeleted}],[a.X.kApplied,{onEvent:void 0,sendEvent:this.sendCustomAgentApplied}],[a.X.kRecipientUpdated,{onEvent:void 0,sendEvent:this.sendCustomAgentRecipientUpdated}],[a.X.kCreate,{onEvent:this.handleCreateRequest,sendEvent:this.sendCustomAgentCreateRequest}],[a.X.kModify,{onEvent:this.handleModifyRequest,sendEvent:this.sendCustomAgentModifyRequest}],[a.X.kDelete,{onEvent:this.handleDeleteRequest,sendEvent:void 0}]]),this.dataMap={}}createNewCustomAgent(e,t){return CustomAgentEventHandler_awaiter(this,void 0,void 0,(function*(){const s={};yield(0,M.qp)(s,e,t);try{if(a.X.kCustomAgentID in s)0===t.length?(this.sendUpdatesToNative(i.Ay.sessionID,a.X.kCreated,s),i.s3.showCustomAgentCreatedSoftBanner(),(0,u.mB)(_.kK,_.qL)):this.sendUpdatesToNative(i.Ay.sessionID,a.X.kApplied,s);else if(0===t.length){if(a.X.kNameConflictKey in s){const t={[a.X.kAgentNameKey]:e.name,[a.X.kGoalKey]:e.goal,[a.X.kInstructionsKey]:e.instructions,closeModal:!0};i.s3.showCustomAgentCreateNewNameConflictTryAgain(JSON.stringify(t))}else a.X.kContentModulationError in s?i.s3.showCustomAgentCreatedContentModulationErrorSoftBanner(a.X.kContentModulationError):i.s3.showCustomAgentCreatedFailureSoftBanner();(0,u.mB)(_.kK,_.op)}}catch(e){(0,N.B)("Exception creating new custom agent:",e)}}))}refreshCustomAgents(){return CustomAgentEventHandler_awaiter(this,void 0,void 0,(function*(){try{const e=yield(0,M.xx)(i.Ay.sessionID);if(e.ERR_CODE===T.dE.NO_ERROR){yield(0,K.EP)(),i.s3.setSelectedCustomAgentId(null);const t=[];e.agents.forEach((e=>{const s=new U.A;s.id=e.id,s.name=e.configs.name,s.description=e.configs.description?e.configs.description:"",s.goal=e.configs.goal?e.configs.goal:"",s.instructions=e.configs.instructions,e.audience.forEach((e=>{e===R.mG&&(s.audience=e)})),s.type=e.type,t.push(s);const n={[a.X.kCustomAgentID]:s.id};(0,P.VD)(n,s.name,s.goal,s.instructions,s.audience,s.type),this.sendUpdatesToNative(i.Ay.sessionID,a.X.kUpdated,n)})),i.s3.refreshCustomAgentStore(t)}else(0,N.B)("Error getting custom agent list:",e.responseCode)}catch(e){(0,N.B)("Exception getting custom agent list:",e)}}))}updateExistingCustomAgent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return CustomAgentEventHandler_awaiter(this,void 0,void 0,(function*(){const s={},n={value:!1};yield(0,M.mD)(s,e,n,t);try{if(a.X.kCustomAgentID in s)t?this.sendUpdatesToNative(i.Ay.sessionID,a.X.kApplied,s):(this.sendUpdatesToNative(i.Ay.sessionID,a.X.kModified,s),i.s3.showCustomAgentModifiedSoftBanner(),(0,u.mB)(_.kK,_.pf));else if(!t){if(a.X.kNameConflictKey in s){const t={[a.X.kAgentNameKey]:e.name,[a.X.kGoalKey]:e.goal,[a.X.kInstructionsKey]:e.instructions,[a.X.kTypeKey]:e.type,closeModal:!0};i.s3.showCustomAgentModifiedNameConflictTryAgain(e.id,JSON.stringify(t))}else a.X.kContentModulationError in s?i.s3.showCustomAgentModifiedContentModulationErrorSoftBanner(a.X.kContentModulationError):i.s3.showCustomAgentModifiedFailureSoftBanner();(0,u.mB)(_.kK,_.Ei)}!0===n.value&&this.refreshCustomAgents()}catch(e){(0,N.B)("Exception updating custom agent:",e)}}))}deleteExistingCustomAgent(e){return CustomAgentEventHandler_awaiter(this,void 0,void 0,(function*(){try{const t=yield(0,M.$f)(i.Ay.sessionID,e);if(t.ERR_CODE===T.dE.NO_ERROR){const t=i.s3.getCustomAgentFromId(e);if(t){const s=t.audience===R.mG;i.s3.removeCustomAgent(e);const n={[a.X.kCustomAgentID]:e};this.sendUpdatesToNative(i.Ay.sessionID,a.X.kDeleted,n),i.s3.showCustomAgentDeleteSoftBanner(s),s&&(i.s3.intendedCustomAgent=i.s3.defaultCustomAgentNameText,(0,k.HY)(m.A.kCustomAgentApplied))}(0,u.mB)(_.kK,_.J)}else t.responseCode&&404===t.responseCode?(i.s3.showCustomAgentDeleteNotFoundSoftBanner(),(0,N.B)("Error deleting custom agent:",t.responseCode)):(i.s3.showCustomAgentDeleteFailureSoftBanner(),(0,N.B)("Error deleting custom agent:",t.responseCode))}catch(e){(0,N.B)("Exception deleting custom agent:",e)}}))}};const X=new class SessionEventHandler{init(){o.A.listenForCustomEvent(n.A.UPDATE_SESSION_EVENT,this.onNativeEventListener.bind(this))}constructor(){this.eventHandlers=[new w,new S,new b,new I]}onNativeEventListener(e){const t=null==e?void 0:e.detail;(null==t?void 0:t.params)&&this.eventHandlers.forEach((e=>{e.handleUpdatesFromNative(null==t?void 0:t.params)}))}addUpdates(e,t,s){this.eventHandlers.forEach((n=>{n.sendUpdatesToNative(e,t,s)}))}}},KlZm:(e,t,s)=>{"use strict";s.d(t,{e8:()=>objectsDeepEquals,sg:()=>debounce});const objectsDeepEquals=(e,t)=>void 0===e&&void 0===t||!(void 0===e&&void 0!==t||void 0!==e&&void 0===t)&&("object"==typeof e&&Object.keys(e).length>0?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((s=>objectsDeepEquals(e[s],t[s]))):e===t),debounce=function(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];const d=this,r=n&&!t;"number"==typeof t&&clearTimeout(t),t=setTimeout((()=>{t=null,n||e.apply(d,i)}),s),r&&e.apply(d,i)}}},PZ3W:(e,t,s)=>{e.exports=s("2pFd")("HW6M")},j629:(e,t,s)=>{e.exports=s("SEmX")("ep8V")}}]);