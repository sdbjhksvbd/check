(self["webpackJsonp-desktop-app"]=self["webpackJsonp-desktop-app"]||[]).push([[81720],{tUL3:(t,o,e)=>{"use strict";e.r(o),e.d(o,{default:()=>JotCompDropin,loadTranslations:()=>loadTranslations});var n=e("YWiy"),i=e("Zm2D"),r=e("plsW"),__awaiter=function(t,o,e,n){return new(e||(e=Promise))((function(i,r){function fulfilled(t){try{step(n.next(t))}catch(t){r(t)}}function rejected(t){try{step(n.throw(t))}catch(t){r(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof e?t:new e((function(o){o(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,o||[])).next())}))};const s=class JotNativeAPIProvider{static get Instance(){return this.instance||(this.instance=new this),this.instance}getJotNativeAPI(){return __awaiter(this,void 0,void 0,(function*(){if(!this.jotAPI&&r.providers["native-api"]){const t=yield r.providers["native-api"]();this.jotAPI=yield null==t?void 0:t.JotAPI()}return this.jotAPI}))}}.Instance;e("lXyy");var l=e("Jjq2");const CommonUtils_jotInfo=(t,o)=>{console.log(`[JOT]${t}`,o),(0,l.a8)(l.bi.JotComponent,l.Hc.JotEditor,`${t} ${o}`)};var JotEventDefaultHandlers_awaiter=function(t,o,e,n){return new(e||(e=Promise))((function(i,r){function fulfilled(t){try{step(n.next(t))}catch(t){r(t)}}function rejected(t){try{step(n.throw(t))}catch(t){r(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof e?t:new e((function(o){o(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,o||[])).next())}))};const onCopyDefaultHandler=t=>{const o=t.getData("text/html"),e=t.getData("text/plain");setTimeout((()=>JotEventDefaultHandlers_awaiter(void 0,void 0,void 0,(function*(){s.getJotNativeAPI().then((t=>t.CopyToNativeClipboard(o,e)))}))),200),CommonUtils_jotInfo("Default copy handler logic","Copy")},onPasteDefaultHandler=()=>JotEventDefaultHandlers_awaiter(void 0,void 0,void 0,(function*(){const t=yield s.getJotNativeAPI().then((t=>t.CopyFromNativelipboard()));return CommonUtils_jotInfo("Default paste handler logic",t),Promise.resolve({type:t.type,content:t.data})})),onLinkClickDefaultHandler=t=>{t&&s.getJotNativeAPI().then((o=>o.LinkClick(t))),CommonUtils_jotInfo("Default link handler logic",t)},onFontSelectedDefaultHandler=t=>{CommonUtils_jotInfo("Default font link handler logic",t)};const a=new class JotFontProvider{constructor(){this.fontList=[{id:"caflisch-script-pro",label:"Calfish script"},{id:"caliban-std",label:"Caliban"},{id:"courier-std",label:"Courier"},{id:"minion-3",label:"Minion"},{id:"myriad-pro",label:"Myriad"},{id:"source-sans-3",label:"Source Sans"},{id:"source-serif-4",label:"Source Serif"}],this.preloadJotFontList=[{id:"caflisch-script-pro",fontWeight:"bold",url:"fonts/CaflischScriptPro-Bold.otf"},{id:"caflisch-script-pro",fontWeight:"lighter",url:"fonts/CaflischScriptPro-Light.otf"},{id:"caflisch-script-pro",fontWeight:"normal",url:"fonts/CaflischScriptPro-Regular.otf"},{id:"caflisch-script-pro",fontWeight:"bold",url:"fonts/CaflischScriptPro-Semibold.otf"},{id:"caliban-std",fontWeight:"normal",url:"fonts/CalibanStd.otf"},{id:"courier-std",fontWeight:"bold",url:"fonts/CourierStd-Bold.otf"},{id:"courier-std",fontStyle:"oblique",fontWeight:"bold",url:"fonts/CourierStd-BoldOblique.otf"},{id:"courier-std",fontStyle:"oblique",url:"fonts/CourierStd-Oblique.otf"},{id:"courier-std",fontWeight:"normal",url:"fonts/CourierStd.otf"},{id:"minion-3",fontWeight:"bold",url:"fonts/Minion3-Bold.otf"},{id:"minion-3",fontStyle:"italic",fontWeight:"bold",url:"fonts/Minion3-BoldItalic.otf"},{id:"minion-3",fontStyle:"italic",fontWeight:"normal",url:"fonts/Minion3-Italic.otf"},{id:"minion-3",fontWeight:"normal",url:"fonts/Minion3-Regular.otf"},{id:"myriad-pro",fontWeight:"bold",url:"fonts/MyriadPro-Bold.otf"},{id:"myriad-pro",fontStyle:"italic",fontWeight:"bold",url:"fonts/MyriadPro-BoldIt.otf"},{id:"myriad-pro",fontStyle:"italic",fontWeight:"normal",url:"fonts/MyriadPro-It.otf"},{id:"myriad-pro",fontWeight:"normal",url:"fonts/MyriadPro-Regular.otf"},{id:"source-sans-3",fontWeight:"bold",url:"fonts/SourceSans3-Bold.otf"},{id:"source-sans-3",fontStyle:"italic",fontWeight:"bold",url:"fonts/SourceSans3-BoldIt.otf"},{id:"source-sans-3",fontStyle:"italic",fontWeight:"normal",url:"fonts/SourceSans3-It.otf"},{id:"source-sans-3",fontWeight:"normal",url:"fonts/SourceSans3-Regular.otf"},{id:"source-serif-4",fontWeight:"bold",url:"fonts/SourceSerif4-Bold.otf"},{id:"source-serif-4",fontStyle:"italic",fontWeight:"bold",url:"fonts/SourceSerif4-BoldIt.otf"},{id:"source-serif-4",fontStyle:"italic",fontWeight:"normal",url:"fonts/SourceSerif4-It.otf"},{id:"source-serif-4",fontWeight:"normal",url:"fonts/SourceSerif4-Regular.otf"}],this.LoadedFontIdToFontPath=new Map,this.MapFontIdToFontPath=new Map,this.preloadJotFontList.forEach((t=>{const o=document.createElement("link");o.rel="preload",o.href=t.url,o.as="font",o.type="font/otf",o.setAttribute("crossorigin",""),document.head.appendChild(o);const e=document.createElement("style");e.innerHTML=`\n            @font-face {\n                font-family: '${t.id}';\n                src: url('${t.url}') format('opentype');\n                ${t.fontWeight?`font-weight: ${t.fontWeight};`:""}\n                ${t.fontStyle?`font-style: ${t.fontStyle};`:""}           \n            }`,document.head.appendChild(e)})),CommonUtils_jotInfo("Font loaded ",this.preloadJotFontList)}addFont(t){t.forEach((t=>{this.MapFontIdToFontPath.has(t.id)||this.MapFontIdToFontPath.set(t.id,t.fontpath)}))}loadFont(t){CommonUtils_jotInfo("Loading font with id: ",t);if(this.LoadedFontIdToFontPath.get(t))CommonUtils_jotInfo("Font already loaded",t);else{const o=this.MapFontIdToFontPath.get(t);if(o){const e=document.createElement("link");e.rel="preload",e.href=t,e.as="font",e.type="font/otf",document.head.appendChild(e);const n=document.createElement("style");n.innerHTML=`\n                @font-face {\n                    font-family: '${t}';\n                    src: url('${o}') format('opentype');\n                }\n                `,document.head.appendChild(n),this.LoadedFontIdToFontPath.set(t,o),CommonUtils_jotInfo("Font loaded ",o)}else CommonUtils_jotInfo("Font URL not found for fontId: ",t)}}loadDefaultFont(){}getFontList(){return this.fontList}};var d=e("vyzc"),c=e("lZtq"),f=e("sVfd");class ErrorBoundary extends n.Component{constructor(t){super(t),this.state={hasError:!1,id:t.id,displayErrorString:t.displayErrorString||"Something went wrong!"}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,o){const{id:e}=this.state;(0,f.th)(`"Exception for ${e}", ${t} ${o}`)}render(){const{hasError:t,displayErrorString:o}=this.state,{children:e}=this.props;return t?n.createElement("p",null,o):e}}const u=ErrorBoundary;var p=e("+F5f"),JotCompContainer_awaiter=function(t,o,e,n){return new(e||(e=Promise))((function(i,r){function fulfilled(t){try{step(n.next(t))}catch(t){r(t)}}function rejected(t){try{step(n.throw(t))}catch(t){r(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof e?t:new e((function(o){o(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,o||[])).next())}))};const components_JotCompContainer=t=>{let{viewData:o,fontProps:e}=t;const{jotEditorConfig:i,logId:r,editorRef:s,jotDoc:f,showAttributions:h,allowHoverOverAttributions:v,documentId:m,attributionComponent:y,onUndoStateChangeHandler:g,onRedoStateChangeHandler:b,onErrorHandler:w,onBlurHandler:S,onAttributionClickHandler:C,onDocChange:P,onJotCompLoaded:W,onMessage:E,preventAttributionPopupCloseHandler:I,showLastEmptyLine:F}=o,j=e,[A,x]=(0,n.useState)(null),J=e.map((t=>{let{id:o,label:e}=t;return{id:o,label:e}}));(0,n.useEffect)((()=>{0!==j.length&&a.addFont(j),JotCompContainer_awaiter(void 0,void 0,void 0,(function*(){const t=yield c.A.GetJotPlatformWebHost();x((()=>t))}))}),[]);const onDefaultErrorHandler=(t,o,e)=>{var n,i;n="Jot Error",i=JSON.stringify(t,o,e),console.error(`[JOT]${n}`,i),(0,l.qz)(l.bi.JotComponent,l.Hc.JotEditor,`${n} ${i}`)};return(0,n.useEffect)((()=>{A&&W&&W()}),[A]),n.createElement(n.Fragment,null,A&&n.createElement(u,{id:r},n.createElement(A,{documentId:m,id:r,ref:s,onChange:P,document:f,config:(()=>{const t=Object.assign(Object.assign({},i),{fonts:J&&0!==J.length?J:a.getFontList(),onFontSelected:onFontSelectedDefaultHandler,onUndoStateChange:g,onRedoStateChange:b});return t.onLinkClick=onLinkClickDefaultHandler,p.A.isWindows()&&!d.A.IsRunningInNativeWebView()&&(t.onCopy=onCopyDefaultHandler,t.onPaste=onPasteDefaultHandler),t.onLinkClick=onLinkClickDefaultHandler,void 0!==g&&(t.onUndoStateChange=g),void 0!==b&&(t.onRedoStateChange=b),void 0!==h&&(t.showAttributions=h),void 0!==S&&(t.onFocusOut=S),void 0!==C&&(t.onAttributionClick=C),void 0!==I&&(t.preventAttributionPopupClose=I),t.onError=void 0!==w?w:onDefaultErrorHandler,t.showLastEmptyLine=F||!1,t.allowHoverOverAttributions=v,t.noteDocValidation=null,E&&(t.onMessage=E),t.mergeSiblingAttributions=!0,t.defaultFontId="source-sans-3",t})(),attributionComponent:y,platform:"desktop"})))},loadTranslations=t=>(e.p=r.discovery.dropins["desktop-jotcomp"].public_path,e("IdT9")(`./${t}.json`)),h=r.locale2.withTranslations((t=>{let{locale:o,messages:e,props:r}=t;return n.createElement(i.IntlProvider,{locale:o,messages:e},n.createElement(components_JotCompContainer,Object.assign({},r)))}),loadTranslations),JotCompDropin=t=>{let{props:o}=t;return n.createElement(h,{props:o})}},lZtq:(t,o,e)=>{"use strict";e.d(o,{A:()=>i});var n=e("plsW"),__awaiter=function(t,o,e,n){return new(e||(e=Promise))((function(i,r){function fulfilled(t){try{step(n.next(t))}catch(t){r(t)}}function rejected(t){try{step(n.throw(t))}catch(t){r(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof e?t:new e((function(o){o(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,o||[])).next())}))};const i=new class PlatformHostProvider{constructor(){this.jotComponentWebHost=null,this.jotExports=null}GetJotPlatformWebHost(){return __awaiter(this,void 0,void 0,(function*(){if(!this.jotComponentWebHost){const t=yield n.webPlatform.locateImplementation("React.Component<JotEditorProps>","jot-component");this.jotComponentWebHost=t;const o=window.adobe_dc_sdk.components["dc-jot-component"];this.jotExports=yield o.dropins["jot-component"].getExports(),console.log("Jot exports loaded successfully ",this.jotExports)}return this.jotComponentWebHost}))}GetJotExports(){return __awaiter(this,void 0,void 0,(function*(){return this.jotExports||(yield this.GetJotPlatformWebHost()),this.jotExports}))}}},lXyy:(t,o,e)=>{"use strict";e.d(o,{Ay:()=>r,RW:()=>LogUsageMeasureEx,ct:()=>LogUsageMeasureThrottled});var n=e("plsW"),i=e("QLQe"),__awaiter=function(t,o,e,n){return new(e||(e=Promise))((function(i,r){function fulfilled(t){try{step(n.next(t))}catch(t){r(t)}}function rejected(t){try{step(n.throw(t))}catch(t){r(t)}}function step(t){t.done?i(t.value):function adopt(t){return t instanceof e?t:new e((function(o){o(t)}))}(t.value).then(fulfilled,rejected)}step((n=n.apply(t,o||[])).next())}))};const LogUsageMeasure=(t,o,e)=>__awaiter(void 0,void 0,void 0,(function*(){if(!n.providers["native-api"])return;const i=yield n.providers["native-api"]();(yield i.analyticsAPI()).logEvent(t,o,e)})),LogUsageMeasureEx=(t,o,e,n)=>__awaiter(void 0,void 0,void 0,(function*(){t?(0,i.mB)(`${o}_${e}`,n):LogUsageMeasure(o,e,n)})),LogUsageMeasureThrottled=(t,o,e)=>__awaiter(void 0,void 0,void 0,(function*(){if(!n.providers["native-api"])return;const i=yield n.providers["native-api"]();(yield i.analyticsAPI()).logThrottledEvent(t,o,e)})),r=LogUsageMeasure},vyzc:(t,o,e)=>{"use strict";e.d(o,{A:()=>NativeWebviewUtils});class NativeWebviewUtils{}NativeWebviewUtils.IsRunningInNativeWebView=()=>window.gIsNativeWebview,NativeWebviewUtils.GetActualObjectFromProxyObject=t=>{const o=window.gProxyRealValPropName;return t[o]?t[o]:t},NativeWebviewUtils.PostMessageToNativeWindows=(t,o)=>{var e;null===(e=window.chrome)||void 0===e||e.webview.postMessageWithAdditionalObjects(t,o)}},IdT9:(t,o,e)=>{var n={"./en-US.json":["nFdC",23577]};function webpackAsyncContext(t){if(!e.o(n,t))return Promise.resolve().then((()=>{var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}));var o=n[t],i=o[0];return e.e(o[1]).then((()=>e.t(i,19)))}webpackAsyncContext.keys=()=>Object.keys(n),webpackAsyncContext.id="IdT9",t.exports=webpackAsyncContext},YWiy:(t,o,e)=>{t.exports=e("2pFd")("GiK3")},Zm2D:(t,o,e)=>{t.exports=e("2pFd")("L4Le")},plsW:(t,o,e)=>{t.exports=e("2pFd")("o4sN")}}]);